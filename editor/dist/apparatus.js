!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){t.exports=n(251)},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,u){if(!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,u],l=0;s=new Error(e.replace(/%s/g,function(){return c[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}t.exports=r},function(t,e,n){var r,i;(function(){function n(t){function e(e,n,r,i,o,a){for(;o>=0&&o<a;o+=t){var u=i?i[o]:o;r=n(r,e[u],u,e)}return r}return function(n,r,i,o){r=C(r,o,4);var a=!N(n)&&_.keys(n),u=(a||n).length,s=t>0?0:u-1;return arguments.length<3&&(i=n[a?a[s]:s],s+=t),e(n,r,i,a,s,u)}}function o(t){return function(e,n,r){n=M(n,r);for(var i=A(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function a(t,e,n){return function(r,i,o){var a=0,u=A(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(n&&o&&u)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(d.call(r,a,u),_.isNaN),o>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}}function u(t,e){var n=I.length,r=t.constructor,i=_.isFunction(r)&&r.prototype||f,o="constructor";for(_.has(t,o)&&!_.contains(e,o)&&e.push(o);n--;)o=I[n],o in t&&t[o]!==i[o]&&!_.contains(e,o)&&e.push(o)}var s=this,c=s._,l=Array.prototype,f=Object.prototype,h=Function.prototype,p=l.push,d=l.slice,g=f.toString,v=f.hasOwnProperty,m=Array.isArray,y=Object.keys,b=h.bind,w=Object.create,x=function(){},_=function(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=_),e._=_,_.VERSION="1.8.3";var C=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},M=function(t,e,n){return null==t?_.identity:_.isFunction(t)?C(t,e,n):_.isObject(t)?_.matcher(t):_.property(t)};_.iteratee=function(t,e){return M(t,e,1/0)};var S=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,s=0;s<u;s++){var c=a[s];e&&void 0!==n[c]||(n[c]=o[c])}return n}},k=function(t){if(!_.isObject(t))return{};if(w)return w(t);x.prototype=t;var e=new x;return x.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},T=Math.pow(2,53)-1,A=E("length"),N=function(t){var e=A(t);return"number"==typeof e&&e>=0&&e<=T};_.each=_.forEach=function(t,e,n){e=C(e,n);var r,i;if(N(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=_.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},_.map=_.collect=function(t,e,n){e=M(e,n);for(var r=!N(t)&&_.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=e(t[u],u,t)}return o},_.reduce=_.foldl=_.inject=n(1),_.reduceRight=_.foldr=n(-1),_.find=_.detect=function(t,e,n){var r;if(r=N(t)?_.findIndex(t,e,n):_.findKey(t,e,n),void 0!==r&&r!==-1)return t[r]},_.filter=_.select=function(t,e,n){var r=[];return e=M(e,n),_.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},_.reject=function(t,e,n){return _.filter(t,_.negate(M(e)),n)},_.every=_.all=function(t,e,n){e=M(e,n);for(var r=!N(t)&&_.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},_.some=_.any=function(t,e,n){e=M(e,n);for(var r=!N(t)&&_.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},_.contains=_.includes=_.include=function(t,e,n,r){return N(t)||(t=_.values(t)),("number"!=typeof n||r)&&(n=0),_.indexOf(t,e,n)>=0},_.invoke=function(t,e){var n=d.call(arguments,2),r=_.isFunction(e);return _.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},_.pluck=function(t,e){return _.map(t,_.property(e))},_.where=function(t,e){return _.filter(t,_.matcher(e))},_.findWhere=function(t,e){return _.find(t,_.matcher(e))},_.max=function(t,e,n){var r,i,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=N(t)?t:_.values(t);for(var u=0,s=t.length;u<s;u++)r=t[u],r>o&&(o=r)}else e=M(e,n),_.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=t,a=i)});return o},_.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e&&null!=t){t=N(t)?t:_.values(t);for(var u=0,s=t.length;u<s;u++)r=t[u],r<o&&(o=r)}else e=M(e,n),_.each(t,function(t,n,r){i=e(t,n,r),(i<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},_.shuffle=function(t){for(var e,n=N(t)?t:_.values(t),r=n.length,i=Array(r),o=0;o<r;o++)e=_.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},_.sample=function(t,e,n){return null==e||n?(N(t)||(t=_.values(t)),t[_.random(t.length-1)]):_.shuffle(t).slice(0,Math.max(0,e))},_.sortBy=function(t,e,n){return e=M(e,n),_.pluck(_.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var P=function(t){return function(e,n,r){var i={};return n=M(n,r),_.each(e,function(r,o){var a=n(r,o,e);t(i,r,a)}),i}};_.groupBy=P(function(t,e,n){_.has(t,n)?t[n].push(e):t[n]=[e]}),_.indexBy=P(function(t,e,n){t[n]=e}),_.countBy=P(function(t,e,n){_.has(t,n)?t[n]++:t[n]=1}),_.toArray=function(t){return t?_.isArray(t)?d.call(t):N(t)?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:N(t)?t.length:_.keys(t).length},_.partition=function(t,e,n){e=M(e,n);var r=[],i=[];return _.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},_.first=_.head=_.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:_.initial(t,t.length-e)},_.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},_.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:_.rest(t,Math.max(0,t.length-e))},_.rest=_.tail=_.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var D=function(t,e,n,r){for(var i=[],o=0,a=r||0,u=A(t);a<u;a++){var s=t[a];if(N(s)&&(_.isArray(s)||_.isArguments(s))){e||(s=D(s,e,n));var c=0,l=s.length;for(i.length+=l;c<l;)i[o++]=s[c++]}else n||(i[o++]=s)}return i};_.flatten=function(t,e){return D(t,e,!1)},_.without=function(t){return _.difference(t,d.call(arguments,1))},_.uniq=_.unique=function(t,e,n,r){_.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=M(n,r));for(var i=[],o=[],a=0,u=A(t);a<u;a++){var s=t[a],c=n?n(s,a,t):s;e?(a&&o===c||i.push(s),o=c):n?_.contains(o,c)||(o.push(c),i.push(s)):_.contains(i,s)||i.push(s)}return i},_.union=function(){return _.uniq(D(arguments,!0,!0))},_.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=A(t);r<i;r++){var o=t[r];if(!_.contains(e,o)){for(var a=1;a<n&&_.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},_.difference=function(t){var e=D(arguments,!0,!0,1);return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(t){for(var e=t&&_.max(t,A).length||0,n=Array(e),r=0;r<e;r++)n[r]=_.pluck(t,r);return n},_.object=function(t,e){for(var n={},r=0,i=A(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},_.findIndex=o(1),_.findLastIndex=o(-1),_.sortedIndex=function(t,e,n,r){n=M(n,r,1);for(var i=n(e),o=0,a=A(t);o<a;){var u=Math.floor((o+a)/2);n(t[u])<i?o=u+1:a=u}return o},_.indexOf=a(1,_.findIndex,_.sortedIndex),_.lastIndexOf=a(-1,_.findLastIndex),_.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i};var O=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=k(t.prototype),a=t.apply(o,i);return _.isObject(a)?a:o};_.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,d.call(arguments,1));if(!_.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return O(t,r,e,this,n.concat(d.call(arguments)))};return r},_.partial=function(t){var e=d.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),a=0;a<i;a++)o[a]=e[a]===_?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return O(t,n,this,this,o)};return n},_.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)n=arguments[e],t[n]=_.bind(t[n],t);return t},_.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return _.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},_.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},_.defer=_.partial(_.delay,_,1),_.throttle=function(t,e,n){var r,i,o,a=null,u=0;n||(n={});var s=function(){u=n.leading===!1?0:_.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var c=_.now();u||n.leading!==!1||(u=c);var l=e-(c-u);return r=this,i=arguments,l<=0||l>e?(a&&(clearTimeout(a),a=null),u=c,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(s,l)),o}},_.debounce=function(t,e,n){var r,i,o,a,u,s=function(){var c=_.now()-a;c<e&&c>=0?r=setTimeout(s,e-c):(r=null,n||(u=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=_.now();var c=n&&!r;return r||(r=setTimeout(s,e)),c&&(u=t.apply(o,i),o=i=null),u}},_.wrap=function(t,e){return _.partial(e,t)},_.negate=function(t){return function(){return!t.apply(this,arguments)}},_.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},_.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},_.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},_.once=_.partial(_.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(t){if(!_.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)_.has(t,n)&&e.push(n);return R&&u(t,e),e},_.allKeys=function(t){if(!_.isObject(t))return[];var e=[];for(var n in t)e.push(n);return R&&u(t,e),e},_.values=function(t){for(var e=_.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},_.mapObject=function(t,e,n){e=M(e,n);for(var r,i=_.keys(t),o=i.length,a={},u=0;u<o;u++)r=i[u],a[r]=e(t[r],r,t);return a},_.pairs=function(t){for(var e=_.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},_.invert=function(t){for(var e={},n=_.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},_.functions=_.methods=function(t){var e=[];for(var n in t)_.isFunction(t[n])&&e.push(n);return e.sort()},_.extend=S(_.allKeys),_.extendOwn=_.assign=S(_.keys),_.findKey=function(t,e,n){e=M(e,n);for(var r,i=_.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r},_.pick=function(t,e,n){var r,i,o={},a=t;if(null==a)return o;_.isFunction(e)?(i=_.allKeys(a),r=C(e,n)):(i=D(arguments,!1,!1,1),r=function(t,e,n){return e in n},a=Object(a));for(var u=0,s=i.length;u<s;u++){var c=i[u],l=a[c];r(l,c,a)&&(o[c]=l)}return o},_.omit=function(t,e,n){if(_.isFunction(e))e=_.negate(e);else{var r=_.map(D(arguments,!1,!1,1),String);e=function(t,e){return!_.contains(r,e)}}return _.pick(t,e,n)},_.defaults=S(_.allKeys,!0),_.create=function(t,e){var n=k(t);return e&&_.extendOwn(n,e),n},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t},_.isMatch=function(t,e){var n=_.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var L=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var i=g.call(t);if(i!==g.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,u=e.constructor;if(a!==u&&!(_.isFunction(a)&&a instanceof a&&_.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),o){if(s=t.length,s!==e.length)return!1;for(;s--;)if(!L(t[s],e[s],n,r))return!1}else{var c,l=_.keys(t);if(s=l.length,_.keys(e).length!==s)return!1;for(;s--;)if(c=l[s],!_.has(e,c)||!L(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};_.isEqual=function(t,e){return L(t,e)},_.isEmpty=function(t){return null==t||(N(t)&&(_.isArray(t)||_.isString(t)||_.isArguments(t))?0===t.length:0===_.keys(t).length)},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=m||function(t){return"[object Array]"===g.call(t)},_.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){_["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return _.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(t){return"function"==typeof t||!1}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!==+t},_.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===g.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return null!=t&&v.call(t,e)},_.noConflict=function(){return s._=c,this},_.identity=function(t){return t},_.constant=function(t){return function(){return t}},_.noop=function(){},_.property=E,_.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},_.matcher=_.matches=function(t){return t=_.extendOwn({},t),function(e){return _.isMatch(e,t)}},_.times=function(t,e,n){var r=Array(Math.max(0,t));e=C(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},_.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=_.invert(j),B=function(t){var e=function(e){return t[e]},n="(?:"+_.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};_.escape=B(j),_.unescape=B(F),_.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),_.isFunction(r)?r.call(t):r};var U=0;_.uniqueId=function(t){var e=++U+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,V=function(t){return"\\"+H[t]};_.template=function(t,e,n){!e&&n&&(e=n),e=_.defaults({},e,_.templateSettings);var r=RegExp([(e.escape||W).source,(e.interpolate||W).source,(e.evaluate||W).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,u){return o+=t.slice(i,u).replace(z,V),i=u+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(u){throw u.source=o,u}var s=function(t){return a.call(this,t,_)},c=e.variable||"obj";return s.source="function("+c+"){\n"+o+"}",s},_.chain=function(t){var e=_(t);return e._chain=!0,e};var q=function(t,e){return t._chain?_(e).chain():e};_.mixin=function(t){_.each(_.functions(t),function(e){var n=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return p.apply(t,arguments),q(this,n.apply(_,t))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];_.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],q(this,n)}}),_.each(["concat","join","slice"],function(t){var e=l[t];_.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},r=[],i=function(){return _}.apply(e,r),!(void 0!==i&&(t.exports=i))}).call(this)},function(t,e,n){"use strict";var r=n(14),i=r;t.exports=i},function(t,e){"use strict";function n(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var a=Object(o);for(var u in a)r.call(a,u)&&(n[u]=a[u])}}return n}t.exports=n},function(t,e,n){var r,i,o,a,u,s,c,l,f,h,p;f=n(2),i=n(16),o=n(120),l=n(6),c=n(133),t.exports=a={},a.SerializerWithBuiltIns=n(127),a.Project=n(126),a.ParticularElement=n(125),a.Layout=n(124),a.Node=n(32),a.NodeWithAttributes=n(69),a.Link=n(43),a.Attribute=n(121),a.Element=n(123),a.Editor=n(122),a.Variable=a.Attribute.createVariant({label:"Variable"}),a.ControlledAttributeLink=a.Link.createVariant({label:"ControlledAttributeLink"}),a.ReferenceLink=a.Link.createVariant({label:"ReferenceLink"}),p=function(t,e,n){var r;return r=a.Attribute.createVariant({label:t,name:e}),r.setExpression(n),r},a.Component=a.NodeWithAttributes.createVariant({label:"Component",graphicClass:o.Component,graphic:function(){var t;return t=new this.graphicClass,f.extend(t,this.getAttributesValuesByName()),t}}),a.Transform=a.Component.createVariant({label:"Transform",matrix:function(){var t,e,n,r,i,o;return t=this.getAttributesValuesByName(),i=t.x,o=t.y,n=t.sx,r=t.sy,e=t.rotate,l.Matrix.naturalConstruct(i,o,n,r,e)},defaultAttributesToChange:function(){var t,e,n;return t=this.getAttributesByName(),e=t.x,n=t.y,[e,n]},controllableAttributes:function(){var t,e,n,r,i,o;return t=this.getAttributesByName(),i=t.x,o=t.y,n=t.sx,r=t.sy,e=t.rotate,[i,o,n,r,e]},controlPoints:function(){var t,e,n,r,i;return t=this.getAttributesByName(),r=t.x,i=t.y,e=t.sx,n=t.sy,[{point:[0,0],attributesToChange:[r,i],filled:!0},{point:[1,0],attributesToChange:[e],filled:!1},{point:[0,1],attributesToChange:[n],filled:!1}]}}),a.Transform.addChildren([p("X","x","0.00"),p("Y","y","0.00"),p("Scale X","sx","1.00"),p("Scale Y","sy","1.00"),p("Rotate","rotate","0.00")]),a.Fill=a.Component.createVariant({label:"Fill",graphicClass:o.Fill}),a.Fill.addChildren([p("Fill Color","color","rgba(0.93, 0.93, 0.93, 1.00)")]),a.Stroke=a.Component.createVariant({label:"Stroke",graphicClass:o.Stroke}),a.Stroke.addChildren([p("Stroke Color","color","rgba(0.60, 0.60, 0.60, 1.00)"),p("Line Width","lineWidth","1")]),a.Interaction=a.Component.createVariant({label:"Interaction"}),a.Interaction.addChildren([p("Hovered","hovered","false")]),s="renderingContext",r="anchorCollectionContext",u="noDraggingContext",a.Shape=a.Element.createVariant({label:"Shape",getAllowedShapeInterpretationContext:function(){return[s]},getAllowedShapeInterpretationContextForChildren:function(){return[s]},hoveredAttr:function(){var t;return t=this.childOfType(a.Interaction),null!=t?t.getAttributesByName().hovered:void 0},clearHoveredAttr:function(){var t,e,n,r,i,o;for(null!=(r=this.hoveredAttr())&&r.setOverrideValue(!1),i=this.childrenOfType(a.Shape),o=[],e=0,n=i.length;e<n;e++)t=i[e],o.push(t.clearHoveredAttr());return o}}),a.Shape.addChildren([a.Transform.createVariant(),a.Interaction.createVariant()]),a.Group=a.Shape.createVariant({label:"Group",getAllowedShapeInterpretationContext:function(){var t,e;return t=this.childElements(),e=f.some(t,function(t){return f.some(t.getAllowedShapeInterpretationContext(),function(t){return t===s})}),0===t.length?[r,s]:e?[s]:[r]},getAllowedShapeInterpretationContextForChildren:function(){var t;return(null!=(t=this._parent)?t.getAllowedShapeInterpretationContextForChildren:void 0)?this._parent.getAllowedShapeInterpretationContextForChildren():[s]},graphicClass:o.Group}),a.Anchor=a.Shape.createVariant({label:"Anchor",getAllowedShapeInterpretationContext:function(){return[r]},getAllowedShapeInterpretationContextForChildren:function(){return[u]},graphicClass:o.Anchor}),h=function(t,e){var n,r,i;return n=a.Anchor.createVariant(),i=n.childOfType(a.Transform),r=i.getAttributesByName(),r.x.setExpression(t),r.y.setExpression(e),n},a.PathComponent=a.Component.createVariant({_devLabel:"PathComponent",label:"Path",graphicClass:o.PathComponent}),a.PathComponent.addChildren([p("Close Path","closed","true")]),a.Path=a.Shape.createVariant({label:"Path",graphicClass:o.Path}),a.Path.addChildren([a.PathComponent.createVariant(),a.Fill.createVariant(),a.Stroke.createVariant()]),a.Circle=a.Path.createVariant({label:"Circle",getAllowedShapeInterpretationContextForChildren:function(){return[u]},graphicClass:o.Circle}),a.Rectangle=a.Path.createVariant({label:"Rectangle",getAllowedShapeInterpretationContextForChildren:function(){return[r]}}),a.Rectangle.addChildren([h("0.00","0.00"),h("0.00","1.00"),h("1.00","1.00"),h("1.00","0.00")]),a.TextComponent=a.Component.createVariant({_devLabel:"TextComponent",label:"Text",graphicClass:o.TextComponent}),a.TextComponent.addChildren([p("Text","text",'"Text"'),p("Font","fontFamily",'"Lucida Grande"'),p("Color","color","rgba(0.20, 0.20, 0.20, 1.00)"),p("Align","textAlign",'"start"'),p("Baseline","textBaseline",'"alphabetic"')]),a.Text=a.Shape.createVariant({label:"Text",graphicClass:o.Text,getAllowedShapeInterpretationContextForChildren:function(){return[u]}}),a.Text.addChildren([a.TextComponent.createVariant()]),a.ImageComponent=a.Component.createVariant({_devLabel:"ImageComponent",label:"Image",graphicClass:o.ImageComponent}),a.ImageComponent.addChildren([p("URL","url",'"'+c+'"')]),a.Image=a.Shape.createVariant({label:"Image",graphicClass:o.Image,getAllowedShapeInterpretationContextForChildren:function(){return[u]}}),a.Image.addChildren([a.ImageComponent.createVariant()])},function(t,e,n){var r,i,o,a;i=n(2),a=n(79),t.exports=r={},r.Matrix=n(132),r.matches=function(t,e){var n,r,i;return n=null!=(r=null!=(i=Element.prototype.webkitMatchesSelector)?i:Element.prototype.mozMatchesSelector)?r:Element.prototype.oMatchesSelector,n.call(t,e)},r.closest=function(t,e){var n,o;if(null!=t&&t.nodeType===Node.ELEMENT_NODE)return n=i.isString(e)?function(t){return r.matches(t,e)}:e,n(t)?t:(o=t.parentNode,r.closest(o,n))},r.mouseDownPreventDefault=function(t){var e,n,r,i,o;for(t.preventDefault(),document.activeElement.blur(),window.getSelection().removeAllRanges(),document.body.focus(),i=document.querySelectorAll(".CodeMirror-focused"),o=[],n=0,r=i.length;n<r;n++)e=i[n],o.push(e.CodeMirror.getInputField().blur());return o},r.textFocus=function(){var t,e;return(t=document.querySelector(".CodeMirror-focused"))?t.CodeMirror:(null!=(e=document.activeElement)?e.isContentEditable:void 0)?document.activeElement:null},r.clearTextFocus=function(){var t,e,n,r,i;for(document.activeElement.blur(),window.getSelection().removeAllRanges(),document.body.focus(),r=document.querySelectorAll(".CodeMirror-focused"),i=[],e=0,n=r.length;e<n;e++)t=r[e],i.push(t.CodeMirror.getInputField().blur());return i},r.getId=function(t){return t.hasOwnProperty("id")?t.id:r.assignId(t,r.generateId())},r.assignId=function(t,e){return t.id=e},o=0,r.generateId=function(){return"id"+Math.random().toString(36).substr(2,6)+Date.now().toString(36)+(o++).toString(36)},r.quadrance=function(t,e){var n;return n=a["-"](t,e),a.dot(n,n)},r.solve=function(t,e){var n,r;return r=a.uncmin(t,e),isNaN(r.f)?(console.warn("NaN"),e):n=r.solution},r.precision=function(t){var e;return t=""+t,e=t.indexOf("."),e===-1?0:t.length-e-1},r.toPrecision=function(t,e){return t=r.roundToPrecision(t,e),t.toFixed(e)},r.toMaxPrecision=function(t,e){return t=r.toPrecision(t,e),t.indexOf(".")&&(t=t.replace(/\.?0+$/,"")),t},r.roundToPrecision=function(t,e){var n;return n=Math.pow(10,e),t=Math.round(t*n)/n},r.stringMatchIndices=function(t,e){var n,r;for(r=[],n=-1;;){if(n=t.indexOf(e,n+1),n===-1)break;r.push(n)}return r},r.charToLineCh=function(t,e){var n,r;return r=t.substr(0,e),n=r.split("\n"),{line:n.length-1,ch:i.last(n).length}},r.isNumberString=function(t){return/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(t)},r.isStringLiteral=function(t){return/^(?:"(?:\\"|[^"\r\n])*"|'(?:\\'|[^'\r\n])*')$/.test(t)}},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},function(t,e,n){var r,i,o,a,u,s,c,l,f,h,p,d={}.hasOwnProperty;a=n(109),u=n(175),s=n(2),i=n(5),t.exports=o={},h=a.DOM;for(f in h)d.call(h,f)&&(p=h[f],o[f]=p);o.cx=function(t){return Object.keys(t).filter(function(e){return t[e]}).join(" ")},o.AnnotateMixin={componentDidMount:function(){return this._annotateDOMNode()},componentDidUpdate:function(){return this._annotateDOMNode()},componentWillUnmount:function(){return this._clearAnnotation()},_annotateDOMNode:function(){var t;return t=u.findDOMNode(this),t.annotation=this.annotation()},_clearAnnotation:function(){var t;return t=u.findDOMNode(this),delete t.annotation}},o.create=function(t,e){var n,r,i,u,s;for(e.displayName=t,u=["propTypes","childContextTypes","contextTypes"],r=0,i=u.length;r<i;r++)s=u[r],e[s]&&(e[s]=l(e[s]));return n=a.createClass(e),o[t]=a.createFactory(n)},o.render=u.render,o.findDOMNode=u.findDOMNode,l=function(t){return s.mapObject(t,c)},c=function(t){return t===Number?a.PropTypes.number.isRequired:t===String?a.PropTypes.string.isRequired:t===Boolean?a.PropTypes.bool.isRequired:t===Function?a.PropTypes.func.isRequired:t===Array?a.PropTypes.array.isRequired:t===Object?a.PropTypes.object.isRequired:"any"===t?a.PropTypes.any:null!=t.isVariantOf?function(e,n,r){var i;if(i=e[n],!i.isVariantOf(t))return new Error("In `"+r+"`, property `"+n+"` is the wrong type.")}:a.PropTypes.instanceOf(t).isRequired},o.DragManager=n(143),o.HoverManager=n(144),n(140),n(141),n(137),n(145),n(136),n(134),n(147),n(146),n(142),n(135),n(138),n(139),n(148),r=n(176),o.Dropzone=a.createFactory(r)},function(t,e,n){"use strict";function r(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}function i(t){return t?t.nodeType===H?t.documentElement:t.firstChild:null}function o(t){var e=i(t);return e&&Q.getID(e)}function a(t){var e=u(t);if(e)if(U.hasOwnProperty(e)){var n=U[e];n!==t&&(f(n,e)?L(!1):void 0,U[e]=t)}else U[e]=t;return e}function u(t){return t&&t.getAttribute&&t.getAttribute(B)||""}function s(t,e){var n=u(t);n!==e&&delete U[n],t.setAttribute(B,e),U[e]=t}function c(t){return U.hasOwnProperty(t)&&f(U[t],t)||(U[t]=Q.findReactNodeByID(t)),U[t]}function l(t){var e=k.get(t)._rootNodeID;return M.isNullComponentID(e)?null:(U.hasOwnProperty(e)&&f(U[e],e)||(U[e]=Q.findReactNodeByID(e)),U[e])}function f(t,e){if(t){u(t)!==e?L(!1):void 0;var n=Q.findReactContainerForID(e);if(n&&R(n,t))return!0}return!1}function h(t){delete U[t]}function p(t){var e=U[t];return!(!e||!f(e,t))&&void(K=e)}function d(t){K=null,S.traverseAncestors(t,p);var e=K;return K=null,e}function g(t,e,n,r,i,o){_.useCreateElement&&(o=D({},o),n.nodeType===H?o[V]=n:o[V]=n.ownerDocument);var a=A.mountComponent(t,e,r,o);t._renderedComponent._topLevelWrapper=t,Q._mountImageIntoNode(a,n,i,r)}function v(t,e,n,r,i){var o=P.ReactReconcileTransaction.getPooled(r);o.perform(g,null,t,e,n,o,r,i),P.ReactReconcileTransaction.release(o)}function m(t,e){for(A.unmountComponent(t),e.nodeType===H&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function y(t){var e=o(t);return!!e&&e!==S.getReactRootIDFromNodeID(e)}function b(t){for(;t&&t.parentNode!==t;t=t.parentNode)if(1===t.nodeType){var e=u(t);if(e){var n,r=S.getReactRootIDFromNodeID(e),i=t;do if(n=u(i),i=i.parentNode,null==i)return null;while(n!==r);if(i===Y[r])return t}}return null}var w=n(23),x=n(34),_=(n(18),n(88)),C=n(10),M=n(95),S=n(24),k=n(30),E=n(98),T=n(12),A=n(21),N=n(53),P=n(13),D=n(4),O=n(27),R=n(73),I=n(60),L=n(1),j=n(41),F=n(63),B=(n(65),n(3),w.ID_ATTRIBUTE_NAME),U={},W=1,H=9,z=11,V="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),q={},Y={},X=[],K=null,G=function(){};G.prototype.isReactComponent={},G.prototype.render=function(){return this.props};var Q={TopLevelWrapper:G,_instancesByReactRootID:q,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,r){return Q.scrollMonitor(n,function(){N.enqueueElementInternal(t,e),r&&N.enqueueCallbackInternal(t,r)}),t},_registerComponent:function(t,e){!e||e.nodeType!==W&&e.nodeType!==H&&e.nodeType!==z?L(!1):void 0,x.ensureScrollValueMonitoring();var n=Q.registerContainer(e);return q[n]=t,n},_renderNewRootComponent:function(t,e,n,r){var i=I(t,null),o=Q._registerComponent(i,e);return P.batchedUpdates(v,i,o,e,n,r),i},renderSubtreeIntoContainer:function(t,e,n,r){return null==t||null==t._reactInternalInstance?L(!1):void 0,Q._renderSubtreeIntoContainer(t,e,n,r)},_renderSubtreeIntoContainer:function(t,e,n,r){C.isValidElement(e)?void 0:L(!1);var a=new C(G,null,null,null,null,null,e),s=q[o(n)];if(s){var c=s._currentElement,l=c.props;if(F(l,e)){var f=s._renderedComponent.getPublicInstance(),h=r&&function(){r.call(f)};return Q._updateRootComponent(s,a,n,h),f}Q.unmountComponentAtNode(n)}var p=i(n),d=p&&!!u(p),g=y(n),v=d&&!s&&!g,m=Q._renderNewRootComponent(a,n,v,null!=t?t._reactInternalInstance._processChildContext(t._reactInternalInstance._context):O)._renderedComponent.getPublicInstance();return r&&r.call(m),m},render:function(t,e,n){return Q._renderSubtreeIntoContainer(null,t,e,n)},registerContainer:function(t){var e=o(t);return e&&(e=S.getReactRootIDFromNodeID(e)),e||(e=S.createReactRootID()),Y[e]=t,e},unmountComponentAtNode:function(t){!t||t.nodeType!==W&&t.nodeType!==H&&t.nodeType!==z?L(!1):void 0;var e=o(t),n=q[e];if(!n){var r=(y(t),u(t));r&&r===S.getReactRootIDFromNodeID(r);return!1}return P.batchedUpdates(m,n,t),delete q[e],delete Y[e],!0},findReactContainerForID:function(t){var e=S.getReactRootIDFromNodeID(t),n=Y[e];return n},findReactNodeByID:function(t){var e=Q.findReactContainerForID(t);return Q.findComponentRoot(e,t)},getFirstReactDOM:function(t){return b(t)},findComponentRoot:function(t,e){var n=X,r=0,i=d(e)||t;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var o,a=n[r++];a;){var u=Q.getID(a);u?e===u?o=a:S.isAncestorIDOf(u,e)&&(n.length=r=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,L(!1)},_mountImageIntoNode:function(t,e,n,o){if(!e||e.nodeType!==W&&e.nodeType!==H&&e.nodeType!==z?L(!1):void 0,n){var a=i(e);if(E.canReuseMarkup(t,a))return;var u=a.getAttribute(E.CHECKSUM_ATTR_NAME);a.removeAttribute(E.CHECKSUM_ATTR_NAME);var s=a.outerHTML;a.setAttribute(E.CHECKSUM_ATTR_NAME,u);var c=t,l=r(c,s);" (client) "+c.substring(l-20,l+20)+"\n (server) "+s.substring(l-20,l+20);e.nodeType===H?L(!1):void 0}if(e.nodeType===H?L(!1):void 0,o.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(t)}else j(e,t)},ownerDocumentContextKey:V,getReactRootID:o,getID:a,setID:s,getNode:c,getNodeFromInstance:l,isValid:f,purgeID:h};T.measureMethods(Q,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=Q},function(t,e,n){"use strict";var r=n(18),i=n(4),o=(n(39),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},u=function(t,e,n,r,i,a,u){var s={$$typeof:o,type:t,key:e,ref:n,
props:u,_owner:a};return s};u.createElement=function(t,e,n){var i,o={},s=null,c=null,l=null,f=null;if(null!=e){c=void 0===e.ref?null:e.ref,s=void 0===e.key?null:""+e.key,l=void 0===e.__self?null:e.__self,f=void 0===e.__source?null:e.__source;for(i in e)e.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(o[i]=e[i])}var h=arguments.length-2;if(1===h)o.children=n;else if(h>1){for(var p=Array(h),d=0;d<h;d++)p[d]=arguments[d+2];o.children=p}if(t&&t.defaultProps){var g=t.defaultProps;for(i in g)"undefined"==typeof o[i]&&(o[i]=g[i])}return u(t,s,c,l,f,r.current,o)},u.createFactory=function(t){var e=u.createElement.bind(null,t);return e.type=t,e},u.cloneAndReplaceKey=function(t,e){var n=u(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},u.cloneAndReplaceProps=function(t,e){var n=u(t.type,t.key,t.ref,t._self,t._source,t._owner,e);return n},u.cloneElement=function(t,e,n){var o,s=i({},t.props),c=t.key,l=t.ref,f=t._self,h=t._source,p=t._owner;if(null!=e){void 0!==e.ref&&(l=e.ref,p=r.current),void 0!==e.key&&(c=""+e.key);for(o in e)e.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(s[o]=e[o])}var d=arguments.length-2;if(1===d)s.children=n;else if(d>1){for(var g=Array(d),v=0;v<d;v++)g[v]=arguments[v+2];s.children=g}return u(t.type,c,l,f,h,p,s)},u.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o},t.exports=u},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";function r(t,e,n){return n}var i={enableMeasure:!1,storedMeasure:r,measureMethods:function(t,e,n){},measure:function(t,e,n){return n},injection:{injectMeasure:function(t){i.storedMeasure=t}}};t.exports=i},function(t,e,n){"use strict";function r(){k.ReactReconcileTransaction&&w?void 0:v(!1)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=k.ReactReconcileTransaction.getPooled(!1)}function o(t,e,n,i,o,a){r(),w.batchedUpdates(t,e,n,i,o,a)}function a(t,e){return t._mountOrder-e._mountOrder}function u(t){var e=t.dirtyComponentsLength;e!==m.length?v(!1):void 0,m.sort(a);for(var n=0;n<e;n++){var r=m[n],i=r._pendingCallbacks;if(r._pendingCallbacks=null,p.performUpdateIfNecessary(r,t.reconcileTransaction),i)for(var o=0;o<i.length;o++)t.callbackQueue.enqueue(i[o],r.getPublicInstance())}}function s(t){return r(),w.isBatchingUpdates?void m.push(t):void w.batchedUpdates(s,t)}function c(t,e){w.isBatchingUpdates?void 0:v(!1),y.enqueue(t,e),b=!0}var l=n(47),f=n(20),h=n(12),p=n(21),d=n(38),g=n(4),v=n(1),m=[],y=l.getPooled(),b=!1,w=null,x={initialize:function(){this.dirtyComponentsLength=m.length},close:function(){this.dirtyComponentsLength!==m.length?(m.splice(0,this.dirtyComponentsLength),M()):m.length=0}},_={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},C=[x,_];g(i.prototype,d.Mixin,{getTransactionWrappers:function(){return C},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,k.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return d.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),f.addPoolingTo(i);var M=function(){for(;m.length||b;){if(m.length){var t=i.getPooled();t.perform(u,null,t),i.release(t)}if(b){b=!1;var e=y;y=l.getPooled(),e.notifyAll(),l.release(e)}}};M=h.measure("ReactUpdates","flushBatchedUpdates",M);var S={injectReconcileTransaction:function(t){t?void 0:v(!1),k.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:v(!1),"function"!=typeof t.batchedUpdates?v(!1):void 0,"boolean"!=typeof t.isBatchingUpdates?v(!1):void 0,w=t}},k={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:s,flushBatchedUpdates:M,injection:S,asap:c};t.exports=k},function(t,e){"use strict";function n(t){return function(){return t}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,n){if(o()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,n,r)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,r):"string"==typeof e?f(t,e,n):d(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return s(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function l(e,n){if(s(n),e=a(e,n<0?0:0|g(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function f(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(n,r);e=a(e,i);var o=e.write(n,r);return o!==i&&(e=e.slice(0,o)),e}function h(t,e){var n=e.length<0?0:0|g(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(e,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=h(e,n),e}function d(e,n){if(t.isBuffer(n)){var r=0|g(n.length);return e=a(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||Q(n.length)?a(e,0):h(e,n);if("Buffer"===n.type&&$(n.data))return h(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function v(e){return+e!=e&&(e=0),t.alloc(+e)}function m(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(i)return q(e).length;n=(""+n).toLowerCase(),i=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return D(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:x(e,n,r,i,o);if("number"==typeof n)return n=255&n,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):x(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function x(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,u=t.length,s=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,u/=2,s/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<u;c++)if(o(t,c)===o(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===s)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+s>u&&(n=u-s),c=n;c>=0;c--){for(var f=!0,h=0;h<s;h++)if(o(t,c+h)!==o(e,h)){f=!1;break}if(f)return c}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[n+a]=u}return a}function C(t,e,n,r){return G(q(e,t.length-n),t,n,r)}function M(t,e,n,r){return G(Y(e),t,n,r)}function S(t,e,n,r){return M(t,e,n,r)}function k(t,e,n,r){return G(K(e),t,n,r)}function E(t,e,n,r){return G(X(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?Z.fromByteArray(t):Z.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,u=o>239?4:o>223?3:o>191?2:1;if(i+u<=n){var s,c,l,f;switch(u){case 1:o<128&&(a=o);break;case 2:s=t[i+1],128===(192&s)&&(f=(31&o)<<6|63&s,f>127&&(a=f));break;case 3:s=t[i+1],c=t[i+2],128===(192&s)&&128===(192&c)&&(f=(15&o)<<12|(63&s)<<6|63&c,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:s=t[i+1],c=t[i+2],l=t[i+3],128===(192&s)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&s)<<12|(63&c)<<6|63&l,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,u=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=u}return N(r)}function N(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function D(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=V(t[o]);return i}function R(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return i||B(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function W(t,e,n,r,i){return i||B(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function H(t){if(t=z(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function K(t){return Z.toByteArray(H(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Q(t){return t!==t}var Z=n(111),J=n(171),$=n(172);e.Buffer=t,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return u(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return c(null,t,e,n)},t.allocUnsafe=function(t){return l(null,t)},t.allocUnsafeSlow=function(t){return l(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!$(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=m,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,i,o){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,u=r-n,s=Math.min(a,u),c=this.slice(i,o),l=e.slice(n,r),f=0;f<s;++f)if(c[f]!==l[f]){a=c[f],u=l[f];break}return a<u?-1:u<a?1:0},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},t.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return C(this,t,e,n);case"ascii":return M(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=t.prototype;else{var o=n-e;i=new t(o,(void 0));for(var a=0;a<o;++a)i[a]=this[a+e]}return i},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),J.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),J.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),J.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),J.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;L(this,t,e,n,i,0)}var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;L(this,t,e,n,i,0)}var o=n-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):j(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):j(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):F(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):F(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=0,a=1,u=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===u&&0!==this[e+o-1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[e+o+1]&&(u=1),this[e+o]=(t/a>>0)-u&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):j(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):j(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):F(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):F(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return W(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return W(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,a=i-r;if(this===e&&r<n&&n<i)for(o=a-1;o>=0;--o)e[o+n]=this[o+r];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),n);return a},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var u=t.isBuffer(e)?e:q(new t(e,i).toString()),s=u.length;for(a=0;a<r-n;++a)this[a+n]=u[a%s]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(15).Buffer,function(){return this}())},function(t,e,n){var r,i,o,a,u,s,c,l,f,h;c=n(2),r=n(114),o=n(115),a=n(68),u=n(116),f=new r,h=new o({spreadEnv:u.empty,shouldThrow:!1}),s=function(){function t(t){this.spread=t}return t}(),l=function(t){var e,n,r,i,o,l;return l=function(){var e;try{return h.context.shouldThrow?t():h["with"]({shouldThrow:!0},t)}catch(n){if(e=n,e instanceof s)return r(e.spread);throw e}},r=function(t){var e,n;return e=h.context.spreadEnv,n=c.map(t.items,function(n,r){var i;return i=e.assign(t,r),h["with"]({spreadEnv:i},l)}),new a(n,t.origin)},i=f.memoize(function(){return h["with"]({spreadEnv:u.empty},l)}),o=function(t){var e;return e=h.context.spreadEnv,e.resolve(t)},e=function(){return f.run(function(){var t;return t=i(),t=o(t)})},n=function(){return f.run(function(){var t;if(t=e(),h.context.shouldThrow&&t instanceof a)throw new s(t);return t})},n.asSpread=e,n},t.exports=i={run:function(t){return f.run(t)},currentSpreadEnv:function(){return h.context.spreadEnv},memoize:function(t){return f.memoize(t)},cell:l,Spread:a,SpreadEnv:u,UnresolvedSpreadError:s}},function(t,e,n){"use strict";var r=n(33),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};t.exports=a},function(t,e){"use strict";var n={current:null};t.exports=n},function(t,e){"use strict";var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};t.exports=n},function(t,e,n){"use strict";var r=n(1),i=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},o=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},a=function(t,e,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,t,e,n),i}return new r(t,e,n)},u=function(t,e,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,t,e,n,r),o}return new i(t,e,n,r)},s=function(t,e,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,t,e,n,r,i),a}return new o(t,e,n,r,i)},c=function(t){var e=this;t instanceof e?void 0:r(!1),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},l=10,f=i,h=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||f,n.poolSize||(n.poolSize=l),n.release=c,n},p={addPoolingTo:h,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:u,fiveArgumentPooler:s};t.exports=p},function(t,e,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(207),o={mountComponent:function(t,e,n,i){var o=t.mountComponent(e,n,i);return t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(r,t),o},unmountComponent:function(t){i.detachRefs(t,t._currentElement),t.unmountComponent()},receiveComponent:function(t,e,n,o){var a=t._currentElement;if(e!==a||o!==t._context){var u=i.shouldUpdateRefs(a,e);u&&i.detachRefs(t,a),t.receiveComponent(e,n,o),u&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(r,t)}},performUpdateIfNecessary:function(t,e){t.performUpdateIfNecessary(e)}};t.exports=o},function(t,e,n){"use strict";function r(t,e,n,r){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var u=i[o];u?this[o]=u(n):"target"===o?this.target=r:this[o]=n[o]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;s?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var i=n(20),o=n(4),a=n(14),u=(n(3),{type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=u,r.augmentClass=function(t,e){var n=this,r=Object.create(n.prototype);o(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=o({},n.Interface,e),t.augmentClass=n.augmentClass,i.addPoolingTo(t,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),t.exports=r},function(t,e,n){"use strict";function r(t,e){return(t&e)===e}var i=n(1),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=o,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},s=t.DOMAttributeNames||{},c=t.DOMPropertyNames||{},l=t.DOMMutationMethods||{};t.isCustomAttribute&&u._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var f in n){u.properties.hasOwnProperty(f)?i(!1):void 0;var h=f.toLowerCase(),p=n[f],d={attributeName:h,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseAttribute:r(p,e.MUST_USE_ATTRIBUTE),mustUseProperty:r(p,e.MUST_USE_PROPERTY),hasSideEffects:r(p,e.HAS_SIDE_EFFECTS),hasBooleanValue:r(p,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(p,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(p,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(p,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.mustUseAttribute&&d.mustUseProperty?i(!1):void 0,!d.mustUseProperty&&d.hasSideEffects?i(!1):void 0,d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:i(!1),s.hasOwnProperty(f)){var g=s[f];d.attributeName=g}a.hasOwnProperty(f)&&(d.attributeNamespace=a[f]),c.hasOwnProperty(f)&&(d.propertyName=c[f]),l.hasOwnProperty(f)&&(d.mutationMethod=l[f]),u.properties[f]=d}}},a={},u={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<u._isCustomAttributeFunctions.length;e++){var n=u._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,r=a[t];return r||(a[t]=r={}),e in r||(n=document.createElement(t),r[e]=n[e]),r[e]},injection:o};t.exports=u},function(t,e,n){"use strict";function r(t){return p+t.toString(36)}function i(t,e){return t.charAt(e)===p||e===t.length}function o(t){return""===t||t.charAt(0)===p&&t.charAt(t.length-1)!==p}function a(t,e){return 0===e.indexOf(t)&&i(e,t.length)}function u(t){return t?t.substr(0,t.lastIndexOf(p)):""}function s(t,e){if(o(t)&&o(e)?void 0:h(!1),a(t,e)?void 0:h(!1),t===e)return t;var n,r=t.length+d;for(n=r;n<e.length&&!i(e,n);n++);return e.substr(0,n)}function c(t,e){var n=Math.min(t.length,e.length);if(0===n)return"";for(var r=0,a=0;a<=n;a++)if(i(t,a)&&i(e,a))r=a;else if(t.charAt(a)!==e.charAt(a))break;var u=t.substr(0,r);return o(u)?void 0:h(!1),u}function l(t,e,n,r,i,o){t=t||"",e=e||"",t===e?h(!1):void 0;var c=a(e,t);c||a(t,e)?void 0:h(!1);for(var l=0,f=c?u:s,p=t;;p=f(p,e)){var d;if(i&&p===t||o&&p===e||(d=n(p,c,r)),d===!1||p===e)break;l++<g?void 0:h(!1)}}var f=n(103),h=n(1),p=".",d=p.length,g=1e4,v={createReactRootID:function(){return r(f.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===p&&t.length>1){var e=t.indexOf(p,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,r,i){var o=c(t,e);o!==t&&l(t,o,n,r,!1,!0),o!==e&&l(o,e,n,i,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(l("",t,e,n,!0,!1),l(t,"",e,n,!1,!0))},traverseTwoPhaseSkipTarget:function(t,e,n){t&&(l("",t,e,n,!0,!0),l(t,"",e,n,!0,!0))},traverseAncestors:function(t,e,n){l("",t,e,n,!0,!1)},getFirstCommonAncestorID:c,_getNextDescendantID:s,isAncestorIDOf:a,SEPARATOR:p};t.exports=v},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){"use strict";var r=n(83),i=n(185),o=n(96),a=n(105),u=n(106),s=n(1),c=(n(3),{}),l=null,f=function(t,e){t&&(i.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},h=function(t){return f(t,!0)},p=function(t){return f(t,!1)},d=null,g={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(t){d=t},getInstanceHandle:function(){return d},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(t,e,n){"function"!=typeof n?s(!1):void 0;var i=c[e]||(c[e]={});i[t]=n;var o=r.registrationNameModules[e];o&&o.didPutListener&&o.didPutListener(t,e,n)},getListener:function(t,e){var n=c[e];return n&&n[t]},deleteListener:function(t,e){var n=r.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var i=c[e];i&&delete i[t]},deleteAllListeners:function(t){for(var e in c)if(c[e][t]){var n=r.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e),delete c[e][t]}},extractEvents:function(t,e,n,i,o){for(var u,s=r.plugins,c=0;c<s.length;c++){var l=s[c];if(l){var f=l.extractEvents(t,e,n,i,o);f&&(u=a(u,f))}}return u},enqueueEvents:function(t){t&&(l=a(l,t))},processEventQueue:function(t){var e=l;l=null,t?u(e,h):u(e,p),l?s(!1):void 0,o.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};t.exports=g},function(t,e,n){"use strict";function r(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return y(t,r)}function i(t,e,n){var i=e?m.bubbled:m.captured,o=r(t,n,i);o&&(n._dispatchListeners=g(n._dispatchListeners,o),n._dispatchIDs=g(n._dispatchIDs,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,i,t)}function a(t){t&&t.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(t.dispatchMarker,i,t)}function u(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=y(t,r);i&&(n._dispatchListeners=g(n._dispatchListeners,i),n._dispatchIDs=g(n._dispatchIDs,t))}}function s(t){t&&t.dispatchConfig.registrationName&&u(t.dispatchMarker,null,t)}function c(t){v(t,o)}function l(t){v(t,a)}function f(t,e,n,r){d.injection.getInstanceHandle().traverseEnterLeave(n,r,u,t,e)}function h(t){v(t,s)}var p=n(17),d=n(28),g=(n(3),n(105)),v=n(106),m=p.PropagationPhases,y=d.getListener,b={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:f};t.exports=b},function(t,e){"use strict";var n={remove:function(t){
t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=n},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(22),o=n(58),a={view:function(t){if(t.view)return t.view;var e=o(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};i.augmentClass(r,a),t.exports=r},function(t,e,n){var r,i;i=n(2),t.exports=r={label:"Node",constructor:function(t,e){return this._master=t,this._head=e,this._variants=[],this._parent=null,this._children=[],this._isHatched=!1},master:function(){return this._master},variants:function(){var t,e,n,r,i;if(n=this.parent())for(i=n.variants(),t=0,e=i.length;t<e;t++)r=i[t],r._hatch();return this._variants},parent:function(){return this._parent},children:function(){return this._hatch(),this._children},head:function(){return this._head},_hatch:function(){var t,e,n,r,i,o,a;if(!this._isHatched&&(null!=(i=this._master)&&i._hatch(),this._isHatched=!0,null!=this._master)){for(o=this._master.children(),a=[],t=0,e=o.length;t<e;t++)n=o[t],r=n._createVariantWithHead(this._head),a.push(this.addChild(r));return a}},addChild:function(t,e){var n,r,i,o,a,u,s,c;for(null==e&&(e=Infinity),this._hatch(),r=t.parent(),r&&r.removeChild(t),this._children.splice(e,0,t),t._parent=this,u=this._variants,s=[],o=0,a=u.length;o<a;o++)c=u[o],c._isHatched&&(i=c.head(),n=t.findVariantWithHead(i),n||(n=t._createVariantWithHead(i)),s.push(c.addChild(n,e)));return s},removeChild:function(t){var e,n,r,i,o,a,u,s;if(this._hatch(),i=this._children.indexOf(t),i===-1)throw"Cannot remove a child that doesn't exist";for(this._children.splice(i,1),t._parent=null,a=this._variants,u=[],r=0,o=a.length;r<o;r++)s=a[r],s._isHatched&&(n=s.head(),e=t.findVariantWithHead(n),(null!=e?e.parent():void 0)===s?u.push(s.removeChild(e)):u.push(void 0));return u},_createVariantWithHead:function(t,e){var n;return null==t&&(t=null),n=Object.create(this),null!=e&&i.extend(n,e),null==t&&(t=n),n.constructor(this,t),this._variants.push(n),n},createVariant:function(t){return this._createVariantWithHead(null,t)},findVariantWithHead:function(t){return i.find(this.variants(),function(e){return e.head()===t})},isVariantOf:function(t){return t===this||t.isPrototypeOf(this)},isAncestorOf:function(t){var e;return this===t||!!(e=t.parent())&&this.isAncestorOf(e)},addChildren:function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.addChild(e));return i},childrenOfType:function(t){return i.filter(this.children(),function(e){return e.isVariantOf(t)})},childOfType:function(t){return i.find(this.children(),function(e){return e.isVariantOf(t)})},depth:function(){return this.parent()?1+this.parent().depth():0},replaceChildWith:function(t,e){var n;return n=this.children().indexOf(t),this.removeChild(t),this.addChild(e,n)},devLabel:function(){return this._devLabel||this.label||"[NO LABEL]"},masterLineage:function(t){return null==t&&(t=!1),this.lineage("master",t)},parentThenMasterLineage:function(t){return null==t&&(t=!1),this.lineage(["parent","master"],t)},headThenMasterLineage:function(t){return null==t&&(t=!1),this.lineage(["head","master"],t)},lineage:function(t,e){var n,r,o,a,u,s,c,l,f;for(null==e&&(e=!1),n=e?this.devLabel():this,l=i.isArray(t),c=l?t:[t],r=0,o=c.length;r<o;r++)if(f=c[r],s=this["_"+f],s&&s!==this){u=f,a=s.lineage(t,e);break}return u||(u="end",a=[]),a.unshift(l?[n,u]:n),a}},r.constructor(null,null)},function(t,e,n){"use strict";var r=n(1),i=function(t){var e,n={};t instanceof Object&&!Array.isArray(t)?void 0:r(!1);for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};t.exports=i},function(t,e,n){"use strict";function r(t){return Object.prototype.hasOwnProperty.call(t,v)||(t[v]=d++,h[t[v]]={}),h[t[v]]}var i=n(17),o=n(28),a=n(83),u=n(200),s=n(12),c=n(104),l=n(4),f=n(61),h={},p=!1,d=0,g={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),m=l({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=t}},setEnabled:function(t){m.ReactEventListener&&m.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,o=r(n),u=a.registrationNameDependencies[t],s=i.topLevelTypes,c=0;c<u.length;c++){var l=u[c];o.hasOwnProperty(l)&&o[l]||(l===s.topWheel?f("wheel")?m.ReactEventListener.trapBubbledEvent(s.topWheel,"wheel",n):f("mousewheel")?m.ReactEventListener.trapBubbledEvent(s.topWheel,"mousewheel",n):m.ReactEventListener.trapBubbledEvent(s.topWheel,"DOMMouseScroll",n):l===s.topScroll?f("scroll",!0)?m.ReactEventListener.trapCapturedEvent(s.topScroll,"scroll",n):m.ReactEventListener.trapBubbledEvent(s.topScroll,"scroll",m.ReactEventListener.WINDOW_HANDLE):l===s.topFocus||l===s.topBlur?(f("focus",!0)?(m.ReactEventListener.trapCapturedEvent(s.topFocus,"focus",n),m.ReactEventListener.trapCapturedEvent(s.topBlur,"blur",n)):f("focusin")&&(m.ReactEventListener.trapBubbledEvent(s.topFocus,"focusin",n),m.ReactEventListener.trapBubbledEvent(s.topBlur,"focusout",n)),o[s.topBlur]=!0,o[s.topFocus]=!0):g.hasOwnProperty(l)&&m.ReactEventListener.trapBubbledEvent(l,g[l],n),o[l]=!0)}},trapBubbledEvent:function(t,e,n){return m.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return m.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!p){var t=c.refreshScrollValues;m.ReactEventListener.monitorScrollValue(t),p=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});s.measureMethods(m,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),t.exports=m},function(t,e,n){"use strict";var r={};t.exports=r},function(t,e,n){"use strict";var r=n(33),i=r({prop:null,context:null,childContext:null});t.exports=i},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(31),o=n(104),a=n(57),u={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};i.augmentClass(r,u),t.exports=r},function(t,e,n){"use strict";var r=n(1),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,i,o,a,u,s){this.isInTransaction()?r(!1):void 0;var c,l;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=t.call(e,n,i,o,a,u,s),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(t){this.isInTransaction()?void 0:r(!1);for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i,a=e[n],u=this.wrapperInitData[n];try{i=!0,u!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,u),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(s){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};t.exports=o},function(t,e,n){"use strict";var r=!1;t.exports=r},function(t,e){"use strict";function n(t){return i[t]}function r(t){return(""+t).replace(o,n)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;t.exports=r},function(t,e,n){"use strict";var r=n(7),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(t,e){t.innerHTML=e};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(t,e){MSApp.execUnsafeLocalFunction(function(){t.innerHTML=e})}),r.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",""===u.innerHTML&&(a=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),i.test(e)||"<"===e[0]&&o.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}t.exports=a},function(t,e,n){!function(e){t.exports=e()}(function(){"use strict";function t(n,r){if(!(this instanceof t))return new t(n,r);this.options=r=r?Bi(r):{},Bi(na,r,!1),p(r);var i=r.value;"string"==typeof i&&(i=new ka(i,r.mode,null,r.lineSeparator)),this.doc=i;var o=new t.inputStyles[r.inputStyle](this),a=this.display=new e(n,i,o);a.wrapper.CodeMirror=this,c(this),u(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!Po&&a.input.focus(),m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Pi,keySeq:null,specialChars:null};var s=this;xo&&_o<11&&setTimeout(function(){s.display.input.reset(!0)},20),ze(this),Zi(),xe(this),this.curOp.forceUpdate=!0,Zr(this,i),r.autofocus&&!Po||s.hasFocus()?setTimeout(Ui(yn,this),20):bn(this);for(var l in ra)ra.hasOwnProperty(l)&&ra[l](this,r[l],ia);_(this),r.finishInit&&r.finishInit(this);for(var f=0;f<sa.length;++f)sa[f](this);Ce(this),Co&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function e(t,e,n){var r=this;this.input=n,r.scrollbarFiller=Vi("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=Vi("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Vi("div",null,"CodeMirror-code"),r.selectionDiv=Vi("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=Vi("div",null,"CodeMirror-cursors"),r.measure=Vi("div",null,"CodeMirror-measure"),r.lineMeasure=Vi("div",null,"CodeMirror-measure"),r.lineSpace=Vi("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=Vi("div",[Vi("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Vi("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=Vi("div",null,null,"position: absolute; height: "+ja+"px; width: 1px;"),r.gutters=Vi("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=Vi("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Vi("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),xo&&_o<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),Co||yo&&Po||(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),r(e)}function r(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,Bt(t,100),t.state.modeGen++,t.curOp&&Le(t)}function i(t){t.options.lineWrapping?(tu(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):($a(t.display.wrapper,"CodeMirror-wrap"),h(t)),a(t),Le(t),se(t),setTimeout(function(){y(t)},100)}function o(t){var e=be(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/we(t.display)-3);return function(i){if(Cr(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function a(t){var e=t.doc,n=o(t);e.iter(function(t){var e=n(t);e!=t.height&&ei(t,e)})}function u(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),se(t)}function s(t){c(t),Le(t),setTimeout(function(){x(t)},20)}function c(t){var e=t.display.gutters,n=t.options.gutters;qi(e);for(var r=0;r<n.length;++r){var i=n[r],o=e.appendChild(Vi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=r?"":"none",l(t)}function l(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function f(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=vr(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=mr(r);){var i=e.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function h(t){var e=t.display,n=t.doc;e.maxLine=Jr(n,n.first),e.maxLineLength=f(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=f(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function p(t){var e=Ri(t.gutters,"CodeMirror-linenumbers");e==-1&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function d(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+Vt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Yt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function g(t,e,n){this.cm=n;var r=this.vert=Vi("div",[Vi("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Vi("div",[Vi("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(r),t(i),Da(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),Da(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,xo&&_o<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function v(){}function m(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&$a(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Da(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?an(e,t):on(e,t)},e),e.display.scrollbars.addClass&&tu(e.display.wrapper,e.display.scrollbars.addClass)}function y(t,e){e||(e=d(t));var n=t.display.barWidth,r=t.display.barHeight;b(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&P(t),b(t,d(t)),n=t.display.barWidth,r=t.display.barHeight}function b(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-zt(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=ri(e,r),a=ri(e,i);if(n&&n.ensure){var u=n.ensure.from.line,s=n.ensure.to.line;u<o?(o=u,a=ri(e,ii(Jr(e,u))+t.wrapper.clientHeight)):Math.min(s,e.lastLine())>=a&&(o=ri(e,ii(Jr(e,s))-t.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function x(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=M(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var u=n[a].alignable;if(u)for(var s=0;s<u.length;s++)u[s].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function _(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=C(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Vi("div",[Vi("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",l(t),!0}return!1}function C(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function M(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function S(t,e,n){var r=t.display;this.viewport=e,this.visible=w(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Xt(t),this.force=n,this.dims=O(t),this.events=[]}function k(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Yt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Yt(t)+"px",e.scrollbarsClipped=!0)}function E(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return Fe(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==He(t))return!1;_(t)&&(Fe(t),e.dims=O(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Bo&&(o=xr(t.doc,o),a=_r(t.doc,a));var u=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;We(t,o,a),n.viewOffset=ii(Jr(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var s=He(t);if(!u&&0==s&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Xi();return s>4&&(n.lineDiv.style.display="none"),R(t,n.updateLineNumbers,e.dims),s>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Xi()!=c&&c.offsetHeight&&c.focus(),qi(n.cursorDiv),qi(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,u&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,Bt(t,400)),n.updateLineNumbers=null,!0}function T(t,e){for(var n=e.viewport,r=!0;(r&&t.options.lineWrapping&&e.oldDisplayWidth!=Xt(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Vt(t.display)-Kt(t),n.top)}),e.visible=w(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&E(t,e);r=!1){P(t);var i=d(t);Rt(t),y(t,i),N(t,i)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function A(t,e){var n=new S(t,e);if(E(t,n)){P(t),T(t,n);var r=d(t);Rt(t),y(t,r),N(t,r),n.finish()}}function N(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Yt(t)+"px"}function P(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i,o=e.view[r];if(!o.hidden){if(xo&&_o<8){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var u=o.node.getBoundingClientRect();i=u.bottom-u.top}var s=o.line.height-i;if(i<2&&(i=be(e)),(s>.001||s<-.001)&&(ei(o.line,i),D(o.line),o.rest))for(var c=0;c<o.rest.length;c++)D(o.rest[c])}}}function D(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function O(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[t.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[t.options.gutters[a]]=o.clientWidth;return{fixedPos:M(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function R(t,e,n){function r(e){var n=e.nextSibling;return Co&&Do&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var i=t.display,o=t.options.lineNumbers,a=i.lineDiv,u=a.firstChild,s=i.view,c=i.viewFrom,l=0;l<s.length;l++){var f=s[l];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;u!=f.node;)u=r(u);var h=o&&null!=e&&e<=c&&f.lineNumber;f.changes&&(Ri(f.changes,"gutter")>-1&&(h=!1),I(t,f,c,n)),h&&(qi(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(C(t.options,c)))),u=f.node.nextSibling}else{var p=z(t,f,c,n);a.insertBefore(p,u)}c+=f.size}for(;u;)u=r(u)}function I(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?B(t,e):"gutter"==o?W(t,e,n,r):"class"==o?U(e):"widget"==o&&H(t,e,r)}e.changes=null}function L(t){return t.node==t.text&&(t.node=Vi("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),xo&&_o<8&&(t.node.style.zIndex=2)),t.node}function j(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=L(t);t.background=n.insertBefore(Vi("div",null,e),n.firstChild)}}function F(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Br(t,e)}function B(t,e){var n=e.text.className,r=F(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,U(e)):n&&(e.text.className=n)}function U(t){j(t),t.line.wrapClass?L(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function W(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=L(e);e.gutterBackground=Vi("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var i=L(e),a=e.gutter=Vi("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),i.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(Vi("div",C(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<t.options.gutters.length;++u){var s=t.options.gutters[u],c=o.hasOwnProperty(s)&&o[s];c&&a.appendChild(Vi("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[s]+"px; width: "+r.gutterWidth[s]+"px"))}}}function H(t,e,n){e.alignable&&(e.alignable=null);for(var r,i=e.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&e.node.removeChild(i)}V(t,e,n)}function z(t,e,n,r){var i=F(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),U(e),W(t,e,n,r),V(t,e,r),e.node}function V(t,e,n){if(q(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)q(t,e.rest[r],e,n,!1)}function q(t,e,n,r,i){if(e.widgets)for(var o=L(n),a=0,u=e.widgets;a<u.length;++a){var s=u[a],c=Vi("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Y(s,c,n,r),t.display.input.setUneditable(c),i&&s.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),Si(s,"redraw")}}function Y(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function X(t){return Uo(t.line,t.ch)}function K(t,e){return Wo(t,e)<0?e:t}function G(t,e){return Wo(t,e)<0?t:e}function Q(t){t.state.focused||(t.display.input.focus(),yn(t))}function Z(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var a=t.state.pasteIncoming||"paste"==i,u=o.splitLines(e),s=null;if(a&&r.ranges.length>1)if(Ho&&Ho.text.join("\n")==e){if(r.ranges.length%Ho.text.length==0){s=[];for(var c=0;c<Ho.text.length;c++)s.push(o.splitLines(Ho.text[c]))}}else u.length==r.ranges.length&&(s=Ii(u,function(t){return[t]}));for(var c=r.ranges.length-1;c>=0;c--){var l=r.ranges[c],f=l.from(),h=l.to();l.empty()&&(n&&n>0?f=Uo(f.line,f.ch-n):t.state.overwrite&&!a?h=Uo(h.line,Math.min(Jr(o,h.line).text.length,h.ch+Oi(u).length)):Ho&&Ho.lineWise&&Ho.text.join("\n")==e&&(f=h=Uo(f.line,0)));var p=t.curOp.updateInput,d={from:f,to:h,text:s?s[c%s.length]:u,origin:i||(a?"paste":t.state.cutIncoming?"cut":"+input")};En(t.doc,d),Si(t,"inputRead",t,d)}e&&!a&&$(t,e),Bn(t),t.curOp.updateInput=p,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function J(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Ne(e,function(){Z(e,n,0,null,"paste")}),!0}function $(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var u=0;u<o.electricChars.length;u++)if(e.indexOf(o.electricChars.charAt(u))>-1){a=Wn(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Jr(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Wn(t,i.head.line,"smart"));a&&Si(t,"electricInput",t,i.head.line)}}}function tt(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:Uo(i,0),head:Uo(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function et(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function nt(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Pi,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function rt(){var t=Vi("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=Vi("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Co?t.style.width="1000px":t.setAttribute("wrap","off"),No&&(t.style.border="1px solid black"),et(t),e}function it(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Pi,this.gracePeriod=!1}function ot(t,e){var n=$t(t,e.line);if(!n||n.hidden)return null;var r=Jr(t.doc,e.line),i=Qt(n,r,e.line),o=oi(r),a="left";if(o){var u=fo(o,e.ch);a=u%2?"right":"left"}var s=ne(i.map,e.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function at(t,e){return e&&(t.bad=!0),t}function ut(t,e,n){var r;if(e==t.display.lineDiv){if(r=t.display.lineDiv.childNodes[n],!r)return at(t.clipPos(Uo(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return st(o,e,n)}}function st(t,e,n){function r(e,n,r){for(var i=-1;i<(l?l.length:0);i++)for(var o=i<0?c.map:l[i],a=0;a<o.length;a+=3){var u=o[a+2];if(u==e||u==n){var s=ni(i<0?t.line:t.rest[i]),f=o[a]+r;return(r<0||u!=e)&&(f=o[a+(r?1:0)]),Uo(s,f)}}}var i=t.text.firstChild,o=!1;if(!e||!Qa(i,e))return at(Uo(ni(t.line),0),!0);if(e==i&&(o=!0,e=i.childNodes[n],n=0,!e)){var a=t.rest?Oi(t.rest):t.line;return at(Uo(ni(a),a.text.length),o)}var u=3==e.nodeType?e:null,s=e;for(u||1!=e.childNodes.length||3!=e.firstChild.nodeType||(u=e.firstChild,n&&(n=u.nodeValue.length));s.parentNode!=i;)s=s.parentNode;var c=t.measure,l=c.maps,f=r(u,s,n);if(f)return at(f,o);for(var h=s.nextSibling,p=u?u.nodeValue.length-n:0;h;h=h.nextSibling){if(f=r(h,h.firstChild,0))return at(Uo(f.line,f.ch-p),o);p+=h.textContent.length}for(var d=s.previousSibling,p=n;d;d=d.previousSibling){if(f=r(d,d.firstChild,-1))return at(Uo(f.line,f.ch+p),o);p+=d.textContent.length}}function ct(t,e,n,r,i){function o(t){return function(e){return e.id==t}}function a(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(null!=n)return""==n&&(n=e.textContent.replace(/\u200b/g,"")),void(u+=n);var l,f=e.getAttribute("cm-marker");if(f){var h=t.findMarks(Uo(r,0),Uo(i+1,0),o(+f));return void(h.length&&(l=h[0].find())&&(u+=$r(t.doc,l.from,l.to).join(c)))}if("false"==e.getAttribute("contenteditable"))return;for(var p=0;p<e.childNodes.length;p++)a(e.childNodes[p]);/^(pre|div|p)$/i.test(e.nodeName)&&(s=!0)}else if(3==e.nodeType){var d=e.nodeValue;if(!d)return;s&&(u+=c,s=!1),
u+=d}}for(var u="",s=!1,c=t.doc.lineSeparator();a(e),e!=n;)e=e.nextSibling;return u}function lt(t,e){this.ranges=t,this.primIndex=e}function ft(t,e){this.anchor=t,this.head=e}function ht(t,e){var n=t[e];t.sort(function(t,e){return Wo(t.from(),e.from())}),e=Ri(t,n);for(var r=1;r<t.length;r++){var i=t[r],o=t[r-1];if(Wo(o.to(),i.from())>=0){var a=G(o.from(),i.from()),u=K(o.to(),i.to()),s=o.empty()?i.from()==i.head:o.from()==o.head;r<=e&&--e,t.splice(--r,2,new ft(s?u:a,s?a:u))}}return new lt(t,e)}function pt(t,e){return new lt([new ft(t,e||t)],0)}function dt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function gt(t,e){if(e.line<t.first)return Uo(t.first,0);var n=t.first+t.size-1;return e.line>n?Uo(n,Jr(t,n).text.length):vt(e,Jr(t,e.line).text.length)}function vt(t,e){var n=t.ch;return null==n||n>e?Uo(t.line,e):n<0?Uo(t.line,0):t}function mt(t,e){return e>=t.first&&e<t.first+t.size}function yt(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=gt(t,e[r]);return n}function bt(t,e,n,r){if(t.cm&&t.cm.display.shift||t.extend){var i=e.anchor;if(r){var o=Wo(n,i)<0;o!=Wo(r,i)<0?(i=n,n=r):o!=Wo(n,r)<0&&(n=r)}return new ft(i,n)}return new ft(r||n,n)}function wt(t,e,n,r){kt(t,new lt([bt(t,t.sel.primary(),e,n)],0),r)}function xt(t,e,n){for(var r=[],i=0;i<t.sel.ranges.length;i++)r[i]=bt(t,t.sel.ranges[i],e[i],null);var o=ht(r,t.sel.primIndex);kt(t,o,n)}function _t(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,kt(t,ht(i,t.sel.primIndex),r)}function Ct(t,e,n,r){kt(t,pt(e,n),r)}function Mt(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new ft(gt(t,e[n].anchor),gt(t,e[n].head))},origin:n&&n.origin};return Ia(t,"beforeSelectionChange",t,r),t.cm&&Ia(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?ht(r.ranges,r.ranges.length-1):e}function St(t,e,n){var r=t.history.done,i=Oi(r);i&&i.ranges?(r[r.length-1]=e,Et(t,e,n)):kt(t,e,n)}function kt(t,e,n){Et(t,e,n),hi(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Et(t,e,n){(Ai(t,"beforeSelectionChange")||t.cm&&Ai(t.cm,"beforeSelectionChange"))&&(e=Mt(t,e,n));var r=n&&n.bias||(Wo(e.primary().head,t.sel.primary().head)<0?-1:1);Tt(t,Nt(t,e,r,!0)),n&&n.scroll===!1||!t.cm||Bn(t.cm)}function Tt(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Ti(t.cm)),Si(t,"cursorActivity",t))}function At(t){Tt(t,Nt(t,t.sel,null,!1),Ba)}function Nt(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],u=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],s=Dt(t,a.anchor,u&&u.anchor,n,r),c=Dt(t,a.head,u&&u.head,n,r);(i||s!=a.anchor||c!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new ft(s,c))}return i?ht(i,e.primIndex):e}function Pt(t,e,n,r,i){var o=Jr(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var u=o.markedSpans[a],s=u.marker;if((null==u.from||(s.inclusiveLeft?u.from<=e.ch:u.from<e.ch))&&(null==u.to||(s.inclusiveRight?u.to>=e.ch:u.to>e.ch))){if(i&&(Ia(s,"beforeCursorEnter"),s.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!s.atomic)continue;if(n){var c,l=s.find(r<0?1:-1);if((r<0?s.inclusiveRight:s.inclusiveLeft)&&(l=Ot(t,l,-r,l&&l.line==e.line?o:null)),l&&l.line==e.line&&(c=Wo(l,n))&&(r<0?c<0:c>0))return Pt(t,l,e,r,i)}var f=s.find(r<0?-1:1);return(r<0?s.inclusiveLeft:s.inclusiveRight)&&(f=Ot(t,f,r,f.line==e.line?o:null)),f?Pt(t,f,e,r,i):null}}return e}function Dt(t,e,n,r,i){var o=r||1,a=Pt(t,e,n,o,i)||!i&&Pt(t,e,n,o,!0)||Pt(t,e,n,-o,i)||!i&&Pt(t,e,n,-o,!0);return a?a:(t.cantEdit=!0,Uo(t.first,0))}function Ot(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?gt(t,Uo(e.line-1)):null:n>0&&e.ch==(r||Jr(t,e.line)).text.length?e.line<t.first+t.size-1?Uo(e.line+1,0):null:new Uo(e.line,e.ch+n)}function Rt(t){t.display.input.showSelection(t.display.input.prepareSelection())}function It(t,e){for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e!==!1||a!=n.sel.primIndex){var u=n.sel.ranges[a];if(!(u.from().line>=t.display.viewTo||u.to().line<t.display.viewFrom)){var s=u.empty();(s||t.options.showCursorWhenSelecting)&&Lt(t,u.head,i),s||jt(t,u,o)}}return r}function Lt(t,e,n){var r=de(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(Vi("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild(Vi("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function jt(t,e,n){function r(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),u.appendChild(Vi("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?l-t:n)+"px; height: "+(r-e)+"px"))}function i(e,n,i){function o(n,r){return pe(t,Uo(e,n),"div",f,r)}var u,s,f=Jr(a,e),h=f.text.length;return no(oi(f),n||0,null==i?h:i,function(t,e,a){var f,p,d,g=o(t,"left");if(t==e)f=g,p=d=g.left;else{if(f=o(e-1,"right"),"rtl"==a){var v=g;g=f,f=v}p=g.left,d=f.right}null==n&&0==t&&(p=c),f.top-g.top>3&&(r(p,g.top,null,g.bottom),p=c,g.bottom<f.top&&r(p,g.bottom,null,f.top)),null==i&&e==h&&(d=l),(!u||g.top<u.top||g.top==u.top&&g.left<u.left)&&(u=g),(!s||f.bottom>s.bottom||f.bottom==s.bottom&&f.right>s.right)&&(s=f),p<c+1&&(p=c),r(p,f.top,d-p,f.bottom)}),{start:u,end:s}}var o=t.display,a=t.doc,u=document.createDocumentFragment(),s=qt(t.display),c=s.left,l=Math.max(o.sizerWidth,Xt(t)-o.sizer.offsetLeft)-s.right,f=e.from(),h=e.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var p=Jr(a,f.line),d=Jr(a,h.line),g=br(p)==br(d),v=i(f.line,f.ch,g?p.text.length+1:null).end,m=i(h.line,g?0:null,h.ch).start;g&&(v.top<m.top-2?(r(v.right,v.top,null,v.bottom),r(c,m.top,m.left,m.bottom)):r(v.right,v.top,m.left-v.right,v.bottom)),v.bottom<m.top&&r(c,v.bottom,null,m.top)}n.appendChild(u)}function Ft(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Bt(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Ui(Ut,t))}function Ut(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=la(e.mode,Ht(t,e.frontier)),i=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var a=o.styles,u=o.text.length>t.options.maxHighlightLength,s=Ir(t,o,u?la(e.mode,r):r,!0);o.styles=s.styles;var c=o.styleClasses,l=s.classes;l?o.styleClasses=l:c&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||c!=l&&(!c||!l||c.bgClass!=l.bgClass||c.textClass!=l.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(e.frontier),o.stateAfter=u?r:la(e.mode,r)}else o.text.length<=t.options.maxHighlightLength&&jr(t,o.text,r),o.stateAfter=e.frontier%5==0?la(e.mode,r):null;if(++e.frontier,+new Date>n)return Bt(t,t.options.workDelay),!0}),i.length&&Ne(t,function(){for(var e=0;e<i.length;e++)je(t,i[e],"text")})}}function Wt(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),u=e;u>a;--u){if(u<=o.first)return o.first;var s=Jr(o,u-1);if(s.stateAfter&&(!n||u<=o.frontier))return u;var c=Ha(s.text,null,t.options.tabSize);(null==i||r>c)&&(i=u-1,r=c)}return i}function Ht(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return!0;var o=Wt(t,e,n),a=o>r.first&&Jr(r,o-1).stateAfter;return a=a?la(r.mode,a):fa(r.mode),r.iter(o,e,function(n){jr(t,n.text,a);var u=o==e-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=u?la(r.mode,a):null,++o}),n&&(r.frontier=o),a}function zt(t){return t.lineSpace.offsetTop}function Vt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function qt(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Yi(t.measure,Vi("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Yt(t){return ja-t.display.nativeBarWidth}function Xt(t){return t.display.scroller.clientWidth-Yt(t)-t.display.barWidth}function Kt(t){return t.display.scroller.clientHeight-Yt(t)-t.display.barHeight}function Gt(t,e,n){var r=t.options.lineWrapping,i=r&&Xt(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),u=0;u<a.length-1;u++){var s=a[u],c=a[u+1];Math.abs(s.bottom-c.bottom)>2&&o.push((s.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Qt(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var r=0;r<t.rest.length;r++)if(ni(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function Zt(t,e){e=br(e);var n=ni(e),r=t.display.externalMeasured=new Re(t.doc,e,n);r.lineN=n;var i=r.built=Br(t,r);return r.text=i.pre,Yi(t.display.lineMeasure,i.pre),r}function Jt(t,e,n,r){return ee(t,te(t,e),n,r)}function $t(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Be(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function te(t,e){var n=ni(e),r=$t(t,n);r&&!r.text?r=null:r&&r.changes&&(I(t,r,n,O(t)),t.curOp.forceUpdate=!0),r||(r=Zt(t,e));var i=Qt(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function ee(t,e,n,r,i){e.before&&(n=-1);var o,a=n+(r||"");return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Gt(t,e.view,e.rect),e.hasHeights=!0),o=ie(t,e,n,r),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function ne(t,e,n){for(var r,i,o,a,u=0;u<t.length;u+=3){var s=t[u],c=t[u+1];if(e<s?(i=0,o=1,a="left"):e<c?(i=e-s,o=i+1):(u==t.length-3||e==c&&t[u+3]>e)&&(o=c-s,i=o-1,e>=c&&(a="right")),null!=i){if(r=t[u+2],s==c&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&t[u-2]==t[u-3]&&t[u-1].insertLeft;)r=t[(u-=3)+2],a="left";if("right"==n&&i==c-s)for(;u<t.length-3&&t[u+3]==t[u+4]&&!t[u+5].insertLeft;)r=t[(u+=3)+2],a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:c}}function re(t,e){var n=Yo;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var r=t.length-1;r>=0&&(n=t[r]).left==n.right;r--);return n}function ie(t,e,n,r){var i,o=ne(e.map,n,r),a=o.node,u=o.start,s=o.end,c=o.collapse;if(3==a.nodeType){for(var l=0;l<4;l++){for(;u&&zi(e.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+s<o.coverEnd&&zi(e.line.text.charAt(o.coverStart+s));)++s;if(i=xo&&_o<9&&0==u&&s==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():re(Ya(a,u,s).getClientRects(),r),i.left||i.right||0==u)break;s=u,u-=1,c="right"}xo&&_o<11&&(i=oe(t.display.measure,i))}else{u>0&&(c=r="right");var f;i=t.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(xo&&_o<9&&!u&&(!i||!i.left&&!i.right)){var h=a.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+we(t.display),top:h.top,bottom:h.bottom}:Yo}for(var p=i.top-e.rect.top,d=i.bottom-e.rect.top,g=(p+d)/2,v=e.view.measure.heights,l=0;l<v.length-1&&!(g<v[l]);l++);var m=l?v[l-1]:0,y=v[l],b={left:("right"==c?i.right:i.left)-e.rect.left,right:("left"==c?i.left:i.right)-e.rect.left,top:m,bottom:y};return i.left||i.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=d),b}function oe(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!eo(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}function ae(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function ue(t){t.display.externalMeasure=null,qi(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)ae(t.display.view[e])}function se(t){ue(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function ce(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function le(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function fe(t,e,n,r){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=kr(e.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=ii(e);if("local"==r?a+=zt(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var u=t.display.lineSpace.getBoundingClientRect();a+=u.top+("window"==r?0:le());var s=u.left+("window"==r?0:ce());n.left+=s,n.right+=s}return n.top+=a,n.bottom+=a,n}function he(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=ce(),i-=le();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function pe(t,e,n,r,i){return r||(r=Jr(t.doc,e.line)),fe(t,r,Jt(t,r,e.ch,i),n)}function de(t,e,n,r,i,o){function a(e,a){var u=ee(t,i,e,a?"right":"left",o);return a?u.left=u.right:u.right=u.left,fe(t,r,u,n)}function u(t,e){var n=s[e],r=n.level%2;return t==ro(n)&&e&&n.level<s[e-1].level?(n=s[--e],t=io(n)-(n.level%2?0:1),r=!0):t==io(n)&&e<s.length-1&&n.level<s[e+1].level&&(n=s[++e],t=ro(n)-n.level%2,r=!1),r&&t==n.to&&t>n.from?a(t-1):a(t,r)}r=r||Jr(t.doc,e.line),i||(i=te(t,r));var s=oi(r),c=e.ch;if(!s)return a(c);var l=fo(s,c),f=u(c,l);return null!=su&&(f.other=u(c,su)),f}function ge(t,e){var n=0,e=gt(t.doc,e);t.options.lineWrapping||(n=we(t.display)*e.ch);var r=Jr(t.doc,e.line),i=ii(r)+zt(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function ve(t,e,n,r){var i=Uo(t,e);return i.xRel=r,n&&(i.outside=!0),i}function me(t,e,n){var r=t.doc;if(n+=t.display.viewOffset,n<0)return ve(r.first,0,!0,-1);var i=ri(r,n),o=r.first+r.size-1;if(i>o)return ve(r.first+r.size-1,Jr(r,o).text.length,!0,1);e<0&&(e=0);for(var a=Jr(r,i);;){var u=ye(t,a,i,e,n),s=mr(a),c=s&&s.find(0,!0);if(!s||!(u.ch>c.from.ch||u.ch==c.from.ch&&u.xRel>0))return u;i=ni(a=c.to.line)}}function ye(t,e,n,r,i){function o(r){var i=de(t,Uo(n,r),"line",e,c);return u=!0,a>i.bottom?i.left-s:a<i.top?i.left+s:(u=!1,i.left)}var a=i-ii(e),u=!1,s=2*t.display.wrapper.clientWidth,c=te(t,e),l=oi(e),f=e.text.length,h=oo(e),p=ao(e),d=o(h),g=u,v=o(p),m=u;if(r>v)return ve(n,p,m,1);for(;;){if(l?p==h||p==po(e,h,1):p-h<=1){var y=r<d||r-d<=v-r?h:p,b=y==h?g:m,w=r-(y==h?d:v);if(m&&!l&&!/\s/.test(e.text.charAt(y))&&w>0&&y<e.text.length&&c.view.measure.heights.length>1){var x=ee(t,c,y,"right");a<=x.bottom&&a>=x.top&&Math.abs(r-x.right)<w&&(b=!1,y++,w=r-x.right)}for(;zi(e.text.charAt(y));)++y;var _=ve(n,y,b,w<-1?-1:w>1?1:0);return _}var C=Math.ceil(f/2),M=h+C;if(l){M=h;for(var S=0;S<C;++S)M=po(e,M,1)}var k=o(M);k>r?(p=M,v=k,(m=u)&&(v+=1e3),f=C):(h=M,d=k,g=u,f-=C)}}function be(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==zo){zo=Vi("pre");for(var e=0;e<49;++e)zo.appendChild(document.createTextNode("x")),zo.appendChild(Vi("br"));zo.appendChild(document.createTextNode("x"))}Yi(t.measure,zo);var n=zo.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),qi(t.measure),n||1}function we(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Vi("span","xxxxxxxxxx"),n=Vi("pre",[e]);Yi(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function xe(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ko},Xo?Xo.ops.push(t.curOp):t.curOp.ownsGroup=Xo={ops:[t.curOp],delayedCallbacks:[]}}function _e(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}function Ce(t){var e=t.curOp,n=e.ownsGroup;if(n)try{_e(n)}finally{Xo=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;Me(n)}}function Me(t){for(var e=t.ops,n=0;n<e.length;n++)Se(e[n]);for(var n=0;n<e.length;n++)ke(e[n]);for(var n=0;n<e.length;n++)Ee(e[n]);for(var n=0;n<e.length;n++)Te(e[n]);for(var n=0;n<e.length;n++)Ae(e[n])}function Se(t){var e=t.cm,n=e.display;k(e),t.updateMaxLine&&h(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new S(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ke(t){t.updatedDisplay=t.mustUpdate&&E(t.cm,t.update)}function Ee(t){var e=t.cm,n=e.display;t.updatedDisplay&&P(e),t.barMeasure=d(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Jt(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Yt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Xt(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection(t.focus))}function Te(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&an(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==Xi()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.updatedDisplay&&N(e,t.barMeasure),t.selectionChanged&&Ft(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Q(t.cm)}function Ae(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&T(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,t.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,x(e)),t.scrollToPos){var i=In(e,gt(r,t.scrollToPos.from),gt(r,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Rn(e,i)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var u=0;u<o.length;++u)o[u].lines.length||Ia(o[u],"hide");if(a)for(var u=0;u<a.length;++u)a[u].lines.length&&Ia(a[u],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Ia(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Ne(t,e){if(t.curOp)return e();xe(t);try{return e()}finally{Ce(t)}}function Pe(t,e){return function(){if(t.curOp)return e.apply(t,arguments);xe(t);try{return e.apply(t,arguments)}finally{Ce(t)}}}function De(t){return function(){if(this.curOp)return t.apply(this,arguments);xe(this);try{return t.apply(this,arguments)}finally{Ce(this)}}}function Oe(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);xe(e);try{return t.apply(this,arguments)}finally{Ce(e)}}}function Re(t,e,n){this.line=e,this.rest=wr(e),this.size=this.rest?ni(Oi(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Cr(t,e)}function Ie(t,e,n){for(var r,i=[],o=e;o<n;o=r){var a=new Re(t.doc,Jr(t.doc,o),o);r=o+a.size,i.push(a)}return i}function Le(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Bo&&xr(t.doc,e)<i.viewTo&&Fe(t);else if(n<=i.viewFrom)Bo&&_r(t.doc,n+r)>i.viewFrom?Fe(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)Fe(t);else if(e<=i.viewFrom){var o=Ue(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Fe(t)}else if(n>=i.viewTo){var o=Ue(t,e,e,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Fe(t)}else{var a=Ue(t,e,e,-1),u=Ue(t,n,n+r,1);a&&u?(i.view=i.view.slice(0,a.index).concat(Ie(t,a.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=r):Fe(t)}var s=i.externalMeasured;s&&(n<s.lineN?s.lineN+=r:e<s.lineN+s.size&&(i.externalMeasured=null))}function je(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[Be(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);Ri(a,n)==-1&&a.push(n)}}}function Fe(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Be(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if(e-=n[r].size,e<0)return r}function Ue(t,e,n,r){var i,o=Be(t,e),a=t.display.view;if(!Bo||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var u=0,s=t.display.viewFrom;u<o;u++)s+=a[u].size;if(s!=e){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-e,o++}else i=s-e;e+=i,n+=i}for(;xr(t.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function We(t,e,n){var r=t.display,i=r.view;0==i.length||e>=r.viewTo||n<=r.viewFrom?(r.view=Ie(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=Ie(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(Be(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(Ie(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Be(t,n)))),r.viewTo=n}function He(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function ze(t){function e(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function r(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}var i=t.display;Da(i.scroller,"mousedown",Pe(t,Ke)),xo&&_o<11?Da(i.scroller,"dblclick",Pe(t,function(e){if(!Ei(t,e)){var n=Xe(t,e);if(n&&!$e(t,e)&&!Ye(t.display,e)){Aa(e);var r=t.findWordAt(n);wt(t.doc,r.anchor,r.head)}}})):Da(i.scroller,"dblclick",function(e){Ei(t,e)||Aa(e)}),jo||Da(i.scroller,"contextmenu",function(e){wn(t,e)});var o,a={end:0};Da(i.scroller,"touchstart",function(e){if(!Ei(t,e)&&!n(e)){clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==e.touches.length&&(i.activeTouch.left=e.touches[0].pageX,i.activeTouch.top=e.touches[0].pageY)}}),Da(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Da(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Ye(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,u=t.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new ft(u,u):!o.prev.prev||r(o,o.prev.prev)?t.findWordAt(u):new ft(Uo(u.line,0),gt(t.doc,Uo(u.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),Aa(n)}e()}),Da(i.scroller,"touchcancel",e),Da(i.scroller,"scroll",function(){i.scroller.clientHeight&&(on(t,i.scroller.scrollTop),an(t,i.scroller.scrollLeft,!0),Ia(t,"scroll",t))}),Da(i.scroller,"mousewheel",function(e){un(t,e)}),Da(i.scroller,"DOMMouseScroll",function(e){un(t,e)}),Da(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(e){Ei(t,e)||Pa(e)},over:function(e){Ei(t,e)||(nn(t,e),Pa(e))},start:function(e){en(t,e)},drop:Pe(t,tn),leave:function(e){Ei(t,e)||rn(t)}};var u=i.input.getField();Da(u,"keyup",function(e){gn.call(t,e)}),Da(u,"keydown",Pe(t,pn)),Da(u,"keypress",Pe(t,vn)),Da(u,"focus",function(e){yn(t,e)}),Da(u,"blur",function(e){bn(t,e)})}function Ve(e,n,r){var i=r&&r!=t.Init;if(!n!=!i){var o=e.display.dragFunctions,a=n?Da:Ra;a(e.display.scroller,"dragstart",o.start),a(e.display.scroller,"dragenter",o.enter),a(e.display.scroller,"dragover",o.over),a(e.display.scroller,"dragleave",o.leave),a(e.display.scroller,"drop",o.drop)}}function qe(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Ye(t,e){for(var n=_i(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Xe(t,e,n,r){var i=t.display;if(!n&&"true"==_i(e).getAttribute("cm-not-content"))return null;var o,a,u=i.lineSpace.getBoundingClientRect();try{o=e.clientX-u.left,a=e.clientY-u.top}catch(e){return null}var s,c=me(t,o,a);if(r&&1==c.xRel&&(s=Jr(t.doc,c.line).text).length==c.ch){var l=Ha(s,s.length,t.options.tabSize)-s.length;c=Uo(c.line,Math.max(0,Math.round((o-qt(t.display).left)/we(t.display))-l))}return c}function Ke(t){var e=this,n=e.display;if(!(Ei(e,t)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=t.shiftKey,Ye(n,t))return void(Co||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!$e(e,t)){var r=Xe(e,t);switch(window.focus(),Ci(t)){case 1:e.state.selectingText?e.state.selectingText(t):r?Ge(e,t,r):_i(t)==n.scroller&&Aa(t);break;case 2:Co&&(e.state.lastMiddleDown=+new Date),r&&wt(e.doc,r),setTimeout(function(){n.input.focus()},20),Aa(t);break;case 3:jo?wn(e,t):mn(e)}}}}function Ge(t,e,n){xo?setTimeout(Ui(Q,t),0):t.curOp.focus=Xi();var r,i=+new Date;qo&&qo.time>i-400&&0==Wo(qo.pos,n)?r="triple":Vo&&Vo.time>i-400&&0==Wo(Vo.pos,n)?(r="double",qo={time:i,pos:n}):(r="single",Vo={time:i,pos:n});var o,a=t.doc.sel,u=Do?e.metaKey:e.ctrlKey;t.options.dragDrop&&nu&&!t.isReadOnly()&&"single"==r&&(o=a.contains(n))>-1&&(Wo((o=a.ranges[o]).from(),n)<0||n.xRel>0)&&(Wo(o.to(),n)>0||n.xRel<0)?Qe(t,e,n,u):Ze(t,e,n,r,u)}function Qe(t,e,n,r){var i=t.display,o=+new Date,a=Pe(t,function(u){Co&&(i.scroller.draggable=!1),t.state.draggingText=!1,Ra(document,"mouseup",a),Ra(i.scroller,"drop",a),Math.abs(e.clientX-u.clientX)+Math.abs(e.clientY-u.clientY)<10&&(Aa(u),!r&&+new Date-200<o&&wt(t.doc,n),Co||xo&&9==_o?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});Co&&(i.scroller.draggable=!0),t.state.draggingText=a,a.copy=Do?e.altKey:e.ctrlKey,i.scroller.dragDrop&&i.scroller.dragDrop(),Da(document,"mouseup",a),Da(i.scroller,"drop",a)}function Ze(t,e,n,r,i){function o(e){if(0!=Wo(v,e))if(v=e,"rect"==r){for(var i=[],o=t.options.tabSize,a=Ha(Jr(c,n.line).text,n.ch,o),u=Ha(Jr(c,e.line).text,e.ch,o),s=Math.min(a,u),p=Math.max(a,u),d=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));d<=g;d++){var m=Jr(c,d).text,y=za(m,s,o);s==p?i.push(new ft(Uo(d,y),Uo(d,y))):m.length>y&&i.push(new ft(Uo(d,y),Uo(d,za(m,p,o))))}i.length||i.push(new ft(n,n)),kt(c,ht(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=l,w=b.anchor,x=e;if("single"!=r){if("double"==r)var _=t.findWordAt(e);else var _=new ft(Uo(e.line,0),gt(c,Uo(e.line+1,0)));Wo(_.anchor,w)>0?(x=_.head,w=G(b.from(),_.anchor)):(x=_.anchor,w=K(b.to(),_.head))}var i=h.ranges.slice(0);i[f]=new ft(gt(c,w),x),kt(c,ht(i,f),Ua)}}function a(e){var n=++y,i=Xe(t,e,!0,"rect"==r);if(i)if(0!=Wo(i,v)){t.curOp.focus=Xi(),o(i);var u=w(s,c);(i.line>=u.to||i.line<u.from)&&setTimeout(Pe(t,function(){y==n&&a(e)}),150)}else{var l=e.clientY<m.top?-20:e.clientY>m.bottom?20:0;l&&setTimeout(Pe(t,function(){y==n&&(s.scroller.scrollTop+=l,a(e))}),50)}}function u(e){t.state.selectingText=!1,y=1/0,Aa(e),s.input.focus(),Ra(document,"mousemove",b),Ra(document,"mouseup",x),c.history.lastSelOrigin=null}var s=t.display,c=t.doc;Aa(e);var l,f,h=c.sel,p=h.ranges;if(i&&!e.shiftKey?(f=c.sel.contains(n),l=f>-1?p[f]:new ft(n,n)):(l=c.sel.primary(),f=c.sel.primIndex),Oo?e.shiftKey&&e.metaKey:e.altKey)r="rect",i||(l=new ft(n,n)),n=Xe(t,e,!0,!0),f=-1;else if("double"==r){var d=t.findWordAt(n);l=t.display.shift||c.extend?bt(c,l,d.anchor,d.head):d}else if("triple"==r){var g=new ft(Uo(n.line,0),gt(c,Uo(n.line+1,0)));l=t.display.shift||c.extend?bt(c,l,g.anchor,g.head):g}else l=bt(c,l,n);i?f==-1?(f=p.length,kt(c,ht(p.concat([l]),f),{scroll:!1,origin:"*mouse"})):p.length>1&&p[f].empty()&&"single"==r&&!e.shiftKey?(kt(c,ht(p.slice(0,f).concat(p.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=c.sel):_t(c,f,l,Ua):(f=0,kt(c,new lt([l],0),Ua),h=c.sel);var v=n,m=s.wrapper.getBoundingClientRect(),y=0,b=Pe(t,function(t){Ci(t)?a(t):u(t)}),x=Pe(t,u);t.state.selectingText=x,Da(document,"mousemove",b),Da(document,"mouseup",x)}function Je(t,e,n,r){try{var i=e.clientX,o=e.clientY}catch(e){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&Aa(e);var a=t.display,u=a.lineDiv.getBoundingClientRect();if(o>u.bottom||!Ai(t,n))return xi(e);o-=u.top-a.viewOffset;for(var s=0;s<t.options.gutters.length;++s){var c=a.gutters.childNodes[s];if(c&&c.getBoundingClientRect().right>=i){var l=ri(t.doc,o),f=t.options.gutters[s];return Ia(t,n,t,l,f,e),xi(e)}}}function $e(t,e){return Je(t,e,"gutterClick",!0)}function tn(t){var e=this;if(rn(e),!Ei(e,t)&&!Ye(e.display,t)){Aa(t),xo&&(Go=+new Date);var n=Xe(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,u=function(t,r){if(!e.options.allowDropFileTypes||Ri(e.options.allowDropFileTypes,t.type)!=-1){var u=new FileReader;u.onload=Pe(e,function(){var t=u.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++a==i){n=gt(e.doc,n);var s={from:n,to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};En(e.doc,s),St(e.doc,pt(n,ea(s)))}}),u.readAsText(t)}},s=0;s<i;++s)u(r[s],s);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){e.display.input.focus()},20);try{var o=t.dataTransfer.getData("Text");if(o){if(e.state.draggingText&&!e.state.draggingText.copy)var c=e.listSelections();if(Et(e.doc,pt(n,n)),c)for(var s=0;s<c.length;++s)On(e.doc,"",c[s].anchor,c[s].head,"drag");e.replaceSelection(o,"around","paste"),e.display.input.focus()}}catch(t){}}}}function en(t,e){if(xo&&(!t.state.draggingText||+new Date-Go<100))return void Pa(e);if(!Ei(t,e)&&!Ye(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!Eo)){var n=Vi("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ko&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),ko&&n.parentNode.removeChild(n)}}function nn(t,e){var n=Xe(t,e);if(n){var r=document.createDocumentFragment();Lt(t,n,r),t.display.dragCursor||(t.display.dragCursor=Vi("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Yi(t.display.dragCursor,r)}}function rn(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function on(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,yo||A(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),
yo&&A(t),Bt(t,100))}function an(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,x(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function un(t,e){var n=Jo(e),r=n.x,i=n.y,o=t.display,a=o.scroller,u=a.scrollWidth>a.clientWidth,s=a.scrollHeight>a.clientHeight;if(r&&u||i&&s){if(i&&Do&&Co)t:for(var c=e.target,l=o.view;c!=a;c=c.parentNode)for(var f=0;f<l.length;f++)if(l[f].node==c){t.display.currentWheelTarget=c;break t}if(r&&!yo&&!ko&&null!=Zo)return i&&s&&on(t,Math.max(0,Math.min(a.scrollTop+i*Zo,a.scrollHeight-a.clientHeight))),an(t,Math.max(0,Math.min(a.scrollLeft+r*Zo,a.scrollWidth-a.clientWidth))),(!i||i&&s)&&Aa(e),void(o.wheelStartX=null);if(i&&null!=Zo){var h=i*Zo,p=t.doc.scrollTop,d=p+o.wrapper.clientHeight;h<0?p=Math.max(0,p+h-50):d=Math.min(t.doc.height,d+h+50),A(t,{top:p,bottom:d})}Qo<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var t=a.scrollLeft-o.wheelStartX,e=a.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Zo=(Zo*Qo+n)/(Qo+1),++Qo)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function sn(t,e,n){if("string"==typeof e&&(e=ha[e],!e))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=Fa}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}function cn(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=da(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&da(e,t.options.extraKeys,n,t)||da(e,t.options.keyMap,n,t)}function ln(t,e,n,r){var i=t.state.keySeq;if(i){if(ga(e))return"handled";$o.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),e=i+" "+e}var o=cn(t,e,r);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&Si(t,"keyHandled",t,e,n),"handled"!=o&&"multi"!=o||(Aa(n),Ft(t)),i&&!o&&/\'$/.test(e)?(Aa(n),!0):!!o}function fn(t,e){var n=va(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?ln(t,"Shift-"+n,e,function(e){return sn(t,e,!0)})||ln(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return sn(t,e)}):ln(t,n,e,function(e){return sn(t,e)}))}function hn(t,e,n){return ln(t,"'"+n+"'",e,function(e){return sn(t,e,!0)})}function pn(t){var e=this;if(e.curOp.focus=Xi(),!Ei(e,t)){xo&&_o<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=fn(e,t);ko&&(ta=r?n:null,!r&&88==n&&!ou&&(Do?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||dn(e)}}function dn(t){function e(t){18!=t.keyCode&&t.altKey||($a(n,"CodeMirror-crosshair"),Ra(document,"keyup",e),Ra(document,"mouseover",e))}var n=t.display.lineDiv;tu(n,"CodeMirror-crosshair"),Da(document,"keyup",e),Da(document,"mouseover",e)}function gn(t){16==t.keyCode&&(this.doc.sel.shift=!1),Ei(this,t)}function vn(t){var e=this;if(!(Ye(e.display,t)||Ei(e,t)||t.ctrlKey&&!t.altKey||Do&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(ko&&n==ta)return ta=null,void Aa(t);if(!ko||t.which&&!(t.which<10)||!fn(e,t)){var i=String.fromCharCode(null==r?n:r);hn(e,t,i)||e.display.input.onKeyPress(t)}}}function mn(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,bn(t))},100)}function yn(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Ia(t,"focus",t,e),t.state.focused=!0,tu(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),Co&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Ft(t))}function bn(t,e){t.state.delayingBlurEvent||(t.state.focused&&(Ia(t,"blur",t,e),t.state.focused=!1,$a(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function wn(t,e){Ye(t.display,e)||xn(t,e)||Ei(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function xn(t,e){return!!Ai(t,"gutterContextMenu")&&Je(t,e,"gutterContextMenu",!1)}function _n(t,e){if(Wo(t,e.from)<0)return t;if(Wo(t,e.to)<=0)return ea(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=ea(e).ch-e.to.ch),Uo(n,r)}function Cn(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new ft(_n(i.anchor,e),_n(i.head,e)))}return ht(n,t.sel.primIndex)}function Mn(t,e,n){return t.line==e.line?Uo(n.line,t.ch-e.ch+n.ch):Uo(n.line+(t.line-e.line),t.ch)}function Sn(t,e,n){for(var r=[],i=Uo(t.first,0),o=i,a=0;a<e.length;a++){var u=e[a],s=Mn(u.from,i,o),c=Mn(ea(u),i,o);if(i=u.to,o=c,"around"==n){var l=t.sel.ranges[a],f=Wo(l.head,l.anchor)<0;r[a]=new ft(f?c:s,f?s:c)}else r[a]=new ft(s,s)}return new lt(r,t.sel.primIndex)}function kn(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(e,n,r,i){e&&(this.from=gt(t,e)),n&&(this.to=gt(t,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),Ia(t,"beforeChange",t,r),t.cm&&Ia(t.cm,"beforeChange",t.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function En(t,e,n){if(t.cm){if(!t.cm.curOp)return Pe(t.cm,En)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Ai(t,"beforeChange")||t.cm&&Ai(t.cm,"beforeChange"))||(e=kn(t,e,!0))){var r=Fo&&!n&&cr(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)Tn(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text});else Tn(t,e)}}function Tn(t,e){if(1!=e.text.length||""!=e.text[0]||0!=Wo(e.from,e.to)){var n=Cn(t,e);li(t,e,n,t.cm?t.cm.curOp.id:NaN),Pn(t,e,n,ar(t,e));var r=[];Qr(t,function(t,n){n||Ri(r,t.history)!=-1||(wi(t.history,e),r.push(t.history)),Pn(t,e,null,ar(t,e))})}}function An(t,e,n){if(!t.cm||!t.cm.state.suppressEdits||n){for(var r,i=t.history,o=t.sel,a="undo"==e?i.done:i.undone,u="undo"==e?i.undone:i.done,s=0;s<a.length&&(r=a[s],n?!r.ranges||r.equals(t.sel):r.ranges);s++);if(s!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(pi(r,u),n&&!r.equals(t.sel))return void kt(t,r,{clearRedo:!1});o=r}var c=[];pi(o,u),u.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var l=Ai(t,"beforeChange")||t.cm&&Ai(t.cm,"beforeChange"),s=r.changes.length-1;s>=0;--s){var f=r.changes[s];if(f.origin=e,l&&!kn(t,f,!1))return void(a.length=0);c.push(ui(t,f));var h=s?Cn(t,f):Oi(a);Pn(t,f,h,sr(t,f)),!s&&t.cm&&t.cm.scrollIntoView({from:f.from,to:ea(f)});var p=[];Qr(t,function(t,e){e||Ri(p,t.history)!=-1||(wi(t.history,f),p.push(t.history)),Pn(t,f,null,sr(t,f))})}}}}function Nn(t,e){if(0!=e&&(t.first+=e,t.sel=new lt(Ii(t.sel.ranges,function(t){return new ft(Uo(t.anchor.line+e,t.anchor.ch),Uo(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Le(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)je(t.cm,r,"gutter")}}function Pn(t,e,n,r){if(t.cm&&!t.cm.curOp)return Pe(t.cm,Pn)(t,e,n,r);if(e.to.line<t.first)return void Nn(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);Nn(t,i),e={from:Uo(t.first,0),to:Uo(e.to.line+i,e.to.ch),text:[Oi(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Uo(o,Jr(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=$r(t,e.from,e.to),n||(n=Cn(t,e)),t.cm?Dn(t.cm,e,r):Xr(t,e,r),Et(t,n,Ba)}}function Dn(t,e,n){var r=t.doc,i=t.display,a=e.from,u=e.to,s=!1,c=a.line;t.options.lineWrapping||(c=ni(br(Jr(r,a.line))),r.iter(c,u.line+1,function(t){if(t==i.maxLine)return s=!0,!0})),r.sel.contains(e.from,e.to)>-1&&Ti(t),Xr(r,e,n,o(t)),t.options.lineWrapping||(r.iter(c,a.line+e.text.length,function(t){var e=f(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,s=!1)}),s&&(t.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),Bt(t,400);var l=e.text.length-(u.line-a.line)-1;e.full?Le(t):a.line!=u.line||1!=e.text.length||Yr(t.doc,e)?Le(t,a.line,u.line+1,l):je(t,a.line,"text");var h=Ai(t,"changes"),p=Ai(t,"change");if(p||h){var d={from:a,to:u,text:e.text,removed:e.removed,origin:e.origin};p&&Si(t,"change",t,d),h&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}function On(t,e,n,r,i){if(r||(r=n),Wo(r,n)<0){var o=r;r=n,n=o}"string"==typeof e&&(e=t.splitLines(e)),En(t,{from:n,to:r,text:e,origin:i})}function Rn(t,e){if(!Ei(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Ao){var o=Vi("div","​",null,"position: absolute; top: "+(e.top-n.viewOffset-zt(t.display))+"px; height: "+(e.bottom-e.top+Yt(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}function In(t,e,n,r){null==r&&(r=0);for(var i=0;i<5;i++){var o=!1,a=de(t,e),u=n&&n!=e?de(t,n):a,s=jn(t,Math.min(a.left,u.left),Math.min(a.top,u.top)-r,Math.max(a.left,u.left),Math.max(a.bottom,u.bottom)+r),c=t.doc.scrollTop,l=t.doc.scrollLeft;if(null!=s.scrollTop&&(on(t,s.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(o=!0)),null!=s.scrollLeft&&(an(t,s.scrollLeft),Math.abs(t.doc.scrollLeft-l)>1&&(o=!0)),!o)break}return a}function Ln(t,e,n,r,i){var o=jn(t,e,n,r,i);null!=o.scrollTop&&on(t,o.scrollTop),null!=o.scrollLeft&&an(t,o.scrollLeft)}function jn(t,e,n,r,i){var o=t.display,a=be(t.display);n<0&&(n=0);var u=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,s=Kt(t),c={};i-n>s&&(i=n+s);var l=t.doc.height+Vt(o),f=n<a,h=i>l-a;if(n<u)c.scrollTop=f?0:n;else if(i>u+s){var p=Math.min(n,(h?l:i)-s);p!=u&&(c.scrollTop=p)}var d=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,g=Xt(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),v=r-e>g;return v&&(r=e+g),e<10?c.scrollLeft=0:e<d?c.scrollLeft=Math.max(0,e-(v?0:10)):r>g+d-3&&(c.scrollLeft=r+(v?0:10)-g),c}function Fn(t,e,n){null==e&&null==n||Un(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Bn(t){Un(t);var e=t.getCursor(),n=e,r=e;t.options.lineWrapping||(n=e.ch?Uo(e.line,e.ch-1):e,r=Uo(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:r,margin:t.options.cursorScrollMargin,isCursor:!0}}function Un(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=ge(t,e.from),r=ge(t,e.to),i=jn(t,Math.min(n.left,r.left),Math.min(n.top,r.top)-e.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+e.margin);t.scrollTo(i.scrollLeft,i.scrollTop)}}function Wn(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Ht(t,e):n="prev");var a=t.options.tabSize,u=Jr(o,e),s=Ha(u.text,null,a);u.stateAfter&&(u.stateAfter=null);var c,l=u.text.match(/^\s*/)[0];if(r||/\S/.test(u.text)){if("smart"==n&&(c=o.mode.indent(i,u.text.slice(l.length),u.text),c==Fa||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?Ha(Jr(o,e-1).text,null,a):0:"add"==n?c=s+t.options.indentUnit:"subtract"==n?c=s-t.options.indentUnit:"number"==typeof n&&(c=s+n),c=Math.max(0,c);var f="",h=0;if(t.options.indentWithTabs)for(var p=Math.floor(c/a);p;--p)h+=a,f+="\t";if(h<c&&(f+=Di(c-h)),f!=l)return On(o,f,Uo(e,0),Uo(e,l.length),"+input"),u.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var d=o.sel.ranges[p];if(d.head.line==e&&d.head.ch<l.length){var h=Uo(e,l.length);_t(o,p,new ft(h,h));break}}}function Hn(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Jr(t,dt(t,e)):i=ni(e),null==i?null:(r(o,i)&&t.cm&&je(t.cm,i,n),o)}function zn(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&Wo(o.from,Oi(r).to)<=0;){var a=r.pop();if(Wo(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Ne(t,function(){for(var e=r.length-1;e>=0;e--)On(t.doc,"",r[e].from,r[e].to,"+delete");Bn(t)})}function Vn(t,e,n,r,i){function o(){var e=u+n;return!(e<t.first||e>=t.first+t.size)&&(u=e,l=Jr(t,e))}function a(t){var e=(i?po:go)(l,s,n,!0);if(null==e){if(t||!o())return!1;s=i?(n<0?ao:oo)(l):n<0?l.text.length:0}else s=e;return!0}var u=e.line,s=e.ch,c=n,l=Jr(t,u);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var f=null,h="group"==r,p=t.cm&&t.cm.getHelper(e,"wordChars"),d=!0;!(n<0)||a(!d);d=!1){var g=l.text.charAt(s)||"\n",v=Wi(g,p)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||d||v||(v="s"),f&&f!=v){n<0&&(n=1,a());break}if(v&&(f=v),n>0&&!a(!d))break}var m=Dt(t,Uo(u,s),e,c,!0);return Wo(e,m)||(m.hitSide=!0),m}function qn(t,e,n,r){var i,o=t.doc,a=e.left;if("page"==r){var u=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Math.max(u-.5*be(t.display),3);i=(n>0?e.bottom:e.top)+n*s}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;;){var c=me(t,a,i);if(!c.outside)break;if(n<0?i<=0:i>=o.height){c.hitSide=!0;break}i+=5*n}return c}function Yn(e,n,r,i){t.defaults[e]=n,r&&(ra[e]=i?function(t,e,n){n!=ia&&r(t,e,n)}:r)}function Xn(t){for(var e,n,r,i,o=t.split(/-(?!$)/),t=o[o.length-1],a=0;a<o.length-1;a++){var u=o[a];if(/^(cmd|meta|m)$/i.test(u))i=!0;else if(/^a(lt)?$/i.test(u))e=!0;else if(/^(c|ctrl|control)$/i.test(u))n=!0;else{if(!/^s(hift)$/i.test(u))throw new Error("Unrecognized modifier name: "+u);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Kn(t){return"string"==typeof t?pa[t]:t}function Gn(t,e,n,r,i){if(r&&r.shared)return Qn(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return Pe(t.cm,Gn)(t,e,n,r,i);var o=new ba(t,i),a=Wo(e,n);if(r&&Bi(r,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Vi("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(yr(t,e.line,e,n,o)||e.line!=n.line&&yr(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Bo=!0}o.addToHistory&&li(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var u,s=e.line,c=t.cm;if(t.iter(s,n.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&br(t)==c.display.maxLine&&(u=!0),o.collapsed&&s!=e.line&&ei(t,0),rr(t,new tr(o,s==e.line?e.ch:null,s==n.line?n.ch:null)),++s}),o.collapsed&&t.iter(e.line,n.line+1,function(e){Cr(t,e)&&ei(e,0)}),o.clearOnEnter&&Da(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Fo=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ya,o.atomic=!0),c){if(u&&(c.curOp.updateMaxLine=!0),o.collapsed)Le(c,e.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var l=e.line;l<=n.line;l++)je(c,l,"text");o.atomic&&At(c.doc),Si(c,"markerAdded",c,o)}return o}function Qn(t,e,n,r,i){r=Bi(r),r.shared=!1;var o=[Gn(t,e,n,r,i)],a=o[0],u=r.widgetNode;return Qr(t,function(t){u&&(r.widgetNode=u.cloneNode(!0)),o.push(Gn(t,gt(t,e),gt(t,n),r,i));for(var s=0;s<t.linked.length;++s)if(t.linked[s].isParent)return;a=Oi(o)}),new wa(o,a)}function Zn(t){return t.findMarks(Uo(t.first,0),t.clipPos(Uo(t.lastLine())),function(t){return t.parent})}function Jn(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(Wo(o,a)){var u=Gn(t,o,a,r.primary,r.primary.type);r.markers.push(u),u.parent=r}}}function $n(t){for(var e=0;e<t.length;e++){var n=t[e],r=[n.primary.doc];Qr(n.primary.doc,function(t){r.push(t)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];Ri(r,o.doc)==-1&&(o.parent=null,n.markers.splice(i--,1))}}}function tr(t,e,n){this.marker=t,this.from=e,this.to=n}function er(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function nr(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function rr(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function ir(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,u=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(u||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new tr(a,o.from,s?null:o.to))}}return r}function or(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,u=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(u||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new tr(a,s?null:o.from-e,null==o.to?null:o.to-e))}}return r}function ar(t,e){if(e.full)return null;var n=mt(t,e.from.line)&&Jr(t,e.from.line).markedSpans,r=mt(t,e.to.line)&&Jr(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==Wo(e.from,e.to),u=ir(n,i,a),s=or(r,o,a),c=1==e.text.length,l=Oi(e.text).length+(c?i:0);if(u)for(var f=0;f<u.length;++f){var h=u[f];if(null==h.to){var p=er(s,h.marker);p?c&&(h.to=null==p.to?null:p.to+l):h.to=i}}if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null!=h.to&&(h.to+=l),null==h.from){var p=er(u,h.marker);p||(h.from=l,c&&(u||(u=[])).push(h))}else h.from+=l,c&&(u||(u=[])).push(h)}u&&(u=ur(u)),s&&s!=u&&(s=ur(s));var d=[u];if(!c){var g,v=e.text.length-2;if(v>0&&u)for(var f=0;f<u.length;++f)null==u[f].to&&(g||(g=[])).push(new tr(u[f].marker,null,null));for(var f=0;f<v;++f)d.push(g);d.push(s)}return d}function ur(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function sr(t,e){var n=vi(t,e),r=ar(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var u=0;u<a.length;++u){for(var s=a[u],c=0;c<o.length;++c)if(o[c].marker==s.marker)continue t;o.push(s)}else a&&(n[i]=a)}return n}function cr(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&Ri(r,n)!=-1||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],u=a.find(0),s=0;s<i.length;++s){var c=i[s];if(!(Wo(c.to,u.from)<0||Wo(c.from,u.to)>0)){var l=[s,1],f=Wo(c.from,u.from),h=Wo(c.to,u.to);(f<0||!a.inclusiveLeft&&!f)&&l.push({from:c.from,to:u.from}),(h>0||!a.inclusiveRight&&!h)&&l.push({from:u.to,to:c.to}),i.splice.apply(i,l),s+=l.length-1}}return i}function lr(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function fr(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function hr(t){return t.inclusiveLeft?-1:0}function pr(t){return t.inclusiveRight?1:0}function dr(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=Wo(r.from,i.from)||hr(t)-hr(e);if(o)return-o;var a=Wo(r.to,i.to)||pr(t)-pr(e);return a?a:e.id-t.id}function gr(t,e){var n,r=Bo&&t.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(e?i.from:i.to)&&(!n||dr(n,i.marker)<0)&&(n=i.marker);return n}function vr(t){return gr(t,!0)}function mr(t){return gr(t,!1)}function yr(t,e,n,r,i){var o=Jr(t,e),a=Bo&&o.markedSpans;if(a)for(var u=0;u<a.length;++u){var s=a[u];if(s.marker.collapsed){var c=s.marker.find(0),l=Wo(c.from,n)||hr(s.marker)-hr(i),f=Wo(c.to,r)||pr(s.marker)-pr(i);if(!(l>=0&&f<=0||l<=0&&f>=0)&&(l<=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?Wo(c.to,n)>=0:Wo(c.to,n)>0)||l>=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?Wo(c.from,r)<=0:Wo(c.from,r)<0)))return!0}}}function br(t){for(var e;e=vr(t);)t=e.find(-1,!0).line;return t}function wr(t){for(var e,n;e=mr(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function xr(t,e){var n=Jr(t,e),r=br(n);return n==r?e:ni(r)}function _r(t,e){if(e>t.lastLine())return e;var n,r=Jr(t,e);if(!Cr(t,r))return e;for(;n=mr(r);)r=n.find(1,!0).line;return ni(r)+1}function Cr(t,e){var n=Bo&&e.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Mr(t,e,r))return!0}}function Mr(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return Mr(t,r.line,er(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i,o=0;o<e.markedSpans.length;++o)if(i=e.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Mr(t,e,i))return!0}function Sr(t,e,n){ii(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Fn(t,null,n)}function kr(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Qa(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),Yi(e.display.measure,Vi("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Er(t,e,n,r){var i=new xa(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Hn(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!Cr(t,e)){var r=ii(e)<t.scrollTop;ei(e,e.height+kr(i)),r&&Fn(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Tr(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),lr(t),fr(t,n);var i=r?r(t):1;i!=t.height&&ei(t,i)}function Ar(t){t.parent=null,lr(t)}function Nr(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function Pr(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var r=t.innerMode(e,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Dr(e,n,r,i){for(var o=0;o<10;o++){i&&(i[0]=t.innerMode(e,r).mode);var a=e.token(n,r);if(n.pos>n.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}function Or(t,e,n,r){function i(t){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:t?la(a.mode,l):l}}var o,a=t.doc,u=a.mode;e=gt(a,e);var s,c=Jr(a,e.line),l=Ht(t,e.line,n),f=new ma(c.text,t.options.tabSize);for(r&&(s=[]);(r||f.pos<e.ch)&&!f.eol();)f.start=f.pos,o=Dr(u,f,l),r&&s.push(i(!0));return r?s:i()}function Rr(t,e,n,r,i,o,a){var u=n.flattenSpans;null==u&&(u=t.options.flattenSpans);var s,c=0,l=null,f=new ma(e,t.options.tabSize),h=t.options.addModeClass&&[null];for(""==e&&Nr(Pr(n,r),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(u=!1,a&&jr(t,e,r,f.pos),f.pos=e.length,s=null):s=Nr(Dr(n,f,r,h),o),h){var p=h[0].name;p&&(s="m-"+(s?p+" "+s:p))}if(!u||l!=s){for(;c<f.start;)c=Math.min(f.start,c+5e3),i(c,l);l=s}f.start=f.pos}for(;c<f.pos;){var d=Math.min(f.pos,c+5e3);i(d,l),c=d}}function Ir(t,e,n,r){var i=[t.state.modeGen],o={};Rr(t,e.text,t.doc.mode,n,function(t,e){i.push(t,e)},o,r);for(var a=0;a<t.state.overlays.length;++a){var u=t.state.overlays[a],s=1,c=0;Rr(t,e.text,u.mode,!0,function(t,e){for(var n=s;c<t;){var r=i[s];r>t&&i.splice(s,1,t,i[s+1],r),s+=2,c=Math.min(t,r)}if(e)if(u.opaque)i.splice(n,s-n,t,"cm-overlay "+e),s=n+2;else for(;n<s;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+e}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Lr(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=Ht(t,ni(e)),i=Ir(t,e,e.text.length>t.options.maxHighlightLength?la(t.doc.mode,r):r);e.stateAfter=r,e.styles=i.styles,i.classes?e.styleClasses=i.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function jr(t,e,n,r){var i=t.doc.mode,o=new ma(e,t.options.tabSize);for(o.start=o.pos=r||0,""==e&&Pr(i,n);!o.eol();)Dr(i,o,n),o.start=o.pos}function Fr(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ma:Ca;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Br(t,e){var n=Vi("span",null,null,Co?"padding-right: .1px":null),r={pre:Vi("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:(xo||Co)&&t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o,a=i?e.rest[i-1]:e.line;r.pos=0,r.addToken=Wr,to(t.display.measure)&&(o=oi(a))&&(r.addToken=zr(r.addToken,o)),r.map=[];var u=e!=t.display.externalMeasured&&ni(a);qr(a,r,Lr(t,a,u)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=Gi(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=Gi(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild($i(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(Co){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Ia(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=Gi(r.pre.className,r.textClass||"")),r}function Ur(t){var e=Vi("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Wr(t,e,n,r,i,o,a){if(e){var u=t.splitSpaces?Hr(e,t.trailingSpace):e,s=t.cm.state.specialChars,c=!1;if(s.test(e))for(var l=document.createDocumentFragment(),f=0;;){s.lastIndex=f;var h=s.exec(e),p=h?h.index-f:e.length-f;if(p){var d=document.createTextNode(u.slice(f,f+p));xo&&_o<9?l.appendChild(Vi("span",[d])):l.appendChild(d),t.map.push(t.pos,t.pos+p,d),t.col+=p,t.pos+=p}if(!h)break;if(f+=p+1,"\t"==h[0]){var g=t.cm.options.tabSize,v=g-t.col%g,d=l.appendChild(Vi("span",Di(v),"cm-tab"));d.setAttribute("role","presentation"),d.setAttribute("cm-text","\t"),t.col+=v}else if("\r"==h[0]||"\n"==h[0]){var d=l.appendChild(Vi("span","\r"==h[0]?"␍":"␤","cm-invalidchar"));d.setAttribute("cm-text",h[0]),t.col+=1}else{var d=t.cm.options.specialCharPlaceholder(h[0]);d.setAttribute("cm-text",h[0]),xo&&_o<9?l.appendChild(Vi("span",[d])):l.appendChild(d),t.col+=1}t.map.push(t.pos,t.pos+1,d),t.pos++}else{t.col+=e.length;var l=document.createTextNode(u);t.map.push(t.pos,t.pos+e.length,l),xo&&_o<9&&(c=!0),t.pos+=e.length}if(t.trailingSpace=32==u.charCodeAt(e.length-1),n||r||i||c||a){var m=n||"";r&&(m+=r),i&&(m+=i);var y=Vi("span",[l],m,a);return o&&(y.title=o),t.content.appendChild(y)}t.content.appendChild(l)}}function Hr(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}function zr(t,e){return function(n,r,i,o,a,u,s){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,l=c+r.length;;){for(var f=0;f<e.length;f++){var h=e[f];if(h.to>c&&h.from<=c)break}if(h.to>=l)return t(n,r,i,o,a,u,s);t(n,r.slice(0,h.to-c),i,o,null,u,s),o=null,r=r.slice(h.to-c),c=h.to}}}function Vr(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function qr(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,u,s,c,l,f,h,p=i.length,d=0,g=1,v="",m=0;;){if(m==d){s=c=l=f=u="",h=null,m=1/0;for(var y,b=[],w=0;w<r.length;++w){var x=r[w],_=x.marker;"bookmark"==_.type&&x.from==d&&_.widgetNode?b.push(_):x.from<=d&&(null==x.to||x.to>d||_.collapsed&&x.to==d&&x.from==d)?(null!=x.to&&x.to!=d&&m>x.to&&(m=x.to,c=""),_.className&&(s+=" "+_.className),_.css&&(u=(u?u+";":"")+_.css),_.startStyle&&x.from==d&&(l+=" "+_.startStyle),_.endStyle&&x.to==m&&(y||(y=[])).push(_.endStyle,x.to),_.title&&!f&&(f=_.title),_.collapsed&&(!h||dr(h.marker,_)<0)&&(h=x)):x.from>d&&m>x.from&&(m=x.from)}if(y)for(var w=0;w<y.length;w+=2)y[w+1]==m&&(c+=" "+y[w]);if(!h||h.from==d)for(var w=0;w<b.length;++w)Vr(e,0,b[w]);if(h&&(h.from||0)==d){if(Vr(e,(null==h.to?p+1:h.to)-d,h.marker,null==h.from),null==h.to)return;h.to==d&&(h=!1)}}if(d>=p)break;for(var C=Math.min(p,m);;){if(v){var M=d+v.length;if(!h){var S=M>C?v.slice(0,C-d):v;e.addToken(e,S,a?a+s:s,l,d+S.length==m?c:"",f,u)}if(M>=C){v=v.slice(C-d),d=C;break}d=M,l=""}v=i.slice(o,o=n[g++]),a=Fr(n[g++],e.cm.options)}}else for(var g=1;g<n.length;g+=2)e.addToken(e,i.slice(o,o=n[g]),Fr(n[g+1],e.cm.options))}function Yr(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Oi(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Xr(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){Tr(t,n,i,r),Si(t,"change",t,e)}function a(t,e){for(var n=t,o=[];n<e;++n)o.push(new _a(c[n],i(n),r));return o}var u=e.from,s=e.to,c=e.text,l=Jr(t,u.line),f=Jr(t,s.line),h=Oi(c),p=i(c.length-1),d=s.line-u.line;if(e.full)t.insert(0,a(0,c.length)),t.remove(c.length,t.size-c.length);else if(Yr(t,e)){var g=a(0,c.length-1);o(f,f.text,p),d&&t.remove(u.line,d),g.length&&t.insert(u.line,g)}else if(l==f)if(1==c.length)o(l,l.text.slice(0,u.ch)+h+l.text.slice(s.ch),p);else{var g=a(1,c.length-1);g.push(new _a(h+l.text.slice(s.ch),p,r)),o(l,l.text.slice(0,u.ch)+c[0],i(0)),t.insert(u.line+1,g)}else if(1==c.length)o(l,l.text.slice(0,u.ch)+c[0]+f.text.slice(s.ch),i(0)),t.remove(u.line+1,d);else{o(l,l.text.slice(0,u.ch)+c[0],i(0)),o(f,h+f.text.slice(s.ch),p);var g=a(1,c.length-1);d>1&&t.remove(u.line+1,d-1),t.insert(u.line+1,g)}Si(t,"change",t,e)}function Kr(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function Gr(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}function Qr(t,e,n){function r(t,i,o){if(t.linked)for(var a=0;a<t.linked.length;++a){var u=t.linked[a];if(u.doc!=i){var s=o&&u.sharedHist;n&&!s||(e(u.doc,s),r(u.doc,t,s))}}}r(t,null,!0)}function Zr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,a(t),n(t),t.options.lineWrapping||h(t),t.options.mode=e.modeOption,Le(t)}function Jr(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function $r(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function ti(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function ei(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function ni(t){if(null==t.parent)return null;for(var e=t.parent,n=Ri(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function ri(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var r=0;r<t.lines.length;++r){var a=t.lines[r],u=a.height;if(e<u)break;e-=u}return n+r}function ii(t){t=br(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;e+=a.height}return e}function oi(t){var e=t.order;return null==e&&(e=t.order=cu(t.text)),e}function ai(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function ui(t,e){var n={from:X(e.from),to:ea(e),text:$r(t,e.from,e.to)};return di(t,n,e.from.line,e.to.line+1),Qr(t,function(t){di(t,n,e.from.line,e.to.line+1);
},!0),n}function si(t){for(;t.length;){var e=Oi(t);if(!e.ranges)break;t.pop()}}function ci(t,e){return e?(si(t.done),Oi(t.done)):t.done.length&&!Oi(t.done).ranges?Oi(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Oi(t.done)):void 0}function li(t,e,n,r){var i=t.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=ci(i,i.lastOp==r))){var u=Oi(o.changes);0==Wo(e.from,e.to)&&0==Wo(e.from,u.to)?u.to=ea(e):o.changes.push(ui(t,e))}else{var s=Oi(i.done);for(s&&s.ranges||pi(t.sel,i.done),o={changes:[ui(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,u||Ia(t,"historyAdded")}function fi(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function hi(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||fi(t,o,Oi(i.done),e))?i.done[i.done.length-1]=e:pi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&si(i.undone)}function pi(t,e){var n=Oi(e);n&&n.ranges&&n.equals(t)||e.push(t)}function di(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function gi(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function vi(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=0,i=[];r<e.text.length;++r)i.push(gi(n[r]));return i}function mi(t,e,n){for(var r=0,i=[];r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?lt.prototype.deepCopy.call(o):o);else{var a=o.changes,u=[];i.push({changes:u});for(var s=0;s<a.length;++s){var c,l=a[s];if(u.push({from:l.from,to:l.to,text:l.text}),e)for(var f in l)(c=f.match(/^spans_(\d+)$/))&&Ri(e,Number(c[1]))>-1&&(Oi(u)[f]=l[f],delete l[f])}}}return i}function yi(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function bi(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||(o=t[i]=o.deepCopy(),o.copied=!0);for(var u=0;u<o.ranges.length;u++)yi(o.ranges[u].anchor,e,n,r),yi(o.ranges[u].head,e,n,r)}else{for(var u=0;u<o.changes.length;++u){var s=o.changes[u];if(n<s.from.line)s.from=Uo(s.from.line+r,s.from.ch),s.to=Uo(s.to.line+r,s.to.ch);else if(e<=s.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function wi(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;bi(t.done,n,r,i),bi(t.undone,n,r,i)}function xi(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function _i(t){return t.target||t.srcElement}function Ci(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Do&&t.ctrlKey&&1==e&&(e=3),e}function Mi(t,e,n){var r=t._handlers&&t._handlers[e];return n?r&&r.length>0?r.slice():Oa:r||Oa}function Si(t,e){function n(t){return function(){t.apply(null,o)}}var r=Mi(t,e,!1);if(r.length){var i,o=Array.prototype.slice.call(arguments,2);Xo?i=Xo.delayedCallbacks:La?i=La:(i=La=[],setTimeout(ki,0));for(var a=0;a<r.length;++a)i.push(n(r[a]))}}function ki(){var t=La;La=null;for(var e=0;e<t.length;++e)t[e]()}function Ei(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Ia(t,n||e.type,t,e),xi(e)||e.codemirrorIgnore}function Ti(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)Ri(n,e[r])==-1&&n.push(e[r])}function Ai(t,e){return Mi(t,e).length>0}function Ni(t){t.prototype.on=function(t,e){Da(this,t,e)},t.prototype.off=function(t,e){Ra(this,t,e)}}function Pi(){this.id=null}function Di(t){for(;Va.length<=t;)Va.push(Oi(Va)+" ");return Va[t]}function Oi(t){return t[t.length-1]}function Ri(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function Ii(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function Li(t,e,n){for(var r=0,i=n(e);r<t.length&&n(t[r])<=i;)r++;t.splice(r,0,e)}function ji(){}function Fi(t,e){var n;return Object.create?n=Object.create(t):(ji.prototype=t,n=new ji),e&&Bi(e,n),n}function Bi(t,e,n){e||(e={});for(var r in t)!t.hasOwnProperty(r)||n===!1&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function Ui(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Wi(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Ka(t))||e.test(t):Ka(t)}function Hi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function zi(t){return t.charCodeAt(0)>=768&&Ga.test(t)}function Vi(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function qi(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Yi(t,e){return qi(t).appendChild(e)}function Xi(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Ki(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Gi(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!Ki(n[r]).test(e)&&(e+=" "+n[r]);return e}function Qi(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&t(r)}}function Zi(){eu||(Ji(),eu=!0)}function Ji(){var t;Da(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Qi(qe)},100))}),Da(window,"blur",function(){Qi(bn)})}function $i(t){if(null==Za){var e=Vi("span","​");Yi(t,Vi("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Za=e.offsetWidth<=1&&e.offsetHeight>2&&!(xo&&_o<8))}var n=Za?Vi("span","​"):Vi("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function to(t){if(null!=Ja)return Ja;var e=Yi(t,document.createTextNode("AخA")),n=Ya(e,0,1).getBoundingClientRect(),r=Ya(e,1,2).getBoundingClientRect();return qi(t),!(!n||n.left==n.right)&&(Ja=r.right-n.right<3)}function eo(t){if(null!=au)return au;var e=Yi(t,Vi("span","x")),n=e.getBoundingClientRect(),r=Ya(e,0,1).getBoundingClientRect();return au=Math.abs(n.left-r.left)>1}function no(t,e,n,r){if(!t)return r(e,n,"ltr");for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(e,n,"ltr")}function ro(t){return t.level%2?t.to:t.from}function io(t){return t.level%2?t.from:t.to}function oo(t){var e=oi(t);return e?ro(e[0]):0}function ao(t){var e=oi(t);return e?io(Oi(e)):t.text.length}function uo(t,e){var n=Jr(t.doc,e),r=br(n);r!=n&&(e=ni(r));var i=oi(r),o=i?i[0].level%2?ao(r):oo(r):0;return Uo(e,o)}function so(t,e){for(var n,r=Jr(t.doc,e);n=mr(r);)r=n.find(1,!0).line,e=null;var i=oi(r),o=i?i[0].level%2?oo(r):ao(r):r.text.length;return Uo(null==e?ni(r):e,o)}function co(t,e){var n=uo(t,e.line),r=Jr(t.doc,n.line),i=oi(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return Uo(n.line,a?0:o)}return n}function lo(t,e,n){var r=t[0].level;return e==r||n!=r&&e<n}function fo(t,e){su=null;for(var n,r=0;r<t.length;++r){var i=t[r];if(i.from<e&&i.to>e)return r;if(i.from==e||i.to==e){if(null!=n)return lo(t,i.level,t[n].level)?(i.from!=i.to&&(su=n),r):(i.from!=i.to&&(su=r),n);n=r}}return n}function ho(t,e,n,r){if(!r)return e+n;do e+=n;while(e>0&&zi(t.text.charAt(e)));return e}function po(t,e,n,r){var i=oi(t);if(!i)return go(t,e,n,r);for(var o=fo(i,e),a=i[o],u=ho(t,e,a.level%2?-n:n,r);;){if(u>a.from&&u<a.to)return u;if(u==a.from||u==a.to)return fo(i,u)==o?u:(a=i[o+=n],n>0==a.level%2?a.to:a.from);if(a=i[o+=n],!a)return null;u=n>0==a.level%2?ho(t,a.to,-1,r):ho(t,a.from,1,r)}}function go(t,e,n,r){var i=e+n;if(r)for(;i>0&&zi(t.text.charAt(i));)i+=n;return i<0||i>t.text.length?null:i}var vo=navigator.userAgent,mo=navigator.platform,yo=/gecko\/\d/i.test(vo),bo=/MSIE \d/.test(vo),wo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vo),xo=bo||wo,_o=xo&&(bo?document.documentMode||6:wo[1]),Co=/WebKit\//.test(vo),Mo=Co&&/Qt\/\d+\.\d+/.test(vo),So=/Chrome\//.test(vo),ko=/Opera\//.test(vo),Eo=/Apple Computer/.test(navigator.vendor),To=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(vo),Ao=/PhantomJS/.test(vo),No=/AppleWebKit/.test(vo)&&/Mobile\/\w+/.test(vo),Po=No||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(vo),Do=No||/Mac/.test(mo),Oo=/\bCrOS\b/.test(vo),Ro=/win/i.test(mo),Io=ko&&vo.match(/Version\/(\d*\.\d*)/);Io&&(Io=Number(Io[1])),Io&&Io>=15&&(ko=!1,Co=!0);var Lo=Do&&(Mo||ko&&(null==Io||Io<12.11)),jo=yo||xo&&_o>=9,Fo=!1,Bo=!1;g.prototype=Bi({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Do&&!To?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Pi,this.disableVert=new Pi},enableZeroWidthBar:function(t,e){function n(){var r=t.getBoundingClientRect(),i=document.elementFromPoint(r.left+1,r.bottom-1);i!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},g.prototype),v.prototype=Bi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},v.prototype),t.scrollbarModel={"native":g,"null":v},S.prototype.signal=function(t,e){Ai(t,e)&&this.events.push(arguments)},S.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Ia.apply(null,this.events[t])};var Uo=t.Pos=function(t,e){return this instanceof Uo?(this.line=t,void(this.ch=e)):new Uo(t,e)},Wo=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},Ho=null;nt.prototype=Bi({init:function(t){function e(t){if(!Ei(r,t)){if(r.somethingSelected())Ho={lineWise:!1,text:r.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Ho.text.join("\n"),qa(o));else{if(!r.options.lineWiseCopyCut)return;var e=tt(r);Ho={lineWise:!0,text:e.text},"cut"==t.type?r.setSelections(e.ranges,null,Ba):(n.prevInput="",o.value=e.text.join("\n"),qa(o))}"cut"==t.type&&(r.state.cutIncoming=!0)}}var n=this,r=this.cm,i=this.wrapper=rt(),o=this.textarea=i.firstChild;t.wrapper.insertBefore(i,t.wrapper.firstChild),No&&(o.style.width="0px"),Da(o,"input",function(){xo&&_o>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Da(o,"paste",function(t){Ei(r,t)||J(t,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),Da(o,"cut",e),Da(o,"copy",e),Da(t.scroller,"paste",function(e){Ye(t,e)||Ei(r,e)||(r.state.pasteIncoming=!0,n.focus())}),Da(t.lineSpace,"selectstart",function(e){Ye(t,e)||Aa(e)}),Da(o,"compositionstart",function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Da(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,n=t.doc,r=It(t);if(t.options.moveInputWithCursor){var i=de(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(t){var e=this.cm,n=e.display;Yi(n.cursorDiv,t.cursors),Yi(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary();e=ou&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3);var a=e?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&qa(this.textarea),xo&&_o>=9&&(this.hasSelection=a)}else t||(this.prevInput=this.textarea.value="",xo&&_o>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Po||Xi()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){var r=n.poll();r||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||iu(e)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=e.value;if(r==n&&!t.somethingSelected())return!1;if(xo&&_o>=9&&this.hasSelection===r||Do&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,r.length);o<a&&n.charCodeAt(o)==r.charCodeAt(o);)++o;var u=this;return Ne(t,function(){Z(t,r.slice(o),n.length-o,null,u.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?e.value=u.prevInput="":u.prevInput=r,u.composing&&(u.composing.range.clear(),u.composing.range=t.markText(u.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){xo&&_o>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=a.selectionStart){var t=i.somethingSelected(),e="​"+(t?a.value:"");a.value="⇚",a.value=e,r.prevInput=t?"":"​",a.selectionStart=1,a.selectionEnd=e.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=f,a.style.cssText=l,xo&&_o<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=s),null!=a.selectionStart){(!xo||xo&&_o<9)&&e();var t=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==r.prevInput?Pe(i,ha.selectAll)(i):t++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,u=Xe(i,t),s=o.scroller.scrollTop;if(u&&!ko){var c=i.options.resetSelectionOnContextMenu;c&&i.doc.sel.contains(u)==-1&&Pe(i,kt)(i.doc,pt(u),Ba);var l=a.style.cssText,f=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var h=r.wrapper.getBoundingClientRect();if(a.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(t.clientY-h.top-5)+"px; left: "+(t.clientX-h.left-5)+"px; z-index: 1000; background: "+(xo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Co)var p=window.scrollY;if(o.input.focus(),Co&&window.scrollTo(null,p),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),xo&&_o>=9&&e(),jo){Pa(t);var d=function(){Ra(window,"mouseup",d),setTimeout(n,20)};Da(window,"mouseup",d)}else setTimeout(n,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:ji,needsContentAttribute:!1},nt.prototype),it.prototype=Bi({init:function(t){function e(t){if(!Ei(r,t)){if(r.somethingSelected())Ho={lineWise:!1,text:r.getSelections()},"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=tt(r);Ho={lineWise:!0,text:e.text},"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,Ba),r.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var o=Ho.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var a=rt(),u=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),u.value=Ho.text.join("\n");var s=document.activeElement;qa(u),setTimeout(function(){r.display.lineSpace.removeChild(a),s.focus(),s==i&&n.showPrimarySelection()},50)}}var n=this,r=n.cm,i=n.div=t.lineDiv;et(i,r.options.spellcheck),Da(i,"paste",function(t){Ei(r,t)||J(t,r)||_o<=11&&setTimeout(Pe(r,function(){n.pollContent()||Le(r)}),20)}),Da(i,"compositionstart",function(t){var e=t.data;if(n.composing={sel:r.doc.sel,data:e,startData:e},e){var i=r.doc.sel.primary(),o=r.getLine(i.head.line),a=o.indexOf(e,Math.max(0,i.head.ch-e.length));a>-1&&a<=i.head.ch&&(n.composing.sel=pt(Uo(i.head.line,a),Uo(i.head.line,a+e.length)))}}),Da(i,"compositionupdate",function(t){n.composing.data=t.data}),Da(i,"compositionend",function(t){var e=n.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||n.applyComposition(e),n.composing==e&&(n.composing=null)},50))}),Da(i,"touchstart",function(){n.forceCompositionEnd()}),Da(i,"input",function(){n.composing||!r.isReadOnly()&&n.pollContent()||Ne(n.cm,function(){Le(r)})}),Da(i,"copy",e),Da(i,"cut",e)},prepareSelection:function(){var t=It(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),n=ut(this.cm,t.anchorNode,t.anchorOffset),r=ut(this.cm,t.focusNode,t.focusOffset);if(!n||n.bad||!r||r.bad||0!=Wo(G(n,r),e.from())||0!=Wo(K(n,r),e.to())){var i=ot(this.cm,e.from()),o=ot(this.cm,e.to());if(i||o){var a=this.cm.display.view,u=t.rangeCount&&t.getRangeAt(0);if(i){if(!o){var s=a[a.length-1].measure,c=s.maps?s.maps[s.maps.length-1]:s.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else i={node:a[0].measure.map[2],offset:0};try{var l=Ya(i.node,i.offset,o.offset,o.node)}catch(f){}l&&(!yo&&this.cm.state.focused?(t.collapse(i.node,i.offset),l.collapsed||t.addRange(l)):(t.removeAllRanges(),t.addRange(l)),u&&null==t.anchorNode?t.addRange(u):yo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){Yi(this.cm.display.cursorDiv,t.cursors),Yi(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Qa(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Ne(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var n=ut(e,t.anchorNode,t.anchorOffset),r=ut(e,t.focusNode,t.focusOffset);n&&r&&Ne(e,function(){kt(e.doc,pt(n,r),Ba),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t=this.cm,e=t.display,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<e.viewFrom||i.line>e.viewTo-1)return!1;var o;if(r.line==e.viewFrom||0==(o=Be(t,r.line)))var a=ni(e.view[0].line),u=e.view[0].node;else var a=ni(e.view[o].line),u=e.view[o-1].node.nextSibling;var s=Be(t,i.line);if(s==e.view.length-1)var c=e.viewTo-1,l=e.lineDiv.lastChild;else var c=ni(e.view[s+1].line)-1,l=e.view[s+1].node.previousSibling;for(var f=t.doc.splitLines(ct(t,u,l,a,c)),h=$r(t.doc,Uo(a,0),Uo(c,Jr(t.doc,c).text.length));f.length>1&&h.length>1;)if(Oi(f)==Oi(h))f.pop(),h.pop(),c--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),a++}for(var p=0,d=0,g=f[0],v=h[0],m=Math.min(g.length,v.length);p<m&&g.charCodeAt(p)==v.charCodeAt(p);)++p;for(var y=Oi(f),b=Oi(h),w=Math.min(y.length-(1==f.length?p:0),b.length-(1==h.length?p:0));d<w&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1);)++d;f[f.length-1]=y.slice(0,y.length-d),f[0]=f[0].slice(p);var x=Uo(a,p),_=Uo(c,h.length?Oi(h).length-d:0);return f.length>1||f[0]||Wo(x,_)?(On(t.doc,f,x,_,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?Pe(this.cm,Le)(this.cm):t.data&&t.data!=t.startData&&Pe(this.cm,Z)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||Pe(this.cm,Z)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:ji,resetPosition:ji,needsContentAttribute:!0},it.prototype),t.inputStyles={textarea:nt,contenteditable:it},lt.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(0!=Wo(n.anchor,r.anchor)||0!=Wo(n.head,r.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new ft(X(this.ranges[e].anchor),X(this.ranges[e].head));return new lt(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Wo(e,r.from())>=0&&Wo(t,r.to())<=0)return n}return-1}},ft.prototype={from:function(){return G(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var zo,Vo,qo,Yo={left:0,right:0,top:0,bottom:0},Xo=null,Ko=0,Go=0,Qo=0,Zo=null;xo?Zo=-.53:yo?Zo=15:So?Zo=-.7:Eo&&(Zo=-1/3);var Jo=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};t.wheelEventPixels=function(t){var e=Jo(t);return e.x*=Zo,e.y*=Zo,e};var $o=new Pi,ta=null,ea=t.changeEnd=function(t){return t.text?Uo(t.from.line+t.text.length-1,Oi(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var n=this.options,r=n[t];n[t]==e&&"mode"!=t||(n[t]=e,ra.hasOwnProperty(t)&&Pe(this,ra[t])(this,e,r))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Kn(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:De(function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");Li(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},function(t){return t.priority}),this.state.modeGen++,Le(this)}),removeOverlay:De(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void Le(this)}}),indentLine:De(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),mt(this.doc,t)&&Wn(this,t,e,n)}),indentSelection:De(function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Wn(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Bn(this));else{var o=i.from(),a=i.to(),u=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=u;s<n;++s)Wn(this,s,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[r].from().ch>0&&_t(this.doc,r,new ft(o,c[r].to()),Ba)}}}),getTokenAt:function(t,e){return Or(this,t,e)},getLineTokens:function(t,e){return Or(this,Uo(t),e,!0)},getTokenTypeAt:function(t){t=gt(this.doc,t);var e,n=Lr(this,Jr(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var u=e?e.indexOf("cm-overlay "):-1;return u<0?e:0==u?null:e.slice(0,u-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!ca.hasOwnProperty(e))return n;var r=ca[e],i=this.getModeAt(t);if("string"==typeof i[e])r[i[e]]&&n.push(r[i[e]]);else if(i[e])for(var o=0;o<i[e].length;o++){var a=r[i[e][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var u=r._global[o];u.pred(i,this)&&Ri(n,u.val)==-1&&n.push(u.val)}return n},getStateAfter:function(t,e){var n=this.doc;return t=dt(n,null==t?n.first+n.size-1:t),Ht(this,t+1,e)},cursorCoords:function(t,e){var n,r=this.doc.sel.primary();return n=null==t?r.head:"object"==typeof t?gt(this.doc,t):t?r.from():r.to(),de(this,n,e||"page")},charCoords:function(t,e){return pe(this,gt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=he(this,t,e||"page"),me(this,t.left,t.top)},lineAtHeight:function(t,e){return t=he(this,{top:t,left:0},e||"page").top,ri(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n,r=!1;if("number"==typeof t){var i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,r=!0),n=Jr(this.doc,t)}else n=t;return fe(this,n,{top:0,left:0},e||"page").top+(r?this.doc.height-ii(n):0)},defaultTextHeight:function(){return be(this.display)},defaultCharWidth:function(){return we(this.display)},setGutterMarker:De(function(t,e,n){return Hn(this.doc,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&Hi(r)&&(t.gutterMarkers=null),!0})}),clearGutter:De(function(t){var e=this,n=e.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,je(e,r,"gutter"),Hi(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(t){if("number"==typeof t){if(!mt(this.doc,t))return null;var e=t;if(t=Jr(this.doc,t),!t)return null}else{var e=ni(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o=this.display;t=de(this,gt(this.doc,t));var a=t.bottom,u=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==r)a=t.top;else if("above"==r||"near"==r){var s=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>s)&&t.top>e.offsetHeight?a=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=s&&(a=t.bottom),u+e.offsetWidth>c&&(u=c-e.offsetWidth)}e.style.top=a+"px",e.style.left=e.style.right="","right"==i?(u=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=u+"px"),n&&Ln(this,u,a,u+e.offsetWidth,a+e.offsetHeight)},triggerOnKeyDown:De(pn),triggerOnKeyPress:De(vn),triggerOnKeyUp:gn,execCommand:function(t){if(ha.hasOwnProperty(t))return ha[t].call(null,this)},triggerElectric:De(function(t){$(this,t)}),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var o=0,a=gt(this.doc,t);o<e&&(a=Vn(this.doc,a,i,n,r),!a.hitSide);++o);return a},moveH:De(function(t,e){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Vn(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()},Wa)}),deleteH:De(function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):zn(this,function(n){var i=Vn(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(t,e,n,r){var i=1,o=r;e<0&&(i=-1,e=-e);for(var a=0,u=gt(this.doc,t);a<e;++a){var s=de(this,u,"div");if(null==o?o=s.left:s.left=o,u=qn(this,s,i,n),u.hitSide)break}return u},moveV:De(function(t,e){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return t<0?a.from():a.to();var u=de(n,a.head,"div");null!=a.goalColumn&&(u.left=a.goalColumn),i.push(u.left);var s=qn(n,u,t,e);return"page"==e&&a==r.sel.primary()&&Fn(n,null,pe(n,s,"div").top-u.top),s},Wa),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,n=Jr(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");(t.xRel<0||i==n.length)&&r?--r:++i;for(var a=n.charAt(r),u=Wi(a,o)?function(t){return Wi(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Wi(t)};r>0&&u(n.charAt(r-1));)--r;for(;i<n.length&&u(n.charAt(i));)++i}return new ft(Uo(t.line,r),Uo(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?tu(this.display.cursorDiv,"CodeMirror-overwrite"):$a(this.display.cursorDiv,"CodeMirror-overwrite"),Ia(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Xi()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:De(function(t,e){null==t&&null==e||Un(this),
null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Yt(this)-this.display.barHeight,width:t.scrollWidth-Yt(this)-this.display.barWidth,clientHeight:Kt(this),clientWidth:Xt(this)}},scrollIntoView:De(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Uo(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)Un(this),this.curOp.scrollToPos=t;else{var n=jn(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:De(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var r=this;null!=t&&(r.display.wrapper.style.width=n(t)),null!=e&&(r.display.wrapper.style.height=n(e)),r.options.lineWrapping&&ue(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){je(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,Ia(r,"refresh",this)}),operation:function(t){return Ne(this,t)},refresh:De(function(){var t=this.display.cachedTextHeight;Le(this),this.curOp.forceUpdate=!0,se(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),l(this),(null==t||Math.abs(t-be(this.display))>.5)&&a(this),Ia(this,"refresh",this)}),swapDoc:De(function(t){var e=this.doc;return e.cm=null,Zr(this,t),se(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Si(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ni(t);var na=t.defaults={},ra=t.optionHandlers={},ia=t.Init={toString:function(){return"CodeMirror.Init"}};Yn("value","",function(t,e){t.setValue(e)},!0),Yn("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),Yn("indentUnit",2,n,!0),Yn("indentWithTabs",!1),Yn("smartIndent",!0),Yn("tabSize",4,function(t){r(t),se(t),Le(t)},!0),Yn("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(o==-1)break;i=o+e.length,n.push(Uo(r,o))}r++});for(var i=n.length-1;i>=0;i--)On(t.doc,e,n[i],Uo(n[i].line,n[i].ch+e.length))}}),Yn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,n,r){e.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),r!=t.Init&&e.refresh()}),Yn("specialCharPlaceholder",Ur,function(t){t.refresh()},!0),Yn("electricChars",!0),Yn("inputStyle",Po?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Yn("spellcheck",!1,function(t,e){t.getInputField().spellcheck=e},!0),Yn("rtlMoveVisually",!Ro),Yn("wholeLineUpdateBefore",!0),Yn("theme","default",function(t){u(t),s(t)},!0),Yn("keyMap","default",function(e,n,r){var i=Kn(n),o=r!=t.Init&&Kn(r);o&&o.detach&&o.detach(e,i),i.attach&&i.attach(e,o||null)}),Yn("extraKeys",null),Yn("lineWrapping",!1,i,!0),Yn("gutters",[],function(t){p(t.options),s(t)},!0),Yn("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?M(t.display)+"px":"0",t.refresh()},!0),Yn("coverGutterNextToScrollbar",!1,function(t){y(t)},!0),Yn("scrollbarStyle","native",function(t){m(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Yn("lineNumbers",!1,function(t){p(t.options),s(t)},!0),Yn("firstLineNumber",1,s,!0),Yn("lineNumberFormatter",function(t){return t},s,!0),Yn("showCursorWhenSelecting",!1,Rt,!0),Yn("resetSelectionOnContextMenu",!0),Yn("lineWiseCopyCut",!0),Yn("readOnly",!1,function(t,e){"nocursor"==e?(bn(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),Yn("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),Yn("dragDrop",!0,Ve),Yn("allowDropFileTypes",null),Yn("cursorBlinkRate",530),Yn("cursorScrollMargin",0),Yn("cursorHeight",1,Rt,!0),Yn("singleCursorHeightPerLine",!0,Rt,!0),Yn("workTime",100),Yn("workDelay",100),Yn("flattenSpans",!0,r,!0),Yn("addModeClass",!1,r,!0),Yn("pollInterval",100),Yn("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Yn("historyEventDelay",1250),Yn("viewportMargin",10,function(t){t.refresh()},!0),Yn("maxHighlightLength",1e4,r,!0),Yn("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),Yn("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),Yn("autofocus",null);var oa=t.modes={},aa=t.mimeModes={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),oa[e]=n},t.defineMIME=function(t,e){aa[t]=e},t.resolveMode=function(e){if("string"==typeof e&&aa.hasOwnProperty(e))e=aa[e];else if(e&&"string"==typeof e.name&&aa.hasOwnProperty(e.name)){var n=aa[e.name];"string"==typeof n&&(n={name:n}),e=Fi(n,e),e.name=n.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return t.resolveMode("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),r=oa[n.name];if(!r)return t.getMode(e,"text/plain");var i=r(e,n);if(ua.hasOwnProperty(n.name)){var o=ua[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)i[a]=n.modeProps[a];return i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var ua=t.modeExtensions={};t.extendMode=function(t,e){var n=ua.hasOwnProperty(t)?ua[t]:ua[t]={};Bi(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){ka.prototype[t]=e},t.defineOption=Yn;var sa=[];t.defineInitHook=function(t){sa.push(t)};var ca=t.helpers={};t.registerHelper=function(e,n,r){ca.hasOwnProperty(e)||(ca[e]=t[e]={_global:[]}),ca[e][n]=r},t.registerGlobalHelper=function(e,n,r,i){t.registerHelper(e,n,i),ca[e]._global.push({pred:r,val:i})};var la=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},fa=t.startState=function(t,e,n){return!t.startState||t.startState(e,n)};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var ha=t.commands={selectAll:function(t){t.setSelection(Uo(t.firstLine(),0),Uo(t.lastLine()),Ba)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Ba)},killLine:function(t){zn(t,function(e){if(e.empty()){var n=Jr(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:Uo(e.head.line+1,0)}:{from:e.head,to:Uo(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){zn(t,function(e){return{from:Uo(e.from().line,0),to:gt(t.doc,Uo(e.to().line+1,0))}})},delLineLeft:function(t){zn(t,function(t){return{from:Uo(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){zn(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return{from:r,to:e.from()}})},delWrappedLineRight:function(t){zn(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Uo(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Uo(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return uo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return co(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return so(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},Wa)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},Wa)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?co(t,e.head):r},Wa)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=Ha(t.getLine(o.line),o.ch,r);e.push(Di(r-a%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Ne(t,function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++){var i=e[r].head,o=Jr(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Uo(i.line,i.ch-1)),i.ch>0)i=new Uo(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Uo(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=Jr(t.doc,i.line-1).text;a&&t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),Uo(i.line-1,a.length-1),Uo(i.line,1),"+transpose")}n.push(new ft(i,i))}t.setSelections(n)})},newlineAndIndent:function(t){Ne(t,function(){for(var e=t.listSelections().length,n=0;n<e;n++){var r=t.listSelections()[n];t.replaceRange(t.doc.lineSeparator(),r.anchor,r.head,"+input"),t.indentLine(r.from().line+1,null,!0)}Bn(t)})},openLine:function(t){t.replaceSelection("\n","start")},toggleOverwrite:function(t){t.toggleOverwrite()}},pa=t.keyMap={};pa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},pa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},pa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},pa["default"]=Do?pa.macDefault:pa.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=Ii(n.split(" "),Xn),o=0;o<i.length;o++){var a,u;o==i.length-1?(u=i.join(" "),a=r):(u=i.slice(0,o+1).join(" "),a="...");var s=e[u];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+u)}else e[u]=a}delete t[n]}for(var c in e)t[c]=e[c];return t};var da=t.lookupKey=function(t,e,n,r){e=Kn(e);var i=e.call?e.call(t,r):e[t];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return da(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=da(t,e.fallthrough[o],n,r);if(a)return a}}},ga=t.isModifierKey=function(t){var e="string"==typeof t?t:uu[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},va=t.keyName=function(t,e){if(ko&&34==t.keyCode&&t["char"])return!1;var n=uu[t.keyCode],r=n;return null!=r&&!t.altGraphKey&&(t.altKey&&"Alt"!=n&&(r="Alt-"+r),(Lo?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Lo?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!e&&t.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};t.fromTextArea=function(e,n){function r(){e.value=c.getValue()}if(n=n?Bi(n):{},n.value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var i=Xi();n.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(Da(e.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=e.form,a=o.submit;try{var u=o.submit=function(){r(),o.submit=a,o.submit(),o.submit=u}}catch(s){}}n.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ra(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=a))}},e.style.display="none";var c=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return c};var ma=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ma.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));if(n)return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ha(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ha(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ha(this.string,null,this.tabSize)-(this.lineStart?Ha(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&e!==!1&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(i(o)==i(t))return e!==!1&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var ya=0,ba=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ya};Ni(ba),ba.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&xe(t),Ai(this,"clear")){var n=this.find();n&&Si(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],u=er(a.markedSpans,this);t&&!this.collapsed?je(t,ni(a),"text"):t&&(null!=u.to&&(i=ni(a)),null!=u.from&&(r=ni(a))),a.markedSpans=nr(a.markedSpans,u),null==u.from&&this.collapsed&&!Cr(this.doc,a)&&t&&ei(a,be(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var s=br(this.lines[o]),c=f(s);c>t.display.maxLineLength&&(t.display.maxLine=s,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&Le(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&At(t.doc)),t&&Si(t,"markerCleared",t,this),e&&Ce(t),this.parent&&this.parent.clear()}},ba.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=er(o.markedSpans,this);if(null!=a.from&&(n=Uo(e?o:ni(o),a.from),t==-1))return n;if(null!=a.to&&(r=Uo(e?o:ni(o),a.to),1==t))return r}return n&&{from:n,to:r}},ba.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&Ne(n,function(){var r=t.line,i=ni(t.line),o=$t(n,i);if(o&&(ae(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Cr(e.doc,r)&&null!=e.height){var a=e.height;e.height=null;var u=kr(e)-a;u&&ei(r,r.height+u)}})},ba.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&Ri(e.maybeHiddenMarkers,this)!=-1||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},ba.prototype.detachLine=function(t){if(this.lines.splice(Ri(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var ya=0,wa=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Ni(wa),wa.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Si(this,"clear")}},wa.prototype.find=function(t,e){return this.primary.find(t,e)};var xa=t.LineWidget=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};Ni(xa),xa.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=ni(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=kr(this);ei(n,Math.max(0,n.height-o)),t&&Ne(t,function(){Sr(t,n,-o),je(t,r,"widget")})}},xa.prototype.changed=function(){var t=this.height,e=this.doc.cm,n=this.line;this.height=null;var r=kr(this)-t;r&&(ei(n,n.height+r),e&&Ne(e,function(){e.curOp.forceUpdate=!0,Sr(e,n,r)}))};var _a=t.Line=function(t,e,n){this.text=t,fr(this,e),this.height=n?n(this):1};Ni(_a),_a.prototype.lineNo=function(){return ni(this)};var Ca={},Ma={};Kr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,Ar(i),Si(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},Gr.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var o=Math.min(e,i-t),a=r.height;if(r.removeInner(t,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Kr))){var u=[];this.collapse(u),this.children=[new Kr(u)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,u=a;u<i.lines.length;){var s=new Kr(i.lines.slice(u,u+=25));i.height-=s.height,this.children.splice(++r,0,s),s.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new Gr(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=Ri(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new Gr(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var a=Math.min(e,o-t);if(i.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var Sa=0,ka=t.Doc=function(t,e,n,r){if(!(this instanceof ka))return new ka(t,e,n,r);null==n&&(n=0),Gr.call(this,[new Kr([new _a("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Uo(n,0);this.sel=pt(i),this.history=new ai(null),this.id=++Sa,this.modeOption=e,this.lineSep=r,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Xr(this,{from:i,to:i,text:t}),kt(this,pt(i),Ba)};ka.prototype=Fi(Gr.prototype,{constructor:ka,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=ti(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Oe(function(t){var e=Uo(this.first,0),n=this.first+this.size-1;En(this,{from:e,to:Uo(n,Jr(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),kt(this,pt(e))}),replaceRange:function(t,e,n,r){e=gt(this,e),n=n?gt(this,n):e,On(this,t,e,n,r)},getRange:function(t,e,n){var r=$r(this,gt(this,t),gt(this,e));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(mt(this,t))return Jr(this,t)},getLineNumber:function(t){return ni(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Jr(this,t)),br(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return gt(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||t===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Oe(function(t,e,n){Ct(this,gt(this,"number"==typeof t?Uo(t,e||0):t),null,n)}),setSelection:Oe(function(t,e,n){Ct(this,gt(this,t),gt(this,e||t),n)}),extendSelection:Oe(function(t,e,n){wt(this,gt(this,t),e&&gt(this,e),n)}),extendSelections:Oe(function(t,e){xt(this,yt(this,t),e)}),extendSelectionsBy:Oe(function(t,e){var n=Ii(this.sel.ranges,t);xt(this,yt(this,n),e)}),setSelections:Oe(function(t,e,n){if(t.length){for(var r=0,i=[];r<t.length;r++)i[r]=new ft(gt(this,t[r].anchor),gt(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),kt(this,ht(i,e),n)}}),addSelection:Oe(function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new ft(gt(this,t),gt(this,e||t))),kt(this,ht(r,r.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=$r(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=$r(this,n[r].from(),n[r].to());t!==!1&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:Oe(function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}for(var u=e&&"end"!=e&&Sn(this,r,e),o=r.length-1;o>=0;o--)En(this,r[o]);u?St(this,u):this.cm&&Bn(this.cm)}),undo:Oe(function(){An(this,"undo")}),redo:Oe(function(){An(this,"redo")}),undoSelection:Oe(function(){An(this,"undo",!0)}),redoSelection:Oe(function(){An(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new ai(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:mi(this.history.done),undone:mi(this.history.undone)}},setHistory:function(t){var e=this.history=new ai(this.history.maxGeneration);e.done=mi(t.done.slice(0),null,!0),e.undone=mi(t.undone.slice(0),null,!0)},addLineClass:Oe(function(t,e,n){return Hn(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(Ki(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:Oe(function(t,e,n){return Hn(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(Ki(n));if(!o)return!1;var a=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Oe(function(t,e,n){return Er(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Gn(this,gt(this,t),gt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=gt(this,t),Gn(this,t,t,n,"bookmark")},findMarksAt:function(t){t=gt(this,t);var e=[],n=Jr(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=gt(this,t),e=gt(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var u=0;u<a.length;u++){var s=a[u];null!=s.to&&i==t.line&&t.ch>=s.to||null==s.from&&i!=t.line||null!=s.from&&i==e.line&&s.from>=e.ch||n&&!n(s.marker)||r.push(s.marker.parent||s.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;return o>t?(e=t,!0):(t-=o,void++n)}),gt(this,Uo(n,e))},indexFromPos:function(t){t=gt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new ka(ti(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new ka(ti(this,e,n),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Jn(r,Zn(this)),r},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==e){this.linked.splice(n,1),e.unlinkDoc(this),$n(Zn(this));break}}if(e.history==this.history){var i=[e.id];Qr(e,function(t){i.push(t.id)},!0),e.history=new ai(null),e.history.done=mi(this.history.done,i),e.history.undone=mi(this.history.undone,i)}},iterLinkedDocs:function(t){Qr(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):ru(t)},lineSeparator:function(){return this.lineSep||"\n"}}),ka.prototype.eachLine=ka.prototype.iter;var Ea="iter insert remove copy getEditor constructor".split(" ");for(var Ta in ka.prototype)ka.prototype.hasOwnProperty(Ta)&&Ri(Ea,Ta)<0&&(t.prototype[Ta]=function(t){return function(){return t.apply(this.doc,arguments)}}(ka.prototype[Ta]));Ni(ka);var Aa=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Na=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Pa=t.e_stop=function(t){Aa(t),Na(t)},Da=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={}),i=r[e]||(r[e]=[]);i.push(n)}},Oa=[],Ra=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else for(var r=Mi(t,e,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},Ia=t.signal=function(t,e){var n=Mi(t,e,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},La=null,ja=30,Fa=t.Pass={toString:function(){return"CodeMirror.Pass"}},Ba={scroll:!1},Ua={origin:"*mouse"},Wa={origin:"+move"};Pi.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Ha=t.countColumn=function(t,e,n,r,i){null==e&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));for(var o=r||0,a=i||0;;){var u=t.indexOf("\t",o);if(u<0||u>=e)return a+(e-o);a+=u-o,a+=n-a%n,o=u+1}},za=t.findColumn=function(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);o==-1&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=e)return r}},Va=[""],qa=function(t){t.select()};No?qa=function(t){
t.selectionStart=0,t.selectionEnd=t.value.length}:xo&&(qa=function(t){try{t.select()}catch(e){}});var Ya,Xa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ka=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Xa.test(t))},Ga=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ya=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var Qa=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)};xo&&_o<11&&(Xi=function(){try{return document.activeElement}catch(t){return document.body}});var Za,Ja,$a=t.rmClass=function(t,e){var n=t.className,r=Ki(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}},tu=t.addClass=function(t,e){var n=t.className;Ki(e).test(n)||(t.className+=(n?" ":"")+e)},eu=!1,nu=function(){if(xo&&_o<9)return!1;var t=Vi("div");return"draggable"in t||"dragDrop"in t}(),ru=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);i==-1&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");a!=-1?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},iu=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},ou=function(){var t=Vi("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),au=null,uu=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;t<10;t++)uu[t+48]=uu[t+96]=String(t);for(var t=65;t<=90;t++)uu[t]=String.fromCharCode(t);for(var t=1;t<=12;t++)uu[t+111]=uu[t+63235]="F"+t}();var su,cu=function(){function t(t){return t<=247?n.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?r.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,u=/[Lb1n]/,s=/[1n]/,c="L";return function(n){if(!i.test(n))return!1;for(var r,l=n.length,f=[],h=0;h<l;++h)f.push(r=t(n.charCodeAt(h)));for(var h=0,p=c;h<l;++h){var r=f[h];"m"==r?f[h]=p:p=r}for(var h=0,d=c;h<l;++h){var r=f[h];"1"==r&&"r"==d?f[h]="n":a.test(r)&&(d=r,"r"==r&&(f[h]="R"))}for(var h=1,p=f[0];h<l-1;++h){var r=f[h];"+"==r&&"1"==p&&"1"==f[h+1]?f[h]="1":","!=r||p!=f[h+1]||"1"!=p&&"n"!=p||(f[h]=p),p=r}for(var h=0;h<l;++h){var r=f[h];if(","==r)f[h]="N";else if("%"==r){for(var g=h+1;g<l&&"%"==f[g];++g);for(var v=h&&"!"==f[h-1]||g<l&&"1"==f[g]?"1":"N",m=h;m<g;++m)f[m]=v;h=g-1}}for(var h=0,d=c;h<l;++h){var r=f[h];"L"==d&&"1"==r?f[h]="L":a.test(r)&&(d=r)}for(var h=0;h<l;++h)if(o.test(f[h])){for(var g=h+1;g<l&&o.test(f[g]);++g);for(var y="L"==(h?f[h-1]:c),b="L"==(g<l?f[g]:c),v=y||b?"L":"R",m=h;m<g;++m)f[m]=v;h=g-1}for(var w,x=[],h=0;h<l;)if(u.test(f[h])){var _=h;for(++h;h<l&&u.test(f[h]);++h);x.push(new e(0,_,h))}else{var C=h,M=x.length;for(++h;h<l&&"L"!=f[h];++h);for(var m=C;m<h;)if(s.test(f[m])){C<m&&x.splice(M,0,new e(1,C,m));var S=m;for(++m;m<h&&s.test(f[m]);++m);x.splice(M,0,new e(2,S,m)),C=m}else++m;C<h&&x.splice(M,0,new e(1,C,h))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new e(0,0,w[0].length))),1==Oi(x).level&&(w=n.match(/\s+$/))&&(Oi(x).to-=w[0].length,x.push(new e(0,l-w[0].length,l))),2==x[0].level&&x.unshift(new e(1,x[0].to,x[0].to)),x[0].level!=Oi(x).level&&x.push(new e(x[0].level,l,l)),x}}();return t.version="5.19.0",t})},function(t,e,n){var r,i;i=n(32),t.exports=r=i.createVariant({label:"Link",setTarget:function(t){this._target=t},target:function(){var t,e,n,r,i,o;for(n=[],t=this;!t.hasOwnProperty("_target");)n.unshift(t.head()),t=t.master();for(t=this._target,r=0,i=n.length;r<i&&(e=n[r],o=t.findVariantWithHead(e),null!=o);r++)t=o;return t}})},function(t,e,n){var r;t.exports=r={},r.Serializer=n(129),r.saveFile=function(t,e,n){var r,i;return r=document.createElement("a"),i=new Blob([t],{type:n}),r.href=URL.createObjectURL(i),r.download=e,r.click()},r.loadFile=function(t){var e;return e=document.createElement("input"),e.setAttribute("type","file"),e.addEventListener("change",function(n){var r,i,o;if(i=e.files,r=i[0])return o=new FileReader,o.onload=function(){return t(o.result)},o.readAsText(r)}),e.click()}},function(t,e,n){!function(e){function n(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function r(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function i(t){for(w in _)_[w]=t[T[w]]}function o(t){var e,r,o,a,u,c;if(e=t.keyCode,n(E,e)==-1&&E.push(e),93!=e&&224!=e||(e=91),e in _){_[e]=!0;for(o in M)M[o]==e&&(s[o]=!0)}else if(i(t),s.filter.call(this,t)&&e in x)for(c=d(),a=0;a<x[e].length;a++)if(r=x[e][a],r.scope==c||"all"==r.scope){u=r.mods.length>0;for(o in _)(!_[o]&&n(r.mods,+o)>-1||_[o]&&n(r.mods,+o)==-1)&&(u=!1);(0!=r.mods.length||_[16]||_[18]||_[17]||_[91])&&!u||r.method(t,r)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function a(t){var e,r=t.keyCode,i=n(E,r);if(i>=0&&E.splice(i,1),93!=r&&224!=r||(r=91),r in _){_[r]=!1;for(e in M)M[e]==r&&(s[e]=!1)}}function u(){for(w in _)_[w]=!1;for(w in M)s[w]=!1}function s(t,e,n){var r,i;r=v(t),void 0===n&&(n=e,e="all");for(var o=0;o<r.length;o++)i=[],t=r[o].split("+"),t.length>1&&(i=m(t),t=[t[t.length-1]]),t=t[0],t=k(t),t in x||(x[t]=[]),x[t].push({shortcut:r[o],scope:e,method:n,key:r[o],mods:i})}function c(t,e){var n,i,o,a,u,s=[];for(n=v(t),a=0;a<n.length;a++){if(i=n[a].split("+"),i.length>1&&(s=m(i),t=i[i.length-1]),t=k(t),void 0===e&&(e=d()),!x[t])return;for(o=0;o<x[t].length;o++)u=x[t][o],u.scope===e&&r(u.mods,s)&&(x[t][o]={})}}function l(t){return"string"==typeof t&&(t=k(t)),n(E,t)!=-1}function f(){return E.slice(0)}function h(t){var e=(t.target||t.srcElement).tagName;return!("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)}function p(t){C=t||"all"}function d(){return C||"all"}function g(t){var e,n,r;for(e in x)for(n=x[e],r=0;r<n.length;)n[r].scope===t?n.splice(r,1):r++}function v(t){var e;return t=t.replace(/\s/g,""),e=t.split(","),""==e[e.length-1]&&(e[e.length-2]+=","),e}function m(t){for(var e=t.slice(0,t.length-1),n=0;n<e.length;n++)e[n]=M[e[n]];return e}function y(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(){n(window.event)})}function b(){var t=e.key;return e.key=A,t}var w,x={},_={16:!1,18:!1,17:!1,91:!1},C="all",M={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},S={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},k=function(t){return S[t]||t.toUpperCase().charCodeAt(0)},E=[];for(w=1;w<20;w++)S["f"+w]=111+w;var T={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(w in M)s[w]=!1;y(document,"keydown",function(t){o(t)}),y(document,"keyup",a),y(window,"focus",u);var A=e.key;e.key=s,e.key.setScope=p,e.key.getScope=d,e.key.deleteScope=g,e.key.filter=h,e.key.isPressed=l,e.key.getPressedKeyCodes=f,e.key.noConflict=b,e.key.unbind=c,t.exports=s}(this)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){g&&p&&(g=!1,p.length?d=p.concat(d):v=-1,d.length&&u())}function u(){if(!g){var t=i(a);g=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,g=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,d=[],g=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new s(t,e)),1!==d.length||g||i(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=n(20),o=n(4),a=n(1);o(r.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t){return!!l.hasOwnProperty(t)||!c.hasOwnProperty(t)&&(s.test(t)?(l[t]=!0,!0):(c[t]=!0,!1))}function i(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&e<1||t.hasOverloadedBooleanValue&&e===!1}var o=n(23),a=n(12),u=n(230),s=(n(3),/^[a-zA-Z_][\w\.\-]*$/),c={},l={},f={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+"="+u(t)},setAttributeForID:function(t,e){t.setAttribute(o.ID_ATTRIBUTE_NAME,e)},createMarkupForProperty:function(t,e){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){if(i(n,e))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?r+'=""':r+"="+u(e)}return o.isCustomAttribute(t)?null==e?"":t+"="+u(e):null},createMarkupForCustomAttribute:function(t,e){return r(t)&&null!=e?t+"="+u(e):""},setValueForProperty:function(t,e,n){var r=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(r){var a=r.mutationMethod;if(a)a(t,n);else if(i(r,n))this.deleteValueForProperty(t,e);else if(r.mustUseAttribute){var u=r.attributeName,s=r.attributeNamespace;s?t.setAttributeNS(s,u,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?t.setAttribute(u,""):t.setAttribute(u,""+n)}else{var c=r.propertyName;r.hasSideEffects&&""+t[c]==""+n||(t[c]=n)}}else o.isCustomAttribute(e)&&f.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){r(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,""+n))},deleteValueForProperty:function(t,e){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){var r=n.mutationMethod;if(r)r(t,void 0);else if(n.mustUseAttribute)t.removeAttribute(n.attributeName);else{var i=n.propertyName,a=o.getDefaultValueForProperty(t.nodeName,i);n.hasSideEffects&&""+t[i]===a||(t[i]=a)}}else o.isCustomAttribute(e)&&t.removeAttribute(e)}};a.measureMethods(f,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=f},function(t,e,n){"use strict";function r(t){null!=t.checkedLink&&null!=t.valueLink?c(!1):void 0}function i(t){r(t),null!=t.value||null!=t.onChange?c(!1):void 0}function o(t){r(t),null!=t.checked||null!=t.onChange?c(!1):void 0}function a(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var u=n(102),s=n(36),c=n(1),l=(n(3),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),f={value:function(t,e,n){return!t[e]||l[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},h={},p={checkPropTypes:function(t,e,n){for(var r in f){if(f.hasOwnProperty(r))var i=f[r](e,r,t,s.prop);if(i instanceof Error&&!(i.message in h)){h[i.message]=!0;a(n)}}},getValue:function(t){return t.valueLink?(i(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(o(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(i(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(o(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=p},function(t,e,n){"use strict";var r=n(52),i=n(9),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(t){i.purgeID(t)}};t.exports=o},function(t,e,n){"use strict";var r=n(1),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){i?r(!1):void 0,o.unmountIDFromEnvironment=t.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=t.replaceNodeWithMarkupByID,o.processChildrenUpdates=t.processChildrenUpdates,i=!0}}};t.exports=o},function(t,e,n){"use strict";var r=n(82),i=n(48),o=n(9),a=n(12),u=n(1),s={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},c={updatePropertyByID:function(t,e,n){var r=o.getNode(t);s.hasOwnProperty(e)?u(!1):void 0,null!=n?i.setValueForProperty(r,e,n):i.deleteValueForProperty(r,e)},dangerouslyReplaceNodeWithMarkupByID:function(t,e){var n=o.getNode(t);r.dangerouslyReplaceNodeWithMarkup(n,e)},dangerouslyProcessChildrenUpdates:function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=o.getNode(t[n].parentID);r.processUpdates(t,e)}};a.measureMethods(c,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=c},function(t,e,n){"use strict";function r(t){u.enqueueUpdate(t)}function i(t,e){var n=a.get(t);return n?n:null}var o=(n(18),n(10)),a=n(30),u=n(13),s=n(4),c=n(1),l=(n(3),{isMounted:function(t){var e=a.get(t);return!!e&&!!e._renderedComponent},enqueueCallback:function(t,e){"function"!=typeof e?c(!1):void 0;var n=i(t);return n?(n._pendingCallbacks?n._pendingCallbacks.push(e):n._pendingCallbacks=[e],void r(n)):null},enqueueCallbackInternal:function(t,e){"function"!=typeof e?c(!1):void 0,t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],r(t)},enqueueForceUpdate:function(t){var e=i(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,r(e))},enqueueReplaceState:function(t,e){var n=i(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(t,e){var n=i(t,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(e),r(n)}},enqueueSetProps:function(t,e){var n=i(t,"setProps");n&&l.enqueueSetPropsInternal(n,e)},enqueueSetPropsInternal:function(t,e){var n=t._topLevelWrapper;n?void 0:c(!1);var i=n._pendingElement||n._currentElement,a=i.props,u=s({},a.props,e);n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,u)),r(n)},enqueueReplaceProps:function(t,e){var n=i(t,"replaceProps");n&&l.enqueueReplacePropsInternal(n,e)},enqueueReplacePropsInternal:function(t,e){var n=t._topLevelWrapper;n?void 0:c(!1);var i=n._pendingElement||n._currentElement,a=i.props;n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,e)),r(n)},enqueueElementInternal:function(t,e){t._pendingElement=e,r(t)}});t.exports=l},function(t,e){"use strict";t.exports="0.14.8"},function(t,e,n){"use strict";function r(t){return null==t?null:1===t.nodeType?t:i.has(t)?o.getNodeFromInstance(t):(null!=t.render&&"function"==typeof t.render?a(!1):void 0,void a(!1))}var i=(n(18),n(30)),o=n(9),a=n(1);n(3);t.exports=r},function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=n},function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=i[t];return!!r&&!!n[r]}function r(t){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=r},function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}t.exports=n},function(t,e){"use strict";function n(t){var e=t&&(r&&t[r]||t[i]);if("function"==typeof e)return e}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=n},function(t,e,n){"use strict";function r(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function i(t){var e;if(null===t||t===!1)e=new a(i);else if("object"==typeof t){var n=t;!n||"function"!=typeof n.type&&"string"!=typeof n.type?c(!1):void 0,e="string"==typeof n.type?u.createInternalComponent(n):r(n.type)?new n.type(n):new l}else"string"==typeof t||"number"==typeof t?e=u.createInstanceForText(t):c(!1);return e.construct(t),e._mountIndex=0,e._mountImage=null,e}var o=n(191),a=n(94),u=n(100),s=n(4),c=n(1),l=(n(3),function(){});s(l.prototype,o.Mixin,{_instantiateReactComponent:i}),t.exports=i},function(t,e,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(7);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},function(t,e,n){"use strict";var r=n(7),i=n(40),o=n(41),a=function(t,e){t.textContent=e};r.canUseDOM&&("textContent"in document.documentElement||(a=function(t,e){o(t,i(e))})),t.exports=a},function(t,e){"use strict";function n(t,e){var n=null===t||t===!1,r=null===e||e===!1;if(n||r)return n===r;var i=typeof t,o=typeof e;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&t.type===e.type&&t.key===e.key}t.exports=n},function(t,e,n){"use strict";function r(t){return g[t]}function i(t,e){return t&&null!=t.key?a(t.key):e.toString(36)}function o(t){return(""+t).replace(v,r)}function a(t){return"$"+o(t)}function u(t,e,n,r){var o=typeof t;if("undefined"!==o&&"boolean"!==o||(t=null),null===t||"string"===o||"number"===o||c.isValidElement(t))return n(r,t,""===e?p+i(t,0):e),1;var s,l,g=0,v=""===e?p:e+d;if(Array.isArray(t))for(var m=0;m<t.length;m++)s=t[m],l=v+i(s,m),g+=u(s,l,n,r);else{var y=f(t);if(y){var b,w=y.call(t);if(y!==t.entries)for(var x=0;!(b=w.next()).done;)s=b.value,l=v+i(s,x++),g+=u(s,l,n,r);else for(;!(b=w.next()).done;){var _=b.value;_&&(s=_[1],l=v+a(_[0])+d+i(s,0),g+=u(s,l,n,r))}}else if("object"===o){String(t);h(!1)}}return g}function s(t,e,n){return null==t?0:u(t,"",e,n)}var c=(n(18),n(10)),l=n(24),f=n(59),h=n(1),p=(n(3),l.SEPARATOR),d=":",g={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g;t.exports=s},function(t,e,n){"use strict";var r=(n(4),n(14)),i=(n(3),r);t.exports=i},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(46).nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;e.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,r=!(arguments.length<2)&&u.call(arguments,1);return s[n]=!0,o(function(){s[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete s[t]}}).call(e,n(66).setImmediate,n(66).clearImmediate)},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),s(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function u(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function s(t,n,r){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=s(t,i,r)),i}var o=c(t,n);if(o)return o;var a=Object.keys(n),g=u(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(k(n)){var v=n.name?": "+n.name:"";return t.stylize("[Function"+v+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(M(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return l(n)}var m="",y=!1,w=["{","}"];if(d(n)&&(y=!0,w=["[","]"]),k(n)){var x=n.name?": "+n.name:"";m=" [Function"+x+"]"}if(_(n)&&(m=" "+RegExp.prototype.toString.call(n)),M(n)&&(m=" "+Date.prototype.toUTCString.call(n)),S(n)&&(m=" "+l(n)),0===a.length&&(!y||0==n.length))return w[0]+m+w[1];if(r<0)return _(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var C;return C=y?f(t,n,r,g,a):a.map(function(e){return h(t,n,r,g,e,y)}),t.seen.pop(),p(C,m,w)}function c(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,u=e.length;a<u;++a)P(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,u,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),P(r,i)||(a="["+i+"]"),u||(t.seen.indexOf(c.value)<0?(u=v(n)?s(t,c.value,null):s(t,c.value,n-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return u;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function x(t){return void 0===t}function _(t){return C(t)&&"[object RegExp]"===T(t)}function C(t){return"object"==typeof t&&null!==t}function M(t){return C(t)&&"[object Date]"===T(t)}function S(t){return C(t)&&("[object Error]"===T(t)||t instanceof Error)}function k(t){return"function"==typeof t}function E(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}function N(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),I[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(D,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),u=r[n];n<o;u=r[++n])a+=v(u)||!C(u)?" "+u:" "+i(u);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(x(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var O,R={};e.debuglog=function(t){if(x(O)&&(O={NODE_ENV:"production"}.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(O)){var n=r.pid;R[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else R[t]=function(){};return R[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=g,e.isNull=v,e.isNullOrUndefined=m,e.isNumber=y,e.isString=b,e.isSymbol=w,e.isUndefined=x,e.isRegExp=_,e.isObject=C,e.isDate=M,e.isError=S,e.isFunction=k,e.isPrimitive=E,e.isBuffer=n(249);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",N(),e.format.apply(e,arguments))},e.inherits=n(248),e._extend=function(t,e){if(!e||!C(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(46))},function(t,e,n){var r,i;i=n(2),t.exports=r=function(){function t(t,e){this.items=t,this.origin=e}return t.prototype.toArray=function(){return i.map(this.items,function(e){return e instanceof t?e.toArray():e})},t.prototype.flattenToArray=function(){return i.flatten(this.toArray())},t}()},function(t,e,n){var r,i,o,a;a=n(2),i=n(32),r=n(5),t.exports=o=i.createVariant({label:"Node With Attributes",attributes:function(){return this.childrenOfType(r.Attribute)},getAttributesByName:function(){return a.indexBy(this.attributes(),"name")},getAttributesValuesByName:function(){return a.mapObject(this.getAttributesByName(),function(t){return t.value()})}})},function(t,e,n){(function(e){function r(t){return function(){var n=[],r={update:function(t,r){return e.isBuffer(t)||(t=new e(t,r)),n.push(t),this},digest:function(r){var i=e.concat(n),o=t(i);return n=null,r?o.toString(r):o}};return r}}var i=n(242),o=r(n(152)),a=r(n(232));t.exports=function(t){return"md5"===t?new o:"rmd160"===t?new a:i(t)}}).call(e,n(15).Buffer)},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){"use strict";var r=n(14),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i},function(t,e,n){"use strict";function r(t,e){var n=!0;t:for(;n;){var r=t,o=e;if(n=!1,r&&o){if(r===o)return!0;if(i(r))return!1;if(i(o)){t=r,e=o.parentNode,n=!0;continue t}return r.contains?r.contains(o):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(o))}return!1}}var i=n(167);t.exports=r},function(t,e){"use strict";function n(t){try{t.focus()}catch(e){}}t.exports=n},function(t,e){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}t.exports=n},function(t,e,n){"use strict";function r(t){return a?void 0:o(!1),h.hasOwnProperty(t)||(t="*"),u.hasOwnProperty(t)||("*"===t?a.innerHTML="<link />":a.innerHTML="<"+t+"></"+t+">",u[t]=!a.firstChild),u[t]?h[t]:null}var i=n(7),o=n(1),a=i.canUseDOM?document.createElement("div"):null,u={},s=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(t){h[t]=f,u[t]=!0}),t.exports=r},function(t,e){"use strict";function n(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var o=r.bind(e),a=0;a<n.length;a++)if(!o(n[a])||t[n[a]]!==e[n[a]])return!1;return!0}var r=Object.prototype.hasOwnProperty;t.exports=n},function(module,exports){/*! @license Firebase v2.4.2
	    License: https://www.firebase.com/terms/terms-of-service.html */
!function(){function p(t){return void 0!==t}function aa(){}function ba(t){t.yb=function(){return t.zf?t.zf:t.zf=new t}}function ca(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function da(t){return"array"==ca(t)}function ea(t){var e=ca(t);return"array"==e||"object"==e&&"number"==typeof t.length}function q(t){return"string"==typeof t}function fa(t){return"number"==typeof t}function r(t){return"function"==ca(t)}function ga(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function u(t,e,n){return u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,u.apply(null,arguments)}function ka(t,e){function n(){}n.prototype=e.prototype,t.ph=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.lh=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function la(t){if(Error.captureStackTrace)Error.captureStackTrace(this,la);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function v(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ma(t,e){var n,r={};for(n in t)r[n]=e.call(void 0,t[n],n,t);return r}function na(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function oa(t){var e,n=0;for(e in t)n++;return n}function pa(t){for(var e in t)return e}function qa(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function ra(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function sa(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function ta(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r}function ua(t,e){var n=ta(t,e,void 0);return n&&t[n]}function va(t){for(var e in t)return!1;return!0}function wa(t){var e,n={};for(e in t)n[e]=t[e];return n}function ya(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<xa.length;o++)n=xa[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function za(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Vd=void 0}function Ba(t,e,n){switch(typeof e){case"string":Ca(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(da(e)){var r=e.length;n.push("[");for(var i="",o=0;o<r;o++)n.push(i),i=e[o],Ba(t,t.Vd?t.Vd.call(e,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i=e[o],"function"!=typeof i&&(n.push(r),Ca(o,n),n.push(":"),Ba(t,t.Vd?t.Vd.call(e,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function Ca(t,e){e.push('"',t.replace(Ea,function(t){if(t in Da)return Da[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),Da[t]=n+e.toString(16)}),'"')}function Fa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)}function Ia(){this.Ya=-1}function Ja(){this.Ya=-1,this.Ya=64,this.P=[],this.pe=[],this.eg=[],this.Od=[],this.Od[0]=128;for(var t=1;t<this.Ya;++t)this.Od[t]=0;this.ge=this.ec=0,this.reset()}function Ka(t,e,n){n||(n=0);var r=t.eg;if(q(e))for(var i=0;16>i;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}e=t.P[0],n=t.P[1];for(var a,u=t.P[2],s=t.P[3],c=t.P[4],i=0;80>i;i++)40>i?20>i?(o=s^n&(u^s),a=1518500249):(o=n^u^s,a=1859775393):60>i?(o=n&u|s&(n|u),a=2400959708):(o=n^u^s,a=3395469782),o=(e<<5|e>>>27)+o+c+a+r[i]&4294967295,c=s,s=u,u=4294967295&(n<<30|n>>>2),n=e,e=o;t.P[0]=t.P[0]+e&4294967295,t.P[1]=t.P[1]+n&4294967295,t.P[2]=t.P[2]+u&4294967295,t.P[3]=t.P[3]+s&4294967295,t.P[4]=t.P[4]+c&4294967295}function Ra(t,e){var n=Sa(t,e,void 0);return 0>n?null:q(t)?t.charAt(n):t[n]}function Sa(t,e,n){for(var r=t.length,i=q(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&e.call(n,i[o],o,t))return o;return-1}function Ta(t,e){var n=La(t,e);0<=n&&x.splice.call(t,n,1)}function Ua(t,e,n){return 2>=arguments.length?x.slice.call(t,e):x.slice.call(t,e,n)}function Va(t,e){t.sort(e||Wa)}function Wa(t,e){return t>e?1:t<e?-1:0}function Xa(t){n.setTimeout(function(){throw t},0)}function Za(){var t=n.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==w.indexOf("Presto")&&(t=function(){var t=document.createElement("iframe");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=u(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!=typeof t&&-1==w.indexOf("Trident")&&-1==w.indexOf("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(p(r.next)){r=r.next;var t=r.hb;r.hb=null,t()}},function(t){i.next={hb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(t){var e=document.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}function $a(t,e){ab||bb(),cb||(ab(),cb=!0),db.push(new eb(t,e))}function bb(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve();ab=function(){t.then(fb)}}else ab=function(){var t=fb;!r(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ya||(Ya=Za()),Ya(t)):n.setImmediate(t)}}function fb(){for(;db.length;){var t=db;db=[];for(var e=0;e<t.length;e++){var n=t[e];try{n.yg.call(n.scope)}catch(r){Xa(r)}}}cb=!1}function eb(t,e){this.yg=t,this.scope=e}function nb(t,e){if(!ea(t))throw Error("encodeByteArray takes an array as a parameter");ob();for(var n=e?lb:kb,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,u=a?t[i+1]:0,s=i+2<t.length,c=s?t[i+2]:0,l=o>>2,o=(3&o)<<4|u>>4,u=(15&u)<<2|c>>6,c=63&c;s||(c=64,a||(u=64)),r.push(n[l],n[o],n[u],n[c])}return r.join("")}function ob(){if(!kb){kb={},lb={},mb={};for(var t=0;65>t;t++)kb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),lb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),mb[lb[t]]=t,62<=t&&(mb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function pb(t,e){if(this.N=qb,this.Rf=void 0,this.Ba=this.Ha=null,this.yd=this.ye=!1,t==rb)sb(this,tb,e);else try{var n=this;t.call(e,function(t){sb(n,tb,t)},function(t){if(!(t instanceof ub))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}sb(n,vb,t)})}catch(r){sb(this,vb,r)}}function rb(){}function xb(t,e){if(t.N==qb)if(t.Ha){var n=t.Ha;if(n.Ba){for(var r,i=0,o=-1,a=0;(r=n.Ba[a])&&!((r=r.o)&&(i++,r==t&&(o=a),0<=o&&1<i));a++);0<=o&&(n.N==qb&&1==i?xb(n,e):(i=n.Ba.splice(o,1)[0],yb(n,i,vb,e)))}t.Ha=null}else sb(t,vb,e)}function zb(t,e){t.Ba&&t.Ba.length||t.N!=tb&&t.N!=vb||Ab(t),t.Ba||(t.Ba=[]),t.Ba.push(e)}function wb(t,e,n,r){var i={o:null,Hf:null,Jf:null};return i.o=new pb(function(t,o){i.Hf=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.Jf=n?function(e){try{var i=n.call(r,e);!p(i)&&e instanceof ub?o(e):t(i)}catch(a){o(a)}}:o}),i.o.Ha=t,zb(t,i),i.o}function sb(t,e,n){if(t.N==qb){if(t==n)e=vb,n=new TypeError("Promise cannot resolve to itself");else{var i;if(n)try{i=!!n.$goog_Thenable}catch(o){i=!1}else i=!1;if(i)return t.N=1,void n.then(t.Yf,t.Zf,t);if(ga(n))try{var a=n.then;if(r(a))return void Bb(t,n,a)}catch(u){e=vb,n=u}}t.Rf=n,t.N=e,t.Ha=null,Ab(t),e!=vb||n instanceof ub||Cb(t,n)}}function Bb(t,e,n){function r(e){o||(o=!0,t.Zf(e))}function i(e){o||(o=!0,t.Yf(e))}t.N=1;var o=!1;try{n.call(e,i,r)}catch(a){r(a)}}function Ab(t){t.ye||(t.ye=!0,$a(t.wg,t))}function yb(t,e,n,r){if(n==tb)e.Hf(r);else{if(e.o)for(;t&&t.yd;t=t.Ha)t.yd=!1;e.Jf(r)}}function Cb(t,e){t.yd=!0,$a(function(){t.yd&&Db.call(null,e)})}function ub(t){la.call(this,t)}function y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function z(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Fb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gb(t){var e={};return Fb(t,function(t,n){e[t]=n}),e}function Hb(t){return"object"==typeof t&&null!==t}function Ib(t){var e=[];return Fb(t,function(t,n){da(n)?Ma(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function Jb(t){var e={};return t=t.replace(/^\?/,"").split("&"),Ma(t,function(t){t&&(t=t.split("="),e[t[0]]=t[1])}),e}function Kb(t,e){if(!t)throw Lb(e)}function Lb(t){return Error("Firebase ("+Eb+") INTERNAL ASSERT FAILED: "+t)}function B(){var t=this;this.reject=this.resolve=null,this.D=new Mb(function(e,n){t.resolve=e,t.reject=n})}function C(t,e){return function(n,i){n?t.reject(n):t.resolve(i),r(e)&&(Nb(t.D),1===e.length?e(n):e(n,i))}}function Nb(t){t.then(void 0,aa)}function Ob(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);55296<=i&&56319>=i&&(i-=55296,r++,Kb(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(t.charCodeAt(r)-56320)),128>i?e[n++]=i:(2048>i?e[n++]=i>>6|192:(65536>i?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function Pb(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e++:2048>r?e+=2:55296<=r&&56319>=r?(e+=4,n++):e+=3}return e}function D(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(r+" argument ")}function F(t,e,n,i){if((!i||p(n))&&!r(n))throw Error(E(t,e,i)+"must be a valid function.")}function Qb(t,e,n){if(p(n)&&(!ga(n)||null===n))throw Error(E(t,e,!0)+"must be a valid context object.")}function Rb(t){return"undefined"!=typeof JSON&&p(JSON.parse)?JSON.parse(t):za(t)}function G(t){if("undefined"!=typeof JSON&&p(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ba(new Aa,t,e),t=e.join("")}return t}function Sb(){this.Zd=H}function Tb(){}function Vb(t,e,n){this.bg=t,this.Oa=e,this.Nd=n}function Zb(){this.xb=[]}function $b(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.cc();null===n||o.ea(n.cc())||(t.xb.push(n),n=null),null===n&&(n=new ac(o)),n.add(i)}n&&t.xb.push(n)}function bc(t,e,n){$b(t,n),cc(t,function(t){return t.ea(e)})}function dc(t,e,n){$b(t,n),cc(t,function(t){return t.contains(e)||e.contains(t)})}function cc(t,e){for(var n=!0,r=0;r<t.xb.length;r++){var i=t.xb[r];if(i)if(i=i.cc(),e(i)){for(var i=t.xb[r],o=0;o<i.xd.length;o++){var a=i.xd[o];if(null!==a){i.xd[o]=null;var u=a.Zb();ec&&fc("event: "+a.toString()),gc(u)}}t.xb[r]=null}else n=!1}n&&(t.xb=[])}function ac(t){this.ta=t,this.xd=[]}function J(t,e,n,r){this.type=t,this.Na=e,this.Za=n,this.Oe=r,this.Td=void 0}function hc(t){return new J(ic,t)}function jc(t,e,n,r){this.xe=e,this.be=n,this.Td=r,this.wd=t}function kc(t,e,n){this.xe=t,this.error=e,this.path=n}function Xb(t,e,n){this.A=t,this.ga=e,this.Yb=n}function lc(t){return t.ga}function mc(t){return t.Yb}function nc(t,e){return e.e()?t.ga&&!t.Yb:Wb(t,K(e))}function Wb(t,e){return t.ga&&!t.Yb||t.A.Fa(e)}function oc(t){this.pg=t,this.Gd=null}function pc(t,e){this.Vf={},this.hd=new oc(t),this.da=e;var n=1e4+2e4*Math.random();setTimeout(u(this.Of,this),Math.floor(n))}function qc(){this.Hc={}}function rc(t,e,n){p(n)||(n=1),y(t.Hc,e)||(t.Hc[e]=0),t.Hc[e]+=n}function uc(t){return t=t.toString(),sc[t]||(sc[t]=new qc),sc[t]}function vc(t,e){var n=t.toString();return tc[n]||(tc[n]=e()),tc[n]}function L(t,e){this.name=t,this.U=e}function wc(t,e){return new L(t,e)}function xc(t,e){return yc(t.name,e.name)}function zc(t,e){return yc(t,e)}function Ac(t,e,n){this.type=Bc,this.source=t,this.path=e,this.Ja=n}function Cc(t,e){this.type=Dc,this.source=t,this.path=e}function Ec(t,e){this.Pa=t,this.xa=e?e:Fc}function Gc(t,e){for(var n,r=t.xa,i=null;!r.e();){if(n=t.Pa(e,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:0<n&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Hc(t,e,n,r,i){for(this.Xd=i||null,this.Je=r,this.Ta=[],i=1;!t.e();)if(i=e?n(t.key,e):1,r&&(i*=-1),0>i)t=this.Je?t.left:t.right;else{if(0===i){this.Ta.push(t);break}this.Ta.push(t),t=this.Je?t.right:t.left}}function Ic(t){if(0===t.Ta.length)return null;var e,n=t.Ta.pop();if(e=t.Xd?t.Xd(n.key,n.value):{key:n.key,value:n.value},t.Je)for(n=n.left;!n.e();)t.Ta.push(n),n=n.right;else for(n=n.right;!n.e();)t.Ta.push(n),n=n.left;return e}function Jc(t){if(0===t.Ta.length)return null;var e;return e=t.Ta,e=e[e.length-1],t.Xd?t.Xd(e.key,e.value):{key:e.key,value:e.value}}function Kc(t,e,n,r,i){this.key=t,this.value=e,this.color=null==n||n,this.left=null!=r?r:Fc,this.right=null!=i?i:Fc}function Lc(t){return t.left.e()?t:Lc(t.left)}function Nc(t){return t.left.e()?Fc:(t.left.ha()||t.left.left.ha()||(t=Oc(t)),t=t.$(null,null,null,Nc(t.left),null),Mc(t))}function Mc(t){return t.right.ha()&&!t.left.ha()&&(t=Rc(t)),t.left.ha()&&t.left.left.ha()&&(t=Pc(t)),t.left.ha()&&t.right.ha()&&(t=Qc(t)),t}function Oc(t){return t=Qc(t),t.right.left.ha()&&(t=t.$(null,null,null,null,Pc(t.right)),t=Rc(t),t=Qc(t)),t}function Rc(t){return t.right.$(null,null,t.color,t.$(null,null,!0,null,t.right.left),null)}function Pc(t){return t.left.$(null,null,t.color,null,t.$(null,null,!0,t.left.right,null))}function Qc(t){return t.$(null,null,!t.color,t.left.$(null,null,!t.left.color,null,null),t.right.$(null,null,!t.right.color,null,null))}function Sc(){}function Tc(t,e){return t&&"object"==typeof t?(O(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function Uc(t,e){var n=new Vc;return Wc(t,new P(""),function(t,r){n.rc(t,Xc(r,e))}),n}function Xc(t,e){var n,r=t.C().J(),r=Tc(r,e);if(t.L()){var i=Tc(t.Ea(),e);return i!==t.Ea()||r!==t.C().J()?new Yc(i,Q(r)):t}return n=t,r!==t.C().J()&&(n=n.ia(new Yc(r))),t.R(R,function(t,r){var i=Xc(r,e);i!==r&&(n=n.W(t,i))}),n}function Zc(){this.Ac={}}function $c(t){this.Ic=t,this.Sd="firebase:"}function ad(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $c(e)}}catch(n){}return new Zc}function dd(t,e,n,r,i){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.ob=e,this.lc=n,this.jh=r,this.Rd=i||"",this.ab=bd.get("host:"+t)||this.host}function ed(t,e){e!==t.ab&&(t.ab=e,"s-"===t.ab.substr(0,2)&&bd.set("host:"+t.host,t.ab))}function fd(t,e,n){if(O("string"==typeof e,"typeof type must == string"),O("object"==typeof n,"typeof params must == object"),e===gd)e=(t.ob?"wss://":"ws://")+t.ab+"/.ws?";else{if(e!==hd)throw Error("Unknown connection type: "+e);e=(t.ob?"https://":"http://")+t.ab+"/.lp?"}t.host!==t.ab&&(n.ns=t.lc);var r=[];return v(n,function(t,e){r.push(e+"="+t)}),e+r.join("&")}function kd(t){try{var e;if("undefined"!=typeof atob)e=atob(t);else{ob();for(var n=mb,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;var u=i<t.length?n[t.charAt(i)]:64;++i;var s=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();r.push(o<<2|a>>4),64!=u&&(r.push(a<<4&240|u>>2),64!=s&&r.push(u<<6&192|s))}if(8192>r.length)e=String.fromCharCode.apply(null,r);else{for(t="",n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,Ua(r,n,n+8192));e=t}}return e}catch(c){fc("base64Decode failed: ",c)}return null}function ld(t){var e=Ob(t);t=new Ja,t.update(e);var e=[],n=8*t.ge;56>t.ec?t.update(t.Od,56-t.ec):t.update(t.Od,t.Ya-(t.ec-56));for(var r=t.Ya-1;56<=r;r--)t.pe[r]=255&n,n/=256;for(Ka(t,t.pe),r=n=0;5>r;r++)for(var i=24;0<=i;i-=8)e[n]=t.P[r]>>i&255,++n;return nb(e)}function md(t){for(var e="",n=0;n<arguments.length;n++)e=ea(arguments[n])?e+md.apply(null,arguments[n]):"object"==typeof arguments[n]?e+G(arguments[n]):e+arguments[n],e+=" ";return e}function od(t,e){Kb(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?ec=u(console.log,console):"object"==typeof console.log&&(ec=function(t){console.log(t)})),e&&cd.set("logging_enabled",!0)):r(t)?ec=t:(ec=null,cd.remove("logging_enabled"))}function fc(t){if(!0===nd&&(nd=!1,null===ec&&!0===cd.get("logging_enabled")&&od(!0)),ec){var e=md.apply(null,arguments);ec(e)}}function pd(t){return function(){fc(t,arguments)}}function qd(t){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+md.apply(null,arguments);"undefined"!=typeof console.error?console.error(e):console.log(e)}}function rd(t){var e=md.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function S(t){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+md.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(e):console.log(e)}}function sd(t){var e="",n="",r="",i="",o=!0,a="https",u=443;if(q(t)){var s=t.indexOf("//");for(0<=s&&(a=t.substring(0,s-1),t=t.substring(s+2)),s=t.indexOf("/"),-1===s&&(s=t.length),e=t.substring(0,s),i="",t=t.substring(s).split("/"),s=0;s<t.length;s++)if(0<t[s].length){var c=t[s];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(l){}i+="/"+c}t=e.split("."),3===t.length?(n=t[1],r=t[0].toLowerCase()):2===t.length&&(n=t[0]),s=e.indexOf(":"),0<=s&&(o="https"===a||"wss"===a,u=e.substring(s+1),isFinite(u)&&(u=String(u)),u=q(u)?/^\s*-?0x/i.test(u)?parseInt(u,16):parseInt(u,10):NaN)}return{host:e,port:u,domain:n,fh:r,ob:o,scheme:a,bd:i}}function td(t){return fa(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function ud(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function yc(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=vd(t),r=vd(e);return null!==n?null!==r?0==n-r?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}function wd(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+G(e))}function xd(t){if("object"!=typeof t||null===t)return G(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var r=0;r<n.length;r++)0!==r&&(e+=","),e+=G(n[r]),e+=":",e+=xd(t[n[r]]);return e+"}"}function yd(t,e){if(t.length<=e)return[t];for(var n=[],r=0;r<t.length;r+=e)r+e>t?n.push(t.substring(r,t.length)):n.push(t.substring(r,r+e));return n}function zd(t,e){if(da(t))for(var n=0;n<t.length;++n)e(n,t[n]);else v(t,e)}function Ad(t){O(!td(t),"Invalid JSON number");var e,n,r,i;for(0===t?(r=n=0,e=-(1/0)===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=r+1023,r=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),i=[],t=52;t;--t)i.push(r%2?1:0),r=Math.floor(r/2);for(t=11;t;--t)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(e?1:0),i.reverse(),e=i.join(""),n="",t=0;64>t;t+=8)r=parseInt(e.substr(t,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function vd(t){return Bd.test(t)&&(t=Number(t),-2147483648<=t&&2147483647>=t)?t:null}function gc(t){try{t()}catch(e){setTimeout(function(){throw S("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function T(t,e){if(r(t)){var n=Array.prototype.slice.call(arguments,1).slice();gc(function(){t.apply(null,n)})}}function Cd(t){var e={},n={},r={},i="";try{var o=t.split("."),e=Rb(kd(o[0])||""),n=Rb(kd(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{mh:e,Ec:n,data:r,bh:i}}function Dd(t){return t=Cd(t).Ec,"object"==typeof t&&t.hasOwnProperty("iat")?z(t,"iat"):null}function Ed(t){t=Cd(t);var e=t.Ec;return!!t.bh&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function Fd(t){this.Y=t,this.g=t.n.g}function Gd(t,e,n,r){var i=[],o=[];return Ma(e,function(e){"child_changed"===e.type&&t.g.Dd(e.Oe,e.Na)&&o.push(new J("child_moved",e.Na,e.Za))}),Hd(t,i,"child_removed",e,r,n),Hd(t,i,"child_added",e,r,n),Hd(t,i,"child_moved",o,r,n),Hd(t,i,"child_changed",e,r,n),Hd(t,i,ic,e,r,n),i}function Hd(t,e,n,r,i,o){r=Na(r,function(t){return t.type===n}),Va(r,u(t.qg,t)),Ma(r,function(n){var r=Id(t,n,o);Ma(i,function(i){i.Qf(n.type)&&e.push(i.createEvent(r,t.Y))})})}function Id(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Td=n.wf(e.Za,e.Na,t.g)),e}function Jd(){this.ib={}}function Kd(t,e){var n=e.type,r=e.Za;O("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),O(".priority"!==r,"Only non-priority child changes can be tracked.");var i=z(t.ib,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)t.ib[r]=new J("child_changed",e.Na,r,i.Na);else if("child_removed"==n&&"child_added"==o)delete t.ib[r];else if("child_removed"==n&&"child_changed"==o)t.ib[r]=new J("child_removed",i.Oe,r);else if("child_changed"==n&&"child_added"==o)t.ib[r]=new J("child_added",e.Na,r);else{if("child_changed"!=n||"child_changed"!=o)throw jd("Illegal combination of changes: "+e+" occurred after "+i);t.ib[r]=new J("child_changed",e.Na,r,i.Oe)}}else t.ib[r]=e}function Ld(t){this.g=t}function Md(t){this.Fe=new Ld(t.g),this.g=t.g;var e;t.oa?(e=Nd(t),e=t.g.Sc(Od(t),e)):e=t.g.Wc(),this.gd=e,t.ra?(e=Pd(t),t=t.g.Sc(Rd(t),e)):t=t.g.Tc(),this.Jc=t}function Sd(t){this.ua=new Md(t),this.g=t.g,O(t.la,"Only valid if limit has been set"),this.ma=t.ma,this.Nb=!Td(t)}function Ud(t,e,n,r,i,o){var a;if(t.Nb){var u=Vd(t.g);a=function(t,e){return u(e,t)}}else a=Vd(t.g);O(e.Hb()==t.ma,"");var s=new L(n,r),c=t.Nb?Wd(e,t.g):Xd(e,t.g),l=t.ua.matches(s);if(e.Fa(n)){for(var f=e.T(n),c=i.Ce(t.g,c,t.Nb);null!=c&&(c.name==n||e.Fa(c.name));)c=i.Ce(t.g,c,t.Nb);return i=null==c?1:a(c,s),l&&!r.e()&&0<=i?(null!=o&&Kd(o,new J("child_changed",r,n,f)),e.W(n,r)):(null!=o&&Kd(o,new J("child_removed",f,n)),e=e.W(n,H),null!=c&&t.ua.matches(c)?(null!=o&&Kd(o,new J("child_added",c.U,c.name)),e.W(c.name,c.U)):e)}return r.e()?e:l&&0<=a(c,s)?(null!=o&&(Kd(o,new J("child_removed",c.U,c.name)),Kd(o,new J("child_added",r,n))),e.W(n,r).W(c.name,H)):e}function Yd(t,e){this.me=t,this.og=e}function Zd(t){this.X=t}function ie(t,e,n,r,i,o){var a=e.Q;if(null!=r.xc(n))return e;var u;if(n.e())O(lc(e.w()),"If change path is empty, we must have complete server data"),mc(e.w())?(i=Yb(e),r=r.Cc(i instanceof fe?i:H)):r=r.Aa(Yb(e)),o=t.X.ya(e.Q.j(),r,o);else{var s=K(n);if(".priority"==s)O(1==le(n),"Can't have a priority with additional path components"),o=a.j(),u=e.w().j(),r=r.nd(n,o,u),o=null!=r?t.X.ia(o,r):a.j();else{var c=N(n);Wb(a,s)?(u=e.w().j(),r=r.nd(n,a.j(),u),r=null!=r?a.j().T(s).H(c,r):a.j().T(s)):r=r.Bc(s,e.w()),o=null!=r?t.X.H(a.j(),s,r,c,i,o):a.j()}}return ge(e,o,a.ga||n.e(),t.X.Ra())}function ae(t,e,n,r,i,o,a,u){var s=e.w();if(a=a?t.X:t.X.$b(),n.e())r=a.ya(s.j(),r,null);else if(a.Ra()&&!s.Yb)r=s.j().H(n,r),r=a.ya(s.j(),r,null);else{var c=K(n);if(!nc(s,n)&&1<le(n))return e;var l=N(n);r=s.j().T(c).H(l,r),r=".priority"==c?a.ia(s.j(),r):a.H(s.j(),c,r,l,Ub,null)}return s=s.ga||n.e(),e=new je(e.Q,new Xb(r,s,a.Ra())),ie(t,e,n,i,new Vb(i,e,o),u)}function $d(t,e,n,r,i,o,a){var u=e.Q;if(i=new Vb(i,e,o),n.e())a=t.X.ya(e.Q.j(),r,a),t=ge(e,a,!0,t.X.Ra());else if(o=K(n),".priority"===o)a=t.X.ia(e.Q.j(),r),t=ge(e,a,u.ga,u.Yb);else{n=N(n);var s=u.j().T(o);if(!n.e()){var c=i.uf(o);r=null!=c?".priority"===me(n)&&c.S(n.parent()).e()?c:c.H(n,r):H}s.ea(r)?t=e:(a=t.X.H(u.j(),o,r,n,i,a),t=ge(e,a,u.ga,t.X.Ra()))}return t}function ce(t,e,n,r,i,o,a){var u=e;return ne(r,function(r,s){var c=n.o(r);Wb(e.Q,K(c))&&(u=$d(t,u,c,s,i,o,a))}),ne(r,function(r,s){var c=n.o(r);Wb(e.Q,K(c))||(u=$d(t,u,c,s,i,o,a))}),u}function oe(t,e){return ne(e,function(e,n){t=t.H(e,n)}),t}function de(t,e,n,r,i,o,a,u){if(e.w().j().e()&&!lc(e.w()))return e;var s=e;n=n.e()?r:pe(qe,n,r);var c=e.w().j();return n.children.ka(function(n,r){if(c.Fa(n)){var l=e.w().j().T(n),l=oe(l,r);s=ae(t,s,new P(n),l,i,o,a,u)}}),n.children.ka(function(n,r){var l=!Wb(e.w(),n)&&null==r.value;c.Fa(n)||l||(l=e.w().j().T(n),l=oe(l,r),s=ae(t,s,new P(n),l,i,o,a,u))}),s}function he(t,e,n,r,i,o,a){if(null!=i.xc(n))return e;var u=mc(e.w()),s=e.w();if(null!=r.value){if(n.e()&&s.ga||nc(s,n))return ae(t,e,n,s.j().S(n),i,o,u,a);if(n.e()){var c=qe;return s.j().R(re,function(t,e){c=c.set(new P(t),e)}),de(t,e,n,c,i,o,u,a)}return e}return c=qe,ne(r,function(t){var e=n.o(t);nc(s,e)&&(c=c.set(t,s.j().S(e)))}),de(t,e,n,c,i,o,u,a)}function se(){}function Vd(t){return u(t.compare,t)}function ve(t){O(!t.e()&&".priority"!==K(t),"Can't create PathIndex with empty path or .priority key"),this.gc=t}function xe(){}function ye(){}function ze(){}function Ce(){this.Xb=this.ra=this.Pb=this.oa=this.la=!1,this.ma=0,this.Rb="",this.ic=null,this.Bb="",this.fc=null,this.zb="",this.g=R}function Td(t){return""===t.Rb?t.oa:"l"===t.Rb}function Od(t){return O(t.oa,"Only valid if start has been set"),t.ic}function Nd(t){return O(t.oa,"Only valid if start has been set"),t.Pb?t.Bb:"[MIN_NAME]"}function Rd(t){return O(t.ra,"Only valid if end has been set"),t.fc}function Pd(t){return O(t.ra,"Only valid if end has been set"),t.Xb?t.zb:"[MAX_NAME]"}function Ee(t){var e=new Ce;return e.la=t.la,e.ma=t.ma,e.oa=t.oa,e.ic=t.ic,e.Pb=t.Pb,e.Bb=t.Bb,e.ra=t.ra,e.fc=t.fc,e.Xb=t.Xb,e.zb=t.zb,e.g=t.g,e}function Fe(t,e){var n=Ee(t);return n.g=e,n}function Ge(t){var e={};if(t.oa&&(e.sp=t.ic,t.Pb&&(e.sn=t.Bb)),t.ra&&(e.ep=t.fc,t.Xb&&(e.en=t.zb)),t.la){e.l=t.ma;var n=t.Rb;""===n&&(n=Td(t)?"l":"r"),e.vf=n}return t.g!==R&&(e.i=t.g.toString()),e}function He(t){return!(t.oa||t.ra||t.la)}function Ie(t){return He(t)&&t.g==R}function Je(t){var e={};if(Ie(t))return e;var n;return t.g===R?n="$priority":t.g===Be?n="$value":t.g===re?n="$key":(O(t.g instanceof ve,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=G(n),t.oa&&(e.startAt=G(t.ic),t.Pb&&(e.startAt+=","+G(t.Bb))),t.ra&&(e.endAt=G(t.fc),t.Xb&&(e.endAt+=","+G(t.zb))),t.la&&(Td(t)?e.limitToFirst=t.ma:e.limitToLast=t.ma),e}function Ke(t,e){this.Ed=t,this.hc=e}function Le(t,e,n){var r=ma(t.Ed,function(r,i){var o=z(t.hc,i);if(O(o,"Missing index implementation for "+i),r===te){if(o.Lc(e.U)){for(var a=[],u=n.ac(wc),s=Ic(u);s;)s.name!=e.name&&a.push(s),s=Ic(u);return a.push(e),Me(a,Vd(o))}return te}return o=n.get(e.name),a=r,o&&(a=a.remove(new L(e.name,o))),a.Sa(e,e.U)});return new Ke(r,t.hc)}function Ne(t,e,n){var r=ma(t.Ed,function(t){if(t===te)return t;var r=n.get(e.name);return r?t.remove(new L(e.name,r)):t});return new Ke(r,t.hc)}function Yc(t,e){this.B=t,O(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.ca=e||H,Pe(this.ca),this.Gb=null}function fe(t,e,n){this.m=t,(this.ca=e)&&Pe(this.ca),t.e()&&O(!this.ca||this.ca.e(),"An empty node cannot have a priority"),this.Ab=n,this.Gb=null}function Wd(t,e){var n;return n=(n=Te(t,e))?(n=n.Vc())&&n.name:t.m.Vc(),n?new L(n,t.m.get(n)):null}function Xd(t,e){var n;return n=(n=Te(t,e))?(n=n.jc())&&n.name:t.m.jc(),n?new L(n,t.m.get(n)):null}function Te(t,e){return e===re?null:t.Ab.get(e.toString())}function Q(t,e){if(null===t)return H;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),O(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Yc(t,Q(n));if(t instanceof Array){var r=H,i=t;return v(i,function(t,e){if(y(i,e)&&"."!==e.substring(0,1)){var n=Q(t);!n.L()&&n.e()||(r=r.W(e,n))}}),r.ia(Q(n))}var o=[],a=!1,u=t;if(Fb(u,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=Q(u[t]);e.e()||(a=a||!e.C().e(),o.push(new L(t,e)))}}),0==o.length)return H;var s=Me(o,xc,function(t){return t.name},zc);if(a){var c=Me(o,Vd(R));return new fe(s,Q(n),new Ke({".priority":c},{".priority":R}))}return new fe(s,Q(n),Oe)}function Ve(t){this.count=parseInt(Math.log(t+1)/Ue,10),this.nf=this.count-1,this.ng=t+1&parseInt(Array(this.count+1).join("1"),2)}function We(t){var e=!(t.ng&1<<t.nf);return t.nf--,e}function Me(t,e,n,r){function i(e,r){var o=r-e;if(0==o)return null;if(1==o){var a=t[e],u=n?n(a):a;return new Kc(u,a.U,(!1),null,null)}var a=parseInt(o/2,10)+e,o=i(e,a),s=i(a+1,r),a=t[a],u=n?n(a):a;return new Kc(u,a.U,(!1),o,s)}t.sort(e);var o=function(e){function r(e,r){var s=u-e,c=u;u-=e;var c=i(s+1,c),s=t[s],l=n?n(s):s,c=new Kc(l,s.U,r,null,c);o?o.left=c:a=c,o=c}for(var o=null,a=null,u=t.length,s=0;s<e.count;++s){var c=We(e),l=Math.pow(2,e.count-(s+1));c?r(l,!1):(r(l,!1),r(l,!0))}return a}(new Ve(t.length));return null!==o?new Ec(r||e,o):new Ec(r||e)}function Re(t){return"number"==typeof t?"number:"+Ad(t):"string:"+t}function Pe(t){if(t.L()){var e=t.J();O("string"==typeof e||"number"==typeof e||"object"==typeof e&&y(e,".sv"),"Priority must be a string or number.")}else O(t===we||t.e(),"priority of unexpected type.");O(t===we||t.C().e(),"Priority nodes can't have a priority of their own.")}function Xe(){fe.call(this,new Ec(zc),H,Oe)}function je(t,e){this.Q=t,this.ae=e}function ge(t,e,n,r){return new je(new Xb(e,n,r),t.ae)}function ke(t){return t.Q.ga?t.Q.j():null}function Yb(t){return t.ae.ga?t.ae.j():null}function Ye(t,e){this.Y=t;var n=t.n,r=new Ld(n.g),n=He(n)?new Ld(n.g):n.la?new Sd(n):new Md(n);this.Nf=new Zd(n);var i=e.w(),o=e.Q,a=r.ya(H,i.j(),null),u=n.ya(H,o.j(),null);this.Oa=new je(new Xb(u,o.ga,n.Ra()),new Xb(a,i.ga,r.Ra())),this.$a=[],this.ug=new Fd(t)}function Ze(t){return t.Y}function af(t,e){var n=t.Oa.Q,r=[];return n.j().L()||n.j().R(R,function(t,e){r.push(new J("child_added",e,t))}),n.ga&&r.push(hc(n.j())),$e(t,r,n.j(),e)}function $e(t,e,n,r){return Gd(t.ug,e,n,r?[r]:t.$a)}function bf(t,e,n){this.type=be,this.source=t,this.path=e,this.children=n}function cf(t,e){this.f=pd("p:rest:"),this.G=t,this.Kb=e,this.Ca=null,this.ba={}}function df(t,e){return p(e)?"tag$"+e:(O(Ie(t.n),"should have a tag if it's not a default query."),t.path.toString());
}function ef(t,e,n,r){n=n||{},n.format="export",t.Ca&&(n.auth=t.Ca);var i=(t.G.ob?"https://":"http://")+t.G.host+e+"?"+Ib(n);t.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){t.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var e=null;if(200<=o.status&&300>o.status){try{e=Rb(o.responseText)}catch(n){S("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,e)}else 401!==o.status&&404!==o.status&&S("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function ff(t){O(da(t)&&0<t.length,"Requires a non-empty array"),this.fg=t,this.Rc={}}function gf(t,e){O(Ra(t.fg,function(t){return t===e}),"Unknown event: "+e)}function jf(){if(ff.call(this,["online"]),this.oc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.oc||(t.oc=!0,t.ie("online",!0))},!1),window.addEventListener("offline",function(){t.oc&&(t.oc=!1,t.ie("online",!1))},!1)}}function kf(){ff.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.Sb=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.Sb&&(n.Sb=e,n.ie("visible",e))},!1)}}function P(t,e){if(1==arguments.length){this.u=t.split("/");for(var n=0,r=0;r<this.u.length;r++)0<this.u[r].length&&(this.u[n]=this.u[r],n++);this.u.length=n,this.aa=0}else this.u=t,this.aa=e}function lf(t,e){var n=K(t);if(null===n)return e;if(n===K(e))return lf(N(t),N(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function mf(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=yc(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function K(t){return t.aa>=t.u.length?null:t.u[t.aa]}function le(t){return t.u.length-t.aa}function N(t){var e=t.aa;return e<t.u.length&&e++,new P(t.u,e)}function me(t){return t.aa<t.u.length?t.u[t.u.length-1]:null}function nf(t,e){this.Ua=t.slice(),this.Ka=Math.max(1,this.Ua.length),this.pf=e;for(var n=0;n<this.Ua.length;n++)this.Ka+=Pb(this.Ua[n]);of(this)}function of(t){if(768<t.Ka)throw Error(t.pf+"has a key path longer than 768 bytes ("+t.Ka+").");if(32<t.Ua.length)throw Error(t.pf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pf(t))}function pf(t){return 0==t.Ua.length?"":"in property '"+t.Ua.join(".")+"'"}function qf(t,e){this.value=t,this.children=e||rf}function sf(t){var e=qe;return v(t,function(t,n){e=e.set(new P(n),t)}),e}function tf(t,e,n){if(null!=t.value&&n(t.value))return{path:M,value:t.value};if(e.e())return null;var r=K(e);return t=t.children.get(r),null!==t?(e=tf(t,N(e),n),null!=e?{path:new P(r).o(e.path),value:e.value}:null):null}function uf(t,e){return tf(t,e,function(){return!0})}function pe(t,e,n){if(e.e())return n;var r=K(e);return e=pe(t.children.get(r)||qe,N(e),n),r=e.e()?t.children.remove(r):t.children.Sa(r,e),new qf(t.value,r)}function vf(t,e){return wf(t,M,e)}function wf(t,e,n){var r={};return t.children.ka(function(t,i){r[t]=wf(i,e.o(t),n)}),n(e,t.value,r)}function xf(t,e,n){return yf(t,e,M,n)}function yf(t,e,n,r){var i=!!t.value&&r(n,t.value);return i?i:e.e()?null:(i=K(e),(t=t.children.get(i))?yf(t,N(e),n.o(i),r):null)}function zf(t,e,n){Af(t,e,M,n)}function Af(t,e,n,r){if(e.e())return t;t.value&&r(n,t.value);var i=K(e);return(t=t.children.get(i))?Af(t,N(e),n.o(i),r):qe}function ne(t,e){Bf(t,M,e)}function Bf(t,e,n){t.children.ka(function(t,r){Bf(r,e.o(t),n)}),t.value&&n(e,t.value)}function Cf(t,e){t.children.ka(function(t,n){n.value&&e(t,n.value)})}function Df(t,e,n){this.type=ee,this.source=Ef,this.path=t,this.Ub=e,this.Yd=n}function Ff(t,e,n,r){this.Ae=t,this.tf=e,this.Lb=n,this.ef=r,O(!r||e,"Tagged queries must be from server.")}function Hf(t){this.Z=t}function Jf(t,e,n){if(e.e())return new Hf(new qf(n));var r=uf(t.Z,e);if(null!=r){var i=r.path,r=r.value;return e=lf(i,e),r=r.H(e,n),new Hf(t.Z.set(i,r))}return t=pe(t.Z,e,new qf(n)),new Hf(t)}function Kf(t,e,n){var r=t;return Fb(n,function(t,n){r=Jf(r,e.o(t),n)}),r}function Lf(t,e){var n=uf(t.Z,e);return null!=n?t.Z.get(n.path).S(lf(n.path,e)):null}function Mf(t){var e=[],n=t.Z.value;return null!=n?n.L()||n.R(R,function(t,n){e.push(new L(t,n))}):t.Z.children.ka(function(t,n){null!=n.value&&e.push(new L(t,n.value))}),e}function Nf(t,e){if(e.e())return t;var n=Lf(t,e);return new Hf(null!=n?new qf(n):t.Z.subtree(e))}function Of(t,e,n){if(null!=e.value)return n.H(t,e.value);var r=null;return e.children.ka(function(e,i){".priority"===e?(O(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Of(t.o(e),i,n)}),n.S(t).e()||null===r||(n=n.H(t.o(".priority"),r)),n}function Pf(){this.V=If,this.pa=[],this.Pc=-1}function Qf(t,e){for(var n=0;n<t.pa.length;n++){var r=t.pa[n];if(r.md===e)return r}return null}function Rf(t,e){return t.Ja?t.path.contains(e):!!ta(t.children,function(n,r){return t.path.o(r).contains(e)})}function Tf(t){return t.visible}function Sf(t,e,n){for(var r=If,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path;if(o.Ja)n.contains(a)?(a=lf(n,a),r=Jf(r,a,o.Ja)):a.contains(n)&&(a=lf(a,n),r=Jf(r,M,o.Ja.S(a)));else{if(!o.children)throw jd("WriteRecord should have .snap or .children");n.contains(a)?(a=lf(n,a),r=Kf(r,a,o.children)):a.contains(n)&&(a=lf(a,n),a.e()?r=Kf(r,M,o.children):(o=z(o.children,K(a)))&&(o=o.S(N(a)),r=Jf(r,M,o)))}}}return r}function Uf(t,e){this.Qb=t,this.Z=e}function Vf(){this.children={},this.pd=0,this.value=null}function Wf(t,e,n){this.Jd=t?t:"",this.Ha=e?e:null,this.A=n?n:new Vf}function Xf(t,e){for(var n,r=e instanceof P?e:new P(e),i=t;null!==(n=K(r));)i=new Wf(n,i,z(i.A.children,n)||new Vf),r=N(r);return i}function Yf(t,e){O("undefined"!=typeof e,"Cannot set value to undefined"),t.A.value=e,Zf(t)}function $f(t,e,n,r){n&&!r&&e(t),t.R(function(t){$f(t,e,!0,r)}),n&&r&&e(t)}function ag(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Zf(t){if(null!==t.Ha){var e=t.Ha,n=t.Jd,r=t.e(),i=y(e.A.children,n);r&&i?(delete e.A.children[n],e.A.pd--,Zf(e)):r||i||(e.A.children[n]=t.A,e.A.pd++,Zf(e))}}function eg(t){return q(t)&&0!==t.length&&!bg.test(t)}function fg(t){return null===t||q(t)||fa(t)&&!td(t)||ga(t)&&y(t,".sv")}function gg(t,e,n,r){r&&!p(e)||hg(E(t,1,r),e,n)}function hg(t,e,n){if(n instanceof P&&(n=new nf(n,t)),!p(e))throw Error(t+"contains undefined "+pf(n));if(r(e))throw Error(t+"contains a function "+pf(n)+" with contents: "+e.toString());if(td(e))throw Error(t+"contains "+e.toString()+" "+pf(n));if(q(e)&&e.length>10485760/3&&10485760<Pb(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+pf(n)+" ('"+e.substring(0,50)+"...')");if(ga(e)){var i=!1,o=!1;if(Fb(e,function(e,r){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!eg(e)))throw Error(t+" contains an invalid key ("+e+") "+pf(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.push(e),hg(t,r,n),n.pop()}),i&&o)throw Error(t+' contains ".value" child '+pf(n)+" in addition to actual children.")}}function ig(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!eg(i[o]))throw Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(e.sort(mf),i=null,n=0;n<e.length;n++){if(r=e[n],null!==i&&i.contains(r))throw Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function jg(t,e,n){var r=E(t,1,!1);if(!ga(e)||da(e))throw Error(r+" must be an object containing the children to replace.");var i=[];Fb(e,function(t,e){var o=new P(t);if(hg(r,e,n.o(o)),".priority"===me(o)&&!fg(e))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),ig(r,i)}function kg(t,e,n){if(td(n))throw Error(E(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fg(n))throw Error(E(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function lg(t,e,n){if(!n||p(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(E(t,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function mg(t,e){if(p(e)&&!eg(e))throw Error(E(t,2,!0)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ng(t,e){if(!q(e)||0===e.length||cg.test(e))throw Error(E(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function og(t,e){if(".info"===K(e))throw Error(t+" failed: Can't modify data under /.info/")}function pg(t,e){if(!q(e))throw Error(E(t,1,!1)+"must be a valid credential (a string).")}function qg(t,e,n){if(!q(n))throw Error(E(t,e,!1)+"must be a valid string.")}function rg(t,e){if(qg(t,1,e),!dg.test(e))throw Error(E(t,1,!1)+"'"+e+"' is not a valid authentication provider.")}function sg(t,e,n,r){if((!r||p(n))&&(!ga(n)||null===n))throw Error(E(t,e,r)+"must be a valid object.")}function tg(t,e,n){if(!ga(e)||!y(e,n))throw Error(E(t,1,!1)+'must contain the key "'+n+'"');if(!q(z(e,n)))throw Error(E(t,1,!1)+'must contain the key "'+n+'" with type "string"')}function ug(){this.set={}}function vg(t,e){v(t.set,function(t,n){e(n,t)})}function Vc(){this.m=this.B=null}function wg(t,e){if(e.e())return t.B=null,t.m=null,!0;if(null!==t.B){if(t.B.L())return!1;var n=t.B;return t.B=null,n.R(R,function(e,n){t.rc(new P(e),n)}),wg(t,e)}return null===t.m||(n=K(e),e=N(e),t.m.contains(n)&&wg(t.m.get(n),e)&&t.m.remove(n),!!t.m.e()&&(t.m=null,!0))}function Wc(t,e,n){null!==t.B?n(e,t.B):t.R(function(t,r){var i=new P(e.toString()+"/"+t);Wc(r,i,n)})}function yg(t,e,n){this.qd=t||{},this.he=e||{},this.fb=n||{},this.qd.remember||(this.qd.remember="default")}function Ag(t){var e={},n={};return Fb(t||{},function(t,r){0<=La(zg,t)?e[t]=r:n[t]=r}),new yg(e,{},n)}function Bg(t,e){this.Ue=["session",t.Rd,t.lc].join(":"),this.ee=e}function Cg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cg())}function Eg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Fg(t){var e=Cg();if(""===e)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((e=e.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t}else if(-1<e.indexOf("Trident")&&(e=e.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<e.length)return parseFloat(e[1])>=t;return!1}function Gg(){var t,e=window.opener.frames;for(t=e.length-1;0<=t;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(n){}return null}function Hg(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function Ig(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function Jg(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function Kg(t){var e="";try{t=t.replace(/.*\?/,"");var n=Jb(t);n&&y(n,"__firebase_request_key")&&(e=z(n,"__firebase_request_key"))}catch(r){}return e}function Lg(){try{var t=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,""),t=t.replace(/\?$/,""),t=t.replace(/^#+$/,"");document.location.hash=t}catch(e){}}function Mg(){var t=sd(xg);return t.scheme+"://"+t.host+"/v2"}function Ng(t){return Mg()+"/"+t+"/auth/channel"}function Og(t){var e=this;if(this.hb=t,this.fe="*",Fg(8)?this.Uc=this.Cd=Gg():(this.Uc=window.opener,this.Cd=window),!e.Uc)throw"Unable to find relay frame";Hg(this.Cd,"message",u(this.nc,this)),Hg(this.Cd,"message",u(this.Ff,this));try{Pg(this,{a:"ready"})}catch(n){Hg(this.Uc,"load",function(){Pg(e,{a:"ready"})})}Hg(window,"unload",u(this.Ng,this))}function Pg(t,e){e=G(e),Fg(8)?t.Uc.doPost(e,t.fe):t.Uc.postMessage(e,t.fe)}function Qg(t){this.tc=Fa()+Fa()+Fa(),this.Kf=t}function Sg(t){var e=Error(z(Rg,t),t);return e.code=t,e}function Tg(t){var e;(e=!t.window_features)||(e=Cg(),e=-1!==e.indexOf("Fennec/")||-1!==e.indexOf("Firefox/")&&-1!==e.indexOf("Android")),e&&(t.window_features=void 0),t.window_name||(t.window_name="_blank"),this.options=t}function Ug(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function Vg(t){this.tc=Fa()+Fa()+Fa(),this.Kf=t}function Wg(t){t.callback_parameter||(t.callback_parameter="callback"),this.options=t,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Xg(t,e,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=t,r.async=!0,r.src=e,r.onerror=function(){var e=document.getElementById(t);null!==e&&e.parentNode.removeChild(e),n&&n(Sg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(r)}catch(o){n&&n(Sg("NETWORK_ERROR"))}},0)}function Yg(t,e,n,r){ff.call(this,["auth_status"]),this.G=t,this.hf=e,this.ih=n,this.Pe=r,this.wc=new Bg(t,[bd,cd]),this.qb=null,this.We=!1,Zg(this)}function Zg(t){cd.get("redirect_request_id")&&$g(t);var e=t.wc.get();e&&e.token?(ah(t,e),t.hf(e.token,function(n,r){bh(t,n,r,!1,e.token,e)},function(e,n){ch(t,"resumeSession()",e,n)})):ah(t,null)}function dh(t,e,n,r,i,o){"firebaseio-demo.com"===t.G.domain&&S("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),t.hf(e,function(o,a){bh(t,o,a,!0,e,n,r||{},i)},function(e,n){ch(t,"auth()",e,n,o)})}function eh(t,e){t.wc.clear(),ah(t,null),t.ih(function(t,n){if("ok"===t)T(e,null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,T(e,i)}})}function bh(t,e,n,r,i,o,a,u){"ok"===e?(r&&(e=n.auth,o.auth=e,o.expires=n.expires,o.token=Ed(i)?i:"",n=null,e&&y(e,"uid")?n=z(e,"uid"):y(o,"uid")&&(n=z(o,"uid")),o.uid=n,n="custom",e&&y(e,"provider")?n=z(e,"provider"):y(o,"provider")&&(n=z(o,"provider")),o.provider=n,t.wc.clear(),Ed(i)&&(a=a||{},n=bd,"sessionOnly"===a.remember&&(n=cd),"none"!==a.remember&&t.wc.set(o,n)),ah(t,o)),T(u,null,o)):(t.wc.clear(),ah(t,null),o=t=(e||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=t,T(u,o))}function ch(t,e,n,r,i){S(e+" was canceled: "+r),t.wc.clear(),ah(t,null),t=Error(r),t.code=n.toUpperCase(),T(i,t)}function fh(t,e,n,r,i){gh(t),n=new yg(r||{},{},n||{}),hh(t,[Ug,Wg],"/auth/"+e,n,i)}function ih(t,e,n,r){gh(t);var i=[Tg,Vg];n=Ag(n);var o=625;"anonymous"===e||"password"===e?setTimeout(function(){T(r,Sg("TRANSPORT_UNAVAILABLE"))},0):("github"===e&&(o=1025),n.he.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width="+o+",top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-o):0),n.he.relay_url=Ng(t.G.lc),n.he.requestWithCredential=u(t.uc,t),hh(t,i,"/auth/"+e,n,r))}function $g(t){var e=cd.get("redirect_request_id");if(e){var n=cd.get("redirect_client_options");cd.remove("redirect_request_id"),cd.remove("redirect_client_options");var r=[Ug,Wg],e={requestId:e,requestKey:Kg(document.location.hash)},n=new yg(n,{},e);t.We=!0,Lg(),hh(t,r,"/auth/session",n,function(){this.We=!1}.bind(t))}}function hh(t,e,n,r,i){jh(t,e,n,r,function(e,n){!e&&n&&n.token&&n.uid?dh(t,n.token,n,r.qd,function(t,e){t?T(i,t):T(i,null,e)}):T(i,e||Sg("UNKNOWN_ERROR"))})}function jh(t,e,n,r,i){e=Na(e,function(t){return"function"==typeof t.isAvailable&&t.isAvailable()}),0===e.length?setTimeout(function(){T(i,Sg("TRANSPORT_UNAVAILABLE"))},0):(e=new(e.shift())(r.he),r=Gb(r.fb),r.v="js-"+Eb,r.transport=e.Fc(),r.suppress_status_codes=!0,t=Mg()+"/"+t.G.lc+n,e.open(t,r,function(t,e){if(t)T(i,t);else if(e&&e.error){var n=Error(e.error.message);n.code=e.error.code,n.details=e.error.details,T(i,n)}else T(i,null,e)}))}function ah(t,e){var n=null!==t.qb||null!==e;t.qb=e,n&&t.ie("auth_status",e),t.Pe(null!==e)}function gh(t){var e=t.G;if("firebaseio.com"!==e.domain&&"firebaseio-demo.com"!==e.domain&&"auth.firebase.com"===xg)throw Error("This custom Firebase server ('"+t.G.domain+"') does not support delegated login.")}function kh(t){this.nc=t,this.Qd=[],this.Wb=0,this.te=-1,this.Jb=null}function lh(t,e,n){t.te=e,t.Jb=n,t.te<t.Wb&&(t.Jb(),t.Jb=null)}function mh(t,e,n){for(t.Qd[e]=n;t.Qd[t.Wb];){var r=t.Qd[t.Wb];delete t.Qd[t.Wb];for(var i=0;i<r.length;++i)if(r[i]){var o=t;gc(function(){o.nc(r[i])})}if(t.Wb===t.te){t.Jb&&(clearTimeout(t.Jb),t.Jb(),t.Jb=null);break}t.Wb++}}function nh(t,e,n,r){this.ue=t,this.f=pd(t),this.rb=this.sb=0,this.Xa=uc(e),this.Xf=n,this.Kc=!1,this.Fb=r,this.ld=function(t){return fd(e,hd,t)}}function rh(t,e){var n=G(e).length;t.rb+=n,rc(t.Xa,"bytes_received",n)}function qh(t,e,n,r){if(this.ld=r,this.lb=n,this.Te=new ug,this.cd=[],this.we=Math.floor(1e8*Math.random()),this.$d=!0,this.ke=id(),window["pLPCommand"+this.ke]=t,window["pRTLPCB"+this.ke]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||fc("No IE domain setting required")}catch(i){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.jb=t.contentDocument:t.contentWindow?t.jb=t.contentWindow.document:t.document&&(t.jb=t.document),this.Ga=t,t="",this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Ga.jb.open(),this.Ga.jb.write(t),this.Ga.jb.close()}catch(o){fc("frame writing exception"),o.stack&&fc(o.stack),fc(o)}}function th(t){if(t.oe&&t.$d&&t.Te.count()<(0<t.cd.length?2:1)){t.we++;var e={};e.id=t.Gg,e.pw=t.Hg,e.ser=t.we;for(var e=t.ld(e),n="",r=0;0<t.cd.length&&1870>=t.cd[0].of.length+30+n.length;){var i=t.cd.shift(),n=n+"&seg"+r+"="+i.Yg+"&ts"+r+"="+i.hh+"&d"+r+"="+i.of;r++}return uh(t,e+n,t.we),!0}return!1}function uh(t,e,n){function r(){t.Te.remove(n),th(t)}t.Te.add(n,1);var i=setTimeout(r,Math.floor(25e3));sh(t,e,function(){clearTimeout(i),r()})}function sh(t,e,n){setTimeout(function(){try{if(t.$d){var r=t.Ga.jb.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){fc("Long-poll script failed to load: "+e),t.$d=!1,t.close()},t.Ga.jb.body.appendChild(r)}}catch(i){}},Math.floor(1))}function wh(t,e,n,r){this.ue=t,this.f=pd(this.ue),this.frames=this.Nc=null,this.rb=this.sb=this.ff=0,this.Xa=uc(e),t={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),n&&(t.s=n),r&&(t.ls=r),this.jf=fd(e,gd,t)}function zh(t,e){if(t.frames.push(e),t.frames.length==t.ff){var n=t.frames.join("");t.frames=null,n=Rb(n),t.Lg(n)}}function yh(t){clearInterval(t.Nc),t.Nc=setInterval(function(){t.La&&Ah(t,"0"),yh(t)},Math.floor(45e3))}function Ah(t,e){try{t.La.send(e)}catch(n){t.f("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(u(t.bb,t),0)}}function Bh(t){Ch(this,t)}function Ch(t,e){var n=wh&&wh.isAvailable(),r=n&&!(bd.Af||!0===bd.get("previous_websocket_failure"));if(e.jh&&(n||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)t.jd=[wh];else{var i=t.jd=[];zd(Dh,function(t,e){e&&e.isAvailable()&&i.push(e)})}}function Eh(t){if(0<t.jd.length)return t.jd[0];throw Error("No transports available")}function Fh(t,e,n,r,i,o,a){this.id=t,this.f=pd("c:"+this.id+":"),this.nc=n,this.Zc=r,this.na=i,this.Re=o,this.G=e,this.Pd=[],this.kf=0,this.Wf=new Bh(e),this.N=0,this.Fb=a,this.f("Connection created"),Gh(this)}function Gh(t){var e=Eh(t.Wf);t.K=new e("c:"+t.id+":"+t.kf++,t.G,(void 0),t.Fb),t.Ve=e.responsesRequiredToBeHealthy||0;var n=Hh(t,t.K),r=Ih(t,t.K);t.kd=t.K,t.ed=t.K,t.F=null,t.Eb=!1,setTimeout(function(){t.K&&t.K.open(n,r)},Math.floor(0)),e=e.healthyTimeout||0,0<e&&(t.Bd=setTimeout(function(){t.Bd=null,t.Eb||(t.K&&102400<t.K.rb?(t.f("Connection exceeded healthy timeout but has received "+t.K.rb+" bytes.  Marking connection healthy."),t.Eb=!0,t.K.Hd()):t.K&&10240<t.K.sb?t.f("Connection exceeded healthy timeout but has sent "+t.K.sb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function Ih(t,e){return function(n){e===t.K?(t.K=null,n||0!==t.N?1===t.N&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.G.ab.substr(0,2)&&(bd.remove("host:"+t.G.host),t.G.ab=t.G.host)),t.close()):e===t.F?(t.f("Secondary connection lost."),n=t.F,t.F=null,t.kd!==n&&t.ed!==n||t.close()):t.f("closing an old connection")}}function Hh(t,e){return function(n){if(2!=t.N)if(e===t.ed){var r=wd("t",n);if(n=wd("d",n),"c"==r){if(r=wd("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;t.Uf=n.s,ed(t.G,o),0==t.N&&(t.K.start(),Jh(t,t.K,r),"5"!==i&&S("Protocol version mismatch detected"),n=t.Wf,(n=1<n.jd.length?n.jd[1]:null)&&Kh(t,n))}else if("n"===r){for(t.f("recvd end transmission on primary"),t.ed=t.F,n=0;n<t.Pd.length;++n)t.Ld(t.Pd[n]);t.Pd=[],Lh(t)}else"s"===r?(t.f("Connection shutdown command received. Shutting down..."),t.Re&&(t.Re(n),t.Re=null),t.na=null,t.close()):"r"===r?(t.f("Reset packet received.  New host: "+n),ed(t.G,n),1===t.N?t.close():(Mh(t),Gh(t))):"e"===r?qd("Server Error: "+n):"o"===r?(t.f("got pong on primary."),Nh(t),Oh(t)):qd("Unknown control packet command: "+r)}else"d"==r&&t.Ld(n)}else if(e===t.F)if(r=wd("t",n),n=wd("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Ph(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.F.close(),t.kd!==t.F&&t.ed!==t.F||t.close()):"o"===n&&(t.f("got pong on secondary."),t.Tf--,Ph(t)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);t.Pd.push(n)}else t.f("message on old connection")}}function Lh(t){t.kd===t.F&&t.ed===t.F&&(t.f("cleaning up and promoting a connection: "+t.F.ue),t.K=t.F,t.F=null)}function Ph(t){0>=t.Tf?(t.f("Secondary connection is healthy."),t.Eb=!0,t.F.Hd(),t.F.start(),t.f("sending client ack on secondary"),t.F.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.K.send({t:"c",d:{t:"n",d:{}}}),t.kd=t.F,Lh(t)):(t.f("sending ping on secondary."),t.F.send({t:"c",d:{t:"p",d:{}}}))}function Nh(t){t.Eb||(t.Ve--,0>=t.Ve&&(t.f("Primary connection is healthy."),t.Eb=!0,t.K.Hd()))}function Kh(t,e){t.F=new e("c:"+t.id+":"+t.kf++,t.G,t.Uf),t.Tf=e.responsesRequiredToBeHealthy||0,t.F.open(Hh(t,t.F),Ih(t,t.F)),setTimeout(function(){t.F&&(t.f("Timed out trying to upgrade."),t.F.close())},Math.floor(6e4))}function Jh(t,e,n){t.f("Realtime connection established."),t.K=e,t.N=1,t.Zc&&(t.Zc(n,t.Uf),t.Zc=null),0===t.Ve?(t.f("Primary connection is healthy."),t.Eb=!0):setTimeout(function(){Oh(t)},Math.floor(5e3))}function Oh(t){t.Eb||1!==t.N||(t.f("sending ping on primary."),Qh(t,{t:"c",d:{t:"p",d:{}}}))}function Qh(t,e){if(1!==t.N)throw"Connection is not connected";t.kd.send(e)}function Mh(t){t.f("Shutting down all connections"),t.K&&(t.K.close(),t.K=null),t.F&&(t.F.close(),t.F=null),t.Bd&&(clearTimeout(t.Bd),t.Bd=null)}function Rh(t,e,n,r){this.id=Sh++,this.f=pd("p:"+this.id+":"),this.Bf=this.Ie=!1,this.ba={},this.sa=[],this.ad=0,this.Yc=[],this.qa=!1,this.eb=1e3,this.Id=3e5,this.Kb=e,this.Xc=n,this.Se=r,this.G=t,this.wb=this.Ca=this.Ma=this.Fb=this.$e=null,this.Sb=!1,this.Wd={},this.Xg=0,this.rf=!0,this.Oc=this.Ke=null,Th(this,0),kf.yb().Ib("visible",this.Og,this),-1===t.host.indexOf("fblocal")&&jf.yb().Ib("online",this.Mg,this)}function Vh(t,e){var n=e.Ug,r=n.path.toString(),i=n.wa();t.f("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=Ge(n.n),o.t=e.tag),o.h=e.Ad(),t.Ia("q",o,function(o){var a=o.d,u=o.s;if(a&&"object"==typeof a&&y(a,"w")){var s=z(a,"w");da(s)&&0<=La(s,"no_index")&&S("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(t.ba[r]&&t.ba[r][i])===e&&(t.f("listen response",o),"ok"!==u&&Wh(t,r,i),e.I&&e.I(u,a))})}function Xh(t){var e=t.Ca;t.qa&&e&&t.Ia("auth",{cred:e.rg},function(n){var r=n.s;n=n.d||"error","ok"!==r&&t.Ca===e&&(t.Ca=null),e.sf?"ok"!==r&&e.od&&e.od(r,n):(e.sf=!0,e.Dc&&e.Dc(r,n))})}function Yh(t,e,n,r,i){n={p:n,d:r},t.f("onDisconnect "+e,n),t.Ia(e,n,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})}function Zh(t,e,n,r,i,o){r={p:n,d:r},p(o)&&(r.h=o),t.sa.push({action:e,Pf:r,I:i}),t.ad++,e=t.sa.length-1,t.qa?$h(t,e):t.f("Buffering put: "+n)}function $h(t,e){var n=t.sa[e].action,r=t.sa[e].Pf,i=t.sa[e].I;t.sa[e].Vg=t.qa,t.Ia(n,r,function(r){t.f(n+" response",r),delete t.sa[e],t.ad--,0===t.ad&&(t.sa=[]),i&&i(r.s,r.d)})}function Th(t,e){O(!t.Ma,"Scheduling a connect when we're already connected/ing?"),t.wb&&clearTimeout(t.wb),t.wb=setTimeout(function(){t.wb=null,ci(t)},Math.floor(e))}function ci(t){if(di(t)){t.f("Making a connection attempt"),t.Ke=(new Date).getTime(),t.Oc=null;var e=u(t.Ld,t),n=u(t.Zc,t),r=u(t.If,t),i=t.id+":"+Uh++;t.Ma=new Fh(i,t.G,e,n,r,function(e){S(e+" ("+t.G.toString()+")"),t.Bf=!0},t.Fb)}}function ai(t,e,n){n=n?Oa(n,function(t){return xd(t)}).join("$"):"default",(t=Wh(t,e,n))&&t.I&&t.I("permission_denied")}function Wh(t,e,n){e=new P(e).toString();var r;return p(t.ba[e])?(r=t.ba[e][n],delete t.ba[e][n],0===oa(t.ba[e])&&delete t.ba[e]):r=void 0,r}function bi(t){Xh(t),v(t.ba,function(e){v(e,function(e){Vh(t,e)})});for(var e=0;e<t.sa.length;e++)t.sa[e]&&$h(t,e);for(;t.Yc.length;)e=t.Yc.shift(),Yh(t,e.action,e.bd,e.data,e.I)}function di(t){var e;return e=jf.yb().oc,!t.Bf&&!t.Ie&&e}function ei(t,e){this.committed=t,this.snapshot=e}function V(t,e){this.dd=t,this.ta=e}function W(t,e,n){this.A=t,this.Y=e,this.g=n}function ii(t,e,n){this.Vb=t,this.tb=e,this.vb=n||null}function ji(t,e,n){this.ja=t,this.tb=e,this.vb=n}function ki(){this.za={}}function mi(t){return Na(qa(t.za),function(t){return!He(t.Y.n)})}function ni(t,e){if(He(e.n))return li(t);var n=e.wa();return z(t.za,n)}function li(t){return ua(t.za,function(t){return He(t.Y.n)})||null}function oi(t){this.va=qe,this.mb=new Pf,this.df={},this.qc={},this.Qc=t}function pi(t,e,n,r,i){var o=t.mb,a=i;return O(r>o.Pc,"Stacking an older write on top of newer ones"),p(a)||(a=!0),o.pa.push({path:e,Ja:n,md:r,visible:a}),a&&(o.V=Jf(o.V,e,n)),o.Pc=r,i?qi(t,new Ac(Ef,e,n)):[]}function ri(t,e,n,r){var i=t.mb;return O(r>i.Pc,"Stacking an older merge on top of newer ones"),i.pa.push({path:e,children:n,md:r,visible:!0}),i.V=Kf(i.V,e,n),i.Pc=r,n=sf(n),qi(t,new bf(Ef,e,n))}function si(t,e,n){n=n||!1;var r=Qf(t.mb,e);if(t.mb.Ud(e)){var i=qe;return null!=r.Ja?i=i.set(M,!0):Fb(r.children,function(t,e){i=i.set(new P(t),e)}),qi(t,new Df(r.path,i,n))}return[]}function ti(t,e,n){return n=sf(n),qi(t,new bf(Gf,e,n))}function ui(t,e,n,r){if(r=vi(t,r),null!=r){var i=wi(r);return r=i.path,i=i.Lb,e=lf(r,e),n=new Ac(new Ff((!1),(!0),i,(!0)),e,n),xi(t,r,n)}return[]}function yi(t,e,n,r){if(r=vi(t,r)){var i=wi(r);return r=i.path,i=i.Lb,e=lf(r,e),n=sf(n),n=new bf(new Ff((!1),(!0),i,(!0)),e,n),xi(t,r,n)}return[]}function Ci(t){return vf(t,function(t,e,n){if(e&&null!=li(e))return[li(e)];var r=[];return e&&(r=mi(e)),v(n,function(t){r=r.concat(t)}),r})}function Gi(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!He(r.n)){var r=zi(r),i=t.qc[r];delete t.qc[r],delete t.df["_"+i]}}}function Ei(t){return He(t.n)&&!Ie(t.n)?t.Mb():t}function Bi(t,e,n){var r=e.path,i=Fi(t,e);if(n=Di(t,n),e=t.Qc.af(Ei(e),i,n.Ad,n.I),r=t.va.subtree(r),i)O(null==li(r.value),"If we're adding a query, it shouldn't be shadowed");else for(i=vf(r,function(t,e,n){if(!t.e()&&e&&null!=li(e))return[Ze(li(e))];var r=[];return e&&(r=r.concat(Oa(mi(e),function(t){return t.Y}))),v(n,function(t){r=r.concat(t)}),r}),r=0;r<i.length;++r)n=i[r],t.Qc.de(Ei(n),Fi(t,n));return e}function Di(t,e){var n=e.Y,r=Fi(t,n);return{Ad:function(){return(e.w()||H).hash()},I:function(e){if("ok"===e){if(r){var i=n.path;if(e=vi(t,r)){var o=wi(e);e=o.path,o=o.Lb,i=lf(e,i),i=new Cc(new Ff((!1),(!0),o,(!0)),i),e=xi(t,e,i)}else e=[]}else e=qi(t,new Cc(Gf,n.path));return e}return i="Unknown Error","too_big"===e?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?i="Client doesn't have permission to access the desired data.":"unavailable"==e&&(i="The service is unavailable"),i=Error(e+" at "+n.path.toString()+": "+i),i.code=e.toUpperCase(),t.nb(n,null,i)}}}function zi(t){return t.path.toString()+"$"+t.wa()}function wi(t){var e=t.indexOf("$");return O(-1!==e&&e<t.length-1,"Bad queryKey."),{Lb:t.substr(e+1),path:new P(t.substr(0,e))}}function vi(t,e){var n=t.df,r="_"+e;return r in n?n[r]:void 0}function Fi(t,e){var n=zi(e);return z(t.qc,n)}function xi(t,e,n){var r=t.va.get(e);return O(r,"Missing sync point for query tag that we're tracking"),r.gb(n,new Uf(e,t.mb),null)}function qi(t,e){return Hi(t,e,t.va,null,new Uf(M,t.mb))}function Hi(t,e,n,r,i){if(e.path.e())return Ii(t,e,n,r,i);var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[],u=K(e.path),s=e.$c(u);if((n=n.children.get(u))&&s)var c=r?r.T(u):null,u=i.o(u),a=a.concat(Hi(t,s,n,c,u));return o&&(a=a.concat(o.gb(e,i,r))),a}function Ii(t,e,n,r,i){var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[];return n.children.ka(function(n,o){var u=r?r.T(n):null,s=i.o(n),c=e.$c(n);c&&(a=a.concat(Ii(t,c,o,u,s)))}),o&&(a=a.concat(o.gb(e,i,r))),a}function Ji(t,e){this.G=t,this.Xa=uc(t),this.hd=null,this.fa=new Zb,this.Kd=1,this.Va=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.da=new cf(this.G,u(this.Kb,this)),setTimeout(u(this.Xc,this,!0),0)):this.da=this.Va=new Rh(this.G,u(this.Kb,this),u(this.Xc,this),u(this.Se,this)),this.eh=vc(t,u(function(){return new pc(this.Xa,this.da)},this)),this.yc=new Wf,this.Ge=new Sb;var n=this;this.Fd=new oi({af:function(t,e,r,i){return e=[],r=n.Ge.j(t.path),r.e()||(e=qi(n.Fd,new Ac(Gf,t.path,r)),setTimeout(function(){i("ok")},0)),e},de:aa}),Ki(this,"connected",!1),this.na=new Vc,this.O=new Yg(t,u(this.da.O,this.da),u(this.da.je,this.da),u(this.Pe,this)),this.ud=0,this.He=null,this.M=new oi({af:function(t,e,r,i){return n.da.Cf(t,r,e,function(e,r){var o=i(e,r);dc(n.fa,t.path,o)}),[]},de:function(t,e){n.da.$f(t,e)}})}function Li(t){return t=t.Ge.j(new P(".info/serverTimeOffset")).J()||0,(new Date).getTime()+t}function Mi(t){return t=t={timestamp:Li(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function Ki(t,e,n){e=new P("/.info/"+e),n=Q(n);var r=t.Ge;r.Zd=r.Zd.H(e,n),n=qi(t.Fd,new Ac(Gf,e,n)),dc(t.fa,e,n)}function Oi(t){t.f("onDisconnectEvents");var e=Mi(t),n=[];Wc(Uc(t.na,e),M,function(e,r){n=n.concat(qi(t.M,new Ac(Gf,e,r)));var i=Qi(t,e);Ni(t,i);
}),t.na=new Vc,dc(t.fa,M,n)}function fi(t,e,n,r){var i=Q(n);t.da.Qe(e.toString(),i.J(!0),function(n,o){"ok"===n&&t.na.rc(e,i),Pi(r,n,o)})}function gi(t,e,n,r,i){var o=Q(n,r);t.da.Qe(e.toString(),o.J(!0),function(n,r){"ok"===n&&t.na.rc(e,o),Pi(i,n,r)})}function hi(t,e,n,r){var i,o=!0;for(i in n)o=!1;o?(fc("onDisconnect().update() called with empty data.  Don't do anything."),Pi(r,"ok")):t.da.Gf(e.toString(),n,function(i,o){if("ok"===i)for(var a in n){var u=Q(n[a]);t.na.rc(e.o(a),u)}Pi(r,i,o)})}function Ri(t,e,n){n=".info"===K(e.path)?t.Fd.Tb(e,n):t.M.Tb(e,n),bc(t.fa,e.path,n)}function Pi(t,e,n){t&&gc(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,t(i)}})}function Si(t,e,n,r,i){function o(){}t.f("transaction on "+e);var a=new X(t,e);if(a.Ib("value",o),n={path:e,update:n,I:r,status:null,Lf:id(),gf:i,Sf:0,le:function(){a.mc("value",o)},ne:null,Da:null,rd:null,sd:null,td:null},r=t.M.Aa(e,void 0)||H,n.rd=r,r=n.update(r.J()),p(r)){hg("transaction failed: Data returned ",r,n.path),n.status=1,i=Xf(t.yc,e);var u=i.Ea()||[];u.push(n),Yf(i,u),"object"==typeof r&&null!==r&&y(r,".priority")?(u=z(r,".priority"),O(fg(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(t.M.Aa(e)||H).C().J(),i=Mi(t),r=Q(r,u),i=Xc(r,i),n.sd=r,n.td=i,n.Da=t.Kd++,n=pi(t.M,e,i,n.Da,n.gf),dc(t.fa,e,n),Ti(t)}else n.le(),n.sd=null,n.td=null,n.I&&(t=new W(n.rd,new X(t,n.path),R),n.I(null,!1,t))}function Ti(t,e){var n=e||t.yc;if(e||Ui(t,n),null!==n.Ea()){var r=Vi(t,n);O(0<r.length,"Sending zero length transaction queue"),Qa(r,function(t){return 1===t.status})&&Wi(t,n.path(),r)}else n.zd()&&n.R(function(e){Ti(t,e)})}function Wi(t,e,n){for(var r=Oa(n,function(t){return t.Da}),i=t.M.Aa(e,r)||H,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];O(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Sf++;var s=lf(e,a.path),r=r.H(s,a.sd)}r=r.J(!0),t.da.put(e.toString(),r,function(r){t.f("transaction put response",{path:e.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(si(t.M,n[o].Da)),n[o].I){var a=n[o].td,s=new X(t,n[o].path);r.push(u(n[o].I,null,null,!0,new W(a,s,R)))}n[o].le()}for(Ui(t,Xf(t.yc,e)),Ti(t),dc(t.fa,e,i),o=0;o<r.length;o++)gc(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(S("transaction at "+e.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].ne=r;Ni(t,e)}},i)}function Ni(t,e){var n=Xi(t,e),r=n.path(),n=Vi(t,n);return Yi(t,n,r),r}function Yi(t,e,n){if(0!==e.length){for(var r=[],i=[],o=Na(e,function(t){return 1===t.status}),o=Oa(o,function(t){return t.Da}),a=0;a<e.length;a++){var s,c=e[a],l=lf(n,c.path),f=!1;if(O(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)f=!0,s=c.ne,i=i.concat(si(t.M,c.Da,!0));else if(1===c.status)if(25<=c.Sf)f=!0,s="maxretry",i=i.concat(si(t.M,c.Da,!0));else{var h=t.M.Aa(c.path,o)||H;c.rd=h;var d=e[a].update(h.J());p(d)?(hg("transaction failed: Data returned ",d,c.path),l=Q(d),"object"==typeof d&&null!=d&&y(d,".priority")||(l=l.ia(h.C())),h=c.Da,d=Mi(t),d=Xc(l,d),c.sd=l,c.td=d,c.Da=t.Kd++,Ta(o,h),i=i.concat(pi(t.M,c.path,d,c.Da,c.gf)),i=i.concat(si(t.M,h,!0))):(f=!0,s="nodata",i=i.concat(si(t.M,c.Da,!0)))}dc(t.fa,n,i),i=[],f&&(e[a].status=3,setTimeout(e[a].le,Math.floor(0)),e[a].I&&("nodata"===s?(c=new X(t,e[a].path),r.push(u(e[a].I,null,null,!1,new W(e[a].rd,c,R)))):r.push(u(e[a].I,null,Error(s),!1,null))))}for(Ui(t,t.yc),a=0;a<r.length;a++)gc(r[a]);Ti(t)}}function Xi(t,e){for(var n,r=t.yc;null!==(n=K(e))&&null===r.Ea();)r=Xf(r,n),e=N(e);return r}function Vi(t,e){var n=[];return Zi(t,e,n),n.sort(function(t,e){return t.Lf-e.Lf}),n}function Zi(t,e,n){var r=e.Ea();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);e.R(function(e){Zi(t,e,n)})}function Ui(t,e){var n=e.Ea();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Yf(e,0<n.length?n:null)}e.R(function(e){Ui(t,e)})}function Qi(t,e){var n=Xi(t,e).path(),r=Xf(t.yc,e);return ag(r,function(e){$i(t,e)}),$i(t,r),$f(r,function(e){$i(t,e)}),n}function $i(t,e){var n=e.Ea();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(O(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].ne="set"):(O(1===n[a].status,"Unexpected transaction status in abort"),n[a].le(),i=i.concat(si(t.M,n[a].Da,!0)),n[a].I&&r.push(u(n[a].I,null,Error("set"),!1,null))));for(-1===o?Yf(e,null):n.length=o+1,dc(t.fa,e.path(),i),a=0;a<r.length;a++)gc(r[a])}}function aj(){this.sc={},this.ag=!1}function Y(t,e,n,r){this.k=t,this.path=e,this.n=n,this.pc=r}function bj(t){var e=null,n=null;if(t.oa&&(e=Od(t)),t.ra&&(n=Rd(t)),t.g===re){if(t.oa){if("[MIN_NAME]"!=Nd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.ra){if("[MAX_NAME]"!=Pd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===R){if(null!=e&&!fg(e)||null!=n&&!fg(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(t.g instanceof ve||t.g===Be,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function cj(t){if(t.oa&&t.ra&&t.la&&(!t.la||""===t.Rb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function dj(t,e){if(!0===t.pc)throw Error(e+": You can't combine multiple orderBy calls.")}function ej(t,e,n){var r={cancel:null,Qa:null};if(e&&n)r.cancel=e,F(t,3,r.cancel,!0),r.Qa=n,Qb(t,4,r.Qa);else if(e)if("object"==typeof e&&null!==e)r.Qa=e;else{if("function"!=typeof e)throw Error(E(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r}function X(t,e){var n,r,i;if(t instanceof Ji)n=t,r=e;else{D("new Firebase",1,2,arguments.length),r=sd(arguments[0]),n=r.fh,"firebase"===r.domain&&rd(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.ob||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new dd(r.host,r.ob,n,"ws"===r.scheme||"wss"===r.scheme),r=new P(r.bd),i=r.toString();var o;if(!(o=!q(n.host)||0===n.host.length||!eg(n.lc))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(q(i)&&0!==i.length&&!cg.test(i))),o)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(e)if(e instanceof aj)i=e;else{if(!q(e))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=aj.yb(),n.Rd=e}else i=aj.yb();o=n.toString();var a=z(i.sc,o);a||(a=new Ji(n,i.ag),i.sc[o]=a),n=a}Y.call(this,n,r,De,!1),this.then=void 0,this["catch"]=void 0}var h,n=this,ja=Date.now||function(){return+new Date};ka(la,Error),la.prototype.name="CustomError";var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,w;t:{var Ga=n.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){w=Ha;break t}}w=""}ka(Ja,Ia),Ja.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ge=this.ec=0},Ja.prototype.update=function(t,e){if(null!=t){p(e)||(e=t.length);for(var n=e-this.Ya,r=0,i=this.pe,o=this.ec;r<e;){if(0==o)for(;r<=n;)Ka(this,t,r),r+=this.Ya;if(q(t)){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o==this.Ya){Ka(this,i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o==this.Ya){Ka(this,i),o=0;break}}this.ec=o,this.ge+=e}};var x=Array.prototype,La=x.indexOf?function(t,e,n){return x.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,q(t))return q(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ma=x.forEach?function(t,e,n){x.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=q(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},Na=x.filter?function(t,e,n){return x.filter.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=[],o=0,a=q(t)?t.split(""):t,u=0;u<r;u++)if(u in a){var s=a[u];e.call(n,s,u,t)&&(i[o++]=s)}return i},Oa=x.map?function(t,e,n){return x.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=Array(r),o=q(t)?t.split(""):t,a=0;a<r;a++)a in o&&(i[a]=e.call(n,o[a],a,t));return i},Pa=x.reduce?function(t,e,n,r){for(var i=[],o=1,a=arguments.length;o<a;o++)i.push(arguments[o]);return r&&(i[0]=u(e,r)),x.reduce.apply(t,i)}:function(t,e,n,r){var i=n;return Ma(t,function(n,o){i=e.call(r,i,n,o,t)}),i},Qa=x.every?function(t,e,n){return x.every.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=q(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&!e.call(n,i[o],o,t))return!1;return!0},Ya,ab,cb=!1,db=[];[].push(function(){cb=!1,db=[]});var gb=-1!=w.indexOf("Opera")||-1!=w.indexOf("OPR"),hb=-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"),ib=-1!=w.indexOf("Gecko")&&-1==w.toLowerCase().indexOf("webkit")&&!(-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE")),jb=-1!=w.toLowerCase().indexOf("webkit");!function(){var t,e="";return gb&&n.opera?(e=n.opera.version,r(e)?e():e):(ib?t=/rv\:([^\);]+)(\)|;)/:hb?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jb&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(w))?e[1]:""),hb&&(t=(t=n.document)?t.documentMode:void 0,t>parseFloat(e))?String(t):e)}();var kb=null,lb=null,mb=null,qb=0,tb=2,vb=3;pb.prototype.then=function(t,e,n){return wb(this,r(t)?t:null,r(e)?e:null,n)},pb.prototype.then=pb.prototype.then,pb.prototype.$goog_Thenable=!0,h=pb.prototype,h.gh=function(t,e){return wb(this,null,t,e)},h.cancel=function(t){this.N==qb&&$a(function(){var e=new ub(t);xb(this,e)},this)},h.Yf=function(t){this.N=qb,sb(this,tb,t)},h.Zf=function(t){this.N=qb,sb(this,vb,t)},h.wg=function(){for(;this.Ba&&this.Ba.length;){var t=this.Ba;this.Ba=null;for(var e=0;e<t.length;e++)yb(this,t[e],this.N,this.Rf)}this.ye=!1};var Db=Xa;ka(ub,la),ub.prototype.name="cancel";var Eb=Eb||"2.4.2",Mb=n.Promise||pb;pb.prototype["catch"]=pb.prototype.gh,Sb.prototype.j=function(t){return this.Zd.S(t)},Sb.prototype.toString=function(){return this.Zd.toString()},Tb.prototype.uf=function(){return null},Tb.prototype.Ce=function(){return null};var Ub=new Tb;Vb.prototype.uf=function(t){var e=this.Oa.Q;return Wb(e,t)?e.j().T(t):(e=null!=this.Nd?new Xb(this.Nd,(!0),(!1)):this.Oa.w(),this.bg.Bc(t,e))},Vb.prototype.Ce=function(t,e,n){var r=null!=this.Nd?this.Nd:Yb(this.Oa);return t=this.bg.qe(r,e,1,n,t),0===t.length?null:t[0]},ac.prototype.add=function(t){this.xd.push(t)},ac.prototype.cc=function(){return this.ta};var ic="value";jc.prototype.cc=function(){var t=this.be.Mb();return"value"===this.wd?t.path:t.parent().path},jc.prototype.De=function(){return this.wd},jc.prototype.Zb=function(){return this.xe.Zb(this)},jc.prototype.toString=function(){return this.cc().toString()+":"+this.wd+":"+G(this.be.qf())},kc.prototype.cc=function(){return this.path},kc.prototype.De=function(){return"cancel"},kc.prototype.Zb=function(){return this.xe.Zb(this)},kc.prototype.toString=function(){return this.path.toString()+":cancel"},Xb.prototype.j=function(){return this.A},oc.prototype.get=function(){var t=this.pg.get(),e=wa(t);if(this.Gd)for(var n in this.Gd)e[n]-=this.Gd[n];return this.Gd=t,e},pc.prototype.Of=function(){var t,e=this.hd.get(),n={},r=!1;for(t in e)0<e[t]&&y(this.Vf,t)&&(n[t]=e[t],r=!0);r&&this.da.Ye(n),setTimeout(u(this.Of,this),Math.floor(6e5*Math.random()))},qc.prototype.get=function(){return wa(this.Hc)};var sc={},tc={};Ac.prototype.$c=function(t){return this.path.e()?new Ac(this.source,M,this.Ja.T(t)):new Ac(this.source,N(this.path),this.Ja)},Ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"},Cc.prototype.$c=function(){return this.path.e()?new Cc(this.source,M):new Cc(this.source,N(this.path))},Cc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=Ec.prototype,h.Sa=function(t,e){return new Ec(this.Pa,this.xa.Sa(t,e,this.Pa).$(null,null,!1,null,null))},h.remove=function(t){return new Ec(this.Pa,this.xa.remove(t,this.Pa).$(null,null,!1,null,null))},h.get=function(t){for(var e,n=this.xa;!n.e();){if(e=this.Pa(t,n.key),0===e)return n.value;0>e?n=n.left:0<e&&(n=n.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Vc=function(){return this.xa.Vc()},h.jc=function(){return this.xa.jc()},h.ka=function(t){return this.xa.ka(t)},h.ac=function(t){return new Hc(this.xa,null,this.Pa,(!1),t)},h.bc=function(t,e){return new Hc(this.xa,t,this.Pa,(!1),e)},h.dc=function(t,e){return new Hc(this.xa,t,this.Pa,(!0),e)},h.xf=function(t){return new Hc(this.xa,null,this.Pa,(!0),t)},h=Kc.prototype,h.$=function(t,e,n,r,i){return new Kc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ka=function(t){return this.left.ka(t)||t(this.key,this.value)||this.right.ka(t)},h.Vc=function(){return Lc(this).key},h.jc=function(){return this.right.e()?this.key:this.right.jc()},h.Sa=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=0>r?i.$(null,null,null,i.left.Sa(t,e,n),null):0===r?i.$(null,e,null,null,null):i.$(null,null,null,null,i.right.Sa(t,e,n)),Mc(i)},h.remove=function(t,e){var n,r;if(n=this,0>e(t,n.key))n.left.e()||n.left.ha()||n.left.left.ha()||(n=Oc(n)),n=n.$(null,null,null,n.left.remove(t,e),null);else{if(n.left.ha()&&(n=Pc(n)),n.right.e()||n.right.ha()||n.right.left.ha()||(n=Qc(n),n.left.left.ha()&&(n=Pc(n),n=Qc(n))),0===e(t,n.key)){if(n.right.e())return Fc;r=Lc(n.right),n=n.$(r.key,r.value,null,null,Nc(n.right))}n=n.$(null,null,null,null,n.right.remove(t,e))}return Mc(n)},h.ha=function(){return this.color},h=Sc.prototype,h.$=function(){return this},h.Sa=function(t,e){return new Kc(t,e,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ka=function(){return!1},h.Vc=function(){return null},h.jc=function(){return null},h.ha=function(){return!1};var Fc=new Sc;Zc.prototype.set=function(t,e){null==e?delete this.Ac[t]:this.Ac[t]=e},Zc.prototype.get=function(t){return y(this.Ac,t)?this.Ac[t]:null},Zc.prototype.remove=function(t){delete this.Ac[t]},Zc.prototype.Af=!0,h=$c.prototype,h.set=function(t,e){null==e?this.Ic.removeItem(this.Sd+t):this.Ic.setItem(this.Sd+t,G(e))},h.get=function(t){return t=this.Ic.getItem(this.Sd+t),null==t?null:Rb(t)},h.remove=function(t){this.Ic.removeItem(this.Sd+t)},h.Af=!1,h.toString=function(){return this.Ic.toString()};var bd=ad("localStorage"),cd=ad("sessionStorage");dd.prototype.toString=function(){var t=(this.ob?"https://":"http://")+this.host;return this.Rd&&(t+="<"+this.Rd+">"),t};var id=function(){var t=1;return function(){return t++}}(),O=Kb,jd=Lb,ec=null,nd=!0,Bd=/^-?\d{1,10}$/;Fd.prototype.qg=function(t,e){if(null==t.Za||null==e.Za)throw jd("Should only compare child_ events.");return this.g.compare(new L(t.Za,t.Na),new L(e.Za,e.Na))},h=Ld.prototype,h.H=function(t,e,n,r,i,o){return O(t.Mc(this.g),"A node must be indexed if only a child is updated"),i=t.T(e),i.S(r).ea(n.S(r))&&i.e()==n.e()?t:(null!=o&&(n.e()?t.Fa(e)?Kd(o,new J("child_removed",i,e)):O(t.L(),"A child remove without an old child only makes sense on a leaf node"):i.e()?Kd(o,new J("child_added",n,e)):Kd(o,new J("child_changed",n,e,i))),t.L()&&n.e()?t:t.W(e,n).pb(this.g))},h.ya=function(t,e,n){return null!=n&&(t.L()||t.R(R,function(t,r){e.Fa(t)||Kd(n,new J("child_removed",r,t))}),e.L()||e.R(R,function(e,r){if(t.Fa(e)){var i=t.T(e);i.ea(r)||Kd(n,new J("child_changed",r,e,i))}else Kd(n,new J("child_added",r,e))})),e.pb(this.g)},h.ia=function(t,e){return t.e()?H:t.ia(e)},h.Ra=function(){return!1},h.$b=function(){return this},h=Md.prototype,h.matches=function(t){return 0>=this.g.compare(this.gd,t)&&0>=this.g.compare(t,this.Jc)},h.H=function(t,e,n,r,i,o){return this.matches(new L(e,n))||(n=H),this.Fe.H(t,e,n,r,i,o)},h.ya=function(t,e,n){e.L()&&(e=H);var r=e.pb(this.g),r=r.ia(H),i=this;return e.R(R,function(t,e){i.matches(new L(t,e))||(r=r.W(t,H))}),this.Fe.ya(t,r,n)},h.ia=function(t){return t},h.Ra=function(){return!0},h.$b=function(){return this.Fe},h=Sd.prototype,h.H=function(t,e,n,r,i,o){return this.ua.matches(new L(e,n))||(n=H),t.T(e).ea(n)?t:t.Hb()<this.ma?this.ua.$b().H(t,e,n,r,i,o):Ud(this,t,e,n,i,o)},h.ya=function(t,e,n){var r;if(e.L()||e.e())r=H.pb(this.g);else if(2*this.ma<e.Hb()&&e.Mc(this.g)){r=H.pb(this.g),e=this.Nb?e.dc(this.ua.Jc,this.g):e.bc(this.ua.gd,this.g);for(var i=0;0<e.Ta.length&&i<this.ma;){var o,a=Ic(e);if(!(o=this.Nb?0>=this.g.compare(this.ua.gd,a):0>=this.g.compare(a,this.ua.Jc)))break;r=r.W(a.name,a.U),i++}}else{r=e.pb(this.g),r=r.ia(H);var u,s,c;if(this.Nb){e=r.xf(this.g),u=this.ua.Jc,s=this.ua.gd;var l=Vd(this.g);c=function(t,e){return l(e,t)}}else e=r.ac(this.g),u=this.ua.gd,s=this.ua.Jc,c=Vd(this.g);for(var i=0,f=!1;0<e.Ta.length;)a=Ic(e),!f&&0>=c(u,a)&&(f=!0),(o=f&&i<this.ma&&0>=c(a,s))?i++:r=r.W(a.name,H)}return this.ua.$b().ya(t,r,n)},h.ia=function(t){return t},h.Ra=function(){return!0},h.$b=function(){return this.ua.$b()},Zd.prototype.gb=function(t,e,n,r){var i,o=new Jd;if(e.type===Bc)e.source.Ae?n=$d(this,t,e.path,e.Ja,n,r,o):(O(e.source.tf,"Unknown source."),i=e.source.ef||mc(t.w())&&!e.path.e(),n=ae(this,t,e.path,e.Ja,n,r,i,o));else if(e.type===be)e.source.Ae?n=ce(this,t,e.path,e.children,n,r,o):(O(e.source.tf,"Unknown source."),i=e.source.ef||mc(t.w()),n=de(this,t,e.path,e.children,n,r,i,o));else if(e.type===ee)if(e.Yd)if(e=e.path,null!=n.xc(e))n=t;else{if(i=new Vb(n,t,r),r=t.Q.j(),e.e()||".priority"===K(e))lc(t.w())?e=n.Aa(Yb(t)):(e=t.w().j(),O(e instanceof fe,"serverChildren would be complete if leaf node"),e=n.Cc(e)),e=this.X.ya(r,e,o);else{var a=K(e),u=n.Bc(a,t.w());null==u&&Wb(t.w(),a)&&(u=r.T(a)),e=null!=u?this.X.H(r,a,u,N(e),i,o):t.Q.j().Fa(a)?this.X.H(r,a,H,N(e),i,o):r,e.e()&&lc(t.w())&&(r=n.Aa(Yb(t)),r.L()&&(e=this.X.ya(e,r,o)))}r=lc(t.w())||null!=n.xc(M),n=ge(t,e,r,this.X.Ra())}else n=he(this,t,e.path,e.Ub,n,r,o);else{if(e.type!==Dc)throw jd("Unknown operation type: "+e.type);r=e.path,e=t.w(),i=e.j(),a=e.ga||r.e(),n=ie(this,new je(t.Q,new Xb(i,a,e.Yb)),r,n,Ub,o)}return o=qa(o.ib),r=n,e=r.Q,e.ga&&(i=e.j().L()||e.j().e(),a=ke(t),(0<o.length||!t.Q.ga||i&&!e.j().ea(a)||!e.j().C().ea(a.C()))&&o.push(hc(ke(r)))),new Yd(n,o)};var te={};se.prototype.Dd=function(t,e){return 0!==this.compare(new L("[MIN_NAME]",t),new L("[MIN_NAME]",e))},se.prototype.Wc=function(){return ue},ka(ve,se),h=ve.prototype,h.Lc=function(t){return!t.S(this.gc).e()},h.compare=function(t,e){var n=t.U.S(this.gc),r=e.U.S(this.gc),n=n.Gc(r);return 0===n?yc(t.name,e.name):n},h.Sc=function(t,e){var n=Q(t),n=H.H(this.gc,n);return new L(e,n)},h.Tc=function(){var t=H.H(this.gc,we);return new L("[MAX_NAME]",t)},h.toString=function(){return this.gc.slice().join("/")},ka(xe,se),h=xe.prototype,h.compare=function(t,e){var n=t.U.C(),r=e.U.C(),n=n.Gc(r);return 0===n?yc(t.name,e.name):n},h.Lc=function(t){return!t.C().e()},h.Dd=function(t,e){return!t.C().ea(e.C())},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",new Yc("[PRIORITY-POST]",we))},h.Sc=function(t,e){var n=Q(t);return new L(e,new Yc("[PRIORITY-POST]",n))},h.toString=function(){return".priority"};var R=new xe;ka(ye,se),h=ye.prototype,h.compare=function(t,e){return yc(t.name,e.name)},h.Lc=function(){throw jd("KeyIndex.isDefinedOn not expected to be called.")},h.Dd=function(){return!1},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",H)},h.Sc=function(t){return O(q(t),"KeyIndex indexValue must always be a string."),new L(t,H)},h.toString=function(){return".key"};var re=new ye;ka(ze,se),h=ze.prototype,h.compare=function(t,e){var n=t.U.Gc(e.U);return 0===n?yc(t.name,e.name):n},h.Lc=function(){return!0},h.Dd=function(t,e){return!t.ea(e)},h.Wc=function(){return ue},h.Tc=function(){return Ae},h.Sc=function(t,e){var n=Q(t);return new L(e,n)},h.toString=function(){return".value"};var Be=new ze,De=new Ce;h=Ce.prototype,h.Le=function(t){var e=Ee(this);return e.la=!0,e.ma=t,e.Rb="",e},h.Me=function(t){var e=Ee(this);return e.la=!0,e.ma=t,e.Rb="l",e},h.Ne=function(t){var e=Ee(this);return e.la=!0,e.ma=t,e.Rb="r",e},h.ce=function(t,e){var n=Ee(this);return n.oa=!0,p(t)||(t=null),n.ic=t,null!=e?(n.Pb=!0,n.Bb=e):(n.Pb=!1,n.Bb=""),n},h.vd=function(t,e){var n=Ee(this);return n.ra=!0,p(t)||(t=null),n.fc=t,p(e)?(n.Xb=!0,n.zb=e):(n.oh=!1,n.zb=""),n},h.toString=function(){return G(Ge(this))},Ke.prototype.get=function(t){var e=z(this.Ed,t);if(!e)throw Error("No index defined for "+t);return e===te?null:e};var Oe=new Ke({".priority":te},{".priority":R}),Qe=["object","boolean","number","string"];h=Yc.prototype,h.L=function(){return!0},h.C=function(){return this.ca},h.ia=function(t){return new Yc(this.B,t)},h.T=function(t){return".priority"===t?this.ca:H},h.S=function(t){return t.e()?this:".priority"===K(t)?this.ca:H},h.Fa=function(){return!1},h.wf=function(){return null},h.W=function(t,e){return".priority"===t?this.ia(e):e.e()&&".priority"!==t?this:H.W(t,e).ia(this.ca)},h.H=function(t,e){var n=K(t);return null===n?e:e.e()&&".priority"!==n?this:(O(".priority"!==n||1===le(t),".priority must be the last token in a path"),this.W(n,H.H(N(t),e)))},h.e=function(){return!1},h.Hb=function(){return 0},h.R=function(){return!1},h.J=function(t){return t&&!this.C().e()?{".value":this.Ea(),".priority":this.C().J()}:this.Ea()},h.hash=function(){if(null===this.Gb){var t="";this.ca.e()||(t+="priority:"+Re(this.ca.J())+":");var e=typeof this.B,t=t+(e+":"),t="number"===e?t+Ad(this.B):t+this.B;this.Gb=ld(t)}return this.Gb},h.Ea=function(){return this.B},h.Gc=function(t){if(t===H)return 1;if(t instanceof fe)return-1;O(t.L(),"Unknown node type");var e=typeof t.B,n=typeof this.B,r=La(Qe,e),i=La(Qe,n);return O(0<=r,"Unknown leaf type: "+e),O(0<=i,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<t.B?-1:this.B===t.B?0:1:i-r},h.pb=function(){return this},h.Mc=function(){return!0},h.ea=function(t){return t===this||!!t.L()&&(this.B===t.B&&this.ca.ea(t.ca))},h.toString=function(){return G(this.J(!0))},h=fe.prototype,h.L=function(){return!1},h.C=function(){return this.ca||H},h.ia=function(t){return this.m.e()?this:new fe(this.m,t,this.Ab)},h.T=function(t){return".priority"===t?this.C():(t=this.m.get(t),null===t?H:t)},h.S=function(t){var e=K(t);return null===e?this:this.T(e).S(N(t))},h.Fa=function(t){return null!==this.m.get(t)},h.W=function(t,e){if(O(e,"We should always be passing snapshot nodes"),".priority"===t)return this.ia(e);var n,r,i=new L(t,e);return e.e()?(n=this.m.remove(t),i=Ne(this.Ab,i,this.m)):(n=this.m.Sa(t,e),i=Le(this.Ab,i,this.m)),r=n.e()?H:this.ca,new fe(n,r,i)},h.H=function(t,e){var n=K(t);if(null===n)return e;O(".priority"!==K(t)||1===le(t),".priority must be the last token in a path");var r=this.T(n).H(N(t),e);return this.W(n,r)},h.e=function(){return this.m.e()},h.Hb=function(){return this.m.count()};var Se=/^(0|[1-9]\d*)$/;h=fe.prototype,h.J=function(t){if(this.e())return null;var e={},n=0,r=0,i=!0;if(this.R(R,function(o,a){e[o]=a.J(t),n++,i&&Se.test(o)?r=Math.max(r,Number(o)):i=!1}),!t&&i&&r<2*n){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.C().e()&&(e[".priority"]=this.C().J()),e},h.hash=function(){if(null===this.Gb){var t="";this.C().e()||(t+="priority:"+Re(this.C().J())+":"),this.R(R,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.Gb=""===t?"":ld(t)}return this.Gb},h.wf=function(t,e,n){return(n=Te(this,n))?(t=Gc(n,new L(t,e)))?t.name:null:Gc(this.m,t)},h.R=function(t,e){var n=Te(this,t);return n?n.ka(function(t){return e(t.name,t.U)}):this.m.ka(e)},h.ac=function(t){return this.bc(t.Wc(),t)},h.bc=function(t,e){var n=Te(this,e);if(n)return n.bc(t,function(t){return t});for(var n=this.m.bc(t.name,wc),r=Jc(n);null!=r&&0>e.compare(r,t);)Ic(n),r=Jc(n);return n},h.xf=function(t){return this.dc(t.Tc(),t)},h.dc=function(t,e){var n=Te(this,e);if(n)return n.dc(t,function(t){return t});for(var n=this.m.dc(t.name,wc),r=Jc(n);null!=r&&0<e.compare(r,t);)Ic(n),r=Jc(n);return n},h.Gc=function(t){return this.e()?t.e()?0:-1:t.L()||t.e()?1:t===we?-1:0},h.pb=function(t){if(t===re||sa(this.Ab.hc,t.toString()))return this;var e=this.Ab,n=this.m;O(t!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.ac(wc),o=Ic(n);o;)i=i||t.Lc(o.U),r.push(o),o=Ic(n);return r=i?Me(r,Vd(t)):te,i=t.toString(),n=wa(e.hc),n[i]=t,t=wa(e.Ed),t[i]=r,new fe(this.m,this.ca,new Ke(t,n))},h.Mc=function(t){return t===re||sa(this.Ab.hc,t.toString())},h.ea=function(t){if(t===this)return!0;if(t.L())return!1;if(this.C().ea(t.C())&&this.m.count()===t.m.count()){var e=this.ac(R);t=t.ac(R);for(var n=Ic(e),r=Ic(t);n&&r;){if(n.name!==r.name||!n.U.ea(r.U))return!1;n=Ic(e),r=Ic(t)}return null===n&&null===r}return!1},h.toString=function(){return G(this.J(!0))};var Ue=Math.log(2),H=new fe(new Ec(zc),null,Oe);ka(Xe,fe),h=Xe.prototype,h.Gc=function(t){return t===this?0:1},h.ea=function(t){return t===this},h.C=function(){return this},h.T=function(){return H},h.e=function(){return!1};var we=new Xe,ue=new L("[MIN_NAME]",H),Ae=new L("[MAX_NAME]",we);je.prototype.w=function(){return this.ae},h=Ye.prototype,h.w=function(){return this.Oa.w().j()},h.kb=function(t){var e=Yb(this.Oa);return e&&(He(this.Y.n)||!t.e()&&!e.T(K(t)).e())?e.S(t):null},h.e=function(){return 0===this.$a.length},h.Tb=function(t){this.$a.push(t)},h.nb=function(t,e){var n=[];if(e){O(null==t,"A cancel should cancel all event registrations.");var r=this.Y.path;Ma(this.$a,function(t){(t=t.lf(e,r))&&n.push(t)})}if(t){for(var i=[],o=0;o<this.$a.length;++o){var a=this.$a[o];if(a.matches(t)){if(t.yf()){i=i.concat(this.$a.slice(o+1));break}}else i.push(a)}this.$a=i}else this.$a=[];return n},h.gb=function(t,e,n){t.type===be&&null!==t.source.Lb&&(O(Yb(this.Oa),"We should always have a full cache before handling merges"),O(ke(this.Oa),"Missing event cache, even though we have a server cache"));var r=this.Oa;return t=this.Nf.gb(r,t,e,n),e=this.Nf,n=t.me,O(n.Q.j().Mc(e.X.g),"Event snap not indexed"),O(n.w().j().Mc(e.X.g),"Server snap not indexed"),O(lc(t.me.w())||!lc(r.w()),"Once a server snap is complete, it should never go back"),this.Oa=t.me,$e(this,t.og,t.me.Q.j(),null)},bf.prototype.$c=function(t){return this.path.e()?(t=this.children.subtree(new P(t)),t.e()?null:t.value?new Ac(this.source,M,t.value):new bf(this.source,M,t)):(O(K(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new bf(this.source,N(this.path),this.children))},bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},h=cf.prototype,h.Cf=function(t,e,n,r){var i=t.path.toString();this.f("Listen called for "+i+" "+t.wa());var o=df(t,n),a={};this.ba[o]=a,t=Je(t.n);var u=this;ef(this,i+".json",t,function(t,e){var s=e;404===t&&(t=s=null),null===t&&u.Kb(i,s,!1,n),z(u.ba,o)===a&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},h.$f=function(t,e){var n=df(t,e);delete this.ba[n]},h.O=function(t,e){this.Ca=t;var n=Cd(t),r=n.data,n=n.Ec&&n.Ec.exp;e&&e("ok",{auth:r,expires:n})},h.je=function(t){this.Ca=null,t("ok",null)},h.Qe=function(){},h.Gf=function(){},h.Md=function(){},h.put=function(){},h.Df=function(){},h.Ye=function(){},ff.prototype.ie=function(t,e){var n;n=this.Rc[t]||[];var r=n.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].Dc.apply(n[r].Qa,Array.prototype.slice.call(arguments,1))},ff.prototype.Ib=function(t,e,n){gf(this,t),this.Rc[t]=this.Rc[t]||[],this.Rc[t].push({Dc:e,Qa:n}),(t=this.Ee(t))&&e.apply(n,t)},ff.prototype.mc=function(t,e,n){gf(this,t),t=this.Rc[t]||[];for(var r=0;r<t.length;r++)if(t[r].Dc===e&&(!n||n===t[r].Qa)){t.splice(r,1);break}};var hf=function(){var t=0,e=[];return function(n){var r=n===t;t=n;for(var i=Array(8),o=7;0<=o;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(O(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;0<=o&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return O(20===n.length,"nextPushId: Length should be 20."),n}}();ka(jf,ff),jf.prototype.Ee=function(t){return O("online"===t,"Unknown event type: "+t),[this.oc]},ba(jf),ka(kf,ff),kf.prototype.Ee=function(t){return O("visible"===t,"Unknown event type: "+t),[this.Sb]},ba(kf),h=P.prototype,h.toString=function(){for(var t="",e=this.aa;e<this.u.length;e++)""!==this.u[e]&&(t+="/"+this.u[e]);return t||"/"},h.slice=function(t){return this.u.slice(this.aa+(t||0))},h.parent=function(){if(this.aa>=this.u.length)return null;for(var t=[],e=this.aa;e<this.u.length-1;e++)t.push(this.u[e]);return new P(t,0)},h.o=function(t){for(var e=[],n=this.aa;n<this.u.length;n++)e.push(this.u[n]);if(t instanceof P)for(n=t.aa;n<t.u.length;n++)e.push(t.u[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new P(e,0)},h.e=function(){return this.aa>=this.u.length},h.ea=function(t){if(le(this)!==le(t))return!1;for(var e=this.aa,n=t.aa;e<=this.u.length;e++,n++)if(this.u[e]!==t.u[n])return!1;return!0},h.contains=function(t){var e=this.aa,n=t.aa;if(le(this)>le(t))return!1;for(;e<this.u.length;){if(this.u[e]!==t.u[n])return!1;++e,++n}return!0};var M=new P("");nf.prototype.push=function(t){0<this.Ua.length&&(this.Ka+=1),this.Ua.push(t),this.Ka+=Pb(t),of(this)},nf.prototype.pop=function(){var t=this.Ua.pop();this.Ka-=Pb(t),0<this.Ua.length&&--this.Ka};var rf=new Ec(function(t,e){return t===e?0:t<e?-1:1});h=qf.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(t){if(t.e())return this;var e=this.children.get(K(t));return null!==e?e.subtree(N(t)):qe},h.set=function(t,e){if(t.e())return new qf(e,this.children);var n=K(t),r=(this.children.get(n)||qe).set(N(t),e),n=this.children.Sa(n,r);return new qf(this.value,n)},h.remove=function(t){if(t.e())return this.children.e()?qe:new qf(null,this.children);var e=K(t),n=this.children.get(e);return n?(t=n.remove(N(t)),e=t.e()?this.children.remove(e):this.children.Sa(e,t),null===this.value&&e.e()?qe:new qf(this.value,e)):this},h.get=function(t){if(t.e())return this.value;var e=this.children.get(K(t));return e?e.get(N(t)):null};var qe=new qf(null);qf.prototype.toString=function(){var t={};return ne(this,function(e,n){t[e.toString()]=n.toString()}),G(t)},Df.prototype.$c=function(t){return this.path.e()?null!=this.Ub.value?(O(this.Ub.children.e(),"affectedTree should not have overlapping affected paths."),this):(t=this.Ub.subtree(new P(t)),new Df(M,t,this.Yd)):(O(K(this.path)===t,"operationForChild called for unrelated child."),new Df(N(this.path),this.Ub,this.Yd))},Df.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yd+" affectedTree="+this.Ub+")"};var Bc=0,be=1,ee=2,Dc=3,Ef=new Ff((!0),(!1),null,(!1)),Gf=new Ff((!1),(!0),null,(!1));
Ff.prototype.toString=function(){return this.Ae?"user":this.ef?"server(queryID="+this.Lb+")":"server"};var If=new Hf(new qf(null));Hf.prototype.Ud=function(t){return t.e()?If:(t=pe(this.Z,t,qe),new Hf(t))},Hf.prototype.e=function(){return this.Z.e()},Hf.prototype.apply=function(t){return Of(M,this.Z,t)},h=Pf.prototype,h.Ud=function(t){var e=Sa(this.pa,function(e){return e.md===t});O(0<=e,"removeWrite called with nonexistent writeId.");var n=this.pa[e];this.pa.splice(e,1);for(var r=n.visible,i=!1,o=this.pa.length-1;r&&0<=o;){var a=this.pa[o];a.visible&&(o>=e&&Rf(a,n.path)?r=!1:n.path.contains(a.path)&&(i=!0)),o--}if(r){if(i)this.V=Sf(this.pa,Tf,M),this.Pc=0<this.pa.length?this.pa[this.pa.length-1].md:-1;else if(n.Ja)this.V=this.V.Ud(n.path);else{var u=this;v(n.children,function(t,e){u.V=u.V.Ud(n.path.o(e))})}return!0}return!1},h.Aa=function(t,e,n,r){if(n||r){var i=Nf(this.V,t);return!r&&i.e()?e:r||null!=e||null!=Lf(i,M)?(i=Sf(this.pa,function(e){return(e.visible||r)&&(!n||!(0<=La(n,e.md)))&&(e.path.contains(t)||t.contains(e.path))},t),e=e||H,i.apply(e)):null}return i=Lf(this.V,t),null!=i?i:(i=Nf(this.V,t),i.e()?e:null!=e||null!=Lf(i,M)?(e=e||H,i.apply(e)):null)},h.Cc=function(t,e){var n=H,r=Lf(this.V,t);if(r)r.L()||r.R(R,function(t,e){n=n.W(t,e)});else if(e){var i=Nf(this.V,t);e.R(R,function(t,e){var r=Nf(i,new P(t)).apply(e);n=n.W(t,r)}),Ma(Mf(i),function(t){n=n.W(t.name,t.U)})}else i=Nf(this.V,t),Ma(Mf(i),function(t){n=n.W(t.name,t.U)});return n},h.nd=function(t,e,n,r){return O(n||r,"Either existingEventSnap or existingServerSnap must exist"),t=t.o(e),null!=Lf(this.V,t)?null:(t=Nf(this.V,t),t.e()?r.S(e):t.apply(r.S(e)))},h.Bc=function(t,e,n){t=t.o(e);var r=Lf(this.V,t);return null!=r?r:Wb(n,e)?Nf(this.V,t).apply(n.j().T(e)):null},h.xc=function(t){return Lf(this.V,t)},h.qe=function(t,e,n,r,i,o){var a;if(t=Nf(this.V,t),a=Lf(t,M),null==a){if(null==e)return[];a=t.apply(e)}if(a=a.pb(o),a.e()||a.L())return[];for(e=[],t=Vd(o),i=i?a.dc(n,o):a.bc(n,o),o=Ic(i);o&&e.length<r;)0!==t(o,n)&&e.push(o),o=Ic(i);return e},h=Uf.prototype,h.Aa=function(t,e,n){return this.Z.Aa(this.Qb,t,e,n)},h.Cc=function(t){return this.Z.Cc(this.Qb,t)},h.nd=function(t,e,n){return this.Z.nd(this.Qb,t,e,n)},h.xc=function(t){return this.Z.xc(this.Qb.o(t))},h.qe=function(t,e,n,r,i){return this.Z.qe(this.Qb,t,e,n,r,i)},h.Bc=function(t,e){return this.Z.Bc(this.Qb,t,e)},h.o=function(t){return new Uf(this.Qb.o(t),this.Z)},h=Wf.prototype,h.Ea=function(){return this.A.value},h.clear=function(){this.A.value=null,this.A.children={},this.A.pd=0,Zf(this)},h.zd=function(){return 0<this.A.pd},h.e=function(){return null===this.Ea()&&!this.zd()},h.R=function(t){var e=this;v(this.A.children,function(n,r){t(new Wf(r,e,n))})},h.path=function(){return new P(null===this.Ha?this.Jd:this.Ha.path()+"/"+this.Jd)},h.name=function(){return this.Jd},h.parent=function(){return this.Ha};var bg=/[\[\].#$\/\u0000-\u001F\u007F]/,cg=/[\[\].#$\u0000-\u001F\u007F]/,dg=/^[a-zA-Z][a-zA-Z._\-+]+$/;h=ug.prototype,h.add=function(t,e){this.set[t]=null===e||e},h.contains=function(t){return y(this.set,t)},h.get=function(t){return this.contains(t)?this.set[t]:void 0},h.remove=function(t){delete this.set[t]},h.clear=function(){this.set={}},h.e=function(){return va(this.set)},h.count=function(){return oa(this.set)},h.keys=function(){var t=[];return v(this.set,function(e,n){t.push(n)}),t},Vc.prototype.find=function(t){if(null!=this.B)return this.B.S(t);if(t.e()||null==this.m)return null;var e=K(t);return t=N(t),this.m.contains(e)?this.m.get(e).find(t):null},Vc.prototype.rc=function(t,e){if(t.e())this.B=e,this.m=null;else if(null!==this.B)this.B=this.B.H(t,e);else{null==this.m&&(this.m=new ug);var n=K(t);this.m.contains(n)||this.m.add(n,new Vc),n=this.m.get(n),t=N(t),n.rc(t,e)}},Vc.prototype.R=function(t){null!==this.m&&vg(this.m,function(e,n){t(e,n)})};var xg="auth.firebase.com",zg=["remember","redirectTo"];Bg.prototype.set=function(t,e){if(!e){if(!this.ee.length)throw Error("fb.login.SessionManager : No storage options available!");e=this.ee[0]}e.set(this.Ue,t)},Bg.prototype.get=function(){var t=Oa(this.ee,u(this.Bg,this)),t=Na(t,function(t){return null!==t});return Va(t,function(t,e){return Dd(e.token)-Dd(t.token)}),0<t.length?t.shift():null},Bg.prototype.Bg=function(t){try{var e=t.get(this.Ue);if(e&&e.token)return e}catch(n){}return null},Bg.prototype.clear=function(){var t=this;Ma(this.ee,function(e){e.remove(t.Ue)})},Og.prototype.nc=function(t){var e,n=this;try{e=Rb(t.data)}catch(r){}e&&"request"===e.a&&(Ig(window,"message",this.nc),this.fe=t.origin,this.hb&&setTimeout(function(){n.hb(n.fe,e.d,function(t,e){n.mg=!e,n.hb=void 0,Pg(n,{a:"response",d:t,forceKeepWindowOpen:e})})},0))},Og.prototype.Ng=function(){try{Ig(this.Cd,"message",this.Ff)}catch(t){}this.hb&&(Pg(this,{a:"error",d:"unknown closed window"}),this.hb=void 0);try{window.close()}catch(e){}},Og.prototype.Ff=function(t){if(this.mg&&"die"===t.data)try{window.close()}catch(e){}},Qg.prototype.open=function(t,e){cd.set("redirect_request_id",this.tc),cd.set("redirect_request_id",this.tc),e.requestId=this.tc,e.redirectTo=e.redirectTo||window.location.href,t+=(/\?/.test(t)?"":"?")+Ib(e),window.location=t},Qg.isAvailable=function(){return!Eg()&&!Dg()},Qg.prototype.Fc=function(){return"redirect"};var Rg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Tg.prototype.open=function(t,e,n){function r(t){if(o&&(document.body.removeChild(o),o=void 0),l&&(l=clearInterval(l)),Ig(window,"message",i),Ig(window,"unload",r),c&&!t)try{c.close()}catch(e){a.postMessage("die",s)}c=a=void 0}function i(t){if(t.origin===s)try{var e=Rb(t.data);"ready"===e.a?a.postMessage(f,s):"error"===e.a?(r(!1),n&&(n(e.d),n=null)):"response"===e.a&&(r(e.forceKeepWindowOpen),n&&(n(null,e.d),n=null))}catch(i){}}var o,a,u=Fg(8);if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var s=Jg(t);if(s!==Jg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{u&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),t+=(/\?/.test(t)?"":"?")+Ib(e);var c=window.open(t,this.options.window_name,this.options.window_features);a||(a=c);var l=setInterval(function(){c&&c.closed&&(r(!1),n&&(n(Sg("USER_CANCELLED")),n=null))},500),f=G({a:"request",d:e});Hg(window,"unload",r),Hg(window,"message",i)}},Tg.isAvailable=function(){var t;return(t="postMessage"in window&&!Eg())&&((t=Dg()||"undefined"!=typeof navigator&&(!!Cg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(t=Cg(),t="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||t.match(/CriOS/)||t.match(/Twitter for iPhone/)||t.match(/FBAN\/FBIOS/)||window.navigator.standalone)),t=!t),t&&!Cg().match(/PhantomJS/)},Tg.prototype.Fc=function(){return"popup"},Ug.prototype.open=function(t,e,n){function r(){n&&(n(Sg("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(Hg(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var t;if(200<=o.status&&300>o.status){try{t=Rb(o.responseText)}catch(e){}n(null,t)}else n(500<=o.status&&600>o.status?Sg("SERVER_ERROR"):Sg("NETWORK_ERROR"));n=null,Ig(window,"beforeunload",r)}},"GET"===a)t+=(/\?/.test(t)?"":"?")+Ib(e),i=null;else{var u=this.options.headers.content_type;"application/json"===u&&(i=G(e)),"application/x-www-form-urlencoded"===u&&(i=Ib(e))}o.open(a,t,!0),t={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},ya(t,this.options.headers);for(var s in t)o.setRequestHeader(s,t[s]);o.send(i)},Ug.isAvailable=function(){var t;return(t=!!window.XMLHttpRequest)&&(t=Cg(),t=!(t.match(/MSIE/)||t.match(/Trident/))||Fg(10)),t},Ug.prototype.Fc=function(){return"json"},Vg.prototype.open=function(t,e,n){function i(){n&&(n(Sg("USER_CANCELLED")),n=null)}var o,a=this,u=sd(xg);e.requestId=this.tc,e.redirectTo=u.scheme+"://"+u.host+"/blank/page.html",t+=/\?/.test(t)?"":"?",t+=Ib(e),(o=window.open(t,"_blank","location=no"))&&r(o.addEventListener)?(o.addEventListener("loadstart",function(t){var e;if(e=t&&t.url)t:{try{var r=document.createElement("a");r.href=t.url,e=r.host===u.host&&"/blank/page.html"===r.pathname;break t}catch(s){}e=!1}e&&(t=Kg(t.url),o.removeEventListener("exit",i),o.close(),t=new yg(null,null,{requestId:a.tc,requestKey:t}),a.Kf.requestWithCredential("/auth/session",t,n),n=null)}),o.addEventListener("exit",i)):n(Sg("TRANSPORT_UNAVAILABLE"))},Vg.isAvailable=function(){return Dg()},Vg.prototype.Fc=function(){return"redirect"},Wg.prototype.open=function(t,e,n){function r(){n&&(n(Sg("REQUEST_INTERRUPTED")),n=null)}function i(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,va(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var t=document.getElementById(o);t&&t.parentNode.removeChild(t)}catch(e){}},1),Ig(window,"beforeunload",r)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());e[this.options.callback_parameter]="__firebase_auth_jsonp."+o,t+=(/\?/.test(t)?"":"?")+Ib(e),Hg(window,"beforeunload",r),window.__firebase_auth_jsonp[o]=function(t){n&&(n(null,t),n=null),i()},Xg(o,t,n)},Wg.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Wg.prototype.Fc=function(){return"json"},ka(Yg,ff),h=Yg.prototype,h.Be=function(){return this.qb||null},h.ve=function(t,e){gh(this);var n=Ag(t);n.fb._method="POST",this.uc("/users",n,function(t,n){t?T(e,t):T(e,t,n)})},h.Xe=function(t,e){var n=this;gh(this);var r="/users/"+encodeURIComponent(t.email),i=Ag(t);i.fb._method="DELETE",this.uc(r,i,function(t,r){!t&&r&&r.uid&&n.qb&&n.qb.uid&&n.qb.uid===r.uid&&eh(n),T(e,t)})},h.se=function(t,e){gh(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=Ag(t);r.fb._method="PUT",r.fb.password=t.newPassword,this.uc(n,r,function(t){T(e,t)})},h.re=function(t,e){gh(this);var n="/users/"+encodeURIComponent(t.oldEmail)+"/email",r=Ag(t);r.fb._method="PUT",r.fb.email=t.newEmail,r.fb.password=t.password,this.uc(n,r,function(t){T(e,t)})},h.Ze=function(t,e){gh(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=Ag(t);r.fb._method="POST",this.uc(n,r,function(t){T(e,t)})},h.uc=function(t,e,n){jh(this,[Ug,Wg],t,e,n)},h.Ee=function(t){return O("auth_status"===t,'initial event must be of type "auth_status"'),this.We?null:[this.qb]};var gd="websocket",hd="long_polling",oh,ph;nh.prototype.open=function(t,e){this.mf=0,this.na=e,this.Ef=new kh(t),this.Db=!1;var n=this;this.ub=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.ub=null},Math.floor(3e4)),ud(function(){if(!n.Db){n.Wa=new qh(function(t,e,r,i,o){if(rh(n,arguments),n.Wa)if(n.ub&&(clearTimeout(n.ub),n.ub=null),n.Kc=!0,"start"==t)n.id=e,n.Mf=r;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Wa.$d=!1,lh(n.Ef,e,function(){n.bb()})):n.bb()}},function(t,e){rh(n,arguments),mh(n.Ef,t,e)},function(){n.bb()},n.ld);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Wa.ke&&(t.cb=n.Wa.ke),t.v="5",n.Xf&&(t.s=n.Xf),n.Fb&&(t.ls=n.Fb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.ld(t),n.f("Connecting via long-poll to "+t),sh(n.Wa,t,function(){})}})},nh.prototype.start=function(){var t=this.Wa,e=this.Mf;for(t.Gg=this.id,t.Hg=e,t.oe=!0;th(t););t=this.id,e=this.Mf,this.kc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.kc.src=this.ld(n),this.kc.style.display="none",document.body.appendChild(this.kc)},nh.isAvailable=function(){return oh||!ph&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.kh)&&!0},h=nh.prototype,h.Hd=function(){},h.fd=function(){this.Db=!0,this.Wa&&(this.Wa.close(),this.Wa=null),this.kc&&(document.body.removeChild(this.kc),this.kc=null),this.ub&&(clearTimeout(this.ub),this.ub=null)},h.bb=function(){this.Db||(this.f("Longpoll is closing itself"),this.fd(),this.na&&(this.na(this.Kc),this.na=null))},h.close=function(){this.Db||(this.f("Longpoll is being closed."),this.fd())},h.send=function(t){t=G(t),this.sb+=t.length,rc(this.Xa,"bytes_sent",t.length),t=Ob(t),t=nb(t,!0),t=yd(t,1840);for(var e=0;e<t.length;e++){var n=this.Wa;n.cd.push({Yg:this.mf,hh:t.length,of:t[e]}),n.oe&&th(n),this.mf++}},qh.prototype.close=function(){if(this.oe=!1,this.Ga){this.Ga.jb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ga&&(document.body.removeChild(t.Ga),t.Ga=null)},Math.floor(0))}var e=this.lb;e&&(this.lb=null,e())};var vh=null;"undefined"!=typeof MozWebSocket?vh=MozWebSocket:"undefined"!=typeof WebSocket&&(vh=WebSocket);var xh;wh.prototype.open=function(t,e){this.lb=e,this.Lg=t,this.f("Websocket connecting to "+this.jf),this.Kc=!1,bd.set("previous_websocket_failure",!0);try{this.La=new vh(this.jf)}catch(n){this.f("Error instantiating WebSocket.");var r=n.message||n.data;return r&&this.f(r),void this.bb()}var i=this;this.La.onopen=function(){i.f("Websocket connected."),i.Kc=!0},this.La.onclose=function(){i.f("Websocket connection was disconnected."),i.La=null,i.bb()},this.La.onmessage=function(t){if(null!==i.La)if(t=t.data,i.rb+=t.length,rc(i.Xa,"bytes_received",t.length),yh(i),null!==i.frames)zh(i,t);else{t:{if(O(null===i.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){i.ff=e,i.frames=[],t=null;break t}}i.ff=1,i.frames=[]}null!==t&&zh(i,t)}},this.La.onerror=function(t){i.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&i.f(t),i.bb()}},wh.prototype.start=function(){},wh.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==vh&&!xh},wh.responsesRequiredToBeHealthy=2,wh.healthyTimeout=3e4,h=wh.prototype,h.Hd=function(){bd.remove("previous_websocket_failure")},h.send=function(t){yh(this),t=G(t),this.sb+=t.length,rc(this.Xa,"bytes_sent",t.length),t=yd(t,16384),1<t.length&&Ah(this,String(t.length));for(var e=0;e<t.length;e++)Ah(this,t[e])},h.fd=function(){this.Db=!0,this.Nc&&(clearInterval(this.Nc),this.Nc=null),this.La&&(this.La.close(),this.La=null)},h.bb=function(){this.Db||(this.f("WebSocket is closing itself"),this.fd(),this.lb&&(this.lb(this.Kc),this.lb=null))},h.close=function(){this.Db||(this.f("WebSocket is being closed"),this.fd())};var Dh=[nh,wh];Fh.prototype.Ia=function(t){Qh(this,{t:"d",d:t})},Fh.prototype.Ld=function(t){Nh(this),this.nc(t)},Fh.prototype.close=function(){2!==this.N&&(this.f("Closing realtime connection."),this.N=2,Mh(this),this.na&&(this.na(),this.na=null))};var Sh=0,Uh=0;h=Rh.prototype,h.Ia=function(t,e,n){var r=++this.Xg;t={r:r,a:t,b:e},this.f(G(t)),O(this.qa,"sendRequest call when we're not connected not allowed."),this.Ma.Ia(t),n&&(this.Wd[r]=n)},h.Cf=function(t,e,n,r){var i=t.wa(),o=t.path.toString();this.f("Listen called for "+o+" "+i),this.ba[o]=this.ba[o]||{},O(Ie(t.n)||!He(t.n),"listen() called for non-default but complete query"),O(!this.ba[o][i],"listen() called twice for same path/queryId."),t={I:r,Ad:e,Ug:t,tag:n},this.ba[o][i]=t,this.qa&&Vh(this,t)},h.O=function(t,e,n){this.Ca={rg:t,sf:!1,Dc:e,od:n},this.f("Authenticating using credential: "+t),Xh(this),(e=40==t.length)||(t=Cd(t).Ec,e="object"==typeof t&&!0===z(t,"admin")),e&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Id=3e4)},h.je=function(t){this.Ca=null,this.qa&&this.Ia("unauth",{},function(e){t(e.s,e.d)})},h.$f=function(t,e){var n=t.path.toString(),r=t.wa();if(this.f("Unlisten called for "+n+" "+r),O(Ie(t.n)||!He(t.n),"unlisten() called for non-default but complete query"),Wh(this,n,r)&&this.qa){var i=Ge(t.n);this.f("Unlisten on "+n+" for "+r),n={p:n},e&&(n.q=i,n.t=e),this.Ia("n",n)}},h.Qe=function(t,e,n){this.qa?Yh(this,"o",t,e,n):this.Yc.push({bd:t,action:"o",data:e,I:n})},h.Gf=function(t,e,n){this.qa?Yh(this,"om",t,e,n):this.Yc.push({bd:t,action:"om",data:e,I:n})},h.Md=function(t,e){this.qa?Yh(this,"oc",t,null,e):this.Yc.push({bd:t,action:"oc",data:null,I:e})},h.put=function(t,e,n,r){Zh(this,"p",t,e,n,r)},h.Df=function(t,e,n,r){Zh(this,"m",t,e,n,r)},h.Ye=function(t){this.qa&&(t={c:t},this.f("reportStats",t),this.Ia("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},h.Ld=function(t){if("r"in t){this.f("from server: "+G(t));var e=t.r,n=this.Wd[e];n&&(delete this.Wd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,n=t.b,this.f("handleServerMessage",e,n),"d"===e?this.Kb(n.p,n.d,!1,n.t):"m"===e?this.Kb(n.p,n.d,!0,n.t):"c"===e?ai(this,n.p,n.q):"ac"===e?(t=n.s,e=n.d,n=this.Ca,this.Ca=null,n&&n.od&&n.od(t,e)):"sd"===e?this.$e?this.$e(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):qd("Unrecognized action received from server: "+G(e)+"\nAre you using the latest client?"))}},h.Zc=function(t,e){if(this.f("connection ready"),this.qa=!0,this.Oc=(new Date).getTime(),this.Se({serverTimeOffset:t-(new Date).getTime()}),this.Fb=e,this.rf){var n={};n["sdk.js."+Eb.replace(/\./g,"-")]=1,Dg()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.Ye(n)}bi(this),this.rf=!1,this.Xc(!0)},h.Og=function(t){t&&!this.Sb&&this.eb===this.Id&&(this.f("Window became visible.  Reducing delay."),this.eb=1e3,this.Ma||Th(this,0)),this.Sb=t},h.Mg=function(t){t?(this.f("Browser went online."),this.eb=1e3,this.Ma||Th(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close())},h.If=function(){this.f("data client disconnected"),this.qa=!1,this.Ma=null;for(var t=0;t<this.sa.length;t++){var e=this.sa[t];e&&"h"in e.Pf&&e.Vg&&(e.I&&e.I("disconnect"),delete this.sa[t],this.ad--)}0===this.ad&&(this.sa=[]),this.Wd={},di(this)&&(this.Sb?this.Oc&&(3e4<(new Date).getTime()-this.Oc&&(this.eb=1e3),this.Oc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.eb=this.Id,this.Ke=(new Date).getTime()),t=Math.max(0,this.eb-((new Date).getTime()-this.Ke)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),Th(this,t),this.eb=Math.min(this.Id,1.3*this.eb)),this.Xc(!1)},h.Cb=function(){this.Ie=!0,this.Ma?this.Ma.close():(this.wb&&(clearTimeout(this.wb),this.wb=null),this.qa&&this.If())},h.vc=function(){this.Ie=!1,this.eb=1e3,this.Ma||Th(this,0)};var U={zg:function(){oh=xh=!0}};U.forceLongPolling=U.zg,U.Ag=function(){ph=!0},U.forceWebSockets=U.Ag,U.Eg=function(){return wh.isAvailable()},U.isWebSocketsAvailable=U.Eg,U.ah=function(t,e){t.k.Va.$e=e},U.setSecurityDebugCallback=U.ah,U.bf=function(t,e){t.k.bf(e)},U.stats=U.bf,U.cf=function(t,e){t.k.cf(e)},U.statsIncrementCounter=U.cf,U.ud=function(t){return t.k.ud},U.dataUpdateCount=U.ud,U.Dg=function(t,e){t.k.He=e},U.interceptServerData=U.Dg,U.Kg=function(t){new Og(t)},U.onPopupOpen=U.Kg,U.Zg=function(t){xg=t},U.setAuthenticationServer=U.Zg,V.prototype.cancel=function(t){D("Firebase.onDisconnect().cancel",0,1,arguments.length),F("Firebase.onDisconnect().cancel",1,t,!0);var e=new B;return this.dd.Md(this.ta,C(e,t)),e.D},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(t){D("Firebase.onDisconnect().remove",0,1,arguments.length),og("Firebase.onDisconnect().remove",this.ta),F("Firebase.onDisconnect().remove",1,t,!0);var e=new B;return fi(this.dd,this.ta,null,C(e,t)),e.D},V.prototype.remove=V.prototype.remove,V.prototype.set=function(t,e){D("Firebase.onDisconnect().set",1,2,arguments.length),og("Firebase.onDisconnect().set",this.ta),gg("Firebase.onDisconnect().set",t,this.ta,!1),F("Firebase.onDisconnect().set",2,e,!0);var n=new B;return fi(this.dd,this.ta,t,C(n,e)),n.D},V.prototype.set=V.prototype.set,V.prototype.Ob=function(t,e,n){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),og("Firebase.onDisconnect().setWithPriority",this.ta),gg("Firebase.onDisconnect().setWithPriority",t,this.ta,!1),kg("Firebase.onDisconnect().setWithPriority",2,e),F("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new B;return gi(this.dd,this.ta,t,e,C(r,n)),r.D},V.prototype.setWithPriority=V.prototype.Ob,V.prototype.update=function(t,e){if(D("Firebase.onDisconnect().update",1,2,arguments.length),og("Firebase.onDisconnect().update",this.ta),da(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.onDisconnect().update",t,this.ta),F("Firebase.onDisconnect().update",2,e,!0),n=new B,hi(this.dd,this.ta,t,C(n,e)),n.D},V.prototype.update=V.prototype.update,W.prototype.J=function(){return D("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.J()},W.prototype.val=W.prototype.J,W.prototype.qf=function(){return D("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.J(!0)},W.prototype.exportVal=W.prototype.qf,W.prototype.xg=function(){return D("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.xg,W.prototype.o=function(t){D("Firebase.DataSnapshot.child",0,1,arguments.length),fa(t)&&(t=String(t)),ng("Firebase.DataSnapshot.child",t);var e=new P(t),n=this.Y.o(e);return new W(this.A.S(e),n,R)},W.prototype.child=W.prototype.o,W.prototype.Fa=function(t){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ng("Firebase.DataSnapshot.hasChild",t);var e=new P(t);return!this.A.S(e).e()},W.prototype.hasChild=W.prototype.Fa,W.prototype.C=function(){return D("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().J()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(t){if(D("Firebase.DataSnapshot.forEach",1,1,arguments.length),F("Firebase.DataSnapshot.forEach",1,t,!1),this.A.L())return!1;var e=this;return!!this.A.R(this.g,function(n,r){return t(new W(r,e.Y.o(n),R))})},W.prototype.forEach=W.prototype.forEach,W.prototype.zd=function(){return D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.A.L()&&!this.A.e()},W.prototype.hasChildren=W.prototype.zd,W.prototype.name=function(){return S("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),D("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},W.prototype.name=W.prototype.name,W.prototype.key=function(){return D("Firebase.DataSnapshot.key",0,0,arguments.length),this.Y.key()},W.prototype.key=W.prototype.key,W.prototype.Hb=function(){return D("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Hb()},W.prototype.numChildren=W.prototype.Hb,W.prototype.Mb=function(){return D("Firebase.DataSnapshot.ref",0,0,arguments.length),this.Y},W.prototype.ref=W.prototype.Mb,h=ii.prototype,h.Qf=function(t){return"value"===t},h.createEvent=function(t,e){var n=e.n.g;return new jc("value",this,new W(t.Na,e.Mb(),n))},h.Zb=function(t){var e=this.vb;if("cancel"===t.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(e,t.error)}}var r=this.Vb;return function(){r.call(e,t.be)}},h.lf=function(t,e){return this.tb?new kc(this,t,e):null},h.matches=function(t){return t instanceof ii&&(!t.Vb||!this.Vb||t.Vb===this.Vb&&t.vb===this.vb)},h.yf=function(){return null!==this.Vb},h=ji.prototype,h.Qf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ja},h.lf=function(t,e){return this.tb?new kc(this,t,e):null},h.createEvent=function(t,e){O(null!=t.Za,"Child events should have a childName.");var n=e.Mb().o(t.Za);return new jc(t.type,this,new W(t.Na,n,e.n.g),t.Td)},h.Zb=function(t){var e=this.vb;if("cancel"===t.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(e,t.error)}}var r=this.ja[t.wd];return function(){r.call(e,t.be,t.Td)}},h.matches=function(t){if(t instanceof ji){if(!this.ja||!t.ja)return!0;if(this.vb===t.vb){var e=oa(t.ja);if(e===oa(this.ja)){if(1===e){var e=pa(t.ja),n=pa(this.ja);return!(n!==e||t.ja[e]&&this.ja[n]&&t.ja[e]!==this.ja[n])}return na(this.ja,function(e,n){return t.ja[n]===e})}}}return!1},h.yf=function(){return null!==this.ja},h=ki.prototype,h.e=function(){return va(this.za)},h.gb=function(t,e,n){var r=t.source.Lb;if(null!==r)return r=z(this.za,r),O(null!=r,"SyncTree gave us an op for an invalid query."),r.gb(t,e,n);var i=[];return v(this.za,function(r){i=i.concat(r.gb(t,e,n))}),i},h.Tb=function(t,e,n,r,i){var o=t.wa(),a=z(this.za,o);if(!a){var a=n.Aa(i?r:null),u=!1;a?u=!0:(a=r instanceof fe?n.Cc(r):H,u=!1),a=new Ye(t,new je(new Xb(a,u,(!1)),new Xb(r,i,(!1)))),this.za[o]=a}return a.Tb(e),af(a,e)},h.nb=function(t,e,n){var r=t.wa(),i=[],o=[],a=null!=li(this);if("default"===r){var u=this;v(this.za,function(t,r){o=o.concat(t.nb(e,n)),t.e()&&(delete u.za[r],He(t.Y.n)||i.push(t.Y))})}else{var s=z(this.za,r);s&&(o=o.concat(s.nb(e,n)),s.e()&&(delete this.za[r],He(s.Y.n)||i.push(s.Y)))}return a&&null==li(this)&&i.push(new X(t.k,t.path)),{Wg:i,vg:o}},h.kb=function(t){var e=null;return v(this.za,function(n){e=e||n.kb(t)}),e},oi.prototype.Tb=function(t,e){var n=t.path,r=null,i=!1;zf(this.va,n,function(t,e){var o=lf(t,n);r=r||e.kb(o),i=i||null!=li(e)});var o=this.va.get(n);o?(i=i||null!=li(o),r=r||o.kb(M)):(o=new ki,this.va=this.va.set(n,o));var a;null!=r?a=!0:(a=!1,r=H,Cf(this.va.subtree(n),function(t,e){var n=e.kb(M);n&&(r=r.W(t,n))}));var u=null!=ni(o,t);if(!u&&!He(t.n)){var s=zi(t);O(!(s in this.qc),"View does not exist, but we have a tag");var c=Ai++;this.qc[s]=c,this.df["_"+c]=s}return a=o.Tb(t,e,new Uf(n,this.mb),r,a),u||i||(o=ni(o,t),a=a.concat(Bi(this,t,o))),a},oi.prototype.nb=function(t,e,n){var r=t.path,i=this.va.get(r),o=[];if(i&&("default"===t.wa()||null!=ni(i,t))){o=i.nb(t,e,n),i.e()&&(this.va=this.va.remove(r)),i=o.Wg,o=o.vg,e=-1!==Sa(i,function(t){return He(t.n)});var a=xf(this.va,r,function(t,e){return null!=li(e)});if(e&&!a&&(r=this.va.subtree(r),!r.e()))for(var r=Ci(r),u=0;u<r.length;++u){var s=r[u],c=s.Y,s=Di(this,s);this.Qc.af(Ei(c),Fi(this,c),s.Ad,s.I)}if(!a&&0<i.length&&!n)if(e)this.Qc.de(Ei(t),null);else{var l=this;Ma(i,function(t){t.wa();var e=l.qc[zi(t)];l.Qc.de(Ei(t),e)})}Gi(this,i)}return o},oi.prototype.Aa=function(t,e){var n=this.mb,r=xf(this.va,t,function(e,n){var r=lf(e,t);if(r=n.kb(r))return r});return n.Aa(t,r,e,!0)};var Ai=1;h=Ji.prototype,h.toString=function(){return(this.G.ob?"https://":"http://")+this.G.host},h.name=function(){return this.G.lc},h.Kb=function(t,e,n,r){this.ud++;var i=new P(t);e=this.He?this.He(t,e):e,t=[],r?n?(e=ma(e,function(t){return Q(t)}),t=yi(this.M,i,e,r)):(e=Q(e),t=ui(this.M,i,e,r)):n?(r=ma(e,function(t){return Q(t)}),t=ti(this.M,i,r)):(r=Q(e),t=qi(this.M,new Ac(Gf,i,r))),r=i,0<t.length&&(r=Ni(this,i)),dc(this.fa,r,t)},h.Xc=function(t){Ki(this,"connected",t),!1===t&&Oi(this)},h.Se=function(t){var e=this;zd(t,function(t,n){Ki(e,n,t)})},h.Pe=function(t){Ki(this,"authenticated",t)},h.Ob=function(t,e,n,r){this.f("set",{path:t.toString(),value:e,nh:n});var i=Mi(this);e=Q(e,n);var i=Xc(e,i),o=this.Kd++,i=pi(this.M,t,i,o,!0);$b(this.fa,i);var a=this;this.da.put(t.toString(),e.J(!0),function(e,n){var i="ok"===e;i||S("set at "+t+" failed: "+e),i=si(a.M,o,!i),dc(a.fa,t,i),Pi(r,e,n)}),i=Qi(this,t),Ni(this,i),dc(this.fa,i,[])},h.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var r=!0,i=Mi(this),o={};if(v(e,function(t,e){r=!1;var n=Q(t);o[e]=Xc(n,i)}),r)fc("update() called with empty data.  Don't do anything."),Pi(n,"ok");else{var a=this.Kd++,u=ri(this.M,t,o,a);$b(this.fa,u);var s=this;this.da.Df(t.toString(),e,function(e,r){var i="ok"===e;i||S("update at "+t+" failed: "+e);var i=si(s.M,a,!i),o=t;0<i.length&&(o=Ni(s,t)),dc(s.fa,o,i),Pi(n,e,r)}),e=Qi(this,t),Ni(this,e),dc(this.fa,t,[])}},h.Md=function(t,e){var n=this;this.da.Md(t.toString(),function(r,i){"ok"===r&&wg(n.na,t),Pi(e,r,i)})},h.Cb=function(){this.Va&&this.Va.Cb()},h.vc=function(){this.Va&&this.Va.vc()},h.bf=function(t){if("undefined"!=typeof console){t?(this.hd||(this.hd=new oc(this.Xa)),t=this.hd.get()):t=this.Xa.get();var e,n=Pa(ra(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var r=t[e],i=e.length;i<n+2;i++)e+=" ";console.log(e+r)}}},h.cf=function(t){rc(this.Xa,t),this.eh.Vf[t]=!0},h.f=function(t){var e="";this.Va&&(e=this.Va.id+":"),fc(e,arguments)},aj.prototype.Cb=function(){for(var t in this.sc)this.sc[t].Cb()},aj.prototype.vc=function(){for(var t in this.sc)this.sc[t].vc()},aj.prototype.ze=function(){this.ag=!0},ba(aj),aj.prototype.interrupt=aj.prototype.Cb,aj.prototype.resume=aj.prototype.vc,h=Y.prototype,h.Mb=function(){return D("Query.ref",0,0,arguments.length),new X(this.k,this.path)},h.Ib=function(t,e,n,r){D("Query.on",2,4,arguments.length),lg("Query.on",t,!1),F("Query.on",2,e,!1);var i=ej("Query.on",n,r);if("value"===t)Ri(this.k,this,new ii(e,i.cancel||null,i.Qa||null));else{var o={};o[t]=e,Ri(this.k,this,new ji(o,i.cancel,i.Qa))}return e},h.mc=function(t,e,n){D("Query.off",0,3,arguments.length),lg("Query.off",t,!0),F("Query.off",2,e,!0),Qb("Query.off",3,n);var r=null,i=null;"value"===t?r=new ii(e||null,null,n||null):t&&(e&&(i={},i[t]=e),r=new ji(i,null,n||null)),i=this.k,r=".info"===K(this.path)?i.Fd.nb(this,r):i.M.nb(this,r),bc(i.fa,this.path,r)},h.Pg=function(t,e){function n(u){o&&(o=!1,i.mc(t,n),e&&e.call(r.Qa,u),a.resolve(u))}D("Query.once",1,4,arguments.length),lg("Query.once",t,!1),F("Query.once",2,e,!0);var r=ej("Query.once",arguments[2],arguments[3]),i=this,o=!0,a=new B;return Nb(a.D),this.Ib(t,n,function(e){i.mc(t,n),r.cancel&&r.cancel.call(r.Qa,e),a.reject(e)}),a.D},h.Le=function(t){if(S("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),D("Query.limit",1,1,arguments.length),!fa(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var e=this.n.Le(t);return cj(e),new Y(this.k,this.path,e,this.pc)},h.Me=function(t){if(D("Query.limitToFirst",1,1,arguments.length),!fa(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Me(t),this.pc)},h.Ne=function(t){if(D("Query.limitToLast",1,1,arguments.length),!fa(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ne(t),this.pc)},h.Qg=function(t){if(D("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ng("Query.orderByChild",t),dj(this,"Query.orderByChild");var e=new P(t);if(e.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return e=new ve(e),e=Fe(this.n,e),bj(e),new Y(this.k,this.path,e,(!0));
},h.Rg=function(){D("Query.orderByKey",0,0,arguments.length),dj(this,"Query.orderByKey");var t=Fe(this.n,re);return bj(t),new Y(this.k,this.path,t,(!0))},h.Sg=function(){D("Query.orderByPriority",0,0,arguments.length),dj(this,"Query.orderByPriority");var t=Fe(this.n,R);return bj(t),new Y(this.k,this.path,t,(!0))},h.Tg=function(){D("Query.orderByValue",0,0,arguments.length),dj(this,"Query.orderByValue");var t=Fe(this.n,Be);return bj(t),new Y(this.k,this.path,t,(!0))},h.ce=function(t,e){D("Query.startAt",0,2,arguments.length),gg("Query.startAt",t,this.path,!0),mg("Query.startAt",e);var n=this.n.ce(t,e);if(cj(n),bj(n),this.n.oa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return p(t)||(e=t=null),new Y(this.k,this.path,n,this.pc)},h.vd=function(t,e){D("Query.endAt",0,2,arguments.length),gg("Query.endAt",t,this.path,!0),mg("Query.endAt",e);var n=this.n.vd(t,e);if(cj(n),bj(n),this.n.ra)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.pc)},h.tg=function(t,e){if(D("Query.equalTo",1,2,arguments.length),gg("Query.equalTo",t,this.path,!1),mg("Query.equalTo",e),this.n.oa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.ra)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ce(t,e).vd(t,e)},h.toString=function(){D("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.aa;n<t.u.length;n++)""!==t.u[n]&&(e+="/"+encodeURIComponent(String(t.u[n])));return this.k.toString()+(e||"/")},h.wa=function(){var t=xd(Ge(this.n));return"{}"===t?"default":t},Y.prototype.ref=Y.prototype.Mb,Y.prototype.on=Y.prototype.Ib,Y.prototype.off=Y.prototype.mc,Y.prototype.once=Y.prototype.Pg,Y.prototype.limit=Y.prototype.Le,Y.prototype.limitToFirst=Y.prototype.Me,Y.prototype.limitToLast=Y.prototype.Ne,Y.prototype.orderByChild=Y.prototype.Qg,Y.prototype.orderByKey=Y.prototype.Rg,Y.prototype.orderByPriority=Y.prototype.Sg,Y.prototype.orderByValue=Y.prototype.Tg,Y.prototype.startAt=Y.prototype.ce,Y.prototype.endAt=Y.prototype.vd,Y.prototype.equalTo=Y.prototype.tg,Y.prototype.toString=Y.prototype.toString;var Z={};Z.zc=Rh,Z.DataConnection=Z.zc,Rh.prototype.dh=function(t,e){this.Ia("q",{p:t},e)},Z.zc.prototype.simpleListen=Z.zc.prototype.dh,Rh.prototype.sg=function(t,e){this.Ia("echo",{d:t},e)},Z.zc.prototype.echo=Z.zc.prototype.sg,Rh.prototype.interrupt=Rh.prototype.Cb,Z.dg=Fh,Z.RealTimeConnection=Z.dg,Fh.prototype.sendRequest=Fh.prototype.Ia,Fh.prototype.close=Fh.prototype.close,Z.Cg=function(t){var e=Rh.prototype.put;return Rh.prototype.put=function(n,r,i,o){p(o)&&(o=t()),e.call(this,n,r,i,o)},function(){Rh.prototype.put=e}},Z.hijackHash=Z.Cg,Z.cg=dd,Z.ConnectionTarget=Z.cg,Z.wa=function(t){return t.wa()},Z.queryIdentifier=Z.wa,Z.Fg=function(t){return t.k.Va.ba},Z.listens=Z.Fg,Z.ze=function(t){t.ze()},Z.forceRestClient=Z.ze,ka(X,Y);var fj=X,gj=["Firebase"],hj=n;gj[0]in hj||!hj.execScript||hj.execScript("var "+gj[0]);for(var ij;gj.length&&(ij=gj.shift());)!gj.length&&p(fj)?hj[ij]=fj:hj=hj[ij]?hj[ij]:hj[ij]={};X.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length),aj.yb().Cb()},X.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length),aj.yb().vc()},X.enableLogging=od,X.ServerValue={TIMESTAMP:{".sv":"timestamp"}},X.SDK_VERSION=Eb,X.INTERNAL=U,X.Context=aj,X.TEST_ACCESS=Z,X.prototype.name=function(){return S("Firebase.name() being deprecated. Please use Firebase.key() instead."),D("Firebase.name",0,0,arguments.length),this.key()},X.prototype.name=X.prototype.name,X.prototype.key=function(){return D("Firebase.key",0,0,arguments.length),this.path.e()?null:me(this.path)},X.prototype.key=X.prototype.key,X.prototype.o=function(t){if(D("Firebase.child",1,1,arguments.length),fa(t))t=String(t);else if(!(t instanceof P))if(null===K(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ng("Firebase.child",e)}else ng("Firebase.child",t);return new X(this.k,this.path.o(t))},X.prototype.child=X.prototype.o,X.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new X(this.k,t)},X.prototype.parent=X.prototype.parent,X.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.parent();)t=t.parent();return t},X.prototype.root=X.prototype.root,X.prototype.set=function(t,e){D("Firebase.set",1,2,arguments.length),og("Firebase.set",this.path),gg("Firebase.set",t,this.path,!1),F("Firebase.set",2,e,!0);var n=new B;return this.k.Ob(this.path,t,null,C(n,e)),n.D},X.prototype.set=X.prototype.set,X.prototype.update=function(t,e){if(D("Firebase.update",1,2,arguments.length),og("Firebase.update",this.path),da(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.update",t,this.path),F("Firebase.update",2,e,!0),n=new B,this.k.update(this.path,t,C(n,e)),n.D},X.prototype.update=X.prototype.update,X.prototype.Ob=function(t,e,n){if(D("Firebase.setWithPriority",2,3,arguments.length),og("Firebase.setWithPriority",this.path),gg("Firebase.setWithPriority",t,this.path,!1),kg("Firebase.setWithPriority",2,e),F("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var r=new B;return this.k.Ob(this.path,t,e,C(r,n)),r.D},X.prototype.setWithPriority=X.prototype.Ob,X.prototype.remove=function(t){return D("Firebase.remove",0,1,arguments.length),og("Firebase.remove",this.path),F("Firebase.remove",1,t,!0),this.set(null,t)},X.prototype.remove=X.prototype.remove,X.prototype.transaction=function(t,e,n){if(D("Firebase.transaction",1,3,arguments.length),og("Firebase.transaction",this.path),F("Firebase.transaction",1,t,!1),F("Firebase.transaction",2,e,!0),p(n)&&"boolean"!=typeof n)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof n&&(n=!0);var i=new B;return r(e)&&Nb(i.D),Si(this.k,this.path,t,function(t,n,o){t?i.reject(t):i.resolve(new ei(n,o)),r(e)&&e(t,n,o)},n),i.D},X.prototype.transaction=X.prototype.transaction,X.prototype.$g=function(t,e){D("Firebase.setPriority",1,2,arguments.length),og("Firebase.setPriority",this.path),kg("Firebase.setPriority",1,t),F("Firebase.setPriority",2,e,!0);var n=new B;return this.k.Ob(this.path.o(".priority"),t,null,C(n,e)),n.D},X.prototype.setPriority=X.prototype.$g,X.prototype.push=function(t,e){D("Firebase.push",0,2,arguments.length),og("Firebase.push",this.path),gg("Firebase.push",t,this.path,!0),F("Firebase.push",2,e,!0);var n=Li(this.k),i=hf(n),n=this.o(i);if(null!=t){var o=this,a=n.set(t,e).then(function(){return o.o(i)});n.then=u(a.then,a),n["catch"]=u(a.then,a,void 0),r(e)&&Nb(a)}return n},X.prototype.push=X.prototype.push,X.prototype.lb=function(){return og("Firebase.onDisconnect",this.path),new V(this.k,this.path)},X.prototype.onDisconnect=X.prototype.lb,X.prototype.O=function(t,e,n){S("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),D("Firebase.auth",1,3,arguments.length),pg("Firebase.auth",t),F("Firebase.auth",2,e,!0),F("Firebase.auth",3,e,!0);var r=new B;return dh(this.k.O,t,{},{remember:"none"},C(r,e),n),r.D},X.prototype.auth=X.prototype.O,X.prototype.je=function(t){D("Firebase.unauth",0,1,arguments.length),F("Firebase.unauth",1,t,!0);var e=new B;return eh(this.k.O,C(e,t)),e.D},X.prototype.unauth=X.prototype.je,X.prototype.Be=function(){return D("Firebase.getAuth",0,0,arguments.length),this.k.O.Be()},X.prototype.getAuth=X.prototype.Be,X.prototype.Jg=function(t,e){D("Firebase.onAuth",1,2,arguments.length),F("Firebase.onAuth",1,t,!1),Qb("Firebase.onAuth",2,e),this.k.O.Ib("auth_status",t,e)},X.prototype.onAuth=X.prototype.Jg,X.prototype.Ig=function(t,e){D("Firebase.offAuth",1,2,arguments.length),F("Firebase.offAuth",1,t,!1),Qb("Firebase.offAuth",2,e),this.k.O.mc("auth_status",t,e)},X.prototype.offAuth=X.prototype.Ig,X.prototype.hg=function(t,e,n){D("Firebase.authWithCustomToken",1,3,arguments.length),2===arguments.length&&Hb(e)&&(n=e,e=void 0),pg("Firebase.authWithCustomToken",t),F("Firebase.authWithCustomToken",2,e,!0),sg("Firebase.authWithCustomToken",3,n,!0);var r=new B;return dh(this.k.O,t,{},n||{},C(r,e)),r.D},X.prototype.authWithCustomToken=X.prototype.hg,X.prototype.ig=function(t,e,n){D("Firebase.authWithOAuthPopup",1,3,arguments.length),2===arguments.length&&Hb(e)&&(n=e,e=void 0),rg("Firebase.authWithOAuthPopup",t),F("Firebase.authWithOAuthPopup",2,e,!0),sg("Firebase.authWithOAuthPopup",3,n,!0);var r=new B;return ih(this.k.O,t,n,C(r,e)),r.D},X.prototype.authWithOAuthPopup=X.prototype.ig,X.prototype.jg=function(t,e,n){D("Firebase.authWithOAuthRedirect",1,3,arguments.length),2===arguments.length&&Hb(e)&&(n=e,e=void 0),rg("Firebase.authWithOAuthRedirect",t),F("Firebase.authWithOAuthRedirect",2,e,!1),sg("Firebase.authWithOAuthRedirect",3,n,!0);var r=new B,i=this.k.O,o=n,a=C(r,e);gh(i);var u=[Qg],o=Ag(o);return"anonymous"===t||"firebase"===t?T(a,Sg("TRANSPORT_UNAVAILABLE")):(cd.set("redirect_client_options",o.qd),hh(i,u,"/auth/"+t,o,a)),r.D},X.prototype.authWithOAuthRedirect=X.prototype.jg,X.prototype.kg=function(t,e,n,r){D("Firebase.authWithOAuthToken",2,4,arguments.length),3===arguments.length&&Hb(n)&&(r=n,n=void 0),rg("Firebase.authWithOAuthToken",t),F("Firebase.authWithOAuthToken",3,n,!0),sg("Firebase.authWithOAuthToken",4,r,!0);var i=new B;return q(e)?(qg("Firebase.authWithOAuthToken",2,e),fh(this.k.O,t+"/token",{access_token:e},r,C(i,n))):(sg("Firebase.authWithOAuthToken",2,e,!1),fh(this.k.O,t+"/token",e,r,C(i,n))),i.D},X.prototype.authWithOAuthToken=X.prototype.kg,X.prototype.gg=function(t,e){D("Firebase.authAnonymously",0,2,arguments.length),1===arguments.length&&Hb(t)&&(e=t,t=void 0),F("Firebase.authAnonymously",1,t,!0),sg("Firebase.authAnonymously",2,e,!0);var n=new B;return fh(this.k.O,"anonymous",{},e,C(n,t)),n.D},X.prototype.authAnonymously=X.prototype.gg,X.prototype.lg=function(t,e,n){D("Firebase.authWithPassword",1,3,arguments.length),2===arguments.length&&Hb(e)&&(n=e,e=void 0),sg("Firebase.authWithPassword",1,t,!1),tg("Firebase.authWithPassword",t,"email"),tg("Firebase.authWithPassword",t,"password"),F("Firebase.authWithPassword",2,e,!0),sg("Firebase.authWithPassword",3,n,!0);var r=new B;return fh(this.k.O,"password",t,n,C(r,e)),r.D},X.prototype.authWithPassword=X.prototype.lg,X.prototype.ve=function(t,e){D("Firebase.createUser",1,2,arguments.length),sg("Firebase.createUser",1,t,!1),tg("Firebase.createUser",t,"email"),tg("Firebase.createUser",t,"password"),F("Firebase.createUser",2,e,!0);var n=new B;return this.k.O.ve(t,C(n,e)),n.D},X.prototype.createUser=X.prototype.ve,X.prototype.Xe=function(t,e){D("Firebase.removeUser",1,2,arguments.length),sg("Firebase.removeUser",1,t,!1),tg("Firebase.removeUser",t,"email"),tg("Firebase.removeUser",t,"password"),F("Firebase.removeUser",2,e,!0);var n=new B;return this.k.O.Xe(t,C(n,e)),n.D},X.prototype.removeUser=X.prototype.Xe,X.prototype.se=function(t,e){D("Firebase.changePassword",1,2,arguments.length),sg("Firebase.changePassword",1,t,!1),tg("Firebase.changePassword",t,"email"),tg("Firebase.changePassword",t,"oldPassword"),tg("Firebase.changePassword",t,"newPassword"),F("Firebase.changePassword",2,e,!0);var n=new B;return this.k.O.se(t,C(n,e)),n.D},X.prototype.changePassword=X.prototype.se,X.prototype.re=function(t,e){D("Firebase.changeEmail",1,2,arguments.length),sg("Firebase.changeEmail",1,t,!1),tg("Firebase.changeEmail",t,"oldEmail"),tg("Firebase.changeEmail",t,"newEmail"),tg("Firebase.changeEmail",t,"password"),F("Firebase.changeEmail",2,e,!0);var n=new B;return this.k.O.re(t,C(n,e)),n.D},X.prototype.changeEmail=X.prototype.re,X.prototype.Ze=function(t,e){D("Firebase.resetPassword",1,2,arguments.length),sg("Firebase.resetPassword",1,t,!1),tg("Firebase.resetPassword",t,"email"),F("Firebase.resetPassword",2,e,!0);var n=new B;return this.k.O.Ze(t,C(n,e)),n.D},X.prototype.resetPassword=X.prototype.Ze}(),module.exports=Firebase},function(module,exports,__webpack_require__){(function(global){"use strict";var numeric=exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var n,r,i,o;for("undefined"==typeof e&&(e=15),i=.5,n=new Date;;){for(i*=2,o=i;o>3;o-=4)t(),t(),t(),t();for(;o>0;)t(),o--;if(r=new Date,r-n>e)break}for(o=i;o>3;o-=4)t(),t(),t(),t();for(;o>0;)t(),o--;return r=new Date,1e3*(3*i-1)/(r-n)},numeric._myIndexOf=function(t){var e,n=this.length;for(e=0;e<n;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function e(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(t<0)return"-"+e(-t);if(isFinite(t)){var n=Math.floor(Math.log(t)/Math.log(10)),r=t/Math.pow(10,n),i=r.toPrecision(numeric.precision);return 10===parseFloat(i)&&(n++,r=1,i=r.toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+n.toString()}return"Infinity"}function n(t){var i;if("undefined"==typeof t)return r.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof t)return r.push('"'+t+'"'),!1;if("boolean"==typeof t)return r.push(t.toString()),!1;if("number"==typeof t){var o=e(t),a=t.toPrecision(numeric.precision),u=parseFloat(t.toString()).toString(),s=[o,a,u,parseFloat(a).toString(),parseFloat(u).toString()];for(i=1;i<s.length;i++)s[i].length<o.length&&(o=s[i]);return r.push(Array(numeric.precision+8-o.length).join(" ")+o),!1}if(null===t)return r.push("null"),!1;if("function"==typeof t){r.push(t.toString());var c=!1;for(i in t)t.hasOwnProperty(i)&&(c?r.push(",\n"):r.push("\n{"),c=!0,r.push(i),r.push(": \n"),n(t[i]));return c&&r.push("}\n"),!0}if(t instanceof Array){if(t.length>numeric.largeArray)return r.push("...Large Array..."),!0;var c=!1;for(r.push("["),i=0;i<t.length;i++)i>0&&(r.push(","),c&&r.push("\n ")),c=n(t[i]);return r.push("]"),!0}r.push("{");var c=!1;for(i in t)t.hasOwnProperty(i)&&(c&&r.push(",\n"),c=!0,r.push(i),r.push(": \n"),n(t[i]));return r.push("}"),!0}var r=[];return n(t),r.join("")},numeric.parseDate=function(t){function e(t){if("string"==typeof t)return Date.parse(t.replace(/-/g,"/"));if(!(t instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var n,r=[];for(n=0;n<t.length;n++)r[n]=e(t[n]);return r}return e(t)},numeric.parseFloat=function(t){function e(t){if("string"==typeof t)return parseFloat(t);if(!(t instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var n,r=[];for(n=0;n<t.length;n++)r[n]=e(t[n]);return r}return e(t)},numeric.parseCSV=function(t){var e,n,r=t.split("\n"),i=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,a=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,u=function(t){return t.substr(0,t.length-1)},s=0;for(n=0;n<r.length;n++){var c,l=(r[n]+",").match(o);if(l.length>0){for(i[s]=[],e=0;e<l.length;e++)c=u(l[e]),a.test(c)?i[s][e]=parseFloat(c):i[s][e]=c;s++}}return i},numeric.toCSV=function(t){var e,n,r,i,o,a,u=numeric.dim(t);for(r=u[0],i=u[1],a=[],e=0;e<r;e++){for(o=[],n=0;n<r;n++)o[n]=t[e][n].toString();a[e]=o.join(", ")}return a.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function e(t){var e,n,r,i,o,a,u,s,c=t.length,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="";for(e=0;e<c;e+=3)n=t[e],r=t[e+1],i=t[e+2],o=n>>2,a=((3&n)<<4)+(r>>4),u=((15&r)<<2)+(i>>6),s=63&i,e+1>=c?u=s=64:e+2>=c&&(s=64),f+=l.charAt(o)+l.charAt(a)+l.charAt(u)+l.charAt(s);return f}function n(t,e,n){"undefined"==typeof e&&(e=0),"undefined"==typeof n&&(n=t.length);var r,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1,a=0;t.length;for(r=e;r<n;r++)a=255&(o^t[r]),o=o>>>8^i[a];return o^-1}var r,i,o,a,u,s,c,l,f,h,p=t[0].length,d=t[0][0].length,g=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,d>>24&255,d>>16&255,d>>8&255,255&d,p>>24&255,p>>16&255,p>>8&255,255&p,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(h=n(g,12,29),g[29]=h>>24&255,g[30]=h>>16&255,g[31]=h>>8&255,g[32]=255&h,r=1,i=0,c=0;c<p;c++){for(c<p-1?g.push(0):g.push(1),u=3*d+1+(0===c)&255,s=3*d+1+(0===c)>>8&255,g.push(u),g.push(s),g.push(255&~u),g.push(255&~s),0===c&&g.push(0),l=0;l<d;l++)for(o=0;o<3;o++)u=t[o][c][l],u=u>255?255:u<0?0:Math.round(u),r=(r+u)%65521,i=(i+r)%65521,g.push(u);g.push(0)}return f=(i<<16)+r,g.push(f>>24&255),g.push(f>>16&255),g.push(f>>8&255),g.push(255&f),a=g.length-41,g[33]=a>>24&255,g[34]=a>>16&255,g[35]=a>>8&255,g[36]=255&a,h=n(g,37),g.push(h>>24&255),g.push(h>>16&255),g.push(h>>8&255),g.push(255&h),g.push(0),g.push(0),g.push(0),g.push(0),g.push(73),g.push(69),g.push(78),g.push(68),g.push(174),g.push(66),g.push(96),g.push(130),"data:image/png;base64,"+e(g)},numeric._dim=function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e,n;return"object"==typeof t?(e=t[0],"object"==typeof e?(n=e[0],"object"==typeof n?numeric._dim(t):[t.length,e.length]):[t.length]):[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,n){var r,i;if(!(e instanceof Array&&n instanceof Array))return!1;if(i=e.length,i!==n.length)return!1;for(r=0;r<i;r++)if(e[r]!==n[r]){if("object"!=typeof e[r])return!1;if(!t(e[r],n[r]))return!1}return!0},numeric.rep=function(t,e,n){"undefined"==typeof n&&(n=0);var r,i=t[n],o=Array(i);if(n===t.length-1){for(r=i-2;r>=0;r-=2)o[r+1]=e,o[r]=e;return r===-1&&(o[0]=e),o}for(r=i-1;r>=0;r--)o[r]=numeric.rep(t,e,n+1);return o},numeric.dotMMsmall=function(t,e){var n,r,i,o,a,u,s,c,l,f,h;for(o=t.length,a=e.length,u=e[0].length,s=Array(o),n=o-1;n>=0;n--){for(c=Array(u),l=t[n],i=u-1;i>=0;i--){for(f=l[a-1]*e[a-1][i],r=a-2;r>=1;r-=2)h=r-1,f+=l[r]*e[r][i]+l[h]*e[h][i];0===r&&(f+=l[0]*e[0][i]),c[i]=f}s[n]=c}return s},numeric._getCol=function(t,e,n){var r,i=t.length;for(r=i-1;r>0;--r)n[r]=t[r][e],--r,n[r]=t[r][e];0===r&&(n[0]=t[0][e])},numeric.dotMMbig=function(t,e){var n,r,i,o,a=numeric._getCol,u=e.length,s=Array(u),c=t.length,l=e[0].length,f=new Array(c),h=numeric.dotVV;for(--u,--c,r=c;r!==-1;--r)f[r]=Array(l);for(--l,r=l;r!==-1;--r)for(a(e,r,s),i=c;i!==-1;--i)o=0,n=t[i],f[i][r]=h(n,s);return f},numeric.dotMV=function(t,e){var n,r=t.length,i=(e.length,Array(r)),o=numeric.dotVV;for(n=r-1;n>=0;n--)i[n]=o(t[n],e);return i},numeric.dotVM=function(t,e){var n,r,i,o,a,u,s;for(i=t.length,o=e[0].length,a=Array(o),r=o-1;r>=0;r--){for(u=t[i-1]*e[i-1][r],n=i-2;n>=1;n-=2)s=n-1,u+=t[n]*e[n][r]+t[s]*e[s][r];0===n&&(u+=t[0]*e[0][r]),a[r]=u}return a},numeric.dotVV=function(t,e){var n,r,i=t.length,o=t[i-1]*e[i-1];for(n=i-2;n>=1;n-=2)r=n-1,o+=t[n]*e[n]+t[r]*e[r];return 0===n&&(o+=t[0]*e[0]),o},numeric.dot=function(t,e){var n=numeric.dim;switch(1e3*n(t).length+n(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,n,r,i,o=t.length,a=Array(o);for(e=o-1;e>=0;e--){for(i=Array(o),n=e+2,r=o-1;r>=n;r-=2)i[r]=0,i[r-1]=0;for(r>e&&(i[r]=0),i[e]=t[e],r=e-1;r>=1;r-=2)i[r]=0,i[r-1]=0;0===r&&(i[0]=0),a[e]=i}return a},numeric.getDiag=function(t){var e,n=Math.min(t.length,t[0].length),r=Array(n);for(e=n-1;e>=1;--e)r[e]=t[e][e],--e,r[e]=t[e][e];return 0===e&&(r[0]=t[0][0]),r},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,n){"undefined"==typeof n&&(n="");var r,i,o=[],a=/\[i\]$/,u="",s=!1;for(r=0;r<t.length;r++)a.test(t[r])?(i=t[r].substring(0,t[r].length-3),u=i):i=t[r],"ret"===i&&(s=!0),o.push(i);return o[t.length]="_s",o[t.length+1]="_k",o[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+u+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(s?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(t,e,n){"undefined"==typeof n&&(n="");var r,i,o=[],a=/\[i\]$/,u="",s=!1;for(r=0;r<t.length;r++)a.test(t[r])?(i=t[r].substring(0,t[r].length-3),u=i):i=t[r],"ret"===i&&(s=!0),o.push(i);return o[t.length]="var _n = "+u+".length;\nvar i"+(s?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function e(t,n,r,i,o){if(i===r.length-1)return void o(t,n);var a,u=r[i];for(a=u-1;a>=0;a--)e("object"==typeof t?t[a]:t,"object"==typeof n?n[a]:n,r,i+1,o)},numeric._biforeach2=function n(t,e,r,i,o){if(i===r.length-1)return o(t,e);var a,u=r[i],s=Array(u);for(a=u-1;a>=0;--a)s[a]=n("object"==typeof t?t[a]:t,"object"==typeof e?e[a]:e,r,i+1,o);return s},numeric._foreach=function r(t,e,n,i){if(n===e.length-1)return void i(t);var o,a=e[n];for(o=a-1;o>=0;o--)r(t[o],e,n+1,i)},numeric._foreach2=function i(t,e,n,r){if(n===e.length-1)return r(t);var o,a=e[n],u=Array(a);for(o=a-1;o>=0;o--)u[o]=i(t[o],e,n+1,r);return u},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],numeric.ops2[e]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var n,r,i="";numeric.myIndexOf.call(numeric.mathfuns2,t)!==-1?(i="var "+e+" = Math."+e+";\n",n=function(t,n,r){return t+" = "+e+"("+n+","+r+")"},r=function(t,n){return t+" = "+e+"("+t+","+n+")"}):(n=function(t,n,r){return t+" = "+n+" "+e+" "+r},r=numeric.opseq.hasOwnProperty(t+"eq")?function(t,n){return t+" "+e+"= "+n}:function(t,n){return t+" = "+t+" "+e+" "+n}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),i),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),i),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),i),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+r("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),i),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),i),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],delete numeric.ops2[e];for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],numeric.ops1[e]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(i="",e=numeric.ops1[t],numeric.myIndexOf.call(numeric.mathfuns,t)!==-1&&Math.hasOwnProperty(e)&&(i="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",i),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",i),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],delete numeric.ops1[e];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(e=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"==typeof t?"object"==typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"==typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,n,r,i,o,a,u,t,s=numeric.dim(t),c=Math.abs,l=s[0],f=s[1],h=numeric.clone(t),p=numeric.identity(l);for(a=0;a<f;++a){var d=-1,g=-1;for(o=a;o!==l;++o)u=c(h[o][a]),u>g&&(d=o,g=u);for(n=h[d],h[d]=h[a],h[a]=n,i=p[d],p[d]=p[a],p[a]=i,t=n[a],u=a;u!==f;++u)n[u]/=t;for(u=f-1;u!==-1;--u)i[u]/=t;for(o=l-1;o!==-1;--o)if(o!==a){for(e=h[o],r=p[o],t=e[a],u=a+1;u!==f;++u)e[u]-=n[u]*t;for(u=f-1;u>0;--u)r[u]-=i[u]*t,--u,r[u]-=i[u]*t;0===u&&(r[0]-=i[0]*t)}}return p},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var n,r,i,o,a,u,s,c,l=e[0],f=1,h=numeric.clone(t);for(r=0;r<l-1;r++){for(i=r,n=r+1;n<l;n++)Math.abs(h[n][r])>Math.abs(h[i][r])&&(i=n);for(i!==r&&(s=h[i],h[i]=h[r],h[r]=s,f*=-1),o=h[r],n=r+1;n<l;n++){for(a=h[n],u=a[r]/o[r],i=r+1;i<l-1;i+=2)c=i+1,a[i]-=o[i]*u,a[c]-=o[c]*u;i!==l&&(a[i]-=o[i]*u)}if(0===o[r])return 0;f*=o[r]}return f*h[r][r]},numeric.transpose=function(t){var e,n,r,i,o,a=t.length,u=t[0].length,s=Array(u);for(n=0;n<u;n++)s[n]=Array(a);for(e=a-1;e>=1;e-=2){for(i=t[e],r=t[e-1],n=u-1;n>=1;--n)o=s[n],o[e]=i[n],o[e-1]=r[n],--n,o=s[n],o[e]=i[n],o[e-1]=r[n];0===n&&(o=s[0],o[e]=i[0],o[e-1]=r[0])}if(0===e){for(r=t[0],n=u-1;n>=1;--n)s[n][0]=r[n],--n,s[n][0]=r[n];0===n&&(s[0][0]=r[0])}return s},numeric.negtranspose=function(t){var e,n,r,i,o,a=t.length,u=t[0].length,s=Array(u);for(n=0;n<u;n++)s[n]=Array(a);for(e=a-1;e>=1;e-=2){for(i=t[e],r=t[e-1],n=u-1;n>=1;--n)o=s[n],o[e]=-i[n],o[e-1]=-r[n],--n,o=s[n],o[e]=-i[n],o[e-1]=-r[n];0===n&&(o=s[0],o[e]=-i[0],o[e-1]=-r[0])}if(0===e){for(r=t[0],n=u-1;n>=1;--n)s[n][0]=-r[n],--n,s[n][0]=-r[n];0===n&&(s[0][0]=-r[0])}return s},numeric._random=function o(t,e){var n,r,i=t[e],a=Array(i);if(e===t.length-1){for(r=Math.random,n=i-1;n>=1;n-=2)a[n]=r(),a[n-1]=r();return 0===n&&(a[0]=r()),a}for(n=i-1;n>=0;n--)a[n]=o(t,e+1);return a},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,n){if("undefined"==typeof n&&(n=Math.max(Math.round(e-t)+1,1)),n<2)return 1===n?[t]:[];var r,i=Array(n);for(n--,r=n;r>=0;r--)i[r]=(r*e+(n-r)*t)/n;return i},numeric.getBlock=function(t,e,n){
function r(t,o){var a,u=e[o],s=n[o]-u,c=Array(s);if(o===i.length-1){for(a=s;a>=0;a--)c[a]=t[a+u];return c}for(a=s;a>=0;a--)c[a]=r(t[a+u],o+1);return c}var i=numeric.dim(t);return r(t,0)},numeric.setBlock=function(t,e,n,r){function i(t,r,a){var u,s=e[a],c=n[a]-s;if(a===o.length-1)for(u=c;u>=0;u--)t[u+s]=r[u];for(u=c;u>=0;u--)i(t[u+s],r[u],a+1)}var o=numeric.dim(t);return i(t,r,0),t},numeric.getRange=function(t,e,n){var r,i,o,a,u=e.length,s=n.length,c=Array(u);for(r=u-1;r!==-1;--r)for(c[r]=Array(s),o=c[r],a=t[e[r]],i=s-1;i!==-1;--i)o[i]=a[n[i]];return c},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var n,r,i,o,a,u=e[0],s=e[1];for(n=0,r=0,i=0;i<u;++i)n+=t[i][0].length;for(o=0;o<s;++o)r+=t[0][o][0].length;var c=Array(n);for(i=0;i<n;++i)c[i]=Array(r);var l,f,h,p,d,g=0;for(i=0;i<u;++i){for(l=r,o=s-1;o!==-1;--o)for(a=t[i][o],l-=a[0].length,h=a.length-1;h!==-1;--h)for(d=a[h],f=c[g+h],p=d.length-1;p!==-1;--p)f[l+p]=d[p];g+=t[i][0].length}return c},numeric.tensor=function(t,e){if("number"==typeof t||"number"==typeof e)return numeric.mul(t,e);var n=numeric.dim(t),r=numeric.dim(e);if(1!==n.length||1!==r.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,a,u,s=n[0],c=r[0],l=Array(s);for(o=s-1;o>=0;o--){for(i=Array(c),u=t[o],a=c-1;a>=3;--a)i[a]=u*e[a],--a,i[a]=u*e[a],--a,i[a]=u*e[a],--a,i[a]=u*e[a];for(;a>=0;)i[a]=u*e[a],--a;l[o]=i}return l},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,n,r,i){numeric.indexOf;if("string"!=typeof i){var o;i="";for(o in numeric)numeric.hasOwnProperty(o)&&(t.indexOf(o)>=0||e.indexOf(o)>=0||n.indexOf(o)>=0||r.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+r+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var n=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,n),e(numeric.neg(this.y),n))}return new T(e(1,this.x))},numeric.T.prototype.div=function a(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var a=numeric.div;return this.y?new numeric.T(a(this.x,t.x),a(this.y,t.x)):new numeric.T(a(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),t(n)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),numeric.negtranspose(n)):new numeric.T(t(e))},numeric.Tunop=function(t,e,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if("undefined"==typeof t.y)return new numeric.T(numeric.inv(t.x));var e,n,r,i,o,a,u,s,c,l,f,e,n,r,h,p,d,g,v,m,y,b=t.x.length,w=numeric.identity(b),x=numeric.rep([b,b],0),_=numeric.clone(t.x),C=numeric.clone(t.y);for(e=0;e<b;e++){for(d=_[e][e],g=C[e][e],h=d*d+g*g,r=e,n=e+1;n<b;n++)d=_[n][e],g=C[n][e],p=d*d+g*g,p>h&&(r=n,h=p);for(r!==e&&(y=_[e],_[e]=_[r],_[r]=y,y=C[e],C[e]=C[r],C[r]=y,y=w[e],w[e]=w[r],w[r]=y,y=x[e],x[e]=x[r],x[r]=y),i=_[e],o=C[e],s=w[e],c=x[e],d=i[e],g=o[e],n=e+1;n<b;n++)v=i[n],m=o[n],i[n]=(v*d+m*g)/h,o[n]=(m*d-v*g)/h;for(n=0;n<b;n++)v=s[n],m=c[n],s[n]=(v*d+m*g)/h,c[n]=(m*d-v*g)/h;for(n=e+1;n<b;n++){for(a=_[n],u=C[n],l=w[n],f=x[n],d=a[e],g=u[e],r=e+1;r<b;r++)v=i[r],m=o[r],a[r]-=v*d-m*g,u[r]-=m*d+v*g;for(r=0;r<b;r++)v=s[r],m=c[r],l[r]-=v*d-m*g,f[r]-=m*d+v*g}}for(e=b-1;e>0;e--)for(s=w[e],c=x[e],n=e-1;n>=0;n--)for(l=w[n],f=x[n],d=_[n][e],g=C[n][e],r=b-1;r>=0;r--)v=s[r],m=c[r],l[r]-=d*v-g*m,f[r]-=d*m+g*v;return new numeric.T(w,x)},numeric.T.prototype.get=function(t){var e,n=this.x,r=this.y,i=0,o=t.length;if(r){for(;i<o;)e=t[i],n=n[e],r=r[e],i++;return new numeric.T(n,r)}for(;i<o;)e=t[i],n=n[e],i++;return new numeric.T(n)},numeric.T.prototype.set=function(t,e){var n,r=this.x,i=this.y,o=0,a=t.length,u=e.x,s=e.y;if(0===a)return s?this.y=s:i&&(this.y=void 0),this.x=r,this;if(s){for(i||(i=numeric.rep(numeric.dim(r),0),this.y=i);o<a-1;)n=t[o],r=r[n],i=i[n],o++;return n=t[o],r[n]=u,i[n]=s,this}if(i){for(;o<a-1;)n=t[o],r=r[n],i=i[n],o++;return n=t[o],r[n]=u,u instanceof Array?i[n]=numeric.rep(numeric.dim(u),0):i[n]=0,this}for(;o<a-1;)n=t[o],r=r[n],o++;return n=t[o],r[n]=u,this},numeric.T.prototype.getRows=function(t,e){var n,r,i=e-t+1,o=Array(i),a=this.x,u=this.y;for(n=t;n<=e;n++)o[n-t]=a[n];if(u){for(r=Array(i),n=t;n<=e;n++)r[n-t]=u[n];return new numeric.T(o,r)}return new numeric.T(o)},numeric.T.prototype.setRows=function(t,e,n){var r,i=this.x,o=this.y,a=n.x,u=n.y;for(r=t;r<=e;r++)i[r]=a[r-t];if(u)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),r=t;r<=e;r++)o[r]=u[r-t];else if(o)for(r=t;r<=e;r++)o[r]=numeric.rep([a[r-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,n=this.y;return n?new numeric.T(e[t],n[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var n=this.x,r=this.y,i=e.x,o=e.y;return n[t]=i,o?(r||(r=numeric.rep(numeric.dim(n),0),this.y=r),r[t]=o):r&&(r=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var n=this.x,r=this.y,i=numeric.getBlock;return r?new numeric.T(i(n,t,e),i(r,t,e)):new numeric.T(i(n,t,e))},numeric.T.prototype.setBlock=function(t,e,n){n instanceof numeric.T||(n=new numeric.T(n));var r=this.x,i=this.y,o=numeric.setBlock,a=n.x,u=n.y;return u?(i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(r,t,e,a),o(i,t,e,u),this):(o(r,t,e,a),void(i&&o(i,t,e,numeric.rep(numeric.dim(a),0))))},numeric.T.rep=function(t,e){var n=numeric.T;e instanceof n||(e=new n(e));var r=e.x,i=e.y,o=numeric.rep;return i?new n(o(t,r),o(t,i)):new n(o(t,r))},numeric.T.diag=function u(t){t instanceof numeric.T||(t=new numeric.T(t));var e=t.x,n=t.y,u=numeric.diag;return n?new numeric.T(u(e),u(n)):new numeric.T(u(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,n=this.y;return n?new t.T(t.getDiag(e),t.getDiag(n)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),n=t[0]>=0?1:-1,r=n*numeric.norm2(t);e[0]+=r;var i=numeric.norm2(e);if(0===i)throw new Error("eig: internal error");return numeric.div(e,i)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,r,i,o,a,u,s,c,l,f,h=e[0],p=numeric.clone(t),d=numeric.identity(h);for(r=0;r<h-2;r++){for(o=Array(h-r-1),n=r+1;n<h;n++)o[n-r-1]=p[n][r];if(numeric.norm2(o)>0){for(a=numeric.house(o),u=numeric.getBlock(p,[r+1,r],[h-1,h-1]),s=numeric.tensor(a,numeric.dot(a,u)),n=r+1;n<h;n++)for(c=p[n],l=s[n-r-1],i=r;i<h;i++)c[i]-=2*l[i-r];for(u=numeric.getBlock(p,[0,r+1],[h-1,h-1]),s=numeric.tensor(numeric.dot(u,a),a),n=0;n<h;n++)for(c=p[n],l=s[n],i=r+1;i<h;i++)c[i]-=2*l[i-r-1];for(u=Array(h-r-1),n=r+1;n<h;n++)u[n-r-1]=d[n];for(s=numeric.tensor(a,numeric.dot(a,u)),n=r+1;n<h;n++)for(f=d[n],l=s[n-r-1],i=0;i<h;i++)f[i]-=2*l[i]}}return{H:p,Q:d}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(t,e){"undefined"==typeof e&&(e=1e4),t=numeric.clone(t);var n,r,i,o,a,u,s,c,l,f,h,p,d,g,v,m,y,b,w=(numeric.clone(t),numeric.dim(t)),x=w[0],_=numeric.identity(x);if(x<3)return{Q:_,B:[[0,x-1]]};var C=numeric.epsilon;for(b=0;b<e;b++){for(m=0;m<x-1;m++)if(Math.abs(t[m+1][m])<C*(Math.abs(t[m][m])+Math.abs(t[m+1][m+1]))){var M=numeric.QRFrancis(numeric.getBlock(t,[0,0],[m,m]),e),S=numeric.QRFrancis(numeric.getBlock(t,[m+1,m+1],[x-1,x-1]),e);for(p=Array(m+1),v=0;v<=m;v++)p[v]=_[v];for(d=numeric.dot(M.Q,p),v=0;v<=m;v++)_[v]=d[v];for(p=Array(x-m-1),v=m+1;v<x;v++)p[v-m-1]=_[v];for(d=numeric.dot(S.Q,p),v=m+1;v<x;v++)_[v]=d[v-m-1];return{Q:_,B:M.B.concat(numeric.add(S.B,m+1))}}if(i=t[x-2][x-2],o=t[x-2][x-1],a=t[x-1][x-2],u=t[x-1][x-1],c=i+u,s=i*u-o*a,l=numeric.getBlock(t,[0,0],[2,2]),c*c>=4*s){var k,E;k=.5*(c+Math.sqrt(c*c-4*s)),E=.5*(c-Math.sqrt(c*c-4*s)),l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,k+E)),numeric.diag(numeric.rep([3],k*E)))}else l=numeric.add(numeric.sub(numeric.dot(l,l),numeric.mul(l,c)),numeric.diag(numeric.rep([3],s)));for(n=[l[0][0],l[1][0],l[2][0]],r=numeric.house(n),p=[t[0],t[1],t[2]],d=numeric.tensor(r,numeric.dot(r,p)),v=0;v<3;v++)for(h=t[v],g=d[v],y=0;y<x;y++)h[y]-=2*g[y];for(p=numeric.getBlock(t,[0,0],[x-1,2]),d=numeric.tensor(numeric.dot(p,r),r),v=0;v<x;v++)for(h=t[v],g=d[v],y=0;y<3;y++)h[y]-=2*g[y];for(p=[_[0],_[1],_[2]],d=numeric.tensor(r,numeric.dot(r,p)),v=0;v<3;v++)for(f=_[v],g=d[v],y=0;y<x;y++)f[y]-=2*g[y];var T;for(m=0;m<x-2;m++){for(y=m;y<=m+1;y++)if(Math.abs(t[y+1][y])<C*(Math.abs(t[y][y])+Math.abs(t[y+1][y+1]))){var M=numeric.QRFrancis(numeric.getBlock(t,[0,0],[y,y]),e),S=numeric.QRFrancis(numeric.getBlock(t,[y+1,y+1],[x-1,x-1]),e);for(p=Array(y+1),v=0;v<=y;v++)p[v]=_[v];for(d=numeric.dot(M.Q,p),v=0;v<=y;v++)_[v]=d[v];for(p=Array(x-y-1),v=y+1;v<x;v++)p[v-y-1]=_[v];for(d=numeric.dot(S.Q,p),v=y+1;v<x;v++)_[v]=d[v-y-1];return{Q:_,B:M.B.concat(numeric.add(S.B,y+1))}}for(T=Math.min(x-1,m+3),n=Array(T-m),v=m+1;v<=T;v++)n[v-m-1]=t[v][m];for(r=numeric.house(n),p=numeric.getBlock(t,[m+1,m],[T,x-1]),d=numeric.tensor(r,numeric.dot(r,p)),v=m+1;v<=T;v++)for(h=t[v],g=d[v-m-1],y=m;y<x;y++)h[y]-=2*g[y-m];for(p=numeric.getBlock(t,[0,m+1],[x-1,T]),d=numeric.tensor(numeric.dot(p,r),r),v=0;v<x;v++)for(h=t[v],g=d[v],y=m+1;y<=T;y++)h[y]-=2*g[y-m-1];for(p=Array(T-m),v=m+1;v<=T;v++)p[v-m-1]=_[v];for(d=numeric.tensor(r,numeric.dot(r,p)),v=m+1;v<=T;v++)for(f=_[v],g=d[v-m-1],y=0;y<x;y++)f[y]-=2*g[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var n,r,i,o,a,u,s,c,l,f,h,p,d,g,v,m,y,b=numeric.toUpperHessenberg(t),w=numeric.QRFrancis(b.H,e),x=numeric.T,_=t.length,C=w.B,M=numeric.dot(w.Q,numeric.dot(b.H,numeric.transpose(w.Q))),S=new x(numeric.dot(w.Q,b.Q)),k=C.length,E=Math.sqrt;for(r=0;r<k;r++)if(n=C[r][0],n===C[r][1]);else{if(o=n+1,a=M[n][n],u=M[n][o],s=M[o][n],c=M[o][o],0===u&&0===s)continue;l=-a-c,f=a*c-u*s,h=l*l-4*f,h>=0?(p=l<0?-.5*(l-E(h)):-.5*(l+E(h)),m=(a-p)*(a-p)+u*u,y=s*s+(c-p)*(c-p),m>y?(m=E(m),g=(a-p)/m,v=u/m):(y=E(y),g=s/y,v=(c-p)/y),i=new x([[v,-g],[g,v]]),S.setRows(n,o,i.dot(S.getRows(n,o)))):(p=-.5*l,d=.5*E(-h),m=(a-p)*(a-p)+u*u,y=s*s+(c-p)*(c-p),m>y?(m=E(m+d*d),g=(a-p)/m,v=u/m,p=0,d/=m):(y=E(y+d*d),g=s/y,v=(c-p)/y,p=d/y,d=0),i=new x([[v,-g],[g,v]],[[p,d],[d,-p]]),S.setRows(n,o,i.dot(S.getRows(n,o))))}var T=S.dot(t).dot(S.transjugate()),_=t.length,A=numeric.T.identity(_);for(o=0;o<_;o++)if(o>0)for(r=o-1;r>=0;r--){var N=T.get([r,r]),P=T.get([o,o]);numeric.neq(N.x,P.x)||numeric.neq(N.y,P.y)?(p=T.getRow(r).getBlock([r],[o-1]),d=A.getRow(o).getBlock([r],[o-1]),A.set([o,r],T.get([r,o]).neg().sub(p.dot(d)).div(N.sub(P)))):A.setRow(o,A.getRow(r))}for(o=0;o<_;o++)p=A.getRow(o),A.setRow(o,p.div(p.norm2()));return A=A.transpose(),A=S.transjugate().dot(A),{lambda:T.getDiag(),E:A}},numeric.ccsSparse=function(t){var e,n,r,i,o=t.length,a=[];for(r=o-1;r!==-1;--r){n=t[r];for(i in n){for(i=parseInt(i);i>=a.length;)a[a.length]=0;0!==n[i]&&a[i]++}}var e=a.length,u=Array(e+1);for(u[0]=0,r=0;r<e;++r)u[r+1]=u[r]+a[r];var s=Array(u[e]),c=Array(u[e]);for(r=o-1;r!==-1;--r){n=t[r];for(i in n)0!==n[i]&&(a[i]--,s[u[i]+a[i]]=r,c[u[i]+a[i]]=n[i])}return[u,s,c]},numeric.ccsFull=function(t){var e,n,r,i,o=t[0],a=t[1],u=t[2],s=numeric.ccsDim(t),c=s[0],l=s[1],f=numeric.rep([c,l],0);for(e=0;e<l;e++)for(r=o[e],i=o[e+1],n=r;n<i;++n)f[a[n]][e]=u[n];return f},numeric.ccsTSolve=function(t,e,n,r,i){function o(t){var e;if(0===n[t]){for(n[t]=1,e=a[t];e<a[t+1];++e)o(u[e]);i[f]=t,++f}}var a=t[0],u=t[1],s=t[2],c=a.length-1,l=Math.max,f=0;"undefined"==typeof r&&(n=numeric.rep([c],0)),"undefined"==typeof r&&(r=numeric.linspace(0,n.length-1)),"undefined"==typeof i&&(i=[]);var h,p,d,g,v,m,y;for(h=r.length-1;h!==-1;--h)o(r[h]);for(i.length=f,h=i.length-1;h!==-1;--h)n[i[h]]=0;for(h=r.length-1;h!==-1;--h)p=r[h],n[p]=e[p];for(h=i.length-1;h!==-1;--h){for(p=i[h],d=a[p],g=l(a[p+1],d),v=d;v!==g;++v)if(u[v]===p){n[p]/=s[v];break}for(y=n[p],v=d;v!==g;++v)m=u[v],m!==p&&(n[m]-=y*s[v])}return n},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,n,r,i,o){var a,u,s,c=0,l=i.length,f=this.k,h=this.k1,p=this.j;if(0===r[t])for(r[t]=1,p[0]=t,f[0]=u=e[t],h[0]=s=e[t+1];;)if(u>=s){if(i[l]=p[c],0===c)return;++l,--c,u=f[c],s=h[c]}else a=o[n[u]],0===r[a]?(r[a]=1,f[c]=u,++c,p[c]=a,u=e[a],h[c]=s=e[a+1]):++u},numeric.ccsLPSolve=function(t,e,n,r,i,o,a){var u,s,c,l,f,h,p,d,g,v=t[0],m=t[1],y=t[2],b=(v.length-1,e[0]),w=e[1],x=e[2];for(s=b[i],c=b[i+1],r.length=0,u=s;u<c;++u)a.dfs(o[w[u]],v,m,n,r,o);for(u=r.length-1;u!==-1;--u)n[r[u]]=0;for(u=s;u!==c;++u)l=o[w[u]],n[l]=x[u];for(u=r.length-1;u!==-1;--u){for(l=r[u],f=v[l],h=v[l+1],p=f;p<h;++p)if(o[m[p]]===l){n[l]/=y[p];break}for(g=n[l],p=f;p<h;++p)d=o[m[p]],d!==l&&(n[d]-=g*y[p])}return n},numeric.ccsLUP1=function(t,e){var n,r,i,o,a,u,s,c=t[0].length-1,l=[numeric.rep([c+1],0),[],[]],f=[numeric.rep([c+1],0),[],[]],h=l[0],p=l[1],d=l[2],g=f[0],v=f[1],m=f[2],y=numeric.rep([c],0),b=numeric.rep([c],0),w=numeric.ccsLPSolve,x=(Math.max,Math.abs),_=numeric.linspace(0,c-1),C=numeric.linspace(0,c-1),M=new numeric.ccsDFS(c);for("undefined"==typeof e&&(e=1),n=0;n<c;++n){for(w(l,t,y,b,n,C,M),o=-1,a=-1,r=b.length-1;r!==-1;--r)i=b[r],i<=n||(u=x(y[i]),u>o&&(a=i,o=u));for(x(y[n])<e*o&&(r=_[n],o=_[a],_[n]=o,C[o]=n,_[a]=r,C[r]=a,o=y[n],y[n]=y[a],y[a]=o),o=h[n],a=g[n],s=y[n],p[o]=_[n],d[o]=1,++o,r=b.length-1;r!==-1;--r)i=b[r],u=y[i],b[r]=0,y[i]=0,i<=n?(v[a]=i,m[a]=u,++a):(p[o]=_[i],d[o]=u/s,++o);h[n+1]=o,g[n+1]=a}for(r=p.length-1;r!==-1;--r)p[r]=C[p[r]];return{L:l,U:f,P:_,Pinv:C}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,n,r,i,o,a){var u,s,c,l=0,f=i.length,h=this.k,p=this.k1,d=this.j;if(0===r[t])for(r[t]=1,d[0]=t,h[0]=s=e[o[t]],p[0]=c=e[o[t]+1];;){if(isNaN(s))throw new Error("Ow!");if(s>=c){if(i[f]=o[d[l]],0===l)return;++f,--l,s=h[l],c=p[l]}else u=n[s],0===r[u]?(r[u]=1,h[l]=s,++l,d[l]=u,u=o[u],s=e[u],p[l]=c=e[u+1]):++s}},numeric.ccsLPSolve0=function(t,e,n,r,i,o,a,u){var s,c,l,f,h,p,d,g,v,m=t[0],y=t[1],b=t[2],w=(m.length-1,e[0]),x=e[1],_=e[2];for(c=w[i],l=w[i+1],r.length=0,s=c;s<l;++s)u.dfs(x[s],m,y,n,r,o,a);for(s=r.length-1;s!==-1;--s)f=r[s],n[a[f]]=0;for(s=c;s!==l;++s)f=x[s],n[f]=_[s];for(s=r.length-1;s!==-1;--s){for(f=r[s],g=a[f],h=m[f],p=m[f+1],d=h;d<p;++d)if(y[d]===g){n[g]/=b[d];break}for(v=n[g],d=h;d<p;++d)n[y[d]]-=v*b[d];n[g]=v}},numeric.ccsLUP0=function(t,e){var n,r,i,o,a,u,s,c=t[0].length-1,l=[numeric.rep([c+1],0),[],[]],f=[numeric.rep([c+1],0),[],[]],h=l[0],p=l[1],d=l[2],g=f[0],v=f[1],m=f[2],y=numeric.rep([c],0),b=numeric.rep([c],0),w=numeric.ccsLPSolve0,x=(Math.max,Math.abs),_=numeric.linspace(0,c-1),C=numeric.linspace(0,c-1),M=new numeric.ccsDFS0(c);for("undefined"==typeof e&&(e=1),n=0;n<c;++n){for(w(l,t,y,b,n,C,_,M),o=-1,a=-1,r=b.length-1;r!==-1;--r)i=b[r],i<=n||(u=x(y[_[i]]),u>o&&(a=i,o=u));for(x(y[_[n]])<e*o&&(r=_[n],o=_[a],_[n]=o,C[o]=n,_[a]=r,C[r]=a),o=h[n],a=g[n],s=y[_[n]],p[o]=_[n],d[o]=1,++o,r=b.length-1;r!==-1;--r)i=b[r],u=y[_[i]],b[r]=0,y[_[i]]=0,i<=n?(v[a]=i,m[a]=u,++a):(p[o]=_[i],d[o]=u/s,++o);h[n+1]=o,g[n+1]=a}for(r=p.length-1;r!==-1;--r)p[r]=C[p[r]];return{L:l,U:f,P:_,Pinv:C}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,n){var r=numeric.ccsDim(t),i=r[0],o=r[1];"undefined"==typeof e?e=numeric.linspace(0,i-1):"number"==typeof e&&(e=[e]),"undefined"==typeof n?n=numeric.linspace(0,o-1):"number"==typeof n&&(n=[n]);var a,u,s,c,l,f=e.length,h=n.length,p=numeric.rep([o],0),d=[],g=[],v=[p,d,g],m=t[0],y=t[1],b=t[2],w=numeric.rep([i],0),x=0,_=numeric.rep([i],0);for(u=0;u<h;++u){c=n[u];var C=m[c],M=m[c+1];for(a=C;a<M;++a)s=y[a],_[s]=1,w[s]=b[a];for(a=0;a<f;++a)l=e[a],_[l]&&(d[x]=a,g[x]=w[e[a]],++x);for(a=C;a<M;++a)s=y[a],_[s]=0;p[u+1]=x}return v},numeric.ccsDot=function(t,e){var n,r,i,o,a,u,s,c,l,f,h,p=t[0],d=t[1],g=t[2],v=e[0],m=e[1],y=e[2],b=numeric.ccsDim(t),w=numeric.ccsDim(e),x=b[0],_=(b[1],w[1]),C=numeric.rep([x],0),M=numeric.rep([x],0),S=Array(x),k=numeric.rep([_],0),E=[],T=[],A=[k,E,T];for(i=0;i!==_;++i){for(o=v[i],a=v[i+1],l=0,r=o;r<a;++r)for(f=m[r],h=y[r],u=p[f],s=p[f+1],n=u;n<s;++n)c=d[n],0===M[c]&&(S[l]=c,M[c]=1,l+=1),C[c]=C[c]+g[n]*h;for(o=k[i],a=o+l,k[i+1]=a,r=l-1;r!==-1;--r)h=o+r,n=S[r],E[h]=n,T[h]=C[n],M[n]=0,C[n]=0;k[i+1]=k[i]+l}return A},numeric.ccsLUPSolve=function(t,e){var n=t.L,r=t.U,i=(t.P,e[0]),o=!1;"object"!=typeof i&&(e=[[0,e.length],numeric.linspace(0,e.length-1),e],i=e[0],o=!0);var a,u,s,c,l,f,h=e[1],p=e[2],d=n[0].length-1,g=i.length-1,v=numeric.rep([d],0),m=Array(d),y=numeric.rep([d],0),b=Array(d),w=numeric.rep([g+1],0),x=[],_=[],C=numeric.ccsTSolve,M=0;for(a=0;a<g;++a){for(l=0,s=i[a],c=i[a+1],u=s;u<c;++u)f=t.Pinv[h[u]],b[l]=f,y[f]=p[u],++l;for(b.length=l,C(n,y,v,b,m),u=b.length-1;u!==-1;--u)y[b[u]]=0;if(C(r,v,y,m,b),o)return y;for(u=m.length-1;u!==-1;--u)v[m[u]]=0;for(u=b.length-1;u!==-1;--u)f=b[u],x[M]=f,_[M]=y[f],y[f]=0,++M;w[a+1]=M}return[w,x,_]},numeric.ccsbinop=function(t,e){return"undefined"==typeof e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var e,n=t[0],r=t[1],i=t[2],o=numeric.sup(r)+1,a=n.length,u=numeric.rep([o],0),s=Array(a),c=Array(a),l=numeric.rep([o],0);for(e=0;e<a;++e)l[r[e]]++;for(e=0;e<o;++e)u[e+1]=u[e]+l[e];var f,h,p=u.slice(0);for(e=0;e<a;++e)h=r[e],f=p[h],s[f]=n[e],c[f]=i[e],p[h]=p[h]+1;return[u,s,c]},numeric.ccsGather=function(t){var e,n,r,i,o,a=t[0],u=t[1],s=t[2],c=a.length-1,l=u.length,f=Array(l),h=Array(l),p=Array(l);for(o=0,e=0;e<c;++e)for(r=a[e],i=a[e+1],n=r;n!==i;++n)h[o]=e,f[o]=u[n],p[o]=s[n],++o;return[f,h,p]},numeric.sdim=function s(t,e,n){if("undefined"==typeof e&&(e=[]),"object"!=typeof t)return e;"undefined"==typeof n&&(n=0),n in e||(e[n]=0),t.length>e[n]&&(e[n]=t.length);var r;for(r in t)t.hasOwnProperty(r)&&s(t[r],e,n+1);return e},numeric.sclone=function c(t,e,n){"undefined"==typeof e&&(e=0),"undefined"==typeof n&&(n=numeric.sdim(t).length);var r,i=Array(t.length);if(e===n-1){for(r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i}for(r in t)t.hasOwnProperty(r)&&(i[r]=c(t[r],e+1,n));return i},numeric.sdiag=function(t){var e,n,r=t.length,i=Array(r);for(e=r-1;e>=1;e-=2)n=e-1,i[e]=[],i[e][e]=t[e],i[n]=[],i[n][n]=t[n];return 0===e&&(i[0]=[],i[0][0]=t[e]),i},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var e,n,r,i=[];t.length;for(e in t)if(t.hasOwnProperty(e)){r=t[e];for(n in r)r.hasOwnProperty(n)&&("object"!=typeof i[n]&&(i[n]=[]),i[n][e]=r[n])}return i},numeric.sLUP=function(t,e){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var n,r,i,o,a,u,s,c=t.length,l=(e.length,numeric.stranspose(e)),f=l.length,h=Array(c);for(i=c-1;i>=0;i--){for(s=[],n=t[i],a=f-1;a>=0;a--){u=0,r=l[a];for(o in n)n.hasOwnProperty(o)&&o in r&&(u+=n[o]*r[o]);u&&(s[a]=u)}h[i]=s}return h},numeric.sdotMV=function(t,e){var n,r,i,o,a=t.length,u=Array(a);for(r=a-1;r>=0;r--){n=t[r],o=0;for(i in n)n.hasOwnProperty(i)&&e[i]&&(o+=n[i]*e[i]);o&&(u[r]=o)}return u},numeric.sdotVM=function(t,e){var n,r,i,o,a=[];for(n in t)if(t.hasOwnProperty(n)){i=e[n],o=t[n];for(r in i)i.hasOwnProperty(r)&&(a[r]||(a[r]=0),a[r]+=o*i[r])}return a},numeric.sdotVV=function(t,e){var n,r=0;for(n in t)t[n]&&e[n]&&(r+=t[n]*e[n]);return r},numeric.sdot=function(t,e){var n=numeric.sdim(t).length,r=numeric.sdim(e).length,i=1e3*n+r;switch(i){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+r)}},numeric.sscatter=function(t){var e,n,r,i,o=t[0].length,a=t.length,u=[];for(n=o-1;n>=0;--n)if(t[a-1][n]){for(i=u,r=0;r<a-2;r++)e=t[r][n],i[e]||(i[e]=[]),i=i[e];i[t[r][n]]=t[r+1][n]}return u},numeric.sgather=function l(t,e,n){"undefined"==typeof e&&(e=[]),"undefined"==typeof n&&(n=[]);var r,i,o;r=n.length;for(i in t)if(t.hasOwnProperty(i))if(n[r]=parseInt(i),o=t[i],"number"==typeof o){if(o){if(0===e.length)for(i=r+1;i>=0;--i)e[i]=[];for(i=r;i>=0;--i)e[i].push(n[i]);e[r+1].push(o)}}else l(o,e,n);return n.length>r&&n.pop(),e},numeric.cLU=function(t){var e,n,r,i,o,a,u=t[0],s=t[1],c=t[2],l=u.length,f=0;for(e=0;e<l;e++)u[e]>f&&(f=u[e]);f++;var h,p,d,g=Array(f),v=Array(f),m=numeric.rep([f],1/0),y=numeric.rep([f],-(1/0));for(r=0;r<l;r++)e=u[r],n=s[r],n<m[e]&&(m[e]=n),n>y[e]&&(y[e]=n);for(e=0;e<f-1;e++)y[e]>y[e+1]&&(y[e+1]=y[e]);for(e=f-1;e>=1;e--)m[e]<m[e-1]&&(m[e-1]=m[e]);var b=0,w=0;for(e=0;e<f;e++)v[e]=numeric.rep([y[e]-m[e]+1],0),g[e]=numeric.rep([e-m[e]],0),b+=e-m[e]+1,w+=y[e]-e+1;for(r=0;r<l;r++)e=u[r],v[e][s[r]-m[e]]=c[r];for(e=0;e<f-1;e++)for(i=e-m[e],h=v[e],n=e+1;m[n]<=e&&n<f;n++)if(o=e-m[n],a=y[e]-e,p=v[n],d=p[o]/h[i]){for(r=1;r<=a;r++)p[r+o]-=d*h[r+i];g[n][e-m[n]]=d}var l,x,_,h=[],p=[],C=[],M=[],S=[],k=[];for(l=0,x=0,e=0;e<f;e++){for(i=m[e],o=y[e],_=v[e],n=e;n<=o;n++)_[n-i]&&(h[l]=e,p[l]=n,C[l]=_[n-i],l++);for(_=g[e],n=i;n<e;n++)_[n-i]&&(M[x]=e,S[x]=n,k[x]=_[n-i],x++);M[x]=e,S[x]=e,k[x]=1,x++}return{U:[h,p,C],L:[M,S,k]}},numeric.cLUsolve=function(t,e){var n,r,i=t.L,o=t.U,a=numeric.clone(e),u=i[0],s=i[1],c=i[2],l=o[0],f=o[1],h=o[2],p=l.length,d=(u.length,a.length);for(r=0,n=0;n<d;n++){for(;s[r]<n;)a[n]-=c[r]*a[s[r]],r++;r++}for(r=p-1,n=d-1;n>=0;n--){for(;f[r]>n;)a[n]-=h[r]*a[f[r]],r--;a[n]/=h[r],r--}return a},numeric.cgrid=function(t,e){"number"==typeof t&&(t=[t,t]);var n,r,i,o=numeric.rep(t,-1);if("function"!=typeof e)switch(e){case"L":e=function(e,n){return e>=t[0]/2||n<t[1]/2};break;default:e=function(t,e){return!0}}for(i=0,n=1;n<t[0]-1;n++)for(r=1;r<t[1]-1;r++)e(n,r)&&(o[n][r]=i,i++);return o},numeric.cdelsq=function(t){var e,n,r,i,o,a=[[-1,0],[0,-1],[0,1],[1,0]],u=numeric.dim(t),s=u[0],c=u[1],l=[],f=[],h=[];for(e=1;e<s-1;e++)for(n=1;n<c-1;n++)if(!(t[e][n]<0)){for(r=0;r<4;r++)i=e+a[r][0],o=n+a[r][1],t[i][o]<0||(l.push(t[e][n]),f.push(t[i][o]),h.push(-1));l.push(t[e][n]),f.push(t[e][n]),h.push(4)}return[l,f,h]},numeric.cdotMV=function(t,e){var n,r,i,o=t[0],a=t[1],u=t[2],s=o.length;for(i=0,r=0;r<s;r++)o[r]>i&&(i=o[r]);for(i++,n=numeric.rep([i],0),r=0;r<s;r++)n[o[r]]+=u[r]*e[a[r]];return n},numeric.Spline=function(t,e,n,r,i){this.x=t,this.yl=e,this.yr=n,this.kl=r,this.kr=i},numeric.Spline.prototype._at=function(t,e){var t,n,r,i,o=this.x,a=this.yl,u=this.yr,s=this.kl,c=this.kr,l=numeric.add,f=numeric.sub,h=numeric.mul;n=f(h(s[e],o[e+1]-o[e]),f(u[e+1],a[e])),r=l(h(c[e+1],o[e]-o[e+1]),f(u[e+1],a[e])),i=(t-o[e])/(o[e+1]-o[e]);var p=i*(1-i);return l(l(l(h(1-i,a[e]),h(i,u[e+1])),h(n,p*(1-i))),h(r,p*i))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var e,n,r,i=this.x,o=i.length,a=Math.floor;for(e=0,n=o-1;n-e>1;)r=a((e+n)/2),i[r]<=t?e=r:n=r;return this._at(t,e)}var u,o=t.length,s=Array(o);for(u=o-1;u!==-1;--u)s[u]=this.at(t[u]);return s},numeric.Spline.prototype.diff=function(){var t,e,n,r=this.x,i=this.yl,o=this.yr,a=this.kl,u=this.kr,s=i.length,c=a,l=u,f=Array(s),h=Array(s),p=numeric.add,d=numeric.mul,g=numeric.div,v=numeric.sub;for(t=s-1;t!==-1;--t)e=r[t+1]-r[t],n=v(o[t+1],i[t]),f[t]=g(p(d(n,6),d(a[t],-4*e),d(u[t+1],-2*e)),e*e),h[t+1]=g(p(d(n,-6),d(a[t],2*e),d(u[t+1],4*e)),e*e);return new numeric.Spline(r,c,l,f,h)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],n=this.x,r=this.yl,i=this.yr,o=this.kl,a=this.kr;"number"==typeof r[0]&&(r=[r],i=[i],o=[o],a=[a]);var u,s,c,l,f,h,p,d,g,v,m,y,b,w,x,_,C,M,S,k,E,T,A,N,P=r.length,D=n.length-1,e=Array(P),O=Math.sqrt;for(u=0;u!==P;++u){for(l=r[u],f=i[u],h=o[u],p=a[u],d=[],s=0;s!==D;s++){for(s>0&&f[s]*l[s]<0&&d.push(n[s]),_=n[s+1]-n[s],C=n[s],m=l[s],y=f[s+1],g=h[s]/_,v=p[s+1]/_,x=t(g-v+3*(m-y))+12*v*m,b=v+3*m+2*g-3*y,w=3*(v+g+2*(m-y)),x<=0?(S=b/w,M=S>n[s]&&S<n[s+1]?[n[s],S,n[s+1]]:[n[s],n[s+1]]):(S=(b-O(x))/w,k=(b+O(x))/w,M=[n[s]],S>n[s]&&S<n[s+1]&&M.push(S),k>n[s]&&k<n[s+1]&&M.push(k),M.push(n[s+1])),T=M[0],S=this._at(T,s),c=0;c<M.length-1;c++)if(A=M[c+1],k=this._at(A,s),0!==S)if(0===k||S*k>0)T=A,S=k;else{for(var R=0;;){if(N=(S*A-k*T)/(S-k),N<=T||N>=A)break;if(E=this._at(N,s),E*k>0)A=N,k=E,R===-1&&(S*=.5),R=-1;else{if(!(E*S>0))break;T=N,S=E,1===R&&(k*=.5),R=1}}d.push(N),T=M[c+1],S=this._at(T,s)}else d.push(T),T=A,S=k;0===k&&d.push(A)}e[u]=d}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,n,r){var i,o=t.length,a=[],u=[],s=[],c=numeric.sub,l=numeric.mul,f=numeric.add;for(i=o-2;i>=0;i--)u[i]=t[i+1]-t[i],s[i]=c(e[i+1],e[i]);"string"!=typeof n&&"string"!=typeof r||(n=r="periodic");var h=[[],[],[]];switch(typeof n){case"undefined":a[0]=l(3/(u[0]*u[0]),s[0]),h[0].push(0,0),h[1].push(0,1),h[2].push(2/u[0],1/u[0]);break;case"string":a[0]=f(l(3/(u[o-2]*u[o-2]),s[o-2]),l(3/(u[0]*u[0]),s[0])),h[0].push(0,0,0),h[1].push(o-2,0,1),h[2].push(1/u[o-2],2/u[o-2]+2/u[0],1/u[0]);break;default:a[0]=n,h[0].push(0),h[1].push(0),h[2].push(1)}for(i=1;i<o-1;i++)a[i]=f(l(3/(u[i-1]*u[i-1]),s[i-1]),l(3/(u[i]*u[i]),s[i])),h[0].push(i,i,i),h[1].push(i-1,i,i+1),h[2].push(1/u[i-1],2/u[i-1]+2/u[i],1/u[i]);switch(typeof r){case"undefined":a[o-1]=l(3/(u[o-2]*u[o-2]),s[o-2]),h[0].push(o-1,o-1),h[1].push(o-2,o-1),h[2].push(1/u[o-2],2/u[o-2]);break;case"string":h[1][h[1].length-1]=0;break;default:a[o-1]=r,h[0].push(o-1),h[1].push(o-1),h[2].push(1)}a="number"!=typeof a[0]?numeric.transpose(a):[a];var p=Array(a.length);if("string"==typeof n)for(i=p.length-1;i!==-1;--i)p[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(h)),a[i]),p[i][o-1]=p[i][0];else for(i=p.length-1;i!==-1;--i)p[i]=numeric.cLUsolve(numeric.cLU(h),a[i]);return p="number"==typeof e[0]?p[0]:numeric.transpose(p),new numeric.Spline(t,e,e,p,p)},numeric.fftpow2=function f(t,e){var n=t.length;if(1!==n){var r,i,o=Math.cos,a=Math.sin,u=Array(n/2),s=Array(n/2),c=Array(n/2),l=Array(n/2);for(i=n/2,r=n-1;r!==-1;--r)--i,c[i]=t[r],l[i]=e[r],--r,u[i]=t[r],s[i]=e[r];f(u,s),f(c,l),i=n/2;var h,p,d,g=-6.283185307179586/n;for(r=n-1;r!==-1;--r)--i,i===-1&&(i=n/2-1),h=g*r,p=o(h),d=a(h),t[r]=u[i]+p*c[i]-d*l[i],e[r]=s[i]+p*l[i]+d*c[i]}},numeric._ifftpow2=function h(t,e){var n=t.length;if(1!==n){var r,i,o=Math.cos,a=Math.sin,u=Array(n/2),s=Array(n/2),c=Array(n/2),l=Array(n/2);for(i=n/2,r=n-1;r!==-1;--r)--i,c[i]=t[r],l[i]=e[r],--r,u[i]=t[r],s[i]=e[r];h(u,s),h(c,l),i=n/2;var f,p,d,g=6.283185307179586/n;for(r=n-1;r!==-1;--r)--i,i===-1&&(i=n/2-1),f=g*r,p=o(f),d=a(f),t[r]=u[i]+p*c[i]-d*l[i],e[r]=s[i]+p*l[i]+d*c[i]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,n,r){numeric.fftpow2(t,e),numeric.fftpow2(n,r);var i,o,a,u,s,c=t.length;for(i=c-1;i!==-1;--i)o=t[i],u=e[i],a=n[i],s=r[i],t[i]=o*a-u*s,e[i]=o*s+u*a;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){var t,e,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),u=Math.ceil(o(2*i-1)/a),s=Math.pow(2,u),c=numeric.rep([s],0),l=numeric.rep([s],0),f=Math.cos,h=Math.sin,p=-3.141592653589793/i,d=numeric.rep([s],0),g=numeric.rep([s],0);Math.floor(i/2);for(t=0;t<i;t++)d[t]=n[t];if("undefined"!=typeof r)for(t=0;t<i;t++)g[t]=r[t];for(c[0]=1,t=1;t<=s/2;t++)e=p*t*t,c[t]=f(e),l[t]=h(e),c[s-t]=f(e),l[s-t]=h(e);var v=new numeric.T(d,g),m=new numeric.T(c,l);return v=v.mul(m),numeric.convpow2(v.x,v.y,numeric.clone(m.x),numeric.neg(m.y)),v=v.mul(m),v.x.length=i,v.y.length=i,v},numeric.T.prototype.ifft=function(){var t,e,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),u=Math.ceil(o(2*i-1)/a),s=Math.pow(2,u),c=numeric.rep([s],0),l=numeric.rep([s],0),f=Math.cos,h=Math.sin,p=3.141592653589793/i,d=numeric.rep([s],0),g=numeric.rep([s],0);Math.floor(i/2);for(t=0;t<i;t++)d[t]=n[t];if("undefined"!=typeof r)for(t=0;t<i;t++)g[t]=r[t];for(c[0]=1,t=1;t<=s/2;t++)e=p*t*t,c[t]=f(e),l[t]=h(e),c[s-t]=f(e),l[s-t]=h(e);var v=new numeric.T(d,g),m=new numeric.T(c,l);return v=v.mul(m),numeric.convpow2(v.x,v.y,numeric.clone(m.x),numeric.neg(m.y)),v=v.mul(m),v.x.length=i,v.y.length=i,v.div(i)},numeric.gradient=function(t,e){var n=e.length,r=t(e);if(isNaN(r))throw new Error("gradient: f(x) is a NaN!");
var i,o,a,u,s,c,l,f,h,p,d=Math.max,g=numeric.clone(e),v=Array(n),d=(numeric.div,numeric.sub,Math.max),m=.001,y=Math.abs,b=Math.min,w=0;for(i=0;i<n;i++)for(var x=d(1e-6*r,1e-8);;){if(++w,w>20)throw new Error("Numerical gradient fails");if(g[i]=e[i]+x,o=t(g),g[i]=e[i]-x,a=t(g),g[i]=e[i],isNaN(o)||isNaN(a))x/=16;else{if(v[i]=(o-a)/(2*x),s=e[i]-x,c=e[i],l=e[i]+x,f=(o-r)/x,h=(r-a)/x,p=d(y(v[i]),y(r),y(o),y(a),y(s),y(c),y(l),1e-8),u=b(d(y(f-v[i]),y(h-v[i]),y(f-h))/p,x/p),!(u>m))break;x/=16}}return v},numeric.uncmin=function(t,e,n,r,i,o,a){var u=numeric.gradient;"undefined"==typeof a&&(a={}),"undefined"==typeof n&&(n=1e-8),"undefined"==typeof r&&(r=function(e){return u(t,e)}),"undefined"==typeof i&&(i=1e3),e=numeric.clone(e);var s,c,l=e.length,f=t(e);if(isNaN(f))throw new Error("uncmin: f(x0) is a NaN!");var h=Math.max,p=numeric.norm2;n=h(n,numeric.epsilon);var d,g,v,m,y,b,w,x,_,C,M=a.Hinv||numeric.identity(l),S=numeric.dot,k=(numeric.inv,numeric.sub),E=numeric.add,T=numeric.tensor,A=numeric.div,N=numeric.mul,P=numeric.all,D=numeric.isFinite,O=numeric.neg,R=0,I="";for(g=r(e);R<i;){if("function"==typeof o&&o(R,e,f,g,M)){I="Callback returned true";break}if(!P(D(g))){I="Gradient has Infinity or NaN";break}if(d=O(S(M,g)),!P(D(d))){I="Search direction has Infinity or NaN";break}if(C=p(d),C<n){I="Newton step smaller than tol";break}for(_=1,c=S(g,d),y=e;R<i&&!(_*C<n)&&(m=N(d,_),y=E(e,m),s=t(y),s-f>=.1*_*c||isNaN(s));)_*=.5,++R;if(_*C<n){I="Line search step size smaller than tol";break}if(R===i){I="maxit reached during line search";break}v=r(y),b=k(v,g),x=S(b,m),w=S(M,b),M=k(E(M,N((x+S(b,w))/(x*x),T(m,m))),A(E(T(w,m),T(m,w)),x)),e=y,f=s,g=v,++R}return{solution:e,f:f,gradient:g,invHessian:M,iterations:R,message:I}},numeric.Dopri=function(t,e,n,r,i,o,a){this.x=t,this.y=e,this.f=n,this.ymid=r,this.iterations=i,this.events=a,this.message=o},numeric.Dopri.prototype._at=function(t,e){function n(t){return t*t}var r,i,o,a,u,s,t,c,l,f,h,p=this,d=p.x,g=p.y,v=p.f,m=p.ymid,y=(d.length,Math.floor,.5),b=numeric.add,w=numeric.mul,x=numeric.sub;return r=d[e],i=d[e+1],a=g[e],u=g[e+1],c=i-r,o=r+y*c,s=m[e],l=x(v[e],w(a,1/(r-o)+2/(r-i))),f=x(v[e+1],w(u,1/(i-o)+2/(i-r))),h=[n(t-i)*(t-o)/n(r-i)/(r-o),n(t-r)*n(t-i)/n(r-o)/n(i-o),n(t-r)*(t-o)/n(i-r)/(i-o),(t-r)*n(t-i)*(t-o)/n(r-i)/(r-o),(t-i)*n(t-r)*(t-o)/n(r-i)/(i-o)],b(b(b(b(w(a,h[0]),w(s,h[1])),w(u,h[2])),w(l,h[3])),w(f,h[4]))},numeric.Dopri.prototype.at=function(t){var e,n,r,i=Math.floor;if("number"!=typeof t){var o=t.length,a=Array(o);for(e=o-1;e!==-1;--e)a[e]=this.at(t[e]);return a}var u=this.x;for(e=0,n=u.length-1;n-e>1;)r=i(.5*(e+n)),u[r]<=t?e=r:n=r;return this._at(t,e)},numeric.dopri=function(t,e,n,r,i,o,a){"undefined"==typeof i&&(i=1e-6),"undefined"==typeof o&&(o=1e3);var u,s,c,l,f,h,p,d,g,v,m,y,b,w=[t],x=[n],_=[r(t,n)],C=[],M=.2,S=[.075,.225],k=[44/45,-56/15,32/9],E=[19372/6561,-25360/2187,64448/6561,-212/729],T=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],A=[35/384,0,500/1113,125/192,-2187/6784,11/84],N=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],P=[.2,.3,.8,8/9,1,1],D=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],O=0,R=(e-t)/10,I=0,L=numeric.add,j=numeric.mul,F=(Math.max,Math.min),B=Math.abs,U=numeric.norminf,W=Math.pow,H=numeric.any,z=numeric.lt,V=numeric.and,q=(numeric.sub,new numeric.Dopri(w,x,_,C,(-1),""));for("function"==typeof a&&(m=a(t,n));t<e&&I<o;)if(++I,t+R>e&&(R=e-t),u=r(t+P[0]*R,L(n,j(M*R,_[O]))),s=r(t+P[1]*R,L(L(n,j(S[0]*R,_[O])),j(S[1]*R,u))),c=r(t+P[2]*R,L(L(L(n,j(k[0]*R,_[O])),j(k[1]*R,u)),j(k[2]*R,s))),l=r(t+P[3]*R,L(L(L(L(n,j(E[0]*R,_[O])),j(E[1]*R,u)),j(E[2]*R,s)),j(E[3]*R,c))),f=r(t+P[4]*R,L(L(L(L(L(n,j(T[0]*R,_[O])),j(T[1]*R,u)),j(T[2]*R,s)),j(T[3]*R,c)),j(T[4]*R,l))),g=L(L(L(L(L(n,j(_[O],R*A[0])),j(s,R*A[2])),j(c,R*A[3])),j(l,R*A[4])),j(f,R*A[5])),h=r(t+R,g),p=L(L(L(L(L(j(_[O],R*D[0]),j(s,R*D[2])),j(c,R*D[3])),j(l,R*D[4])),j(f,R*D[5])),j(h,R*D[6])),v="number"==typeof p?B(p):U(p),v>i){if(R=.2*R*W(i/v,.25),t+R===t){q.msg="Step size became too small";break}}else{if(C[O]=L(L(L(L(L(L(n,j(_[O],R*N[0])),j(s,R*N[2])),j(c,R*N[3])),j(l,R*N[4])),j(f,R*N[5])),j(h,R*N[6])),++O,w[O]=t+R,x[O]=g,_[O]=h,"function"==typeof a){var Y,X,K=t,G=t+.5*R;if(y=a(G,C[O-1]),b=V(z(m,0),z(0,y)),H(b)||(K=G,G=t+R,m=y,y=a(G,g),b=V(z(m,0),z(0,y))),H(b)){for(var Q,Z,J=0,$=1,tt=1;;){if("number"==typeof m)X=(tt*y*K-$*m*G)/(tt*y-$*m);else for(X=G,d=m.length-1;d!==-1;--d)m[d]<0&&y[d]>0&&(X=F(X,(tt*y[d]*K-$*m[d]*G)/(tt*y[d]-$*m[d])));if(X<=K||X>=G)break;Y=q._at(X,O-1),Z=a(X,Y),Q=V(z(m,0),z(0,Z)),H(Q)?(G=X,y=Z,b=Q,tt=1,J===-1?$*=.5:$=1,J=-1):(K=X,m=Z,$=1,1===J?tt*=.5:tt=1,J=1)}return g=q._at(.5*(t+X),O-1),q.f[O]=r(X,Y),q.x[O]=X,q.y[O]=Y,q.ymid[O-1]=g,q.events=b,q.iterations=I,q}}t+=R,n=g,m=y,R=F(.8*R*W(i/v,.25),4*R)}return q.iterations=I,q},numeric.LU=function(t,e){e=e||!1;var n,r,i,o,a,u,s,c,l,f=Math.abs,h=t.length,p=h-1,d=new Array(h);for(e||(t=numeric.clone(t)),i=0;i<h;++i){for(s=i,u=t[i],l=f(u[i]),r=i+1;r<h;++r)o=f(t[r][i]),l<o&&(l=o,s=r);for(d[i]=s,s!=i&&(t[i]=t[s],t[s]=u,u=t[i]),a=u[i],n=i+1;n<h;++n)t[n][i]/=a;for(n=i+1;n<h;++n){for(c=t[n],r=i+1;r<p;++r)c[r]-=c[i]*u[r],++r,c[r]-=c[i]*u[r];r===p&&(c[r]-=c[i]*u[r])}}return{LU:t,P:d}},numeric.LUsolve=function(t,e){var n,r,i,o,a,u=t.LU,s=u.length,c=numeric.clone(e),l=t.P;for(n=s-1;n!==-1;--n)c[n]=e[n];for(n=0;n<s;++n)for(i=l[n],l[n]!==n&&(a=c[n],c[n]=c[i],c[i]=a),o=u[n],r=0;r<n;++r)c[n]-=c[r]*o[r];for(n=s-1;n>=0;--n){for(o=u[n],r=n+1;r<s;++r)c[n]-=c[r]*o[r];c[n]/=o[n]}return c},numeric.solve=function(t,e,n){return numeric.LUsolve(numeric.LU(t,n),e)},numeric.echelonize=function(t){var e,n,r,i,o,a,u,s,c=numeric.dim(t),l=c[0],f=c[1],h=numeric.identity(l),p=Array(l),d=Math.abs,g=numeric.diveq;for(t=numeric.clone(t),e=0;e<l;++e){for(r=0,o=t[e],a=h[e],n=1;n<f;++n)d(o[r])<d(o[n])&&(r=n);for(p[e]=r,g(a,o[r]),g(o,o[r]),n=0;n<l;++n)if(n!==e){for(u=t[n],s=u[r],i=f-1;i!==-1;--i)u[i]-=o[i]*s;for(u=h[n],i=l-1;i!==-1;--i)u[i]-=a[i]*s}}return{I:h,A:t,P:p}},numeric.__solveLP=function(t,e,n,r,i,o,a){var u,s,c,l,f=numeric.sum,h=(numeric.log,numeric.mul),p=numeric.sub,d=numeric.dot,g=numeric.div,v=numeric.add,m=t.length,y=n.length,b=!1,w=0,x=1,_=(numeric.transpose(e),numeric.svd,numeric.transpose),C=(numeric.leq,Math.sqrt),M=Math.abs,S=(numeric.muleq,numeric.norminf,numeric.any,Math.min),k=numeric.all,E=numeric.gt,T=Array(m),A=Array(y),N=(numeric.rep([y],1),numeric.solve),P=p(n,d(e,o)),D=d(t,t);for(c=w;c<i;++c){var O,R;for(O=y-1;O!==-1;--O)A[O]=g(e[O],P[O]);var I=_(A);for(O=m-1;O!==-1;--O)T[O]=f(I[O]);x=.25*M(D/d(t,T));var L=100*C(D/d(T,T));for((!isFinite(x)||x>L)&&(x=L),l=v(t,h(x,T)),s=d(I,A),O=m-1;O!==-1;--O)s[O][O]+=1;R=N(s,g(l,x),!0);var j=g(P,d(e,R)),F=1;for(O=y-1;O!==-1;--O)j[O]<0&&(F=S(F,-.999*j[O]));if(u=p(o,h(R,F)),P=p(n,d(e,u)),!k(E(P,0)))return{solution:o,message:"",iterations:c};if(o=u,x<r)return{solution:u,message:"",iterations:c};if(a){var B=d(t,l),U=d(e,l);for(b=!0,O=y-1;O!==-1;--O)if(B*U[O]<0){b=!1;break}}else b=!(o[m-1]>=0);if(b)return{solution:u,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(t,e,n,r,i){var o,a=t.length,u=n.length,s=(numeric.sum,numeric.log,numeric.mul,numeric.sub),c=numeric.dot,l=(numeric.div,numeric.add,numeric.rep([a],0).concat([1])),f=numeric.rep([u,1],-1),h=numeric.blockMatrix([[e,f]]),p=n,o=numeric.rep([a],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),d=numeric.__solveLP(l,h,p,r,i,o,!1),g=numeric.clone(d.solution);g.length=a;var v=numeric.inf(s(n,c(e,g)));if(v<0)return{solution:NaN,message:"Infeasible",iterations:d.iterations};var m=numeric.__solveLP(t,e,n,r,i-d.iterations,g,!0);return m.iterations+=d.iterations,m},numeric.solveLP=function(t,e,n,r,i,o,a){if("undefined"==typeof a&&(a=1e3),"undefined"==typeof o&&(o=numeric.epsilon),"undefined"==typeof r)return numeric._solveLP(t,e,n,o,a);var u,s=r.length,c=r[0].length,l=e.length,f=numeric.echelonize(r),h=numeric.rep([c],0),p=f.P,d=[];for(u=p.length-1;u!==-1;--u)h[p[u]]=1;for(u=c-1;u!==-1;--u)0===h[u]&&d.push(u);var g=numeric.getRange,v=numeric.linspace(0,s-1),m=numeric.linspace(0,l-1),y=g(r,v,d),b=g(e,m,p),w=g(e,m,d),x=numeric.dot,_=numeric.sub,C=x(b,f.I),M=_(w,x(C,y)),S=_(n,x(C,i)),k=Array(p.length),E=Array(d.length);for(u=p.length-1;u!==-1;--u)k[u]=t[p[u]];for(u=d.length-1;u!==-1;--u)E[u]=t[d[u]];var T=_(E,x(k,x(f.I,y))),A=numeric._solveLP(T,M,S,o,a),N=A.solution;if(N!==N)return A;var P=x(f.I,_(i,x(y,N))),D=Array(t.length);for(u=p.length-1;u!==-1;--u)D[p[u]]=P[u];for(u=d.length-1;u!==-1;--u)D[d[u]]=N[u];return{solution:D,message:A.message,iterations:A.iterations}},numeric.MPStoLP=function(t){function e(e){throw new Error("MPStoLP: "+e+"\nLine "+n+": "+t[n]+"\nCurrent state: "+u[a]+"\n")}t instanceof String&&t.split("\n");var n,r,i,o,a=0,u=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],s=t.length,c=0,l={},f=[],h=0,p={},d=0,g=[],v=[],m=[];for(n=0;n<s;++n){i=t[n];var y=i.match(/\S*/g),b=[];for(r=0;r<y.length;++r)""!==y[r]&&b.push(y[r]);if(0!==b.length){for(r=0;r<u.length&&i.substr(0,u[r].length)!==u[r];++r);if(r<u.length){if(a=r,1===r&&(o=b[1]),6===r)return{name:o,c:g,A:numeric.transpose(v),b:m,rows:l,vars:p}}else switch(a){case 0:case 1:e("Unexpected line");case 2:switch(b[0]){case"N":0===c?c=b[1]:e("Two or more N rows");break;case"L":l[b[1]]=h,f[h]=1,m[h]=0,++h;break;case"G":l[b[1]]=h,f[h]=-1,m[h]=0,++h;break;case"E":l[b[1]]=h,f[h]=0,m[h]=0,++h;break;default:e("Parse error "+numeric.prettyPrint(b))}break;case 3:p.hasOwnProperty(b[0])||(p[b[0]]=d,g[d]=0,v[d]=numeric.rep([h],0),++d);var w=p[b[0]];for(r=1;r<b.length;r+=2)if(b[r]!==c){var x=l[b[r]];v[w][x]=(f[x]<0?-1:1)*parseFloat(b[r+1])}else g[w]=parseFloat(b[r+1]);break;case 4:for(r=1;r<b.length;r+=2)m[l[b[r]]]=(f[l[b[r]]]<0?-1:1)*parseFloat(b[r+1]);break;case 5:break;case 6:e("Internal error")}}}e("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,n,r,i,o,a){function u(t){var e,r,i=this,o=t.length,a=0,u=i.i=i.j=i.m=0;for(i.S=[],i.c=[],o||(t=[o++]);a<n;)i.S[a]=a++;for(a=0;a<n;a++)e=i.S[a],u=l(u+e+t[a%o]),r=i.S[u],i.S[a]=r,i.S[u]=e;i.g=function(t){var e=i.S,r=l(i.i+1),o=e[r],a=l(i.j+o),u=e[a];e[r]=u,e[a]=o;for(var s=e[l(o+u)];--t;)r=l(r+1),o=e[r],a=l(a+o),u=e[a],e[r]=u,e[a]=o,s=s*n+e[l(o+u)];return i.i=r,i.j=a,s},i.g(n)}function s(t,e,n,r,i){if(n=[],i=typeof t,e&&"object"==i)for(r in t)if(r.indexOf("S")<5)try{n.push(s(t[r],e-1))}catch(o){}return n.length?n:t+("string"!=i?"\0":"")}function c(t,e,n,r){for(t+="",n=0,r=0;r<t.length;r++)e[l(r)]=l((n^=19*e[l(r)])+t.charCodeAt(r));t="";for(r in e)t+=String.fromCharCode(e[r]);return t}function l(t){return t&n-1}e.seedrandom=function(l,f){var h,p=[];return l=c(s(f?[l,t]:arguments.length?l:[(new Date).getTime(),t,window],3),p),h=new u(p),c(h.S,t),e.random=function(){for(var t=h.g(r),e=a,u=0;t<i;)t=(t+u)*n,e*=n,u=h.g(1);for(;t>=o;)t/=2,e/=2,u>>>=1;return(t+u)/e},l},a=e.pow(n,r),i=e.pow(2,i),o=2*i,c(e.random(),t)}([],numeric.seedrandom,256,6,52),function(t){function e(t){if("object"!=typeof t)return t;var n,r=[],i=t.length;for(n=0;n<i;n++)r[n+1]=e(t[n]);return r}function n(t){if("object"!=typeof t)return t;var e,r=[],i=t.length;for(e=1;e<i;e++)r[e-1]=n(t[e]);return r}function r(t,e,n){var r,i,o,a,u;for(o=1;o<=n;o+=1){for(t[o][o]=1/t[o][o],u=-t[o][o],r=1;r<o;r+=1)t[r][o]=u*t[r][o];if(a=o+1,n<a)break;for(i=a;i<=n;i+=1)for(u=t[o][i],t[o][i]=0,r=1;r<=o;r+=1)t[r][i]=t[r][i]+u*t[r][o]}}function i(t,e,n,r){var i,o,a,u;for(o=1;o<=n;o+=1){for(u=0,i=1;i<o;i+=1)u+=t[i][o]*r[i];r[o]=(r[o]-u)/t[o][o]}for(a=1;a<=n;a+=1)for(o=n+1-a,r[o]=r[o]/t[o][o],u=-r[o],i=1;i<o;i+=1)r[i]=r[i]+u*t[i][o]}function o(t,e,n,r){var i,o,a,u,s,c;for(o=1;o<=n;o+=1){if(r[1]=o,c=0,a=o-1,a<1){if(c=t[o][o]-c,c<=0)break;t[o][o]=Math.sqrt(c)}else{for(u=1;u<=a;u+=1){for(s=t[u][o],i=1;i<u;i+=1)s-=t[i][o]*t[i][u];s/=t[u][u],t[u][o]=s,c+=s*s}if(c=t[o][o]-c,c<=0)break;t[o][o]=Math.sqrt(c)}r[1]=0}}function a(t,e,n,a,u,s,c,l,f,h,p,d,g,v,m,y){function b(){for(v[1]=v[1]+1,k=O,M=1;M<=h;M+=1){for(k+=1,B=-l[M],S=1;S<=a;S+=1)B+=c[S][M]*u[S];if(Math.abs(B)<X&&(B=0),M>p)m[k]=B;else if(m[k]=-Math.abs(B),B>0){for(S=1;S<=a;S+=1)c[S][M]=-c[S][M];l[M]=-l[M]}}for(M=1;M<=g;M+=1)m[O+d[M]]=0;for(I=0,F=0,M=1;M<=h;M+=1)m[O+M]<F*m[j+M]&&(I=M,F=m[O+M]/m[j+M]);return 0===I?999:0}function w(){for(M=1;M<=a;M+=1){for(B=0,S=1;S<=a;S+=1)B+=t[S][M]*c[S][I];m[M]=B}for(E=N,M=1;M<=a;M+=1)m[E+M]=0;for(S=g+1;S<=a;S+=1)for(M=1;M<=a;M+=1)m[E+M]=m[E+M]+t[M][S]*m[S];for(q=!0,M=g;M>=1;M-=1){for(B=m[M],k=D+M*(M+3)/2,E=k-M,S=M+1;S<=g;S+=1)B-=m[k]*m[P+S],k+=S;if(B/=m[E],m[P+M]=B,d[M]<p)break;if(B<0)break;q=!1,A=M}if(!q)for(U=m[R+A]/m[P+A],M=1;M<=g&&!(d[M]<p)&&!(m[P+M]<0);M+=1)F=m[R+M]/m[P+M],F<U&&(U=F,A=M);for(B=0,M=N+1;M<=N+a;M+=1)B+=m[M]*m[M];if(Math.abs(B)<=X){if(q)return y[1]=1,999;for(M=1;M<=g;M+=1)m[R+M]=m[R+M]-U*m[P+M];return m[R+g+1]=m[R+g+1]+U,700}for(B=0,M=1;M<=a;M+=1)B+=m[N+M]*c[M][I];for(W=-m[O+I]/B,Y=!0,q||U<W&&(W=U,Y=!1),M=1;M<=a;M+=1)u[M]=u[M]+W*m[N+M],Math.abs(u[M])<X&&(u[M]=0);for(s[1]=s[1]+W*B*(W/2+m[R+g+1]),M=1;M<=g;M+=1)m[R+M]=m[R+M]-W*m[P+M];if(m[R+g+1]=m[R+g+1]+W,!Y){for(B=-l[I],S=1;S<=a;S+=1)B+=u[S]*c[S][I];if(I>p)m[O+I]=B;else if(m[O+I]=-Math.abs(B),B>0){for(S=1;S<=a;S+=1)c[S][I]=-c[S][I];l[I]=-l[I]}return 700}for(g+=1,d[g]=I,k=D+(g-1)*g/2+1,M=1;M<=g-1;M+=1)m[k]=m[M],k+=1;if(g===a)m[k]=m[a];else{for(M=a;M>=g+1&&0!==m[M]&&(H=Math.max(Math.abs(m[M-1]),Math.abs(m[M])),z=Math.min(Math.abs(m[M-1]),Math.abs(m[M])),F=m[M-1]>=0?Math.abs(H*Math.sqrt(1+z*z/(H*H))):-Math.abs(H*Math.sqrt(1+z*z/(H*H))),H=m[M-1]/F,z=m[M]/F,1!==H);M-=1)if(0===H)for(m[M-1]=z*F,S=1;S<=a;S+=1)F=t[S][M-1],t[S][M-1]=t[S][M],t[S][M]=F;else for(m[M-1]=F,V=z/(1+H),S=1;S<=a;S+=1)F=H*t[S][M-1]+z*t[S][M],t[S][M]=V*(t[S][M-1]+F)-t[S][M],t[S][M-1]=F;m[k]=m[g]}return 0}function x(){if(k=D+A*(A+1)/2+1,E=k+A,0===m[E])return 798;if(H=Math.max(Math.abs(m[E-1]),Math.abs(m[E])),z=Math.min(Math.abs(m[E-1]),Math.abs(m[E])),F=m[E-1]>=0?Math.abs(H*Math.sqrt(1+z*z/(H*H))):-Math.abs(H*Math.sqrt(1+z*z/(H*H))),H=m[E-1]/F,z=m[E]/F,1===H)return 798;if(0===H){for(M=A+1;M<=g;M+=1)F=m[E-1],m[E-1]=m[E],m[E]=F,E+=M;for(M=1;M<=a;M+=1)F=t[M][A],t[M][A]=t[M][A+1],t[M][A+1]=F}else{for(V=z/(1+H),M=A+1;M<=g;M+=1)F=H*m[E-1]+z*m[E],m[E]=V*(m[E-1]+F)-m[E],m[E-1]=F,E+=M;for(M=1;M<=a;M+=1)F=H*t[M][A]+z*t[M][A+1],t[M][A+1]=V*(t[M][A]+F)-t[M][A+1],t[M][A]=F}return 0}function _(){for(E=k-A,M=1;M<=A;M+=1)m[E]=m[k],k+=1,E+=1;return m[R+A]=m[R+A+1],d[A]=d[A+1],A+=1,A<g?797:0}function C(){return m[R+g]=m[R+g+1],m[R+g+1]=0,d[g]=0,g-=1,v[2]=v[2]+1,0}var M,S,k,E,T,A,N,P,D,O,R,I,L,j,F,B,U,W,H,z,V,q,Y,X,K,G,Q;L=Math.min(a,h),k=2*a+L*(L+5)/2+2*h+1,X=1e-60;do X+=X,K=1+.1*X,G=1+.2*X;while(K<=1||G<=1);for(M=1;M<=a;M+=1)m[M]=e[M];for(M=a+1;M<=k;M+=1)m[M]=0;for(M=1;M<=h;M+=1)d[M]=0;if(T=[],0===y[1]){if(o(t,n,a,T),0!==T[1])return void(y[1]=2);i(t,n,a,e),r(t,n,a)}else{for(S=1;S<=a;S+=1)for(u[S]=0,M=1;M<=S;M+=1)u[S]=u[S]+t[M][S]*e[M];for(S=1;S<=a;S+=1)for(e[S]=0,M=S;M<=a;M+=1)e[S]=e[S]+t[S][M]*u[M]}for(s[1]=0,S=1;S<=a;S+=1)for(u[S]=e[S],s[1]=s[1]+m[S]*u[S],m[S]=0,M=S+1;M<=a;M+=1)t[M][S]=0;for(s[1]=-s[1]/2,y[1]=0,N=a,P=N+a,R=P+L,D=R+L+1,O=D+L*(L+1)/2,j=O+h,M=1;M<=h;M+=1){for(B=0,S=1;S<=a;S+=1)B+=c[S][M]*c[S][M];m[j+M]=Math.sqrt(B)}for(g=0,v[1]=0,v[2]=0,Q=0;;){if(Q=b(),999===Q)return;for(;;){if(Q=w(),0===Q)break;if(999===Q)return;if(700===Q)if(A===g)C();else{for(;;)if(x(),Q=_(),797!==Q)break;C()}}}}function u(t,r,i,o,u,s){t=e(t),r=e(r),i=e(i);var c,l,f,h,p,d,g=[],v=[],m=[],y=[],b=[];if(u=u||0,s=s?e(s):[void 0,0],o=o?e(o):[],l=t.length-1,f=i[1].length-1,!o)for(c=1;c<=f;c+=1)o[c]=0;for(c=1;c<=f;c+=1)v[c]=0;for(h=0,p=Math.min(l,f),c=1;c<=l;c+=1)m[c]=0;for(g[1]=0,c=1;c<=2*l+p*(p+5)/2+2*f+1;c+=1)y[c]=0;for(c=1;c<=2;c+=1)b[c]=0;return a(t,r,l,l,m,g,i,o,l,f,u,v,h,b,y,s),d="",1===s[1]&&(d="constraints are inconsistent, no solution!"),2===s[1]&&(d="matrix D in quadratic function is not positive definite!"),{solution:n(m),value:n(g),unconstrained_solution:n(r),iterations:n(b),iact:n(v),message:d}}t.solveQP=u}(numeric),numeric.svd=function(t){function e(t,e){return t=Math.abs(t),e=Math.abs(e),t>e?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var n,r=numeric.epsilon,i=1e-64/r,o=50,a=0,u=0,s=0,c=0,l=0,f=numeric.clone(t),h=f.length,p=f[0].length;if(h<p)throw"Need more rows than columns";var d=new Array(p),g=new Array(p);for(u=0;u<p;u++)d[u]=g[u]=0;var v=numeric.rep([p,p],0),m=0,y=0,b=0,w=0,x=0,_=0,C=0;for(u=0;u<p;u++){for(d[u]=y,C=0,l=u+1,s=u;s<h;s++)C+=f[s][u]*f[s][u];if(C<=i)y=0;else for(m=f[u][u],y=Math.sqrt(C),m>=0&&(y=-y),b=m*y-C,f[u][u]=m-y,s=l;s<p;s++){for(C=0,c=u;c<h;c++)C+=f[c][u]*f[c][s];for(m=C/b,c=u;c<h;c++)f[c][s]+=m*f[c][u]}for(g[u]=y,C=0,s=l;s<p;s++)C+=f[u][s]*f[u][s];if(C<=i)y=0;else{for(m=f[u][u+1],y=Math.sqrt(C),m>=0&&(y=-y),b=m*y-C,f[u][u+1]=m-y,s=l;s<p;s++)d[s]=f[u][s]/b;for(s=l;s<h;s++){for(C=0,c=l;c<p;c++)C+=f[s][c]*f[u][c];for(c=l;c<p;c++)f[s][c]+=C*d[c]}}x=Math.abs(g[u])+Math.abs(d[u]),x>w&&(w=x)}for(u=p-1;u!=-1;u+=-1){if(0!=y){for(b=y*f[u][u+1],s=l;s<p;s++)v[s][u]=f[u][s]/b;for(s=l;s<p;s++){for(C=0,c=l;c<p;c++)C+=f[u][c]*v[c][s];for(c=l;c<p;c++)v[c][s]+=C*v[c][u]}}for(s=l;s<p;s++)v[u][s]=0,v[s][u]=0;v[u][u]=1,y=d[u],l=u}for(u=p-1;u!=-1;u+=-1){for(l=u+1,y=g[u],s=l;s<p;s++)f[u][s]=0;if(0!=y){for(b=f[u][u]*y,s=l;s<p;s++){for(C=0,c=l;c<h;c++)C+=f[c][u]*f[c][s];for(m=C/b,c=u;c<h;c++)f[c][s]+=m*f[c][u]}for(s=u;s<h;s++)f[s][u]=f[s][u]/y}else for(s=u;s<h;s++)f[s][u]=0;f[u][u]+=1}for(r*=w,c=p-1;c!=-1;c+=-1)for(var M=0;M<o;M++){var S=!1;for(l=c;l!=-1;l+=-1){if(Math.abs(d[l])<=r){S=!0;break}if(Math.abs(g[l-1])<=r)break}if(!S){a=0,C=1;var k=l-1;for(u=l;u<c+1&&(m=C*d[u],d[u]=a*d[u],!(Math.abs(m)<=r));u++)for(y=g[u],b=e(m,y),g[u]=b,a=y/b,C=-m/b,s=0;s<h;s++)x=f[s][k],_=f[s][u],f[s][k]=x*a+_*C,f[s][u]=-x*C+_*a}if(_=g[c],l==c){if(_<0)for(g[c]=-_,s=0;s<p;s++)v[s][c]=-v[s][c];break}if(M>=o-1)throw"Error: no convergence.";for(w=g[l],x=g[c-1],y=d[c-1],b=d[c],m=((x-_)*(x+_)+(y-b)*(y+b))/(2*b*x),y=e(m,1),m=m<0?((w-_)*(w+_)+b*(x/(m-y)-b))/w:((w-_)*(w+_)+b*(x/(m+y)-b))/w,a=1,C=1,u=l+1;u<c+1;u++){for(y=d[u],x=g[u],b=C*y,y=a*y,_=e(m,b),d[u-1]=_,a=m/_,C=b/_,m=w*a+y*C,y=-w*C+y*a,b=x*C,x*=a,s=0;s<p;s++)w=v[s][u-1],_=v[s][u],v[s][u-1]=w*a+_*C,v[s][u]=-w*C+_*a;for(_=e(m,b),g[u-1]=_,a=m/_,C=b/_,m=a*y+C*x,w=-C*y+a*x,s=0;s<h;s++)x=f[s][u-1],_=f[s][u],f[s][u-1]=x*a+_*C,f[s][u]=-x*C+_*a}d[l]=0,d[c]=m,g[c]=w}for(u=0;u<g.length;u++)g[u]<r&&(g[u]=0);for(u=0;u<p;u++)for(s=u-1;s>=0;s--)if(g[s]<g[u]){for(a=g[s],g[s]=g[u],g[u]=a,c=0;c<f.length;c++)n=f[c][u],f[c][u]=f[c][s],f[c][s]=n;for(c=0;c<v.length;c++)n=v[c][u],v[c][u]=v[c][s],v[c][s]=n;u=s}return{U:f,S:g,V:v}}}).call(exports,function(){return this}())},function(t,e,n){(function(e,n){/*!
	 *
	 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
	 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
	 *
	 * With parts by Tyler Close
	 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
	 * at http://www.opensource.org/licenses/mit-license.html
	 * Forked at ref_send.js version: 2009-05-11
	 *
	 * With parts by Mark Miller
	 * Copyright (C) 2011 Google Inc.
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 *
	 */
!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else{t.exports=e()}}(function(){"use strict";function t(t){return function(){return Q.apply(t,arguments)}}function r(t){return t===Object(t)}function i(t){return"[object StopIteration]"===it(t)||t instanceof Y}function o(t,e){if(z&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(ot)===-1){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var i=n.join("\n"+ot+"\n");t.stack=a(i)}}function a(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;++r){var i=e[r];c(i)||u(i)||!i||n.push(i)}return n.join("\n")}function u(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function c(t){var e=s(t);if(!e)return!1;var n=e[0],r=e[1];return n===q&&r>=X&&r<=lt}function l(){if(z)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=s(n);if(!r)return;return q=r[0],r[1]}}function f(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}function h(t){return t instanceof v?t:w(t)?A(t):T(t)}function p(){function t(t){e=t,o.source=t,J(n,function(e,n){h.nextTick(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,r=void 0}var e,n=[],r=[],i=et(p.prototype),o=et(v.prototype);if(o.promiseDispatch=function(t,i,o){var a=Z(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):h.nextTick(function(){e.promiseDispatch.apply(e,a)})},o.valueOf=function(){if(n)return o;var t=y(e);return b(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},h.longStackSupport&&z)try{throw new Error}catch(a){o.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(n){e||t(h(n))},i.fulfill=function(n){e||t(T(n))},i.reject=function(n){e||t(E(n))},i.notify=function(t){e||J(r,function(e,n){h.nextTick(function(){n(t)})},void 0)},i}function d(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=p();try{t(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}return e.promise}function g(t){return d(function(e,n){for(var r=0,i=t.length;r<i;r++)h(t[r]).then(e,n)})}function v(t,e,n){void 0===e&&(e=function(t){return E(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=et(v.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=t[i]?t[i].apply(r,o):e.call(r,i,o)}catch(u){a=E(u)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function m(t,e,n,r){return h(t).then(e,n,r)}function y(t){if(b(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function b(t){return t instanceof v}function w(t){return r(t)&&"function"==typeof t.then}function x(t){return b(t)&&"pending"===t.inspect().state}function _(t){return!b(t)||"fulfilled"===t.inspect().state}function C(t){return b(t)&&"rejected"===t.inspect().state}function M(){at.length=0,ut.length=0,ct||(ct=!0)}function S(t,n){ct&&("object"==typeof e&&"function"==typeof e.emit&&h.nextTick.runAfter(function(){$(ut,t)!==-1&&(e.emit("unhandledRejection",n,t),st.push(t))}),ut.push(t),n&&"undefined"!=typeof n.stack?at.push(n.stack):at.push("(no stack) "+n))}function k(t){if(ct){var n=$(ut,t);n!==-1&&("object"==typeof e&&"function"==typeof e.emit&&h.nextTick.runAfter(function(){var r=$(st,t);r!==-1&&(e.emit("rejectionHandled",at[n],t),st.splice(r,1))}),ut.splice(n,1),at.splice(n,1))}}function E(t){var e=v({when:function(e){return e&&k(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return S(e,t),e}function T(t){return v({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},"delete":function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return rt(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function A(t){var e=p();return h.nextTick(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function N(t){return v({isDef:function(){}},function(e,n){return L(t,e,n)},function(){return h(t).inspect()})}function P(t,e,n){return h(t).spread(e,n)}function D(t){return function(){function e(t,e){var a;if("undefined"==typeof StopIteration){try{a=n[t](e)}catch(u){return E(u)}return a.done?h(a.value):m(a.value,r,o)}try{a=n[t](e)}catch(u){return i(u)?h(u.value):E(u)}return m(a,r,o)}var n=t.apply(this,arguments),r=e.bind(e,"next"),o=e.bind(e,"throw");return r()}}function O(t){h.done(h.async(t)())}function R(t){throw new Y(t)}function I(t){return function(){return P([this,j(arguments)],function(e,n){return t.apply(e,n)})}}function L(t,e,n){return h(t).dispatch(e,n)}function j(t){return m(t,function(t){var e=0,n=p();return J(t,function(r,i,o){var a;b(i)&&"fulfilled"===(a=i.inspect()).state?t[o]=a.value:(++e,m(i,function(r){t[o]=r,0===--e&&n.resolve(t)},n.reject,function(t){n.notify({index:o,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function F(t){if(0===t.length)return h.resolve();var e=h.defer(),n=0;return J(t,function(r,i,o){function a(t){e.resolve(t)}function u(){n--,0===n&&e.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function s(t){e.notify({index:o,value:t})}var c=t[o];n++,m(c,a,u,s)},void 0),e.promise}function B(t){return m(t,function(t){return t=tt(t,h),m(j(tt(t,function(t){return m(t,K,K)})),function(){return t})})}function U(t){return h(t).allSettled()}function W(t,e){return h(t).then(void 0,void 0,e)}function H(t,e){return h(t).nodeify(e)}var z=!1;try{throw new Error}catch(V){z=!!V.stack}var q,Y,X=l(),K=function(){},G=function(){function t(){for(var t,e;i.next;)i=i.next,t=i.task,i.task=void 0,e=i.domain,e&&(i.domain=void 0,e.enter()),r(t,e);for(;c.length;)t=c.pop(),r(t);a=!1}function r(e,n){try{e()}catch(r){if(s)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),r;setTimeout(function(){throw r},0)}n&&n.exit()}var i={task:void 0,next:null},o=i,a=!1,u=void 0,s=!1,c=[];if(G=function(t){o=o.next={task:t,domain:s&&e.domain,next:null},a||(a=!0,u())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)s=!0,u=function(){e.nextTick(t)};else if("function"==typeof n)u="undefined"!=typeof window?n.bind(window,t):function(){n(t)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=function(){u=f,l.port1.onmessage=t,t()};var f=function(){l.port2.postMessage(0)};u=function(){setTimeout(t,0),f()}}else u=function(){setTimeout(t,0)};return G.runAfter=function(t){c.push(t),a||(a=!0,u())},G}(),Q=Function.call,Z=t(Array.prototype.slice),J=t(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(e=t(e,this[n],n));return e}),$=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),tt=t(Array.prototype.map||function(t,e){var n=this,r=[];return J(n,function(i,o,a){r.push(t.call(e,o,a,n))},void 0),r}),et=Object.create||function(t){function e(){}return e.prototype=t,new e},nt=t(Object.prototype.hasOwnProperty),rt=Object.keys||function(t){var e=[];for(var n in t)nt(t,n)&&e.push(n);return e},it=t(Object.prototype.toString);Y="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var ot="From previous event:";h.resolve=h,h.nextTick=G,h.longStackSupport=!1,"object"==typeof e&&e&&{NODE_ENV:"production"}.Q_DEBUG&&(h.longStackSupport=!0),h.defer=p,p.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(Z(arguments,1)):t.resolve(n)}},h.Promise=d,h.promise=d,d.race=g,d.all=j,d.reject=E,d.resolve=h,h.passByCopy=function(t){return t},v.prototype.passByCopy=function(){return this},h.join=function(t,e){return h(t).join(e)},v.prototype.join=function(t){return h([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Can't join: not the same: "+t+" "+e)})},h.race=g,v.prototype.race=function(){return this.then(h.race)},h.makePromise=v,v.prototype.toString=function(){return"[object Promise]"},v.prototype.then=function(t,e,n){function r(e){try{return"function"==typeof t?t(e):e}catch(n){return E(n)}}function i(t){if("function"==typeof e){o(t,u);try{return e(t)}catch(n){return E(n)}}return E(t)}function a(t){return"function"==typeof n?n(t):t}var u=this,s=p(),c=!1;return h.nextTick(function(){u.promiseDispatch(function(t){c||(c=!0,s.resolve(r(t)))},"when",[function(t){c||(c=!0,s.resolve(i(t)))}])}),u.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=a(t)}catch(r){if(n=!0,!h.onerror)throw r;h.onerror(r)}n||s.notify(e)}]),s.promise},h.tap=function(t,e){return h(t).tap(e)},v.prototype.tap=function(t){return t=h(t),this.then(function(e){return t.fcall(e).thenResolve(e)})},h.when=m,v.prototype.thenResolve=function(t){return this.then(function(){return t})},h.thenResolve=function(t,e){return h(t).thenResolve(e)},v.prototype.thenReject=function(t){return this.then(function(){throw t})},h.thenReject=function(t,e){return h(t).thenReject(e)},h.nearer=y,h.isPromise=b,h.isPromiseAlike=w,h.isPending=x,v.prototype.isPending=function(){return"pending"===this.inspect().state},h.isFulfilled=_,v.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},h.isRejected=C,v.prototype.isRejected=function(){return"rejected"===this.inspect().state};var at=[],ut=[],st=[],ct=!0;h.resetUnhandledRejections=M,h.getUnhandledReasons=function(){return at.slice()},h.stopUnhandledRejectionTracking=function(){M(),ct=!1},M(),h.reject=E,h.fulfill=T,h.master=N,h.spread=P,v.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},h.async=D,h.spawn=O,h["return"]=R,h.promised=I,h.dispatch=L,v.prototype.dispatch=function(t,e){var n=this,r=p();return h.nextTick(function(){n.promiseDispatch(r.resolve,t,e)}),r.promise},h.get=function(t,e){return h(t).dispatch("get",[e])},v.prototype.get=function(t){return this.dispatch("get",[t])},h.set=function(t,e,n){return h(t).dispatch("set",[e,n])},v.prototype.set=function(t,e){return this.dispatch("set",[t,e])},h.del=h["delete"]=function(t,e){return h(t).dispatch("delete",[e])},v.prototype.del=v.prototype["delete"]=function(t){return this.dispatch("delete",[t])},h.mapply=h.post=function(t,e,n){return h(t).dispatch("post",[e,n])},v.prototype.mapply=v.prototype.post=function(t,e){return this.dispatch("post",[t,e])},h.send=h.mcall=h.invoke=function(t,e){return h(t).dispatch("post",[e,Z(arguments,2)])},v.prototype.send=v.prototype.mcall=v.prototype.invoke=function(t){return this.dispatch("post",[t,Z(arguments,1)])},h.fapply=function(t,e){return h(t).dispatch("apply",[void 0,e])},v.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},h["try"]=h.fcall=function(t){return h(t).dispatch("apply",[void 0,Z(arguments,1)])},v.prototype.fcall=function(){return this.dispatch("apply",[void 0,Z(arguments)])},h.fbind=function(t){var e=h(t),n=Z(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(Z(arguments))])}},v.prototype.fbind=function(){var t=this,e=Z(arguments);return function(){return t.dispatch("apply",[this,e.concat(Z(arguments))])}},h.keys=function(t){return h(t).dispatch("keys",[])},v.prototype.keys=function(){return this.dispatch("keys",[])},h.all=j,v.prototype.all=function(){return j(this)},h.any=F,v.prototype.any=function(){return F(this)},h.allResolved=f(B,"allResolved","allSettled"),v.prototype.allResolved=function(){return B(this)},h.allSettled=U,v.prototype.allSettled=function(){return this.then(function(t){return j(tt(t,function(t){function e(){return t.inspect()}return t=h(t),t.then(e,e)}))})},h.fail=h["catch"]=function(t,e){return h(t).then(void 0,e)},v.prototype.fail=v.prototype["catch"]=function(t){return this.then(void 0,t)},h.progress=W,v.prototype.progress=function(t){return this.then(void 0,void 0,t)},h.fin=h["finally"]=function(t,e){return h(t)["finally"](e)},v.prototype.fin=v.prototype["finally"]=function(t){return t=h(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},h.done=function(t,e,n,r){return h(t).done(e,n,r)},v.prototype.done=function(t,n,r){var i=function(t){h.nextTick(function(){if(o(t,a),!h.onerror)throw t;h.onerror(t)})},a=t||n||r?this.then(t,n,r):this;"object"==typeof e&&e&&e.domain&&(i=e.domain.bind(i)),a.then(void 0,i)},h.timeout=function(t,e,n){return h(t).timeout(e,n)},v.prototype.timeout=function(t,e){var n=p(),r=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),n.reject(e)},t);return this.then(function(t){clearTimeout(r),n.resolve(t)},function(t){clearTimeout(r),n.reject(t)},n.notify),n.promise},h.delay=function(t,e){return void 0===e&&(e=t,t=void 0),h(t).delay(e)},v.prototype.delay=function(t){return this.then(function(e){var n=p();return setTimeout(function(){n.resolve(e)},t),n.promise})},h.nfapply=function(t,e){return h(t).nfapply(e)},v.prototype.nfapply=function(t){var e=p(),n=Z(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},h.nfcall=function(t){var e=Z(arguments,1);return h(t).nfapply(e)},v.prototype.nfcall=function(){var t=Z(arguments),e=p();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},h.nfbind=h.denodeify=function(t){var e=Z(arguments,1);return function(){var n=e.concat(Z(arguments)),r=p();return n.push(r.makeNodeResolver()),h(t).fapply(n).fail(r.reject),r.promise}},v.prototype.nfbind=v.prototype.denodeify=function(){var t=Z(arguments);return t.unshift(this),h.denodeify.apply(void 0,t)},h.nbind=function(t,e){var n=Z(arguments,2);return function(){function r(){return t.apply(e,arguments)}var i=n.concat(Z(arguments)),o=p();return i.push(o.makeNodeResolver()),h(r).fapply(i).fail(o.reject),o.promise}},v.prototype.nbind=function(){var t=Z(arguments,0);return t.unshift(this),h.nbind.apply(void 0,t)},h.nmapply=h.npost=function(t,e,n){return h(t).npost(e,n)},v.prototype.nmapply=v.prototype.npost=function(t,e){var n=Z(e||[]),r=p();return n.push(r.makeNodeResolver()),this.dispatch("post",[t,n]).fail(r.reject),r.promise},h.nsend=h.nmcall=h.ninvoke=function(t,e){var n=Z(arguments,2),r=p();return n.push(r.makeNodeResolver()),h(t).dispatch("post",[e,n]).fail(r.reject),r.promise},v.prototype.nsend=v.prototype.nmcall=v.prototype.ninvoke=function(t){var e=Z(arguments,1),n=p();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},h.nodeify=H,v.prototype.nodeify=function(t){return t?void this.then(function(e){h.nextTick(function(){t(null,e)})},function(e){h.nextTick(function(){t(e)})}):this},h.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var lt=l();return h})}).call(e,n(46),n(66).setImmediate)},function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){i.forEach(function(e){r[n(e,t)]=r[t]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:o};t.exports=a},function(t,e,n){"use strict";function r(t,e,n){var r=n>=t.childNodes.length?null:t.childNodes.item(n);t.insertBefore(e,r)}var i=n(182),o=n(99),a=n(12),u=n(41),s=n(62),c=n(1),l={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(t,e){for(var n,a=null,l=null,f=0;f<t.length;f++)if(n=t[f],n.type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var h=n.fromIndex,p=n.parentNode.childNodes[h],d=n.parentID;p?void 0:c(!1),a=a||{},a[d]=a[d]||[],a[d][h]=p,l=l||[],l.push(p)}var g;if(g=e.length&&"string"==typeof e[0]?i.dangerouslyRenderMarkup(e):e,l)for(var v=0;v<l.length;v++)l[v].parentNode.removeChild(l[v]);for(var m=0;m<t.length;m++)switch(n=t[m],n.type){case o.INSERT_MARKUP:r(n.parentNode,g[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:r(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case o.SET_MARKUP:u(n.parentNode,n.content);break;case o.TEXT_CONTENT:s(n.parentNode,n.content);break;case o.REMOVE_NODE:}}};a.measureMethods(l,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),t.exports=l},function(t,e,n){"use strict";function r(){if(u)for(var t in s){var e=s[t],n=u.indexOf(t);if(n>-1?void 0:a(!1),!c.plugins[n]){e.extractEvents?void 0:a(!1),c.plugins[n]=e;var r=e.eventTypes;for(var o in r)i(r[o],e,o)?void 0:a(!1)}}}function i(t,e,n){c.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,c.eventNameDispatchConfigs[n]=t;var r=t.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var u=r[i];o(u,e,n)}return!0}return!!t.registrationName&&(o(t.registrationName,e,n),!0)}function o(t,e,n){c.registrationNameModules[t]?a(!1):void 0,c.registrationNameModules[t]=e,c.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var a=n(1),u=null,s={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){u?a(!1):void 0,u=Array.prototype.slice.call(t),r()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];s.hasOwnProperty(n)&&s[n]===i||(s[n]?a(!1):void 0,s[n]=i,e=!0)}e&&r()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return c.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){u=null;for(var t in s)s.hasOwnProperty(t)&&delete s[t];c.plugins.length=0;var e=c.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=c.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.exports=c},function(t,e,n){"use strict";function r(t){return(""+t).replace(w,"//")}function i(t,e){this.func=t,this.context=e,this.count=0}function o(t,e,n){var r=t.func,i=t.context;r.call(i,e,t.count++)}function a(t,e,n){if(null==t)return t;var r=i.getPooled(e,n);m(t,o,r),i.release(r)}function u(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function s(t,e,n){var i=t.result,o=t.keyPrefix,a=t.func,u=t.context,s=a.call(u,e,t.count++);Array.isArray(s)?c(s,i,n,v.thatReturnsArgument):null!=s&&(g.isValidElement(s)&&(s=g.cloneAndReplaceKey(s,o+(s!==e?r(s.key||"")+"/":"")+n)),i.push(s))}function c(t,e,n,i,o){var a="";null!=n&&(a=r(n)+"/");var c=u.getPooled(e,a,i,o);m(t,s,c),u.release(c)}function l(t,e,n){if(null==t)return t;var r=[];return c(t,r,null,e,n),r}function f(t,e,n){return null}function h(t,e){return m(t,f,null)}function p(t){var e=[];return c(t,e,null,v.thatReturnsArgument),e}var d=n(20),g=n(10),v=n(14),m=n(64),y=d.twoArgumentPooler,b=d.fourArgumentPooler,w=/\/(?!\/)/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(i,y),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(u,b);var x={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:h,toArray:p};t.exports=x},function(t,e,n){"use strict";function r(t,e){var n=_.hasOwnProperty(e)?_[e]:null;M.hasOwnProperty(e)&&(n!==w.OVERRIDE_BASE?v(!1):void 0),t.hasOwnProperty(e)&&(n!==w.DEFINE_MANY&&n!==w.DEFINE_MANY_MERGED?v(!1):void 0)}function i(t,e){if(e){"function"==typeof e?v(!1):void 0,h.isValidElement(e)?v(!1):void 0;var n=t.prototype;e.hasOwnProperty(b)&&C.mixins(t,e.mixins);for(var i in e)if(e.hasOwnProperty(i)&&i!==b){var o=e[i];if(r(n,i),C.hasOwnProperty(i))C[i](t,o);else{var a=_.hasOwnProperty(i),c=n.hasOwnProperty(i),l="function"==typeof o,f=l&&!a&&!c&&e.autobind!==!1;if(f)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=o,n[i]=o;else if(c){var p=_[i];!a||p!==w.DEFINE_MANY_MERGED&&p!==w.DEFINE_MANY?v(!1):void 0,p===w.DEFINE_MANY_MERGED?n[i]=u(n[i],o):p===w.DEFINE_MANY&&(n[i]=s(n[i],o))}else n[i]=o}}}}function o(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in C;i?v(!1):void 0;var o=n in t;o?v(!1):void 0,t[n]=r}}}function a(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:v(!1);for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?v(!1):void 0,t[n]=e[n]);return t}function u(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function s(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(t,e){var n=e.bind(t);return n}function l(t){for(var e in t.__reactAutoBindMap)if(t.__reactAutoBindMap.hasOwnProperty(e)){var n=t.__reactAutoBindMap[e];t[e]=c(t,n)}}var f=n(86),h=n(10),p=(n(36),n(35),n(101)),d=n(4),g=n(27),v=n(1),m=n(33),y=n(19),b=(n(3),y({mixins:null})),w=m({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],_={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},C={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)i(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=d({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=d({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=u(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=d({},t.propTypes,e)},statics:function(t,e){o(t,e)},autobind:function(){}},M={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(t,e){this.updater.enqueueSetProps(this,t),e&&this.updater.enqueueCallback(this,e)},replaceProps:function(t,e){this.updater.enqueueReplaceProps(this,t),e&&this.updater.enqueueCallback(this,e)}},S=function(){};d(S.prototype,f.prototype,M);var k={createClass:function(t){var e=function(t,e,n){this.__reactAutoBindMap&&l(this),this.props=t,this.context=e,this.refs=g,this.updater=n||p,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?v(!1):void 0,this.state=r};e.prototype=new S,e.prototype.constructor=e,x.forEach(i.bind(null,e)),i(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:v(!1);for(var n in _)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){x.push(t)}}};t.exports=k},function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=o,this.updater=n||i}var i=n(101),o=(n(39),n(27)),a=n(1);n(3);r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?a(!1):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e)},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t)};t.exports=r},function(t,e,n){"use strict";var r=n(18),i=n(90),o=n(92),a=n(24),u=n(9),s=n(12),c=n(21),l=n(13),f=n(54),h=n(55),p=n(231);n(3);o.inject();var d=s.measure("React","render",u.render),g={findDOMNode:h,render:d,unmountComponentAtNode:u.unmountComponentAtNode,version:f,unstable_batchedUpdates:l.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:a,Mount:u,Reconciler:c,TextComponent:i});t.exports=g},function(t,e){"use strict";var n={useCreateElement:!1};t.exports=n},function(t,e,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=a.getValue(t);null!=e&&i(this,Boolean(t.multiple),e)}}function i(t,e,n){var r,i,o=u.getNode(t._rootNodeID).options;if(e){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(t){var e=this._currentElement.props,n=a.executeOnChange(e,t);return this._wrapperState.pendingUpdate=!0,s.asap(r,this),n}var a=n(49),u=n(9),s=n(13),c=n(4),l=(n(3),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),f={valueContextKey:l,getNativeProps:function(t,e,n){return c({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=a.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,onChange:o.bind(t),wasMultiple:Boolean(e.multiple)}},processChildContext:function(t,e,n){var r=c({},n);return r[l]=t._wrapperState.initialValue,r},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var r=a.getValue(e);null!=r?(t._wrapperState.pendingUpdate=!1,i(t,Boolean(e.multiple),r)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?i(t,Boolean(e.multiple),e.defaultValue):i(t,Boolean(e.multiple),e.multiple?[]:""))}};t.exports=f},function(t,e,n){"use strict";var r=n(82),i=n(48),o=n(50),a=n(9),u=n(4),s=n(40),c=n(62),l=(n(65),function(t){});u(l.prototype,{construct:function(t){this._currentElement=t,this._stringText=""+t,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(t,e,n){if(this._rootNodeID=t,e.useCreateElement){var r=n[a.ownerDocumentContextKey],o=r.createElement("span");return i.setAttributeForID(o,t),a.getID(o),c(o,this._stringText),o}var u=s(this._stringText);return e.renderToStaticMarkup?u:"<span "+i.createMarkupForID(t)+">"+u+"</span>"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var i=a.getNode(this._rootNodeID);r.updateTextContent(i,n)}}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),t.exports=l},function(t,e,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(13),o=n(38),a=n(4),u=n(14),s={initialize:u,close:function(){h.isBatchingUpdates=!1}},c={initialize:u,close:i.flushBatchedUpdates.bind(i)},l=[c,s];a(r.prototype,o.Mixin,{getTransactionWrappers:function(){return l}});var f=new r,h={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,i,o){var a=h.isBatchingUpdates;h.isBatchingUpdates=!0,a?t(e,n,r,i,o):f.perform(t,null,e,n,r,i,o)}};t.exports=h},function(t,e,n){"use strict";function r(){if(!S){S=!0,m.EventEmitter.injectReactEventListener(v),m.EventPluginHub.injectEventPluginOrder(u),m.EventPluginHub.injectInstanceHandle(y),m.EventPluginHub.injectMount(b),m.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:C,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:x,BeforeInputEventPlugin:i}),m.NativeComponent.injectGenericComponentClass(d),m.NativeComponent.injectTextComponentClass(g),m.Class.injectMixin(f),m.DOMProperty.injectDOMPropertyConfig(l),m.DOMProperty.injectDOMPropertyConfig(M),m.EmptyComponent.injectEmptyComponent("noscript"),m.Updates.injectReconcileTransaction(w),m.Updates.injectBatchingStrategy(p),m.RootIndex.injectCreateReactRootIndex(c.canUseDOM?a.createReactRootIndex:_.createReactRootIndex),m.Component.injectEnvironment(h)}}var i=n(178),o=n(180),a=n(181),u=n(183),s=n(184),c=n(7),l=n(187),f=n(189),h=n(50),p=n(91),d=n(193),g=n(90),v=n(201),m=n(202),y=n(24),b=n(9),w=n(206),x=n(212),_=n(213),C=n(214),M=n(211),S=!1;t.exports={inject:r}},function(t,e,n){"use strict";function r(){if(f.current){var t=f.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(t,e){if(t._store&&!t._store.validated&&null==t.key){t._store.validated=!0;o("uniqueKey",t,e)}}function o(t,e,n){var i=r();if(!i){var o="string"==typeof n?n:n.displayName||n.name;o&&(i=" Check the top-level render call using <"+o+">.")}var a=d[t]||(d[t]={});if(a[i])return null;a[i]=!0;var u={parentOrOwner:i,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return e&&e._owner&&e._owner!==f.current&&(u.childOwner=" It was passed a child from "+e._owner.getName()+"."),u}function a(t,e){if("object"==typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];c.isValidElement(r)&&i(r,e)}else if(c.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var o=h(t);if(o&&o!==t.entries)for(var a,u=o.call(t);!(a=u.next()).done;)c.isValidElement(a.value)&&i(a.value,e)}}function u(t,e,n,i){for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]?p(!1):void 0,a=e[o](n,o,t,i)}catch(u){a=u}if(a instanceof Error&&!(a.message in g)){g[a.message]=!0;r()}}}function s(t){var e=t.type;if("function"==typeof e){var n=e.displayName||e.name;e.propTypes&&u(n,e.propTypes,t.props,l.prop),"function"==typeof e.getDefaultProps}}var c=n(10),l=n(36),f=(n(35),n(18)),h=(n(39),n(59)),p=n(1),d=(n(3),{}),g={},v={createElement:function(t,e,n){var r="string"==typeof t||"function"==typeof t,i=c.createElement.apply(this,arguments);if(null==i)return i;if(r)for(var o=2;o<arguments.length;o++)a(arguments[o],t);return s(i),i},createFactory:function(t){var e=v.createElement.bind(null,t);return e.type=t,e},cloneElement:function(t,e,n){for(var r=c.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)a(arguments[i],r.type);return s(r),r}};t.exports=v},function(t,e,n){"use strict";function r(){a.registerNullComponentID(this._rootNodeID)}var i,o=n(10),a=n(95),u=n(21),s=n(4),c={injectEmptyComponent:function(t){i=o.createElement(t)}},l=function(t){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=t(i)};s(l.prototype,{construct:function(t){},mountComponent:function(t,e,n){return e.getReactMountReady().enqueue(r,this),this._rootNodeID=t,u.mountComponent(this._renderedComponent,t,e,n)},receiveComponent:function(){},unmountComponent:function(t,e,n){u.unmountComponent(this._renderedComponent),a.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=c,
t.exports=l},function(t,e){"use strict";function n(t){return!!o[t]}function r(t){o[t]=!0}function i(t){delete o[t]}var o={},a={isNullComponentID:n,registerNullComponentID:r,deregisterNullComponentID:i};t.exports=a},function(t,e,n){"use strict";function r(t,e,n,r){try{return e(n,r)}catch(o){return void(null===i&&(i=o))}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var t=i;throw i=null,t}}};t.exports=o},function(t,e,n){"use strict";function r(t){return o(document.documentElement,t)}var i=n(197),o=n(73),a=n(74),u=n(75),s={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=u();return{focusedElem:t,selectionRange:s.hasSelectionCapabilities(t)?s.getSelection(t):null}},restoreSelection:function(t){var e=u(),n=t.focusedElem,i=t.selectionRange;e!==n&&r(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,i),a(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=i.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;if("undefined"==typeof r&&(r=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(t,e)}};t.exports=s},function(t,e,n){"use strict";var r=n(223),i=/\/?>/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=r(t);return t.replace(i," "+o.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(t);return i===n}};t.exports=o},function(t,e,n){"use strict";var r=n(33),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=i},function(t,e,n){"use strict";function r(t){if("function"==typeof t.type)return t.type;var e=t.type,n=f[e];return null==n&&(f[e]=n=c(e)),n}function i(t){return l?void 0:s(!1),new l(t.type,t.props)}function o(t){return new h(t)}function a(t){return t instanceof h}var u=n(4),s=n(1),c=null,l=null,f={},h=null,p={injectGenericComponentClass:function(t){l=t},injectTextComponentClass:function(t){h=t},injectComponentClasses:function(t){u(f,t)}},d={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:a,injection:p};t.exports=d},function(t,e,n){"use strict";function r(t,e){}var i=(n(3),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){r(t,"forceUpdate")},enqueueReplaceState:function(t,e){r(t,"replaceState")},enqueueSetState:function(t,e){r(t,"setState")},enqueueSetProps:function(t,e){r(t,"setProps")},enqueueReplaceProps:function(t,e){r(t,"replaceProps")}});t.exports=i},function(t,e,n){"use strict";function r(t){function e(e,n,r,i,o,a){if(i=i||_,a=a||r,null==n[r]){var u=b[o];return e?new Error("Required "+u+" `"+a+"` was not specified in "+("`"+i+"`.")):null}return t(n,r,i,o,a)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function i(t){function e(e,n,r,i,o){var a=e[n],u=g(a);if(u!==t){var s=b[i],c=v(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return r(e)}function o(){return r(w.thatReturns(null))}function a(t){function e(e,n,r,i,o){var a=e[n];if(!Array.isArray(a)){var u=b[i],s=g(a);return new Error("Invalid "+u+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<a.length;c++){var l=t(a,c,r,i,o+"["+c+"]");if(l instanceof Error)return l}return null}return r(e)}function u(){function t(t,e,n,r,i){if(!y.isValidElement(t[e])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(t)}function s(t){function e(e,n,r,i,o){if(!(e[n]instanceof t)){var a=b[i],u=t.name||_,s=m(e[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return r(e)}function c(t){function e(e,n,r,i,o){for(var a=e[n],u=0;u<t.length;u++)if(a===t[u])return null;var s=b[i],c=JSON.stringify(t);return new Error("Invalid "+s+" `"+o+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+c+"."))}return r(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function l(t){function e(e,n,r,i,o){var a=e[n],u=g(a);if("object"!==u){var s=b[i];return new Error("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=t(a,c,r,i,o+"."+c);if(l instanceof Error)return l}return null}return r(e)}function f(t){function e(e,n,r,i,o){for(var a=0;a<t.length;a++){var u=t[a];if(null==u(e,n,r,i,o))return null}var s=b[i];return new Error("Invalid "+s+" `"+o+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(t)?e:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function h(){function t(t,e,n,r,i){if(!d(t[e])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(t)}function p(t){function e(e,n,r,i,o){var a=e[n],u=g(a);if("object"!==u){var s=b[i];return new Error("Invalid "+s+" `"+o+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in t){var l=t[c];if(l){var f=l(a,c,r,i,o+"."+c);if(f)return f}}return null}return r(e)}function d(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||y.isValidElement(t))return!0;var e=x(t);if(!e)return!1;var n,r=e.call(t);if(e!==t.entries){for(;!(n=r.next()).done;)if(!d(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!d(i[1]))return!1}return!0;default:return!1}}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function v(t){var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function m(t){return t.constructor&&t.constructor.name?t.constructor.name:"<<anonymous>>"}var y=n(10),b=n(35),w=n(14),x=n(59),_="<<anonymous>>",C={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:o(),arrayOf:a,element:u(),instanceOf:s,node:h(),objectOf:l,oneOf:c,oneOfType:f,shape:p};t.exports=C},function(t,e){"use strict";var n={injectCreateReactRootIndex:function(t){r.createReactRootIndex=t}},r={createReactRootIndex:null,injection:n};t.exports=r},function(t,e){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){n.currentScrollLeft=t.x,n.currentScrollTop=t.y}};t.exports=n},function(t,e,n){"use strict";function r(t,e){if(null==e?i(!1):void 0,null==t)return e;var n=Array.isArray(t),r=Array.isArray(e);return n&&r?(t.push.apply(t,e),t):n?(t.push(e),t):r?[t].concat(e):[t,e]}var i=n(1);t.exports=r},function(t,e){"use strict";var n=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};t.exports=n},function(t,e,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(7),o=null;t.exports=r},function(t,e){"use strict";function n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&r[t.type]||"textarea"===e)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},function(t,e,n){"use strict";t.exports=n(188)},function(t,e){var n;t.exports=n=function(){function t(t){this.onVisit=t.onVisit,this.linksToFollow=t.linksToFollow,this.visitedNodes=[]}return t.prototype.visit=function(t){var e,n,r,i,o,a,u,s,c,l;if(!this.hasVisited(t)){if(t.__visitors.push(this),this.visitedNodes.push(t),this.onVisit&&this.onVisit(t),this.linksToFollow.master&&(a=t.master(),a&&this.visit(a)),this.linksToFollow.variants)for(s=t.variants(),n=0,i=s.length;n<i;n++)l=s[n],this.visit(l);if(this.linksToFollow.parent&&(u=t.parent(),u&&this.visit(u)),this.linksToFollow.children)for(c=t.children(),r=0,o=c.length;r<o;r++)e=c[r],this.visit(e)}},t.prototype.hasVisited=function(t){return t.hasOwnProperty("__visitors")||(t.__visitors=[]),t.__visitors.indexOf(this)!==-1},t.prototype.finish=function(){var t,e,n,r,i,o;for(i=this.visitedNodes,t=0,n=i.length;t<n;t++){if(r=i[t],o=r.__visitors,e=o.indexOf(this),e===-1)throw"visitor list inconsistency";o.splice(e,1)}},t}()},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function i(t){var e,r,i,o,a,u,s=t.length;a=n(t),u=new l(3*s/4-a),i=a>0?s-4:s;var f=0;for(e=0,r=0;e<i;e+=4,r+=3)o=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],u[f++]=o>>16&255,u[f++]=o>>8&255,u[f++]=255&o;return 2===a?(o=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,u[f++]=255&o):1===a&&(o=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,u[f++]=o>>8&255,u[f++]=255&o),u}function o(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function a(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(o(r));return i.join("")}function u(t){for(var e,n=t.length,r=n%3,i="",o=[],u=16383,c=0,l=n-r;c<l;c+=u)o.push(a(t,c,c+u>l?l:c+u));return 1===r?(e=t[n-1],i+=s[e>>2],i+=s[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=s[e>>10],i+=s[e>>4&63],i+=s[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=r,e.toByteArray=i,e.fromByteArray=u;for(var s=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=f.length;h<p;++h)s[h]=f[h],c[f.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e,n){!function(t){t(n(42))}(function(t){"use strict";function e(t,e){this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;t.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function n(e,n){var r=t.cmpPos(n.from,e.from);return r>0&&e.to.ch-e.from.ch!=n.to.ch-n.from.ch}function r(t,e,n){var r=t.options.hintOptions,i={};for(var o in g)i[o]=g[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(t,e)),i}function i(t){return"string"==typeof t?t:t.text}function o(t,e){function n(t,n){var i;i="string"!=typeof n?function(t){return n(t,e)}:r.hasOwnProperty(n)?r[n]:n,o[t]=i}var r={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(-e.menuSize()+1,!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close},i=t.options.customKeys,o=i?{}:r;if(i)for(var a in i)i.hasOwnProperty(a)&&n(a,i[a]);var u=t.options.extraKeys;if(u)for(var a in u)u.hasOwnProperty(a)&&n(a,u[a]);return o}function a(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function u(e,n){this.completion=e,this.data=n,this.picked=!1;var r=this,u=e.cm,s=this.hints=document.createElement("ul");s.className="CodeMirror-hints",this.selectedHint=n.selectedHint||0;for(var c=n.list,l=0;l<c.length;++l){var p=s.appendChild(document.createElement("li")),d=c[l],g=f+(l!=this.selectedHint?"":" "+h);null!=d.className&&(g=d.className+" "+g),p.className=g,d.render?d.render(p,n,d):p.appendChild(document.createTextNode(d.displayText||i(d))),p.hintId=l}var v=u.cursorCoords(e.options.alignWithWord?n.from:null),m=v.left,y=v.bottom,b=!0;s.style.left=m+"px",s.style.top=y+"px";var w=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),x=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(e.options.container||document.body).appendChild(s);var _=s.getBoundingClientRect(),C=_.bottom-x,M=s.scrollHeight>s.clientHeight+1,S=u.getScrollInfo();if(C>0){var k=_.bottom-_.top,E=v.top-(v.bottom-_.top);if(E-k>0)s.style.top=(y=v.top-k)+"px",b=!1;else if(k>x){s.style.height=x-5+"px",s.style.top=(y=v.bottom-_.top)+"px";var T=u.getCursor();n.from.ch!=T.ch&&(v=u.cursorCoords(T),s.style.left=(m=v.left)+"px",_=s.getBoundingClientRect())}}var A=_.right-w;if(A>0&&(_.right-_.left>w&&(s.style.width=w-5+"px",A-=_.right-_.left-w),s.style.left=(m=v.left-A)+"px"),M)for(var N=s.firstChild;N;N=N.nextSibling)N.style.paddingRight=u.display.nativeBarWidth+"px";if(u.addKeyMap(this.keyMap=o(e,{moveFocus:function(t,e){r.changeActive(r.selectedHint+t,e)},setFocus:function(t){r.changeActive(t)},menuSize:function(){return r.screenAmount()},length:c.length,close:function(){e.close()},pick:function(){r.pick()},data:n})),e.options.closeOnUnfocus){var P;u.on("blur",this.onBlur=function(){P=setTimeout(function(){e.close()},100)}),u.on("focus",this.onFocus=function(){clearTimeout(P)})}return u.on("scroll",this.onScroll=function(){var t=u.getScrollInfo(),n=u.getWrapperElement().getBoundingClientRect(),r=y+S.top-t.top,i=r-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return b||(i+=s.offsetHeight),i<=n.top||i>=n.bottom?e.close():(s.style.top=r+"px",void(s.style.left=m+S.left-t.left+"px"))}),t.on(s,"dblclick",function(t){var e=a(s,t.target||t.srcElement);e&&null!=e.hintId&&(r.changeActive(e.hintId),r.pick())}),t.on(s,"click",function(t){var n=a(s,t.target||t.srcElement);n&&null!=n.hintId&&(r.changeActive(n.hintId),e.options.completeOnSingleClick&&r.pick())}),t.on(s,"mousedown",function(){setTimeout(function(){u.focus()},20)}),t.signal(n,"select",c[0],s.firstChild),!0}function s(t,e){if(!t.somethingSelected())return e;for(var n=[],r=0;r<e.length;r++)e[r].supportsSelection&&n.push(e[r]);return n}function c(t,e,n,r){if(t.async)t(e,r,n);else{var i=t(e,n);i&&i.then?i.then(r):r(i)}}function l(e,n){var r,i=e.getHelpers(n,"hint");if(i.length){var o=function(t,e,n){function r(i){return i==o.length?e(null):void c(o[i],t,n,function(t){t&&t.list.length>0?e(t):r(i+1)})}var o=s(t,i);r(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=e.getHelper(e.getCursor(),"hintWords"))?function(e){return t.hint.fromList(e,{words:r})}:t.hint.anyword?function(e,n){return t.hint.anyword(e,n)}:function(){}}var f="CodeMirror-hint",h="CodeMirror-hint-active";t.showHint=function(t,e,n){if(!e)return t.showHint(n);n&&n.async&&(e.async=!0);var r={hint:e};if(n)for(var i in n)r[i]=n[i];return t.showHint(r)},t.defineExtension("showHint",function(n){n=r(this,this.getCursor("start"),n);var i=this.listSelections();if(!(i.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var o=0;o<i.length;o++)if(i[o].head.line!=i[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var a=this.state.completionActive=new e(this,n);a.options.hint&&(t.signal(this,"startCompletion",this),a.update(!0))}});var p=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},d=window.cancelAnimationFrame||clearTimeout;e.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,n){var r=e.list[n];r.hint?r.hint(this.cm,e,r):this.cm.replaceRange(i(r),r.from||e.from,r.to||e.to,"complete"),t.signal(e,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(d(this.debounce),this.debounce=0);var t=this.cm.getCursor(),e=this.cm.getLine(t.line);if(t.line!=this.startPos.line||e.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||t.ch&&this.options.closeCharacters.test(e.charAt(t.ch-1)))this.close();else{var n=this;this.debounce=p(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var e=this,n=++this.tick;c(this.options.hint,this.cm,this.options,function(r){e.tick==n&&e.finishUpdate(r,t)})}},finishUpdate:function(e,r){this.data&&t.signal(this.data,"update");var i=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),e&&this.data&&n(this.data,e)||(this.data=e,e&&e.list.length&&(i&&1==e.list.length?this.pick(e,0):(this.widget=new u(this,e),t.signal(e,"shown"))))}},u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,n){if(e>=this.data.list.length?e=n?this.data.list.length-1:0:e<0&&(e=n?0:this.data.list.length-1),this.selectedHint!=e){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+h,""),r=this.hints.childNodes[this.selectedHint=e],r.className+=" "+h,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:l}),t.registerHelper("hint","fromList",function(e,n){var r=e.getCursor(),i=e.getTokenAt(r),o=t.Pos(r.line,i.end);if(i.string&&/\w/.test(i.string[i.string.length-1]))var a=i.string,u=t.Pos(r.line,i.start);else var a="",u=o;for(var s=[],c=0;c<n.words.length;c++){var l=n.words[c];l.slice(0,a.length)==a&&s.push(l)}if(s.length)return{list:s,from:u,to:o}}),t.commands.autocomplete=t.showHint;var g={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)})},function(t,e,n){!function(t){t(n(42))}(function(t){"use strict";function e(t,e,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}t.defineMode("javascript",function(n,r){function i(t){for(var e,n=!1,r=!1;null!=(e=t.next());){if(!n){if("/"==e&&!r)return;"["==e?r=!0:r&&"]"==e&&(r=!1)}n=!n&&"\\"==e}}function o(t,e,n){return Ct=t,Mt=n,e}function a(t,n){var r=t.next();if('"'==r||"'"==r)return n.tokenize=u(r),n.tokenize(t,n);if("."==r&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==r&&t.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return o(r);if("="==r&&t.eat(">"))return o("=>","operator");if("0"==r&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),o("number","number");if("0"==r&&t.eat(/o/i))return t.eatWhile(/[0-7]/i),o("number","number");if("0"==r&&t.eat(/b/i))return t.eatWhile(/[01]/i),o("number","number");if(/\d/.test(r))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==r)return t.eat("*")?(n.tokenize=s,s(t,n)):t.eat("/")?(t.skipToEnd(),o("comment","comment")):e(t,n,1)?(i(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(t.eatWhile(Dt),o("operator","operator",t.current()));if("`"==r)return n.tokenize=c,c(t,n);if("#"==r)return t.skipToEnd(),o("error","error");if(Dt.test(r))return t.eatWhile(Dt),o("operator","operator",t.current());if(Nt.test(r)){t.eatWhile(Nt);var a=t.current(),l=Pt.propertyIsEnumerable(a)&&Pt[a];return l&&"."!=n.lastType?o(l.type,l.style,a):o("variable","variable",a)}}function u(t){return function(e,n){var r,i=!1;if(Et&&"@"==e.peek()&&e.match(Ot))return n.tokenize=a,o("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=t||i);)i=!i&&"\\"==r;return i||(n.tokenize=a),o("string","string")}}function s(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=a;break}r="*"==n}return o("comment","comment")}function c(t,e){for(var n,r=!1;null!=(n=t.next());){if(!r&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=a;break}r=!r&&"\\"==n}return o("quasi","string-2",t.current())}function l(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){for(var r=0,i=!1,o=n-1;o>=0;--o){var a=t.string.charAt(o),u=Rt.indexOf(a);if(u>=0&&u<3){if(!r){++o;break}if(0==--r){"("==a&&(i=!0);break}}else if(u>=3&&u<6)++r;else if(Nt.test(a))i=!0;else{if(/["'\/]/.test(a))return;if(i&&!r){++o;break}}}i&&!r&&(e.fatArrowAt=o)}}function f(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function h(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var r=t.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==e)return!0}function p(t,e,n,r,i){var o=t.cc;for(Lt.state=t,Lt.stream=i,Lt.marked=null,Lt.cc=o,Lt.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var a=o.length?o.pop():Tt?C:_;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Lt.marked?Lt.marked:"variable"==n&&h(t,r)?"variable-2":e}}}function d(){for(var t=arguments.length-1;t>=0;t--)Lt.cc.push(arguments[t])}function g(){return d.apply(null,arguments),!0}function v(t){function e(e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}var n=Lt.state;if(Lt.marked="def",n.context){if(e(n.localVars))return;n.localVars={name:t,next:n.localVars}}else{if(e(n.globalVars))return;r.globalVars&&(n.globalVars={name:t,next:n.globalVars})}}function m(){Lt.state.context={prev:Lt.state.context,vars:Lt.state.localVars},Lt.state.localVars=jt}function y(){Lt.state.localVars=Lt.state.context.vars,Lt.state.context=Lt.state.context.prev}function b(t,e){var n=function(){var n=Lt.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new f(r,Lt.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function w(){var t=Lt.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function x(t){function e(n){return n==t?g():";"==t?d():g(e)}return e}function _(t,e){return"var"==t?g(b("vardef",e.length),$,x(";"),w):"keyword a"==t?g(b("form"),S,_,w):"keyword b"==t?g(b("form"),_,w):"{"==t?g(b("}"),q,w):";"==t?g():"if"==t?("else"==Lt.state.lexical.info&&Lt.state.cc[Lt.state.cc.length-1]==w&&Lt.state.cc.pop()(),g(b("form"),S,_,w,it)):"function"==t?g(lt):"for"==t?g(b("form"),ot,_,w):"variable"==t?g(b("stat"),F):"switch"==t?g(b("form"),S,b("}","switch"),x("{"),q,w,w):"case"==t?g(C,x(":")):"default"==t?g(x(":")):"catch"==t?g(b("form"),m,x("("),ft,x(")"),_,w,y):"class"==t?g(b("form"),ht,w):"export"==t?g(b("stat"),vt,w):"import"==t?g(b("stat"),mt,w):"module"==t?g(b("form"),tt,b("}"),x("{"),q,w,w):"type"==t?g(K,x("operator"),K,x(";")):"async"==t?g(_):d(b("stat"),C,x(";"),w)}function C(t){return k(t,!1)}function M(t){return k(t,!0)}function S(t){return"("!=t?d():g(b(")"),C,x(")"),w)}function k(t,e){if(Lt.state.fatArrowAt==Lt.stream.start){var n=e?R:O;if("("==t)return g(m,b(")"),z(tt,")"),w,x("=>"),n,y);if("variable"==t)return d(m,tt,x("=>"),n,y)}var r=e?N:A;return It.hasOwnProperty(t)?g(r):"function"==t?g(lt,r):"keyword c"==t||"async"==t?g(e?T:E):"("==t?g(b(")"),E,x(")"),w,r):"operator"==t||"spread"==t?g(e?M:C):"["==t?g(b("]"),xt,w,r):"{"==t?V(U,"}",null,r):"quasi"==t?d(P,r):"new"==t?g(I(e)):g()}function E(t){return t.match(/[;\}\)\],]/)?d():d(C)}function T(t){return t.match(/[;\}\)\],]/)?d():d(M)}function A(t,e){return","==t?g(C):N(t,e,!1)}function N(t,e,n){var r=0==n?A:N,i=0==n?C:M;return"=>"==t?g(m,n?R:O,y):"operator"==t?/\+\+|--/.test(e)?g(r):"?"==e?g(C,x(":"),i):g(i):"quasi"==t?d(P,r):";"!=t?"("==t?V(M,")","call",r):"."==t?g(B,r):"["==t?g(b("]"),E,x("]"),w,r):void 0:void 0}function P(t,e){return"quasi"!=t?d():"${"!=e.slice(e.length-2)?g(P):g(C,D)}function D(t){if("}"==t)return Lt.marked="string-2",Lt.state.tokenize=c,g(P)}function O(t){return l(Lt.stream,Lt.state),d("{"==t?_:C)}function R(t){return l(Lt.stream,Lt.state),d("{"==t?_:M)}function I(t){return function(e){return"."==e?g(t?j:L):d(t?M:C)}}function L(t,e){if("target"==e)return Lt.marked="keyword",g(A)}function j(t,e){if("target"==e)return Lt.marked="keyword",g(N)}function F(t){return":"==t?g(w,_):d(A,x(";"),w)}function B(t){if("variable"==t)return Lt.marked="property",g()}function U(t,e){return"async"==t?(Lt.marked="property",g(U)):"variable"==t||"keyword"==Lt.style?(Lt.marked="property",g("get"==e||"set"==e?W:H)):"number"==t||"string"==t?(Lt.marked=Et?"property":Lt.style+" property",g(H)):"jsonld-keyword"==t?g(H):"modifier"==t?g(U):"["==t?g(C,x("]"),H):"spread"==t?g(C):":"==t?d(H):void 0}function W(t){return"variable"!=t?d(H):(Lt.marked="property",g(lt))}function H(t){return":"==t?g(M):"("==t?d(lt):void 0}function z(t,e){function n(r,i){if(","==r){var o=Lt.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),g(function(n,r){return n==e||r==e?d():d(t)},n)}return r==e||i==e?g():g(x(e))}return function(r,i){return r==e||i==e?g():d(t,n)}}function V(t,e,n){for(var r=3;r<arguments.length;r++)Lt.cc.push(arguments[r]);return g(b(e,n),z(t,e),w)}function q(t){return"}"==t?g():d(_,q)}function Y(t,e){if(At){if(":"==t)return g(K);if("?"==e)return g(Y)}}function X(t,e){if("="==e)return g(M)}function K(t){return"variable"==t?(Lt.marked="variable-3",g(J)):"{"==t?g(z(Q,"}")):"("==t?g(z(Z,")"),G):void 0}function G(t){if("=>"==t)return g(K)}function Q(t){return"variable"==t||"keyword"==Lt.style?(Lt.marked="property",g(Q)):":"==t?g(K):void 0}function Z(t){return"variable"==t?g(Z):":"==t?g(K):void 0}function J(t,e){return"<"==e?g(z(K,">"),J):"["==t?g(x("]"),J):void 0}function $(){return d(tt,Y,nt,rt)}function tt(t,e){return"modifier"==t?g(tt):"variable"==t?(v(e),g()):"spread"==t?g(tt):"["==t?V(tt,"]"):"{"==t?V(et,"}"):void 0}function et(t,e){return"variable"!=t||Lt.stream.match(/^\s*:/,!1)?("variable"==t&&(Lt.marked="property"),"spread"==t?g(tt):"}"==t?d():g(x(":"),tt,nt)):(v(e),g(nt))}function nt(t,e){if("="==e)return g(M)}function rt(t){if(","==t)return g($)}function it(t,e){if("keyword b"==t&&"else"==e)return g(b("form","else"),_,w)}function ot(t){if("("==t)return g(b(")"),at,x(")"),w)}function at(t){return"var"==t?g($,x(";"),st):";"==t?g(st):"variable"==t?g(ut):d(C,x(";"),st)}function ut(t,e){return"in"==e||"of"==e?(Lt.marked="keyword",g(C)):g(A,st)}function st(t,e){return";"==t?g(ct):"in"==e||"of"==e?(Lt.marked="keyword",g(C)):d(C,x(";"),ct)}function ct(t){")"!=t&&g(C)}function lt(t,e){return"*"==e?(Lt.marked="keyword",g(lt)):"variable"==t?(v(e),g(lt)):"("==t?g(m,b(")"),z(ft,")"),w,Y,_,y):void 0}function ft(t){return"spread"==t?g(ft):d(tt,Y,X)}function ht(t,e){if("variable"==t)return v(e),g(pt)}function pt(t,e){return"extends"==e?g(At?K:C,pt):"{"==t?g(b("}"),dt,w):void 0}function dt(t,e){return"variable"==t||"keyword"==Lt.style?("static"==e||"get"==e||"set"==e||At&&("public"==e||"private"==e||"protected"==e))&&Lt.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Lt.marked="keyword",g(dt)):(Lt.marked="property",g(At?gt:lt,dt)):"*"==e?(Lt.marked="keyword",g(dt)):";"==t?g(dt):"}"==t?g():void 0}function gt(t){return":"==t?g(K):d(lt)}function vt(t,e){return"*"==e?(Lt.marked="keyword",g(wt,x(";"))):"default"==e?(Lt.marked="keyword",g(C,x(";"))):d(_)}function mt(t){return"string"==t?g():d(yt,wt)}function yt(t,e){return"{"==t?V(yt,"}"):("variable"==t&&v(e),"*"==e&&(Lt.marked="keyword"),g(bt))}function bt(t,e){if("as"==e)return Lt.marked="keyword",g(yt)}function wt(t,e){if("from"==e)return Lt.marked="keyword",g(C)}function xt(t){return"]"==t?g():d(z(M,"]"))}function _t(t,e){return"operator"==t.lastType||","==t.lastType||Dt.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}var Ct,Mt,St=n.indentUnit,kt=r.statementIndent,Et=r.jsonld,Tt=r.json||Et,At=r.typescript,Nt=r.wordCharacters||/[\w$\xa1-\uffff]/,Pt=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("operator"),o={type:"atom",style:"atom"},a={"if":t("if"),"while":e,"with":e,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":t("new"),"delete":r,"throw":r,"debugger":r,"var":t("var"),"const":t("var"),"let":t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this"),"class":t("class"),"super":t("atom"),"yield":r,"export":t("export"),"import":t("import"),"extends":r,await:r,async:t("async")};if(At){var u={type:"variable",style:"variable-3"},s={"interface":t("class"),"implements":r,namespace:r,module:t("module"),"enum":t("module"),type:t("type"),"public":t("modifier"),"private":t("modifier"),"protected":t("modifier"),"abstract":t("modifier"),as:i,string:u,number:u,"boolean":u,any:u};for(var c in s)a[c]=s[c]}return a}(),Dt=/[+\-*&%=<>!?|~^]/,Ot=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Rt="([{}])",It={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Lt={state:null,column:null,marked:null,cc:null},jt={name:"this",next:{name:"arguments"}};return w.lex=!0,{startState:function(t){var e={tokenize:a,lastType:"sof",cc:[],lexical:new f((t||0)-St,0,"block",(!1)),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:t||0};return r.globalVars&&"object"==typeof r.globalVars&&(e.globalVars=r.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),l(t,e)),e.tokenize!=s&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==Ct?n:(e.lastType="operator"!=Ct||"++"!=Mt&&"--"!=Mt?Ct:"incdec",p(e,n,Ct,Mt,t))},indent:function(e,n){if(e.tokenize==s)return t.Pass;if(e.tokenize!=a)return 0;var i,o=n&&n.charAt(0),u=e.lexical;if(!/^\s*else\b/.test(n))for(var c=e.cc.length-1;c>=0;--c){var l=e.cc[c];if(l==w)u=u.prev;else if(l!=it)break}for(;("stat"==u.type||"form"==u.type)&&("}"==o||(i=e.cc[e.cc.length-1])&&(i==A||i==N)&&!/^[,\.=+\-*:?[\(]/.test(n));)u=u.prev;kt&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var f=u.type,h=o==f;return"vardef"==f?u.indented+("operator"==e.lastType||","==e.lastType?u.info+1:0):"form"==f&&"{"==o?u.indented:"form"==f?u.indented+St:"stat"==f?u.indented+(_t(e,n)?kt||St:0):"switch"!=u.info||h||0==r.doubleIndentSwitch?u.align?u.column+(h?0:1):u.indented+(h?0:St):u.indented+(/^(?:case|default)\b/.test(n)?St:2*St)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Tt?null:"/*",blockCommentEnd:Tt?null:"*/",lineComment:Tt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Tt?"json":"javascript",jsonldMode:Et,jsonMode:Tt,expressionAllowed:e,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=C&&e!=M||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),
t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(t,e){var n;t.exports=n=function(){function t(){this.isRunning=!1,this.counter=0}return t.prototype.run=function(t){if(this.isRunning)return t();this.isRunning=!0,this.counter++;try{return t()}finally{this.isRunning=!1}},t.prototype.memoize=function(t){var e,n;return e=null,n=-1,function(r){return function(){return n!==r.counter&&(e=t(),n=r.counter),e}}(this)},t}()},function(t,e,n){var r,i,o={}.hasOwnProperty;i=n(2),t.exports=r=function(){function t(t){this.context=null!=t?t:{}}return t.prototype["with"]=function(t,e){var n,r;n=this.context,this._updateContext(n,t);try{r=e()}finally{this.context=n}return r},t.prototype._updateContext=function(t,e){var n,r,i;this.context=e,r=[];for(n in t)o.call(t,n)&&(i=t[n],this.context.hasOwnProperty(n)?r.push(void 0):r.push(this.context[n]=i));return r},t}()},function(t,e,n){var r,i,o;o=n(2),r=n(68),t.exports=i=function(){function t(t,e,n,r){this.parent=t,this.origin=e,this.index=n,this.length=r}return t.prototype.lookup=function(t){var e;return t.origin===this.origin?this.index:null!=(e=this.parent)?e.lookup(t):void 0},t.prototype.resolve=function(t){var e;return t instanceof r&&(e=this.lookup(t),null!=e)?(t=t.items[e],this.resolve(t)):t},t.prototype.resolveWithDefault=function(t){var e,n;return t instanceof r?(e=null!=(n=this.lookup(t))?n:0,t=t.items[e],this.resolveWithDefault(t)):t},t.prototype.assign=function(e,n){return new t(this,e.origin,n,e.items.length)},t.prototype.isEqualTo=function(t){return null!=t&&(this.origin===t.origin&&this.index===t.index&&(!this.parent&&!t.parent||this.parent.isEqualTo(t.parent)))},t.prototype.contains=function(t){return null!=t&&(!!this.isEqualTo(t)||this.contains(t.parent))},t.prototype.toBooleanSpread=function(){var t;return!this.length||(t=o.range(this.length).map(function(t){return function(){return!1}}(this)),t[this.index]=this.parent.toBooleanSpread(),new r(t,this.origin))},t}(),i.empty=new i},function(t,e,n){t.exports={evaluate:n(118)}},function(module,exports,__webpack_require__){var E,LN10,LN2,LOG10E,LOG2E,PI,SQRT1_2,SQRT2,TAU,_,abs,acos,asin,atan,atan2,ceil,cos,d3,evaluate,exp,floor,log,max,min,pow,random,rgba,round,sin,spread,sqrt,tan,slice=[].slice;module.exports=evaluate=function(jsString){return eval(jsString)},E=Math.E,LN2=Math.LN2,LN10=Math.LN10,LOG2E=Math.LOG2E,LOG10E=Math.LOG10E,PI=Math.PI,SQRT1_2=Math.SQRT1_2,SQRT2=Math.SQRT2,TAU=2*Math.PI,abs=Math.abs,acos=Math.acos,asin=Math.asin,atan=Math.atan,atan2=Math.atan2,ceil=Math.ceil,cos=Math.cos,exp=Math.exp,floor=Math.floor,log=Math.log,max=Math.max,min=Math.min,pow=Math.pow,round=Math.round,sin=Math.sin,sqrt=Math.sqrt,tan=Math.tan,random=function(){var t,e,n,r;if(r=1<=arguments.length?slice.call(arguments,0):[],0===r.length)throw"`random` needs at least one seed argument";return e=r.map(JSON.stringify).join(""),n=__webpack_require__(233),(t=n(e))()},rgba=function(t,e,n,r){return t=Math.round(255*t),e=Math.round(255*e),n=Math.round(255*n),"rgba("+t+", "+e+", "+n+", "+r+")"},spread=__webpack_require__(119),_=__webpack_require__(2),d3=__webpack_require__(158),_.extend(d3,__webpack_require__(157))},function(t,e,n){var r,i,o;i=n(2),r=n(16),t.exports=o=function(t,e,n){var o,a,u;if(null==n&&(n=1),i.isArray(t))return new r.Spread(t);if(null==t||null==e)throw"Spread needs arguments: spread(start, end) or spread(start, end, increment) or spread(array)";if(0===n)throw"Spread increment cannot be 0";if(!i.isFinite(n))throw"Spread increment must be finite";return u=(e-t)/n,o=function(){var e,r,i;for(i=[],a=e=0,r=u;0<=r?e<r:e>r;a=0<=r?++e:--e)i.push(t+n*a);return i}(),new r.Spread(o)}},function(t,e,n){var r,i,o,a,u,s=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;o=n(2),i=n(6),t.exports=r={},r.Element=function(){function t(){}return t.prototype.render=function(t){throw"Not implemented"},t.prototype.hitDetect=function(t){throw"Not implemented"},t.prototype.componentOfType=function(t){return o.find(this.components,function(e){return e instanceof t})},t.prototype.componentsOfType=function(t){return o.filter(this.components,function(e){return e instanceof t})},t}(),r.Group=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.render=function(t){var e,n,r,i,o;for(i=this.childGraphics,o=[],n=0,r=i.length;n<r;n++)e=i[n],o.push(e.render(t));return o},e.prototype.hitDetect=function(t){var e,n,r,i,o,a;for(r=null,o=this.childGraphics,n=0,i=o.length;n<i;n++)e=o[n],r=null!=(a=e.hitDetect(t))?a:r;return r?r.concat(this.particularElement):null},e}(r.Element),r.Anchor=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e}(r.Element),r.Path=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.render=function(t){return this.buildPath(t),this.performPaintOps(t),this.highlightIfNecessary(t)},e.prototype.hitDetect=function(t){var e,n,r,i;return t.ctx=u(),e=t.ctx,r=t.x,i=t.y,this.buildPath(t),e.save(),e.lineWidth=5,n=e.isPointInPath(r,i)||e.isPointInStroke(r,i),e.restore(),n?[this.particularElement]:null},e.prototype.performPaintOps=function(t){var e,n,i,o,a,u;for(n=t.ctx,a=this.componentsOfType(r.PaintOp),u=[],i=0,o=a.length;i<o;i++)e=a[i],u.push(e.paint(n));return u},e.prototype.highlightIfNecessary=function(t){var e,n,r;if(n=t.highlight,e=t.ctx,n)return r=n(this),r?(e.save(),e.strokeStyle=r.color,e.lineWidth=r.lineWidth,e.stroke(),e.restore()):void 0},e.prototype.buildPath=function(t){var e,n,r,i,o,a,u,s,c;for(r=t.ctx,u=t.viewMatrix,r.beginPath(),n=this.collectAnchors(),i=0,o=n.length;i<o;i++)e=n[i],a=u.compose(e.matrix).origin(),s=a[0],c=a[1],r.lineTo(s,c);if(this.isClosed())return r.closePath()},e.prototype.collectAnchors=function(){var t,e,n;return t=[],e=function(e){return e instanceof r.Anchor?t.push(e):e instanceof r.Group?n(e):void 0},n=function(t){var n,r,i,o,a;for(o=t.childGraphics,a=[],r=0,i=o.length;r<i;r++)n=o[r],a.push(e(n));return a},n(this),t},e.prototype.isClosed=function(){var t;return t=this.componentOfType(r.PathComponent),t.closed},e}(r.Element),r.Circle=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.buildPath=function(t){var e,n,r;return e=t.ctx,r=t.viewMatrix,e.beginPath(),e.save(),n=r.compose(this.matrix),n.canvasTransform(e),e.arc(0,0,1,0,2*Math.PI,!1),e.restore()},e}(r.Path),r.Text=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.render=function(t){var e;if(e=t.ctx,e.save(),this.setupText(t),this.renderText(t),e.restore(),t.highlight)return this.buildPath(t),this.highlightIfNecessary(t)},e.prototype.textComponent=function(){return this.componentOfType(r.TextComponent)},e.prototype.renderText=function(t){var e,n;return e=t.ctx,n=this.textComponent().text,e.fillText(n,0,0)},e.prototype.textMultiplier=100,e.prototype.setupText=function(t){var e,n,r,i,o,a,u,s,c;return n=t.ctx,c=t.viewMatrix,o=this.textComponent(),a=o.text,r=o.fontFamily,u=o.textAlign,s=o.textBaseline,e=o.color,i=c.compose(this.matrix),i=i.scale(1/this.textMultiplier,-1/this.textMultiplier),i.canvasTransform(n),n.font=this.textMultiplier+"px "+r,n.textAlign=u,n.textBaseline=s,n.fillStyle=e},e.prototype.buildPath=function(t){var e,n,r,i,o,a,u,s,c,l,f,h,p,d,g,v;return r=t.ctx,g=t.viewMatrix,r.save(),this.setupText(t),f=this.textComponent(),h=f.text,i=f.fontFamily,p=f.textAlign,d=f.textBaseline,n=f.color,v=r.measureText(h).width/this.textMultiplier,o=1,r.restore(),"left"===p||"start"===p?(c=0,u=v):"right"===p||"end"===p?(c=-v,u=0):"center"===p&&(c=-v/2,u=v/2),e=.25,"top"===d?(l=-o-e,s=-e):"middle"===d?(l=(-o-e)/2,s=(o+e)/2):"alphabetic"===d?(l=-e,s=o-e):"bottom"===d&&(l=0,s=o),r.save(),a=g.compose(this.matrix),a.canvasTransform(r),r.beginPath(),r.moveTo(c,l),r.lineTo(c,s),r.lineTo(u,s),r.lineTo(u,l),r.closePath(),r.restore()},e}(r.Path),r.Image=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.render=function(t){var e,n;return e=t.imageCache,n=this.imageComponent().url,e.get(n,function(e){return function(n){return e.drawImage(t,n)}}(this))},e.prototype.imageComponent=function(){return this.componentOfType(r.ImageComponent)},e.prototype.fullMatrix=function(t,e){var n,r,o;return o=t.viewMatrix,r=.01,n=o.compose(this.matrix).compose(new i.Matrix(r,0,0,(-r),0,r*e.height))},e.prototype.drawImage=function(t,e){var n,r;return n=t.ctx,r=this.fullMatrix(t,e),n.save(),r.canvasTransform(n),n.drawImage(e,0,0),t.highlight&&(n.beginPath(),n.moveTo(0,0),n.lineTo(0,e.height),n.lineTo(e.width,e.height),n.lineTo(e.width,0),n.closePath(),this.highlightIfNecessary(t)),n.restore()},e.prototype.hitDetect=function(t){var e,n,r,i,o,a,s,c,l,f,h;return r=t.imageCache,l=this.imageComponent().url,(n=r.getSync(l))?(a=this.fullMatrix(t,n),f=t.x,h=t.y,c=a.toLocal([f,h]),i=c[0],o=c[1],0<=i&&i<=n.width&&0<=o&&o<=n.height?(e=u(),e.canvas.width=window.innerWidth,e.canvas.height=window.innerHeight,t.ctx=e,this.drawImage(t,n),s=e.getImageData(f,h,1,1).data,s[3]>0?[this.particularElement]:null):null):null},e}(r.Path),r.Component=function(){function t(){}return t}(),r.PaintOp=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e}(r.Component),r.Fill=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.paint=function(t){return t.save(),t.fillStyle=this.color,t.fill(),t.restore()},e}(r.PaintOp),r.Stroke=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.paint=function(t){if(!(this.lineWidth<=0))return t.save(),t.strokeStyle=this.color,t.lineWidth=this.lineWidth,t.stroke(),t.restore()},e}(r.PaintOp),r.PathComponent=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e}(r.Component),r.TextComponent=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e}(r.Component),r.ImageComponent=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e}(r.Component),a=null,u=function(){var t;return a?a:(t=document.createElement("canvas"),a=t.getContext("2d"))}},function(t,e,n){var r,i,o,a,u,s,c,l,f,h,p={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};h=n(2),f=n(6),a=n(16),u=n(117),l=n(32),s=n(43),c=n(5),t.exports=r=l.createVariant({label:"Attribute",constructor:function(){return l.constructor.apply(this,arguments),this.value=a.cell(this._value.bind(this))},_value:function(){var t,e,n;if(this.hasOverrideValue())return this.__overrideValue;if(this.isNumber())return parseFloat(this.exprString);if(this._isDirty()&&this._updateCompiledExpression(),null!=(t=this.circularReferencePath()))return new i(t);n=h.mapObject(this.references(),function(t){return t.value()});try{return this.__compiledExpression.evaluate(n)}catch(r){if(e=r,e instanceof a.UnresolvedSpreadError)throw e;return e}},_isDirty:function(){return!this.hasOwnProperty("__compiledExpression")||this.__compiledExpression.exprString!==this.exprString},_updateCompiledExpression:function(){var t,e,n;return t=new o(this),t.isSyntaxError&&(t.fn=null!=(e=null!=(n=this.__compiledExpression)?n.fn:void 0)?e:function(){return new Error("Syntax error")}),this.__compiledExpression=t},setExpression:function(t,e){var n,r,i,o,a,u,s;for(null==e&&(e={}),this.exprString=String(t),a=this.childrenOfType(c.ReferenceLink),r=0,o=a.length;r<o;r++)u=a[r],this.removeChild(u);s=[];for(i in e)p.call(e,i)&&(n=e[i],u=c.ReferenceLink.createVariant(),u.key=i,u.setTarget(n),s.push(this.addChild(u)));return s},setOverrideValue:function(t){return this.__overrideValue=t},hasOverrideValue:function(){return this.hasOwnProperty("__overrideValue")},references:function(){var t,e,n,r,i,o,a;for(a={},i=this.childrenOfType(c.ReferenceLink),e=0,r=i.length;e<r;e++)o=i[e],n=o.key,t=o.target(),a[n]=t;return a},hasReferences:function(){return h.any(this.references(),function(){return!0})},isNumber:function(){return f.isNumberString(this.exprString)},isString:function(){return f.isStringLiteral(this.exprString)},isTrivial:function(){return this.isNumber()||this.isString()},isNovel:function(){return this.hasOwnProperty("exprString")},_analyzeDependencies:function(){var t,e,n,r;return n=[],t=[],e=null,r=function(i){var o,a,u,s;if(t.push(i),t.indexOf(i)!==t.length-1)null==e&&(e=t.slice());else for(u=h.values(i.references()),o=0,a=u.length;o<a;o++)s=u[o],n.push(s),r(s);return t.pop()},r(this),n=h.unique(n),{dependencies:n,circularReferencePath:e}},dependencies:function(){return this._analyzeDependencies().dependencies},circularReferencePath:function(){return this._analyzeDependencies().circularReferencePath},parentElement:function(){var t;for(t=this.parent();!t.isVariantOf(c.Element);)t=t.parent();return t}}),o=function(){function t(t){var e,n,r,i;if(this.attribute=t,this.exprString=this.attribute.exprString,this.referenceKeys=h.keys(this.attribute.references()),""===this.exprString)return void this._setSyntaxError();if(f.isNumberString(this.exprString))return r=parseFloat(this.exprString),void this._setConstant(r);i=this._wrapped();try{e=u.evaluate(i)}catch(o){return n=o,void this._setSyntaxError()}if(e=this._wrapFunctionInSpreadCheck(e),0===this.referenceKeys.length){try{r=e()}catch(o){return n=o,void this._setConstant(n)}return void this._setConstant(r)}this._setFn(e)}return t.prototype._setSyntaxError=function(){return this.isSyntaxError=!0},t.prototype._setConstant=function(t){return this.isConstant=!0,this.fn=function(){return t}},t.prototype._setFn=function(t){return this.fn=t},t.prototype.evaluate=function(t){return this.fn(t)},t.prototype._wrapped=function(){var t,e,n,r,i;for(i="'use strict';\n",i+="(function ($$$referenceValues) {\n",n=this.referenceKeys,t=0,e=n.length;t<e;t++)r=n[t],i+="  var "+r+" = $$$referenceValues."+r+";\n";return i+=this.exprString.indexOf("return")===-1?"  return "+this.exprString+";\n":"\n\n"+this.exprString+"\n\n",i+="});"},t.prototype._wrapFunctionInSpreadCheck=function(t){return function(e){return function(){var n;return n=t.apply(null,arguments),n instanceof a.Spread&&(n.origin=e.attribute),n}}(this)},t}(),r.CircularReferenceError=i=function(t){function e(t){var e;this.attributePath=t,e=h.pluck(this.attributePath,"label"),this.message="Circular reference: "+e.join(" -> ")}return d(e,t),e}(Error)},function(t,e,n){var r,i,o,a,u,s,c,l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};s=n(2),c=n(174),o=n(5),u=n(6),a=n(44),i=n(128),t.exports=r=function(){function t(){this._setupLayout(),this._setupSerializer(),this._setupProject(),this._setupRevision(),this._parseQueryString()}return t.prototype._setupLayout=function(){return this.layout=new o.Layout},t.prototype._setupProject=function(){if(this.loadFromLocalStorage(),!this.project)return this.createNewProject()},t.prototype._setupSerializer=function(){return this.serializer=o.SerializerWithBuiltIns.getSerializer()},t.prototype._parseQueryString=function(){var t;return t=c.parse(location.search),"1"===t.experimental&&(this.experimental=!0),t.load?this.loadFromURL(t.load):t.loadFirebase?this.loadFromFirebase(t.loadFirebase):void 0},t.prototype.version="0.4.1",t.prototype.loadJsonStringIntoProject=function(t){var e;if(e=JSON.parse(t),"Apparatus"===e.type)return this.project=this.serializer.dejsonify(e),this.project.performIdempotentCompatibilityFixes()},t.prototype.loadJsonStringIntoProjectFromExternalSource=function(t){return this.loadJsonStringIntoProject(t),this.checkpoint(),Apparatus.refresh()},t.prototype.mergeJsonStringIntoProject=function(t){var e,n,r,i,o,a,u;if(r=JSON.parse(t),"Apparatus"===r.type){for(o=this.serializer.dejsonify(r),a=o.createPanelElements,u=[],n=0,i=a.length;n<i;n++)e=a[n],l.call(this.project.createPanelElements,e)<0?u.push(this.project.createPanelElements.push(e)):u.push(void 0);return u}},t.prototype.mergeJsonStringIntoProjectFromExternalSource=function(t){return this.mergeJsonStringIntoProject(t),this.checkpoint(),Apparatus.refresh()},t.prototype.getJsonStringOfProject=function(){var t,e;return t=this.serializer.jsonify(this.project),t.type="Apparatus",t.version=this.version,e=JSON.stringify(t)},t.prototype.createNewProject=function(){return this.project=new o.Project},t.prototype.localStorageName="apparatus",t.prototype.saveToLocalStorage=function(){var t;return t=this.getJsonStringOfProject(),window.localStorage[this.localStorageName]=t,t},t.prototype.loadFromLocalStorage=function(){var t;if(t=window.localStorage[this.localStorageName])return this.loadJsonStringIntoProject(t)},t.prototype.resetLocalStorage=function(){return delete window.localStorage[this.localStorageName]},t.prototype.saveToFile=function(){var t,e;return e=this.getJsonStringOfProject(),t=this.project.editingElement.label+".json",a.saveFile(e,t,"application/json;charset=utf-8")},t.prototype.loadFromFile=function(){return a.loadFile(function(t){return function(e){return t.loadJsonStringIntoProjectFromExternalSource(e)}}(this))},t.prototype.mergeFromFile=function(){return a.loadFile(function(t){return function(e){return t.mergeJsonStringIntoProjectFromExternalSource(e)}}(this))},t.prototype.loadFromURL=function(t){var e;return e=new XMLHttpRequest,e.onreadystatechange=function(t){return function(){var n;if(4===e.readyState&&200===e.status)return n=e.responseText,t.loadJsonStringIntoProjectFromExternalSource(n)}}(this),e.open("GET",t,!0),e.send()},t.prototype.loadFromFirebase=function(t){return null==this.firebaseAccess&&(this.firebaseAccess=new i),this.firebaseAccess.loadDrawingPromise(t).then(function(t){return function(e){var n;return n=e.source,t.loadJsonStringIntoProjectFromExternalSource(n)}}(this))["catch"](function(e){return function(e){if(e instanceof i.DrawingNotFoundError)return console.warn("Drawing "+t+" not found in Firebase!");throw e}}(this)).done()},t.prototype.saveToFirebase=function(){var t;return null==this.firebaseAccess&&(this.firebaseAccess=new i),t=this.getJsonStringOfProject(),this.firebaseAccess.saveDrawingPromise(t).then(function(t){return window.prompt("Saved successfully! Copy this link:","http://aprt.us/editor/?experimental=1&loadFirebase="+t)}).done()},t.prototype._setupRevision=function(){return this.current=this.getJsonStringOfProject(),this.undoStack=[],this.redoStack=[],this.maxUndoStackSize=100},t.prototype.checkpoint=function(){var t;if(t=this.saveToLocalStorage(),this.current!==t)return this.undoStack.push(this.current),this.undoStack.length>this.maxUndoStackSize&&this.undoStack.shift(),this.redoStack=[],this.current=t},t.prototype.undo=function(){if(this.isUndoable())return this.redoStack.push(this.current),this.current=this.undoStack.pop(),this.loadJsonStringIntoProject(this.current),this.saveToLocalStorage()},t.prototype.redo=function(){if(this.isRedoable())return this.undoStack.push(this.current),this.current=this.redoStack.pop(),this.loadJsonStringIntoProject(this.current),this.saveToLocalStorage()},t.prototype.isUndoable=function(){return this.undoStack.length>0},t.prototype.isRedoable=function(){return this.redoStack.length>0},t}()},function(t,e,n){var r,i,o,a,u,s,c;c=n(2),u=n(69),o=n(43),a=n(5),r=n(16),s=n(6),t.exports=i=u.createVariant({label:"Element",constructor:function(){var t,e,n,i,o;for(u.constructor.apply(this,arguments),this.expanded=!1,i=["graphic","contextMatrix","accumulatedMatrix"],o=[],t=0,e=i.length;t<e;t++)n=i[t],o.push(this[n]=r.cell(this["_"+n].bind(this)));return o},viewMatrix:new s.Matrix(100,0,0,100,0,0),childElements:function(){return this.childrenOfType(i)},variables:function(){return this.childrenOfType(a.Variable)},components:function(){return this.childrenOfType(a.Component)},allAttributes:function(){var t,e,n,r,i,o,a,u,s,c,l,f,h;for(f=[],s=this.variables(),n=0,o=s.length;n<o;n++)h=s[n],f.push(h);for(c=this.components(),r=0,a=c.length;r<a;r++)for(e=c[r],l=e.attributes(),i=0,u=l.length;i<u;i++)t=l[i],f.push(t);return f},addVariable:function(){var t;return t=a.Variable.createVariant(),t.setExpression("0.00"),this.addChild(t),t},controlledAttributes:function(){var t,e,n,r,i,o;for(n=[],o=this.childrenOfType(a.ControlledAttributeLink),r=0,i=o.length;r<i;r++)e=o[r],t=e.target(),n.push(t);return n},addControlledAttribute:function(t){var e;return e=a.ControlledAttributeLink.createVariant(),e.setTarget(t),this.addChild(e)},removeControlledAttribute:function(t){var e,n,r,i,o,u;for(o=this.childrenOfType(a.ControlledAttributeLink),u=[],r=0,i=o.length;r<i;r++)n=o[r],e=n.target(),e===t?u.push(this.removeChild(n)):u.push(void 0);return u},isController:function(){return this.controlledAttributes().length>0},implicitlyControlledAttributes:function(){return this.allDependencies(this.controlledAttributes())},controllableAttributes:function(){return c.unique(this._controllableAttributes())},_controllableAttributes:function(){var t,e,n,r,i,o,a,u,s;for(s=[],a=this.components(),n=0,i=a.length;n<i;n++)if(e=a[n],null!=e.controllableAttributes)for(u=e.controllableAttributes(),r=0,o=u.length;r<o;r++)t=u[r],s.push(t),s.push.apply(s,t.dependencies());return this.parent()&&s.push.apply(s,this.parent()._controllableAttributes()),s},attributesToChange:function(){var t;return t=this.implicitlyControlledAttributes(),0===t.length&&(t=this.defaultAttributesToChange()),t=this.onlyNumbers(t)},defaultAttributesToChange:function(){var t,e,n,r,i;for(i=[],r=this.components(),e=0,n=r.length;e<n;e++)t=r[e],null!=t.defaultAttributesToChange&&i.push.apply(i,t.defaultAttributesToChange());return i},controlPoints:function(){var t,e,n,r,i,o,a,u,s,c;for(c=[],s=this.components(),i=0,a=s.length;i<a;i++)if(e=s[i],null!=e.controlPoints){for(r=e.controlPoints(),o=0,u=r.length;o<u;o++)n=r[o],t=n.attributesToChange,t=this.allDependencies(t),t=this.onlyNumbers(t),n.attributesToChange=t;c.push.apply(c,r)}return c},allDependencies:function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(e),i.push.apply(i,e.dependencies());return c.unique(i)},onlyNumbers:function(t){return c.filter(t,function(t){return t.isNumber()})},matrix:function(){var t,e,n,r,i;for(n=new s.Matrix,r=this.childrenOfType(a.Transform),t=0,e=r.length;t<e;t++)i=r[t],n=n.compose(i.matrix());return n},_contextMatrix:function(){var t;return t=this.parent(),t&&t.isVariantOf(i)?t.accumulatedMatrix():new s.Matrix},_accumulatedMatrix:function(){return this.contextMatrix().compose(this.matrix())},_graphic:function(){var t,e;return t=new this.graphicClass,e=r.currentSpreadEnv(),t.particularElement=new a.ParticularElement(this,e),t.matrix=this.accumulatedMatrix(),t.components=c.map(this.components(),function(t){return t.graphic()}),t.childGraphics=c.flatten(c.map(this.childElements(),function(t){return t.allGraphics()})),t},allGraphics:function(){var t;return this._isBeyondMaxDepth()?[]:(t=this.graphic.asSpread(),t instanceof r.Spread?t.flattenToArray():[t])},_isBeyondMaxDepth:function(){return this.depth()>20}})},function(t,e){var n;t.exports=n=function(){function t(){this.rightPanelWidth=400,this.fullScreen=!1,this.showAttributesInOutline=!0,this._rightPanelMin=100,this._rightPanelMax=600}return t.prototype.constraintRightPanelWidth=function(t){return this.rightPanelWidth=Math.min(this._rightPanelMax,Math.max(this._rightPanelMin,t)),this._refreshLayout()},t.prototype.toggleFullScreen=function(){return this.fullScreen=!this.fullScreen,this._refreshLayout()},t.prototype.toggleShowAttributesInOutline=function(){return this.showAttributesInOutline=!this.showAttributesInOutline},t.prototype._refreshLayout=function(){var t;return t=new Event("resize"),window.dispatchEvent(t)},t}()},function(t,e,n){var r,i;r=n(16),t.exports=i=function(){function t(t,e){this.element=t,this.spreadEnv=e,null==this.spreadEnv&&(this.spreadEnv=r.SpreadEnv.empty)}return t.prototype.isEqualTo=function(t){return this.element===t.element&&this.spreadEnv.isEqualTo(t.spreadEnv)},t.prototype.isAncestorOf=function(t){return this.element.isAncestorOf(t.element)&&this.spreadEnv.contains(t.spreadEnv)},t.prototype.accumulatedMatrix=function(){var t;return t=this.element.accumulatedMatrix.asSpread(),t=this.spreadEnv.resolveWithDefault(t)},t.prototype.contextMatrix=function(){var t;return t=this.element.contextMatrix.asSpread(),t=this.spreadEnv.resolveWithDefault(t)},t}()},function(t,e,n){var r,i,o,a,u,s;s=n(2),i=n(5),r=n(16),u=n(6),o=n(110),t.exports=a=function(){function t(){var t,e,n,o,a;for(e=this.createNewElement(),this.editingElement=e,this.selectedParticularElement=null,this.createPanelElements=[i.Rectangle,i.Circle,i.Text,i.Image,e],a=["controlledAttributes","implicitlyControlledAttributes","controllableAttributes","editingElementNodesById"],t=0,n=a.length;t<n;t++)o=a[t],this[o]=r.memoize(this[o].bind(this))}return t.prototype.setEditing=function(t){return this.editingElement=t,this.selectedParticularElement=null},t.prototype.select=function(t){return t?(this.selectedParticularElement=t,this._expandToElement(t.element)):void(this.selectedParticularElement=null)},t.prototype._expandToElement=function(t){var e;for(e=[];t=t.parent();)e.push(t.expanded=!0);return e},t.prototype.createNewElement=function(){var t;return t=i.Group.createVariant(),t.expanded=!0,t},t.prototype.removeSelectedElement=function(){var t,e;if(this.selectedParticularElement&&(e=this.selectedParticularElement.element,t=e.parent()))return t.removeChild(e),this.select(null)},t.prototype.groupSelectedElement=function(){var t,e,n;if(this.selectedParticularElement&&(n=this.selectedParticularElement.element,e=n.parent()))return t=i.Group.createVariant(),t.expanded=!0,e.replaceChildWith(n,t),t.addChild(n),this.select(new i.ParticularElement(t))},t.prototype.duplicateSelectedElement=function(){var t,e,n,r,o;if(this.selectedParticularElement&&(o=this.selectedParticularElement.element,n=o.parent()))return t=o.createVariant(),r=o.createVariant(),n.replaceChildWith(o,t),e=n.children().indexOf(t),n.addChild(r,e+1),this.select(new i.ParticularElement(r))},t.prototype.createSymbolFromSelectedElement=function(){var t,e,n,r,o;if(this.selectedParticularElement&&(r=this.selectedParticularElement.element,n=r.parent()))return e=r,o=r.createVariant(),n.replaceChildWith(r,o),this.select(new i.ParticularElement(o)),t=this.createPanelElements.indexOf(this.editingElement),this.createPanelElements.splice(t,0,e)},t.prototype.rootNodes=function(){var t,e,n;n=this.createPanelElements.slice();for(t in i)e=i[t],i.Node.isPrototypeOf(e)&&n.push(e);return n},t.prototype.findUnnecessaryNodes=function(){var t,e,n,r,i,a,u,s,c;for(s=this.rootNodes(),c=[],a=new o({linksToFollow:{master:!0,variants:!1,parent:!1,children:!0}}),e=0,r=s.length;e<r;e++)u=s[e],a.visit(u);for(t=new o({linksToFollow:{master:!0,variants:!0,parent:!0,children:!0},onVisit:function(t){if(!a.hasVisited(t))return c.push(t)}}),n=0,i=s.length;n<i;n++)u=s[n],t.visit(u);return t.finish(),a.finish(),c},t.prototype.controlledAttributes=function(){var t,e;return null!=(t=null!=(e=this.selectedParticularElement)?e.element.controlledAttributes():void 0)?t:[]},t.prototype.implicitlyControlledAttributes=function(){var t,e;return null!=(t=null!=(e=this.selectedParticularElement)?e.element.implicitlyControlledAttributes():void 0)?t:[]},t.prototype.controllableAttributes=function(){var t,e;return null!=(t=null!=(e=this.selectedParticularElement)?e.element.controllableAttributes():void 0)?t:[]},t.prototype.editingElementNodesById=function(){var t,e;return e={},t=new o({linksToFollow:{master:!0,variants:!1,parent:!1,children:!0},onVisit:function(t){return e[u.getId(t)]=t}}),t.visit(this.editingElement),t.finish(),e},t.prototype.performIdempotentCompatibilityFixes=function(){return this.switchExpressionsToUseNodeIdsAsReferences()},t.prototype.switchExpressionsToUseNodeIdsAsReferences=function(){var t,e,n,r,a;for(a=this.rootNodes(),n=new o({linksToFollow:{master:!0,variants:!1,parent:!1,children:!0},onVisit:function(t){var e,n,r,o;if(t.isVariantOf(i.Attribute)&&t.isNovel())return e=t.exprString,o=t.references(),n=e,r={},s.each(o,function(t,e){var i;return i=u.getId(t),n=n.replace(new RegExp(e,"g"),i),r[i]=t}),t.setExpression(n,r)}}),t=0,e=a.length;t<e;t++)r=a[t],n.visit(r);return n.finish()},t}()},function(t,e,n){var r,i,o,a,u,s,c,l={}.hasOwnProperty;s=n(2),r=n(16),i=n(5),u=n(6),a=n(44),t.exports=o={},o.getSerializer=function(){var t,e,n,r;t=[],r=c();for(e in r)l.call(r,e)&&(n=r[e],s.isFunction(n)&&(n=n.prototype),u.assignId(n,e),t.push(n));return new a.Serializer(t)},c=function(){var t;return t=s.clone(i),t.SpreadEnv=r.SpreadEnv,t.Matrix=u.Matrix,t}},function(t,e,n){var r,i,o,a,u;i=n(78),a=n(130),u=n(80),t.exports=o=function(){function t(){this.ref=new i("https://aprtus.firebaseio.com/"),this.authData=this.ref.getAuth()}return t.prototype.loginPromise=function(){var t;return t={scope:"email"},a.authWithOAuthPopupPromise(this.ref,"google",t).then(function(t){return function(e){var n,r;return t.authData=e,r=t.ref.child("users").child(t.authData.uid),n={date:i.ServerValue.TIMESTAMP,email:t.authData.google.email},a.setPromise(r,n)}}(this))},t.prototype.loginIfNecessaryPromise=function(){return this.authData?u():this.loginPromise()},t.prototype.saveUserInformationPromise=function(){return this.loginIfNecessaryPromise()},t.prototype.saveDrawingPromise=function(t){return this.loginIfNecessaryPromise().then(function(e){return function(){var n,r;return n=e.ref.child("drawings"),r={uid:e.authData.uid,date:i.ServerValue.TIMESTAMP,source:t},a.pushPromise(n,r).then(function(t){return t.key()})}}(this))},t.prototype.loadDrawingPromise=function(t){var e;return e=this.ref.child("drawings").child(t),a.getValuePromise(e).then(function(t){return function(t){var e;if(!t.exists())throw new r;return e=t.val()}}(this))},t}(),o.DrawingNotFoundError=r=function(){function t(){}return t}()},function(t,e,n){var r,i,o,a={}.hasOwnProperty;o=n(2),i=n(6),t.exports=r=function(){function t(t){var e,n,r,o;for(this.builtIn={},e=0,r=t.length;e<r;e++)o=t[e],n=i.getId(o),this.builtIn[n]=o}return t.prototype.shouldSerializeProperty=function(t,e){return!o.isFunction(e)&&"__"!==t.slice(0,2)},t.prototype.jsonify=function(t){var e,n,r,u,s,c,l,f;for(s={},c=[],r=function(t){return function(t){return o.isArray(t)?e(t):o.isObject(t)?l(t):t}}(this),e=function(t){return function(t){var e;return function(){var n,i,o;for(o=[],n=0,i=t.length;n<i;n++)e=t[n],o.push(r(e));return o}()}}(this),l=function(t){return function(e){var n;return n=i.getId(e),t.builtIn[n]||s[n]||(s[n]="PROCESSING",c.push(e)),{__ref:n}}}(this),n=function(t){return function(e){var n,i,o,u;o={};for(n in e)a.call(e,n)&&(u=e[n],t.shouldSerializeProperty(n,u)&&(o[n]=r(u)));return i=Object.getPrototypeOf(e),i!==Object.prototype&&(o.__proto=r(i)),o}}(this),f=r(t);c.length>0;)u=c.pop(),s[i.getId(u)]=n(u);return{objects:s,root:f}},t.prototype.dejsonify=function(t){var e,n,r,i,u,s,c,l;c=t.objects,l=t.root,r={},n=function(t){return function(e){var i,o,a,u;return null!=r[e]?r[e]:null!=t.builtIn[e]?t.builtIn[e]:(o=c[e],u=o.__proto,u?(a=n(u.__ref),i=Object.create(a),"function"==typeof i.constructor&&i.constructor()):i={},r[e]=i)}}(this);for(u in c)a.call(c,u)&&(s=c[u],n(u));e=function(t){return function(t,e){var n,o,u,s;n=r[t],u=[];for(o in e)a.call(e,o)&&(s=e[o],"__proto"!==o&&u.push(n[o]=i(s)));return u}}(this),i=function(t){return function(e){var n;return o.isArray(e)?o.map(e,i):o.isObject(e)?null!=e.__ref?(u=e.__ref,null!=(n=t.builtIn[u])?n:r[u]):o.mapObject(e,i):e;
}}(this);for(u in c)a.call(c,u)&&(s=c[u],e(u,s));return i(l)},t}()},function(t,e,n){var r,i,o;r=n(78),o=n(80),t.exports=i={},i.authWithOAuthPopupPromise=function(t,e,n){var r,i;return r=o.defer(),i=r.makeNodeResolver(),t.authWithOAuthPopup(e,i,n),r.promise},i.getValuePromise=function(t){var e,n,r;return e=o.defer(),r=function(t){return e.resolve(t)},n=function(t){return e.reject(t)},t.once("value",r,n),e.promise},i.pushPromise=function(t,e){var n,r,i;return n=o.defer(),r=function(t){return t?n.reject(t):n.resolve(i)},i=t.push(e,r),n.promise},i.setPromise=function(t,e){var n,r;return n=o.defer(),r=function(t){return t?n.reject(t):n.resolve()},t.set(e,r),n.promise}},function(t,e){var n;t.exports=n=function(){function t(){this._images={},this._callbacksToRun={}}return t.prototype.getSync=function(t){return this._images[t]},t.prototype.get=function(t,e){var n;return this._images[t]?e(this._images[t]):this._callbacksToRun[t]?this._callbacksToRun[t].push(e):(this._callbacksToRun[t]=[e],n=new Image,t.startsWith("data:")||(n.crossOrigin="Anonymous"),n.addEventListener("load",function(e){return function(){var r,i,o,a;for(e._images[t]=n,a=e._callbacksToRun[t],i=0,o=a.length;i<o;i++)(r=a[i])(n);return delete e._callbacksToRun[t]}}(this)),n.src=t)},t}()},function(t,e){var n;t.exports=n=function(){function t(t,e,n,r,i,o){this.a=null!=t?t:1,this.b=null!=e?e:0,this.c=null!=n?n:0,this.d=null!=r?r:1,this.e=null!=i?i:0,this.f=null!=o?o:0}return t.prototype.translate=function(t,e){return this.transform(1,0,0,1,t,e)},t.prototype.scale=function(t,e){return this.transform(t,0,0,e,0,0)},t.prototype.rotate=function(t){var e,n;return e=Math.cos(t),n=Math.sin(t),this.transform(e,n,-n,e,0,0)},t.prototype.transform=function(e,n,r,i,o,a){return new t(this.a*e+this.c*n,this.b*e+this.d*n,this.a*r+this.c*i,this.b*r+this.d*i,this.a*o+this.c*a+this.e,this.b*o+this.d*a+this.f)},t.prototype.compose=function(t){return this.transform(t.a,t.b,t.c,t.d,t.e,t.f)},t.prototype.inverse=function(){var e,n;return null!=this._inverse?this._inverse:(e=this.a*this.d-this.b*this.c,n=this.b*this.c-this.a*this.d,this._inverse=new t(this.d/e,this.b/n,this.c/n,this.a/e,(this.d*this.e-this.c*this.f)/n,(this.b*this.e-this.a*this.f)/e))},t.prototype.fromLocal=function(t){var e,n;return e=t[0],n=t[1],[this.a*e+this.c*n+this.e,this.b*e+this.d*n+this.f]},t.prototype.toLocal=function(t){var e,n;return e=t[0],n=t[1],this.inverse().fromLocal([e,n])},t.prototype.origin=function(){return[this.e,this.f]},t.prototype.toSVG=function(){return"matrix("+this.m.join(" ")+")"},t.prototype.canvasSetTransform=function(t){return t.setTransform(this.a,this.b,this.c,this.d,this.e,this.f)},t.prototype.canvasTransform=function(t){return t.transform(this.a,this.b,this.c,this.d,this.e,this.f)},t}(),n.naturalConstruct=function(t,e,r,i,o){var a,u;return a=Math.cos(o),u=Math.sin(o),new n(a*r,u*r,-u*i,a*i,t,e)}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAH6RJREFUeJztnXvYHdO5wH/7+5JICElQSYQQCaFa91slCKqqEWndStGW3mjR6lFaWlGX9pSqOpSWFnU/VU7QVlRQUeJSlVD3xDWSyEVIIvd8+/zxfltmZq81e2bPWrNmvr1+z/M+D8nOrHdm1pq11rveC3g8Ho/H4/F4DFNxrUDB6Qn0AXp3/ndPoFvg76vAcmAFsBRYCCwCVuarpscWrTpAKsDGwJbAUGBzYJPOP9sI6A9sAPRo8vofAvOAucAc4B1gBvA28DrwWuefrW72Bjz50AoDZC1gO2AXYMfO//44sK5LpZCZ5xXgReB5YGqnvInMTJ4C0BUHyHrAXsAoYASwM83PBFGWdMpSZFnVgXTmNqB7Zzu9kMHX3mQbC4AnO+Vx4DHg/Uxae5qmKwyQCrAtMAY4CNiT9J1zMfAqMA14A1kKzQRmA+8C7yH7i1UpdOoJ9AM2BD4GDECWcZsCmwFbAEOQARVHFXgOeBh4APgH8EFCPTwZKesAqSAzw5HA4UhHS8pbyNf5aWAKsryZgZtlTRsyYLZBln3bd8q2hI0BQTqQmeVvnTIFvyTzdLIJ8GPgZaRTJJEXgd8ARwAD81e5KXoCewCnArexZgCr5G3gCmB/9IPK04VpAz4L3I1YfRoNiOXIl/VEYLADfW1QQWbJ44GbkaWf6t7nIB+DEZR3ddCSdAc+CRwA7AcMRzp+HL2QTp5ktliJDKAvIZv0rk4bsBMymz6O+plMB85F9jqegrIncCtyLhB9gQuAa5H1dpDewBnI5rjRwPgP8F1kE9zKDAJOQjbxqln2AeBoxOTtKQDrAjeRbI/QAVyCfPm/hywT4n6/CvgTYsr1y4h6+gPfQczD0Wc3F7iIdEYNj2E2ZI1lJY10NPj7JcD/IKfenmQMA85DNvLRZz0eOSvyH5kc6Q5MJv3giJOlyAwzIMf76Gq0I2dE46lfgv0b2bt5C1gOnIW5gdEB/AEx7XrMMRj4GTCf8PN+Hfg2YmL2WGBdxCXCxOCYBOyQr/otx9rAN6m3Es5EDB+NTvg9KTkOc7PHgTnr3sq0A19AvAuC7+AdZEYx5cfW8lyHuQFyfs66e2SzfiD11q/piIm40bmVpwEqs2KzcmfOunvWUEE8F/5F+J08BeztUK/S8xzmBsiDOevuqaeCOIK+Qvjd3I43tTeFyRlkfM66e/R0Rw4e57Hm/SwFfoI/mU/FtZgbID/PWXdPY/oBlyKeDLX39DLiW9dlMXmKejRwi6FrfRrxHyoz7YhXwfpAX8Ssuhay2a0iDpbLkSQPCxE3kIWdf1dktkXc60cF/uwG4PvI2UqXwuQAGQ68ZOA60zuvVZaEBgMRz9rtgK2RRBCDO/88reVnOXIO8SaS2KEWs/4sxYpVryCn75eyxlF0DmIWvsOVUkVmfZrzv1LJF3PWPS1DgG8hXspRHyebsgC4H7gAMcf2tn2jCdiAevP+rUh/8HSyLmICNNEJbqOYznOfQM5mnie/AdFIVgGPAuOA3XB7TnEgEspc0+0dJPan9GTtjD2AvyJ7hqzcB3weWGbgWiboAxwDfIP0bi/vIsvNaUjHmYlYgd5H9hzLkT1ILRtKL8Tdvx+yZBmILNM2B7ZCXNgbMRsJGrsdSeyQNMGEKdYDfgV8LfBnlwI/Qu635aggzoS6L9zKmL8LymokRqF7vupr2RR5sYtIpv9y5Nzmp4jH7EYWdFof2AeJl7kZ2Z/E6TQHuAxJbJH3jDyGcEzPM8iessY+iMXzCcTz+3fA7jnrmAunoX9BKxArx16IZesDxW/mA1cjGT2KwADgSkT3RoNiPvJxGAOs40JZJAvkMcD1wCz0uk4BTkZmxLwYgKwIajosRmbiO2L0/A1dyOV+H8L28Kh8OfL7dsTCsy8ycLakOL49PYGzkZfYaKa7BxhL8Rz42pDZ4nxkaafSfzHyARiuuYYNnc4gvp+oBknpGUD8F+sSd6qlZhT1rhRR+RBZcpUlTLWC5Na6GNn7qO7pLuBTOekzIkYPleySk15WaAP+jv7mHqEc02RP4Nc03ltcQrkTQnQDDkEMKaqQ5gfJxwHxz4q2dfLrHPSxxvfQ39h7lCP6bwiSVTHuJY2nPDNGUoYhG3fVUnICdgPUXlC0qZPSOqpujTip6W7sMHeqJWYf6kNNg/IuEjzUlVkfOAf5oAXvvQPZ8G9soc00A2Sihfat0068t+7N7lRLzFHEW6j+hh0TbVFZD0k8F7UwLkI21ybN7reTfICUcon1HfQ3NBdxyisyJxCfVugcimNVy5sNkL1W9OPxH2SDbYKxJB8gexhqMzf6oz7HqMlXnWmWjOPQD45lSFJrj+xR7qZ+2XU52f2+KoihoNHgWEAJ0zvFxXlMpthf3s+ht8MvJuyy7RHGIDVSgs9qOjAy43XXoX4AqmQaJTKQbEf80qTI0+En0buLLCH7C+/K9Eb2AsF3vxo5iMyyN6kAByPeFf9GnFyvQ5wdg6fsMxCjUOGJmxb/5FCvRvRBKkap9F6NzCyexoxEvujB5/co4q9mmnbCvn3vIl7UhWV39INjNcXxoYpSQWISdLqf6k61UtKb+mX2fOAzFtpqQ/IvBw1A21loxwh/Qd/JbnWoVyOORK/3TRQz3qQMHEV4ydoBnIn551lB3OaDg6RwM8m2xG+ktnenWix90ZdPeA33pZ/LznDqg8ZuxHx2kwphV6DZSFxMYfg9+sFR5JPOOP+qUe7USkU7YlofjnyIdkAKfA6iGF7E6yKJ/YLP9hHkPMUkFcT7uNbG2xSkpN76xLuUjHWnWixboD8pv96dWrH0QAbuOMSVfjqN3cNnA/8ErkKi94aT/7KxDUnNFNTrJaS8tel2bgy08TIFcB6NC4SaQXG9da9BrfOHFKu6bQUJJPsj8QewaeRt4LdIHHjaGvFZ+AbheiPvYN54053wfvhJHCasqCApZnQv4gJXijVgEPrZ40KHegWpAKMxl+BCJ+8gIcx5BUYdgngkBDfVpj2D1yZcmOmvOPpQb0/8wy/q4c0v0M8eRfAT25xwCGoSmY245U9EOsR9yBnEK8QvgYNyP5KI2vYSbD/CbvTzgR0Nt/ExwmcyV+HAIhldVwZlSt7KJKQn4byxQbnCoV41DmdNxsQ4eQrZi+xL4/jxNmS9PxapFjWZ+Bry/8L+QBlJ2Aw8D/Pm2a0Iu+l/1/D1Y6mgP32uIsmKi8jh6HWOlpjOmzOJHxRLEWdAE8uhDZFN+wMx7d2PWMRsMZJwye9ZwFDDbezHGkPGamTg58LHiX+ZRS2JpgvnfNKlUsAPiX+eN2InOAnEM/fXqKMHVyL7MluZ2Q9AwpVr7U0jWV6vNJwcuP77SBIQ6/wA/cucRTFPoHsS/mIF5b8c6vVljU5VxKX7kJz02ABZNi9R6PEc9tw4jiTs6PgkstE2RYVwytPnycGyNRH9S73RduNNcgB6nXP5qigYjrpDVpEsiy4MHZsgHrRRfZYBX7fUZjR/wZ2YDY3ohXgE165vNW3tWoRNdVE5wVbDGbkQtb6vO9KngqT9VOk0B1n6uOQzhHPo1uRKzJtNoyfhVeA8w21sQbiy8smGr/8RI9EPjir52dTT8iBqfW9wpM9ojT4dFMfVpR/qGPF7MZ8lsjv1HwzTnhiHBa69HClFYZwz0A+OBRRz/1FBX5fdlUv7wxp9ipaIoAKcTr1p+DHMpyjdCPHAqLXxAfLlN8lVgeu/ioX9SFzWiaJWehqEXud9HeizlUaX98g3L24aDqH+0HEy5r2eRxD2MXsKs46XaxNOLXStwWsD4iSn62yXmm7MEKPQ62zLfBrHWRpdiuLqomNv6kOTJ2Leczj6fP7b8PV3IlxRwFh+s97oO1oVcUgrIl9Bre9y3CSSeEijj+uNeRL2pn4muR6zS+t2YFLg+h2I06ZJfhK4/lwM5TnbmfgBso+JRiygO6V+04Eu7ajPY0zUbMyLsdQn6Pie4TaGEn5O0zB7PtIdcaupXf/PGBjkRxM/QGwE6JtA56D4jANdhmh0uc6BLlmIGmtWYj5zTfR85GLD19+e8FLr8KwX/DH6wbGafOML0nAFap0fdaDL3hpdznCgSxYqSGmE4D1Mx6xVqJ3wV34V5k/0g063sxDTdlO0ER/G+C7FLcesy8+Ud20+0Ft9ZueqRXaqiMPju4E/2wLpcKZYTfhArx1x2DS53zkfSX4Hkqkxk6EkLnvJ1CwXtszvUOv8Twe66A4IM0/vjvgi4fvowHxhm2AobRXx3zLJGML679bshZ5EP0D+kVVLi1yOWuenHeiyl0aXoxzoYoIK9V4KkzD7lR9M2L1pGmZNyxUkY3/t+k/ShHWzjfhsFIuaUi0fFmv+vG+uWgi6pZTpTB95UUW8u4PshdlkcW8hcfQ1hmLWcbIKfJ81W4RdkaOB1OjySFUpdnpRnXu+i0HdA3U2kllIPq5lnX8/D/kSj6Mc5yP3YndFMYDw+csMJITBJEFjziyaMDjo4imqSCbCohIXc+FiFklTRam2Lr6VYpetO4h6vU0nDYx6/H7L8PX7Ew4cG5f2AnFVl/5oTE3zjEKvt+mEAUm4IUafOFmAZDcvIu3UVzS+zHAbQwkfUE7D/NHCeYHrLyLlCXtceYOiBkqBJC3Q6X10zrr0IRy8k1ZWImUBishvCes6G/OuPPdE2jAdcdmXsOf3r9L847gXd5tRNc3Shj5yz6TdvhEV4k3lSWUxxUyrdCj1ujZtMtVwcOT6fzd8fZAye7XrL0O8wRMRl+rybuNqmkWXhO3+HHU4VqNDM/IIxYu92Zh6PX9ouI1uwMxIG6arTPUjnH4pcYyO7itcRTxUi8zVqPVeSD4uMu3Ehwo0IzbqbmShQn2K1P+z0E6w5EEV+KmFNoL+e0tJmG1lAfqXVdRkcTVOQK+76ZNfFfvFtN+sFNG0Hi158IqFNnaLtDEN87NpNEXtz5L8ozfQv6y3DStommHodT8rh/Yvjmm/WfmA4jmIBvPiVpGYG9Odt436ZZYNa2TQ2vg+DaIn25AXoqM/xa5iOx05XFIxOof2bSTTW4+C1MEIEB0MPTAf992BuIYEOdRwGyAuSjX60KCMeRuyxNLRnWIkf9ZRRZI6q/gU9mtu2wrtNRIJZxBVTL3pE2+oz39go9jqU51S4xRiJoE25CAojs0MKGUTnaWtAhxhue0iz66m0IVErLTQ1sOR/98J82lLQYw7NbYEPq37YRtSTyKOohd1vx9xl1FxnOW251m6btysnjfDqA+LXY1YCk0zE3FiDLK3hXZuI9xntO4tSQZIoYonKliKRMGp2BX4pMW2n7NwzSW4ywypYn/Fn81C9gw2iIYrmE7sAHIoe0fg/w9BsxxvQza6cRS1HnqQOJeYkyy2q9v/ZOEB7CxfmuWLij971WJ70SA9W+b6YJ/pBhyj+2GjsgfPWlLQJO2ISVql/2IyxCQ3oAf1znxZJa/M70nYDrWOpnNaBTkq0tYS7Oz1uiGhxQ37eU/iHRZXYsdiYZqgr01UfmSx3W/HtJtWnqZYG/+oE2FN9rPYZvTAsIr5VKU1oq722opYLyuUCsqulhQ0yQD0rvtzMJt/KUg7+py8aWWUJR2bQeWkWEU20jYLaKp8v2xVkYqWz9AWqY3LzVsFvmNJQdNci/4ebBbU6U98+bqkMhXzdf2aYRh6F6RzLbfdQ9GmrX1kD8J+Zi/qfhhM2aiSWywpaJpt0C8X52E3ifQgwvmempXlwNmYz42blEGEq8kG5QPyibOPOtCarisSJDo5KI1SBxL/0t6ieG7YOv4X/X0kck7LwFqIF2qch3RSeQlJXZPnc/84YmLW6ZRXVdn5kXZ/G//zTHwt0pYy2V8/Gr8w09VKbbEN+pLIy7C34QuyEVJ/YxLhmP9VyDR+JZLz+Fgal4iejPiV2dy8twHfRF30syYPk58TZbSs960W29o80tYk3Q9fIv5FnWhRSdPE7UXuId+vcgUJ+dwQdTbIoUjhmiQzymmY9dOqIBvVuNxoVWRjnmdJiWj8yT2W23st0NZKxGG0Dl2mwpqMt6ykSQYRn63lMHeqKWlHcjjF6Ryche5HnOy2prnBvimSRPrZBO3Nx643QpQK4eTTVeq9fE3zx0h7yrOoaLrJqCymHOchNc5Gfy+zgfXdqaZlMPF7KJXMRfJXXYQskw4G9kQc/XZGlnKHI0u+62i8UgjKW8C2Vu+4nnUVetxruc1vRtr7pepH/RWKReUgy4qaZC0k8k13LzbXtVnZHXFjSTNQTMt9uHG7V5WysxHiG2THSHtP6n74tEK5oFxjWVHT7E/8/RzrTrVE7IoM5OiSw6bMR6qKuTrRjx7eVbGfwLA74TzBK5E67HWcr1AuKPPQlx0oKr9Hfz+LkHiAotMfWSI9g92BcS5uslIGOZl63fKoEhzNa7an6kd7KJSLiq1jf1v0QdbSuvuZij03FBsMRQbLg8ihYpZBsRzZAB9HcZ7BNdTraTrNkIroRv1k1Y/aCNe0VsnNOShrmn2Jd8i8hfIchAbpiXzpTkGskA8g+64FhPOdLUNMtU8jdfvOQdILrZO/yg2ZQv37ySNT5o8ibf5B98PLFAoGZQnFrfsdR7Asl0ry+ErlTTvF8g5uRF/Uh7w759D2YZE2tRv1kQoFo1KmQ8Ma3ZHqU3H3VdaKUF0FlQdxB/ks/3aKtLsYzceljXh/nCqyWSzjkmRj5AxEd1/LsBPi6UnG9dS/k+dzansDRdvaCs8XKH4cFeUuvwSMIL7kw/u4KZ/Q6vQknIG9Jtfm1H6FsKm3Skx8juqwJipFPmhrxPHE39scxLPVkx86Tw5trLgF3oy0fULcjx8ivhOtongZANNwIfH3N5tyJKzoKkxCvf+wkRdLR/SgfFzcj6PB8ypJVYikYFSot32rZhLTJcc8YjAZgLiytKOOQ68i5SDyJFrZN9ZzZC3iN7RVxPu0rJVcQV6ULjFBTRYg+xZPNnohoduPEXadWY4+vPeUnHUcH2lfl2/tI8YR33mqiHtKmemFHLDF3eNSYKwrBbsAexNfRUAlK8j/43tbRIfJjf5Bfxq7MyykmK7jaViHxnuuDiTktIzmbZccSnPOljc40DW65NYmcQii8o2Jiu1Y7zxYG6mN1+her0aWn57G7Ei96TSpjHGg7/URHRoldgfE21UX4x3ciww0rm7+9KR+HaqSyaQoAtmiVNDXkEwitoOkVERnkLjaOSGSRLnZzDyRJ92Id5GvyVyKV0+wSOxL84OjJnlX/b010v6ypP/wE8R7w1aRc5GucrhWoXGusJpcjLscVkXmCrIPkLwdSKOrh1Vp/nF0dBVlWrTJ0SRbQ09FEj171hCta9iM5F3QNGrNTDVAtqbxXqSKm82VTXZFnzk+KCuQiDw/mwgmUrE+lLPO0YjNFWkv0Cg1UBXJMaSM5y0xG9H4rKQmLyCZRFodVeBTWsl7RRL9EKauojWQZLmbtFmyS0w7kiO20V6sJjcDmzjRtBikTV+kksvrrmqPdsJRmFWkfkhqxtH4xlZSjCzlNtiHZEuuKhJ9eR4NanF3UaK5ppqRPIsJqcouvNLMhdYmWQd5Art1JFzSF0lFk/RFz0XKLxQlMUIeHES2wfEm+WbQGaHQQRt224gjFRdTyQ8yqVx8xiLJEJK+9DnAmZQzpj8pPZFQgiQGnThR1Ua0yZcVOjSdE7gCTFRcMCrLyD91Zd70Ba4i3cv/AElvuXn+6lrlQOKzWSaVK/JWHEndGtUjU6LErUiWl+kZWsP0uTvpXSs6EJfq0ZR7OboLMIHsA6OKFAh1kYnlXoUuP8l60aSnzRdlbagktANfJd2yqyYzgF+Qbyb1LFQQd5K/kPwe43IBTELc4l1QIVzxtiaZU9P2QE6RkzycVvJbWgdJRKZKQpBEXkDibHameHmtNgROBZ4j3T1NAD6GHDgfj1hDz0E+KK6LM22GWufdTVx8J+rtxyqZQ+t5wPZDzLzRgjBpZCbiZXocMWloLDMIMdveS7J3HZRlSC2Sog30IF9CrbsxY8q5mgai8gjlS35tgj7IjNIohDmJvIUcwp2BZEIfiNkgrm6IYeUriIf2ixl0fQjZqxadq1E/Z2MPtjsSa7xLgt9ehnxRWpG1EAfIU5CZ1xTvA9MRN58ZyKwzF3gPyWC/BDm8rSADoCdSZqwfEjW6MTAEWeoMJ7tRZQYygGshrEWmglT1jdauvAv4vMmGtiS+CGRQil6XwzYVZH37e5I/szLIHCTzfJl88YajvpfMFiwVX9U0plqX7mZDgRLSG/lgTCDfQjkm5TUkXr+I2eIbcTrqe/q0jcYqwI2aBqMyC3ebzqKyAWLhGU8yp1CXsgIpjTaa/MpD20AVt7IS+XBZoTdipkzykKeiKbnroSeyCb8IyfiX1IvYpixCBu9XcF+JygSbo77Px2w3vA3yMJM89PtoTctWWvoBn0P8nO5DNuG2B8RCpOT0OORQsKt5ROgqIY+r/cBmjqdDgTsS/vYm5KvUYU+dLkcFMfFu0ylDkC/iJohlqj+Ny3ZXkTOaWYjl600kEvBVJODpdbruO6kg96k6pNwNcRuyTqOioEH5FT4pm2l6IPuaTZEBtCUyiAYiS6QiH97ZRlVNt4p8KHJ7Lm3AnRpFVPLTvBTztDx3oe6DeUYxAmL6+5dGGZWcmbeCnpZjOHqjx0gXCm1MfXGSODnNhZKeluEPqPvd6zhc5m+LPs29Srp6NKLHDUPQH8haOT1Pw15IKYGkg+RsN2p6ujC6okmrKUgWmjGkc5n+Od665THDduj3Hnc61KuOo0l3MnwN5Q5J9binghx66vqYk815HCeQfIDURnijgy+PR8fh6PvWZAq6SvkW6QbJo0jYpseThr7E5wk42J1qjUk7SKYjdmyPJylxVdKeoKCzR5DjSZdo7D1gfyeaesrGaOL7kpW4DxscSbqAoVVI6G7hR7/HGf1Rp/OpyQR3qjXH55D46TRLruspV4inJx/aibdarUS8oEvHp4B5pBskzwDDXCjrKSwXEN9nSp3McDjiF5NmkCxETHkezxHE95U3sBhSmxcDEAtDmkFSBX5Da5UZ8ITZncbuTAc4084wvWiuUtELwA4O9PW4ZUsk9VCjD2iXog0JpEo7SFYgycvKnHHDk5zByNIprk+8SMrURGUykX4BuIH0a8fHkXOWl4xrlA8VxMt0GBJX0wfxS1uOJMaYjWQGrFX9akUGAQ8TnwR7GbL8ejYXjRyxDdLR084my5BIxbJkTxmEpCe9B5hPsnucD9wNnExrJQkfTLKiPce7UjBv1mNNzte0MhXYI3+VE1FBTn3/TvYcWB1IaqDRdO3EDFuTrF6mi4pVTqkAJyIzQzOd5yokz1RR+AySHC7LoNDJFKQ0WldjBMnOyyZSnpWDcXYgeRbHqMwDTsJtnEl/4Haa0z+t3ImYzrsCx5Cs/N9zdI0MkJlYG5lCm+04z+LG8XF/4v2EbMhcyl3pqxvqYpsqeYPW2os1ZDSSIbDZzjMB2DEnXb9N9jLJzUoHYgAoGwOAf5DsHmfiXY+UrI8+KD+p3IIcONnirIz6mZJzLN6jacaSPBfxLErqhJgnY4B3aL7zrEbOXEyXDzstg0425AzD92eavkiRoaT38zblKPlWCNZDyr1lMZmuBm5GsmFkZWwGPWzKEQbuzQZjSVdO+yWkWq0nJbtixoQ6AdiP5rwPhpCt0q1NWYTdJWVahiEHpGnu4VEkSbenSdqBr2OmpsaUzmsl9RhuAyYZaNemTMa9z1o/xEKVxHwblBvx2W6M0Q+4FHFkzNqpFgCXIKe5cRxvoK085MRkj9A46yBuQGnS0laR5e/plMufsDQMpTk3ep08CnwNWDfSTi/SraNdyhzyDSLqC/yY9NGjVcRSNSpHXVuW3RFXBFOdbAniJzYWqYn+XYPXzkNOz/Y4EzEMMZ4kLdEXlb8AG+WgpyfAKOARzHa2BUgYsOtOn0bews5epAdwGHAvzVsVFyOuQX5J5YgK4v7xAO47qkv5bNYH2UkF2BNxA8pqHJmIWAI9BWEPJLbCdWd1IddleG49kERsl5OuYJJOZgPH4meNwjIcuJL0ubrKLLNJ3iHbge2BU5Gzi8WGdFiBFHVteU/csrABYop8DfcdOA9R5T5uQ5Y5hyI5pyZg5/DzT8SHzuaKn7rS0YakjDkJyQju+nDNFr8Enkdi4Ici5fO2xa4ZeDxwLhL16ekC9EecD5/F/Re/rLIKcQr9RMpn7ykRFWQd/nPSZ4NsVZkHXEhBagJ68qOCHD4mybLRivIAcBRyiOppYVrVRKySKYiBY3CmJ+oIXxjTDqtcK+CQ1cBjiNn3TqQiWGnxA8QOy1wrkDMvAw92ykTgfbfqmMMPEDu861oBi8wF/t0pj3fKHKcaWcQPEDu85lqBjKwEXkWsctOR3L/PI8mfZyN7C4+nafbF/eY4i4wy/kRKij9Jt0NvZB1expP21YgP1GLXihSBrpzY2CWLkTjvMvIEfnB8hB8g9hjvWoEmucu1Ap7WYAByHuJ6P5FGOoBNbTwMj0eFycQQeYifPTy5sjPuO30aGWHnMXg8evKq/5FV/mbrAXg8cWwGfIj7ARAny1FHEXo8uXAK7gdBnPzQ3q17PI2pIAnPXA8ElUyknAeani5GX5orYW1TpgEb2rxpjycNg0lWtjgPmUmBsod4PDWG4D590BsUqyaIxxOiPxJ152JwPA4MtH+LHk82egAXk61EXBrpQOqZ9Mjj5jweU+wBPIPdwTEFf0ruKTHtSJLmFzA7MF4EjsObcT1dhDYkO/qNNJ/3diFwE5Ii1YczZMRHFBaX7kgSupFI5sYtkc11386/W4VELc5CzjOmIqXgJiPZ0T0G+H+5fjjrAh/ysQAAAABJRU5ErkJggg=="},function(t,e,n){var r,i,o,a,u,s,c;u=n(2),c=n(79),s=n(45),o=n(8),i=n(5),a=n(6),r=n(131),o.create("ApparatusCanvas",{contextTypes:{project:i.Project,hoverManager:o.HoverManager,dragManager:o.DragManager},propTypes:{className:String,element:i.Element,cacheRect:Boolean,screenMatrixScale:Number,hideGrid:Boolean,highlightControllers:Boolean,highlightNonControllers:Boolean,showControlPoints:Boolean,enableGeneralInteraction:Boolean,enableControllerInteraction:Boolean,enablePanAndZoom:Boolean},render:function(){var t,e,n;return n=this.props,e=n.className,t=n.children,o.div({className:e,onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onMouseMove:this._onMouseMove,onWheel:this._onWheel},o.HTMLCanvas({ref:"HTMLCanvas",draw:this._draw}),t)},componentWillMount:function(){return this._imageCache=new r},componentDidMount:function(){return window.addEventListener("resize",this._onResize)},componentWillUnmount:function(){return window.removeEventListener("resize",this._onResize)},_draw:function(t){var e,n,r,i,o,a,s,c,l,f;for(e=this.props.element,c=this.context,s=c.project,i=c.hoverManager,r=function(t){return function(e){var n,r,o,a;if(n=e.particularElement,t.props.highlightControllers&&(null!=(r=i.controllerParticularElement)?r.isAncestorOf(n):void 0))return{color:"#c00",lineWidth:2.5};if(t.props.highlightNonControllers){if(null!=(o=s.selectedParticularElement)?o.isAncestorOf(n):void 0)return{color:"#09c",lineWidth:2.5};if(null!=(a=i.hoveredParticularElement)?a.isAncestorOf(n):void 0)return{color:"#0c9",lineWidth:2.5}}}}(this),f=u.extend(this._graphicsOpts(),{ctx:t,highlight:r}),this.props.hideGrid||e.isGridHidden||this._drawBackgroundGrid(t),l=this._graphics(),o=0,a=l.length;o<a;o++)n=l[o],n.render(f);if(this.props.showControlPoints)return this._drawControlPoints(t)},_drawControlPoints:function(t){var e,n,r,i,o,a,s,c,l,f;for(r=this.context.hoverManager,a=this._controlPoints(),c=[],i=0,o=a.length;i<o;i++)n=a[i],t.save(),t.beginPath(),s=n.point,l=s[0],f=s[1],t.arc(l,f,this._controlPointRadius,0,2*Math.PI,!1),e="#09c",n.attributesToChange.length>0&&u.intersection(n.attributesToChange,r.attributesToChange).length>0&&(e="#c00"),t.fillStyle=n.filled?e:"#fff",t.fill(),t.strokeStyle=e,c.push(t.stroke());return c},_drawBackgroundGrid:function(t){var e,n,r,i,o,u,s;for(i=this.context.project,r=null!=(o=i.selectedParticularElement)?o.contextMatrix():void 0,null==r&&(r=new a.Matrix),r=this._viewMatrix().compose(r),t.save(),t.beginPath(),r.canvasTransform(t),u=e=-10;e<=10;u=++e)t.moveTo(u,-10),t.lineTo(u,10);for(s=n=-10;n<=10;s=++n)t.moveTo(-10,s),t.lineTo(10,s);return t.restore(),t.save(),t.strokeStyle="#eee",t.lineWidth=.5,t.stroke(),t.restore(),t.save(),t.beginPath(),r.canvasTransform(t),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.restore(),t.save(),t.strokeStyle="#ccc",t.lineWidth=1,t.stroke(),t.restore()},_controlPointRadius:5,_controlPoints:function(){var t,e,n,r,i,o,a;if(o=this.context.project,a=o.selectedParticularElement,!a)return[];if(i=a.accumulatedMatrix(),!i)return[];for(i=this._viewMatrix().compose(i),e=a.element.controlPoints(),n=0,r=e.length;n<r;n++)t=e[n],t.point=i.fromLocal(t.point);return e},_hitDetectControlPoint:function(t){var e,n,r,i,o,u;for(o=this._mousePosition(t),n=this._controlPoints(),u=this._controlPointRadius*this._controlPointRadius,r=0,i=n.length;r<i;r++)if(e=n[r],a.quadrance(o,e.point)<=u)return e;return null},_onMouseDown:function(t){var e;return t.preventDefault(),a.clearTextFocus(),e=this._isDoubleClick(),this._updateSelected(t,e),this._updateHoverAndCursor(t),this._startAppropriateDrag(t)},_onMouseMove:function(t){var e;if(e=this.context.dragManager,!e.drag)return this._updateHoverAndCursor(t)},_onMouseEnter:function(t){var e,n,r;if(e=this.context.dragManager,"createElement"===(null!=(r=e.drag)?r.type:void 0))return n=e.drag.element,this._createElement(t,n)},_onMouseLeave:function(t){},_onWheel:function(t){if(this.props.enablePanAndZoom)return t.preventDefault(),this._zoom(t)},_isDoubleClick:function(){var t,e,n;return e=400,null==this._lastMouseDownTime&&(this._lastMouseDownTime=0),t=Date.now(),n=t-this._lastMouseDownTime<e,this._lastMouseDownTime=t,n},_onResize:function(){return this.refs.HTMLCanvas.resize(),this._rectCached=null},_intent:function(t){var e,n,r,i,o,a,u,s,c,l,f,h,p;if(i=this.props.element,f=this.context.project,p=f.selectedParticularElement,o=this._hitDetect(t),i.clearHoveredAttr(),o&&o.length)for(a=0,u=o.length;a<u;a++)l=o[a],null!=(h=l.element.hoveredAttr())&&h.setOverrideValue(l.spreadEnv.toBooleanSpread());return n=this._hitDetectControlPoint(t),r=function(){var t,e,r;if(n)return null;if(!o)return null;for(e=0,r=o.length;e<r;e++)if(t=o[e],t.element.isController())return t;return null}(),s=function(){var t,e,r,i,a,u;if(n)return p;if(!o)return null;if(!p)return null!=(u=o[o.length-2])?u:o[o.length-1];for(e=r=0,i=o.length;r<i;e=++r)if(t=o[e],a=o[e+1],!a||a.isAncestorOf(p))return t}(),c=function(){return s?r||n?p:(null!=p?p.isAncestorOf(s):void 0)?p:s:null}(),e=n?n.attributesToChange:r?r.element.attributesToChange():c?c.element.attributesToChange():[],{controlPoint:n,controller:r,nextSelectDouble:s,nextSelectSingle:c,attributesToChange:e}},_updateHoverAndCursor:function(t){var e,n,r,i,o,a;if(i=this.context.hoverManager,a=this._intent(t),n=a.controlPoint,r=a.controller,o=a.nextSelectSingle,e=a.attributesToChange,this.props.enableGeneralInteraction&&(i.hoveredParticularElement=o),this.props.enableControllerInteraction)return i.controllerParticularElement=r,i.attributesToChange=e},_updateSelected:function(t,e){var n,r,i,o;if(this.props.enableGeneralInteraction)return i=this.context.project,o=this._intent(t),n=o.nextSelectDouble,r=o.nextSelectSingle,e?i.select(n):i.select(r)},_startAppropriateDrag:function(t){var e,n,r,i,o,a,u,s,c,l;return c=this.context.project,l=this._intent(t),r=l.controlPoint,i=l.controller,o=l.nextSelectSingle,n=l.attributesToChange,r&&(s=c.selectedParticularElement),this.props.enableControllerInteraction&&null==s&&(s=i),this.props.enableGeneralInteraction&&null==s&&(s=o),s?(e=s.accumulatedMatrix(),u=this._mousePosition(t),a=this._viewMatrix().compose(e).toLocal(u),this._startDrag(t,s,n,a)):this.props.enablePanAndZoom?this._startPan(t):void 0},_startDrag:function(t,e,n,r,i){var o;if(null==i&&(i=!1),o=this.context.dragManager,o.start(t,{onMove:function(t){return function(u){var c,l,f,h,p,d,g,v,m,y,b,w;if(i||o.drag.consummated){for(l=t._mousePosition(u),p=function(){var t,e,r;for(r=[],t=0,e=n.length;t<e;t++)c=n[t],r.push(c.value());return r}(),m=function(){var t,e,r;for(r=[],t=0,e=n.length;t<e;t++)c=n[t],r.push(a.precision(c.exprString));return r}(),g=function(i){var o,u,s,f,h,p,d;for(s=u=0,f=n.length;u<f;s=++u)c=n[s],d=i[s],c.setExpression(d);return h=e.accumulatedMatrix(),p=t._viewMatrix().compose(h).fromLocal(r),o=a.quadrance(p,l)},w=a.solve(g,p),y=[],h=f=0,d=n.length;f<d;h=++f)c=n[h],b=w[h],v=m[h],s.command&&(b=a.roundToPrecision(b,v-1)),b=a.toPrecision(b,v),y.push(c.setExpression(b));return y}}}(this)}),i)return o.drag.onMove(t)},_createElement:function(t,e){var n,r,o,a,u,s;return r=this.props.element,s=this.context.project,u=r,o=e.createVariant(),u.addChild(o),a=new i.ParticularElement(o),s.select(a),n=a.element.attributesToChange(),this._startDrag(t,a,n,[0,0],!0)},_startPan:function(t){var e,n,r,i;return n=this.props.element,e=this.context.dragManager,i=this._mousePosition(t),r=this._viewMatrix().toLocal(i),e.start(t,{onMove:function(t){return function(i){var o,a,u,s;if(e.drag.consummated)return a=t._mousePosition(i),o=t._viewMatrix().toLocal(a),u=c.sub(o,r),n.viewMatrix=(s=n.viewMatrix).translate.apply(s,u)}}(this)})},_zoom:function(t){var e,n,r,i,o,a,u;return e=this.props.element,o=Math.pow(1.001,-t.deltaY),r=this._mousePosition(t),i=this._viewMatrix().toLocal(r),a=i[0],u=i[1],n=e.viewMatrix,n=n.translate(a,u),n=n.scale(o,o),n=n.translate(-a,-u),e.viewMatrix=n},_hitDetect:function(t){var e,n,r,i,o,a,s,c,l,f,h;for(l=this._viewMatrix(),a=this._mousePosition(t),f=a[0],h=a[1],n=u.extend(this._graphicsOpts(),{x:f,y:h}),r=null,s=this._graphics(!0),i=0,o=s.length;i<o;i++)e=s[i],r=null!=(c=e.hitDetect(n))?c:r;return r},_mousePosition:function(t){var e,n,r;return e=this._rect(),n=t.clientX-e.left,r=t.clientY-e.top,[n,r]},_rect:function(){var t;return null!=this._rectCached&&this.props.cacheRect?this._rectCached:(t=o.findDOMNode(this),this._rectCached=t.getBoundingClientRect())},_graphics:function(t){var e;return null==t&&(t=!1),t&&this._cachedGraphics?this._cachedGraphics:(e=this.props.element,this._cachedGraphics=e.allGraphics())},_viewMatrix:function(){var t,e,n,r,i,o,u,s;return i=this.props,t=i.element,u=i.screenMatrixScale,r=this._rect(),s=r.width,n=r.height,o=new a.Matrix(u,0,0,(-u),s/2,n/2),e=t.viewMatrix,o.compose(e)},_graphicsOpts:function(){var t,e;return e=this._viewMatrix(),t=this._imageCache,{viewMatrix:e,imageCache:t}}}),o.create("EditorCanvas",{contextTypes:{editor:i.Editor,project:i.Project},render:function(){var t,e,n,r,i,a;return a=this.context,e=a.editor,i=a.project,t=i.editingElement,r=e.layout,n=o.div({className:o.cx({LayoutMode:!0,FullScreen:r.fullScreen,"icon-fullscreen":!r.fullScreen,"icon-edit":r.fullScreen}),onClick:this._toggleLayout}),r.fullScreen?o.BareViewerCanvas({element:t},n):o.Dropzone({className:"EditorCanvasDropzone",onDrop:this._onFilesDrop,disableClick:!0,activeClassName:"dropActive",rejectClassName:"dropReject",accept:"image/*",multiple:!1},o.BareEditorCanvas({element:t},n))},_toggleLayout:function(){var t;return t=this.context.editor.layout,t.toggleFullScreen()},_onFilesDrop:function(t){var e,n;if(t[0])return e=t[0],n=new FileReader,n.onloadend=function(t){return function(){var e;return e=n.result,t._createImageElement(e)}}(this),n.readAsDataURL(e)},_createImageElement:function(t){var e,n,r,o,a;return o=this.context.project,e=o.editingElement,r=i.Image.createVariant(),n=r.childOfType(i.ImageComponent),a=n.getAttributesByName().url,a.setExpression('"'+t+'"'),e.addChild(r)}}),o.create("BareEditorCanvas",{render:function(){return o.ApparatusCanvas({className:"BareEditorCanvas",element:this.props.element,cacheRect:!0,screenMatrixScale:1,hideGrid:!1,highlightControllers:!0,highlightNonControllers:!0,showControlPoints:!0,enableGeneralInteraction:!0,enableControllerInteraction:!0,enablePanAndZoom:!0,children:this.props.children})}}),o.create("BareViewerCanvas",{render:function(){return o.ApparatusCanvas({className:"BareViewerCanvas",element:this.props.element,cacheRect:!1,screenMatrixScale:1,hideGrid:!0,highlightControllers:!0,highlightNonControllers:!1,showControlPoints:!1,enableGeneralInteraction:!1,enableControllerInteraction:!0,enablePanAndZoom:!1,children:this.props.children})}}),o.create("ThumbnailCanvas",{render:function(){return o.ApparatusCanvas({className:"ThumbnailCanvas",element:this.props.element,cacheRect:!0,screenMatrixScale:.1,hideGrid:!0,highlightControllers:!0,highlightNonControllers:!0,showControlPoints:!1,enableGeneralInteraction:!1,enableControllerInteraction:!1,enablePanAndZoom:!1})}})},function(t,e,n){var r,i,o,a;a=n(2),i=n(8),r=n(5),o=n(6),i.create("AttributeRow",{propTypes:{attribute:r.Attribute},contextTypes:{project:r.Project,hoverManager:i.HoverManager},render:function(){var t;return t=this.props.attribute,i.div({className:i.cx({AttributeRow:!0,isInherited:!t.isNovel(),isWrapped:this._isWrapped(),isGoingToChange:this._isGoingToChange()})},i.div({className:"AttributeRowControl"},i.div({className:i.cx({AttributeControl:!0,Interactive:!0,isControllable:this._isControllable(),isControlled:this._isControlled(),isImplicitlyControlled:this._isImplicityControlled()}),onClick:this._toggleControl})),i.div({className:"AttributeRowLabel"},i.AttributeLabel({attribute:t})),i.div({className:"AttributeRowExpression"},i.Expression({attribute:t})))},_isWrapped:function(){var t;return t=this.props.attribute,t.exprString.indexOf("\n")!==-1},_isGoingToChange:function(){var t,e;return t=this.props.attribute,e=this.context.hoverManager,a.contains(e.attributesToChange,t)},_selectedElement:function(){var t,e,n;return t=this.context.project,n=null!=(e=t.selectedParticularElement)?e.element:void 0},_isControlled:function(){return a.contains(this.context.project.controlledAttributes(),this.props.attribute)},_isImplicityControlled:function(){return a.contains(this.context.project.implicitlyControlledAttributes(),this.props.attribute)},_isControllable:function(){return a.contains(this.context.project.controllableAttributes(),this.props.attribute)},_toggleControl:function(){var t,e,n,r;if(t=this.props.attribute,e=this.context.project,r=null!=(n=e.selectedParticularElement)?n.element:void 0)return this._isControlled()?r.removeControlledAttribute(t):r.addControlledAttribute(t)}}),i.create("AttributeLabel",{propTypes:{attribute:r.Attribute},contextTypes:{dragManager:i.DragManager,hoverManager:i.HoverManager},mixins:[i.AnnotateMixin],render:function(){var t,e;return t=this.props.attribute,e=this.context.hoverManager,i.div({className:i.cx({AttributeLabel:!0,Interactive:!0,isHovered:e.hoveredAttribute===t,isGoingToChange:a.contains(e.attributesToChange,t)}),title:o.getId(t),onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},i.EditableText({className:"EditableTextInline Interactive",value:t.label,setValue:function(e){return t.label=e}}))},annotation:function(){return{attribute:this.props.attribute}},_onMouseDown:function(t){var e,n,r,i;if(!o.closest(t.target,".EditableTextInline"))return e=this.props.attribute,i=this.context,n=i.dragManager,r=i.hoverManager,t.preventDefault(),n.start(t,{type:"transcludeAttribute",attribute:e,x:t.clientX,y:t.clientY,onMove:function(t){return n.drag.x=t.clientX,n.drag.y=t.clientY},onDrop:function(){return r.hoveredAttribute=null},onCancel:function(t){return function(){return t._transcludeIntoFocusedExpression()}}(this)})},_transcludeIntoFocusedExpression:function(){var t,e,n,r;if(t=this.props.attribute,r=document.querySelector(".CodeMirror-focused"))return n=o.closest(r,".ExpressionCode"),e=n.annotation.component,e.transcludeAttribute(t)},_onMouseEnter:function(t){var e,n,r,i;if(e=this.props.attribute,i=this.context,n=i.dragManager,r=i.hoverManager,null==n.drag)return r.hoveredAttribute=e},_onMouseLeave:function(t){var e,n,r;if(r=this.context,e=r.dragManager,n=r.hoverManager,null==e.drag)return n.hoveredAttribute=null}}),i.create("AttributeToken",{propTypes:{attribute:r.Attribute,contextElement:"any"},contextTypes:{dragManager:i.DragManager,hoverManager:i.HoverManager},render:function(){var t,e;return t=this.props.attribute,e=this.context.hoverManager,i.span({className:i.cx({ReferenceToken:!0,isHovered:e.hoveredAttribute===t,isGoingToChange:a.contains(e.attributesToChange,t)}),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this._label())},_label:function(){var t,e,n,r,i;return i=this.props,t=i.attribute,e=i.contextElement,r=t.parentElement(),n=!!e&&r.isAncestorOf(e),n?t.label:r.label+"’s "+t.label},_onMouseEnter:function(t){var e,n,r,i;if(e=this.props.attribute,i=this.context,n=i.dragManager,r=i.hoverManager,null==n.drag)return r.hoveredAttribute=e},_onMouseLeave:function(t){var e,n,r;if(r=this.context,e=r.dragManager,n=r.hoverManager,null==e.drag)return n.hoveredAttribute=null}})},function(t,e,n){var r,i,o,a;a=n(2),i=n(8),r=n(5),o=n(6),i.create("CreatePanel",{contextTypes:{project:r.Project,editor:r.Editor},render:function(){var t,e,n;return n=this.context.project,e=this.context.editor.layout,e.fullScreen?null:i.div({className:"CreatePanel"},i.div({className:"CreatePanelContainer"},i.div({className:"Header"},"Symbols"),i.div({className:"Scroller"},function(){var e,r,a,u;for(a=n.createPanelElements,u=[],e=0,r=a.length;e<r;e++)t=a[e],u.push(i.CreatePanelItem({element:t,key:o.getId(t)}));return u}(),i.div({className:"CreatePanelAddItem"},i.button({className:"AddButton",onClick:this._createNewElement})))))},_createNewElement:function(){var t,e;return e=this.context.project,t=e.createNewElement(),e.createPanelElements.push(t),e.setEditing(t)}}),i.create("CreatePanelItem",{contextTypes:{project:r.Project,dragManager:i.DragManager},propTypes:{element:r.Element},render:function(){var t;return t=this.props.element,i.div({className:i.cx({CreatePanelItem:!0,isEditing:this._isEditing()})},i.div({className:"CreatePanelThumbnail",onMouseDown:this._onMouseDown},i.ThumbnailCanvas({element:t})),this._isEditable()?i.span({},i.div({className:"CreatePanelItemEditButton icon-pencil",onClick:this._editElement})):void 0,this._isEditable()&&!this._isEditing()?i.div({className:"CreatePanelItemRemoveButton icon-x",onClick:this._remove}):void 0,i.div({className:"CreatePanelLabel"},i.EditableText({value:t.label,setValue:this._setLabelValue})))},_isEditing:function(){var t,e;return t=this.props.element,e=this.context.project,t===e.editingElement},_isEditable:function(){var t,e;return e=this.props.element,t=a.values(r),!a.contains(t,e)},_setLabelValue:function(t){return this.props.element.label=t},_editElement:function(){var t,e;return t=this.props.element,e=this.context.project,e.setEditing(t)},_remove:function(){var t,e;return t=this.props.element,e=this.context.project,e.createPanelElements=a.without(e.createPanelElements,t)},_onMouseDown:function(t){var e,n;return e=this.context.dragManager,n=this.props.element,t.preventDefault(),o.clearTextFocus(),e.start(t,{type:"createElement",element:n,onCancel:function(t){return function(){if(t._isEditable())return t._editElement()}}(this)})}})},function(t,e,n){var r,i;i=n(8),r=n(5),i.create("Editor",{propTypes:{editor:r.Editor},childContextTypes:{editor:r.Editor,project:r.Project},getChildContext:function(){var t;return t=this.props.editor,{editor:t,project:t.project}},render:function(){return i.MouseManagersWrapper({},i.div({className:"Editor"},i.DragHint({}),i.CreatePanel({}),i.div({className:"Center"},i.Menubar({}),i.EditorCanvas({})),i.RightPanel({})))}}),i.create("MouseManagersWrapper",{childContextTypes:{dragManager:i.DragManager,hoverManager:i.HoverManager},getChildContext:function(){return{dragManager:this._dragManager,hoverManager:this._hoverManager}},
componentWillMount:function(){return this._dragManager=new i.DragManager,this._hoverManager=new i.HoverManager},render:function(){var t,e,n,r,o;return r=this.props,e=r.className,t=r.children,n=null!=(o=this._dragManager.drag)?o.cursor:void 0,i.div({className:i.cx({MouseManagersWrapper:!0,CursorOverride:null!=n}),style:{cursor:null!=n?n:""}},t)}}),i.create("ContextWrapper",{propTypes:{childRender:Function,context:Object},childContextTypes:{editor:r.Editor,project:r.Project,dragManager:i.DragManager,hoverManager:i.HoverManager},getChildContext:function(){return this.props.context},render:function(){return this.props.childRender()}}),i.create("DragHint",{contextTypes:{dragManager:i.DragManager},render:function(){var t,e;return e=this.context.dragManager,t=e.drag,i.div({className:"DragHintContainer"},"transcludeAttribute"===(null!=t?t.type:void 0)&&t.consummated?i.div({className:"DragHint",style:{left:t.x+5,top:t.y+5}},i.AttributeToken({attribute:t.attribute,contextElement:null})):void 0)}})},function(t,e,n){var r,i,o,a,u;u=n(2),o=n(8),i=n(5),r=n(16),a=n(6),o.create("Expression",{propTypes:{attribute:i.Attribute},render:function(){var t;return t=this.props.attribute,o.div({className:"Expression"},t.hasOverrideValue()?void 0:o.ExpressionCode({attribute:t}),o.ExpressionValue({attribute:t}))}}),o.create("ExpressionValue",{propTypes:{attribute:i.Attribute},render:function(){var t,e;return t=this.props.attribute,t.isTrivial()?o.span({}):(e=t.value(),o.div({className:"ExpressionValue"},o.Value({value:e})))}}),o.create("Value",{propTypes:{value:"any"},render:function(){var t;return t=this.props.value,o.span({className:"Value"},t instanceof Error?"("+t+")":u.isFunction(t)?"(Function)":t instanceof r.Spread?o.SpreadValue({spread:t}):u.isNumber(t)?a.toMaxPrecision(t,3):JSON.stringify(t))}}),o.create("SpreadValue",{propTypes:{spread:"any"},render:function(){var t,e,n,r;return n=this.props.spread,e=5,o.span({className:"SpreadValue"},function(){var i,a,u;for(u=[],t=i=0,a=Math.min(n.items.length,e);0<=a?i<a:i>a;t=0<=a?++i:--i)r=n.items[t],u.push(o.span({key:t,className:"SpreadValueItem"},o.Value({value:r})));return u}(),n.items.length>e?"...":void 0)}})},function(t,e,n){var r,i,o,a,u,s,c={}.hasOwnProperty,l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n(112),n(113),r=n(42),u=n(2),s=n(45),o=n(8),i=n(5),a=n(6),o.create("ExpressionCode",{propTypes:{attribute:i.Attribute},contextTypes:{editor:i.Editor,project:i.Project,dragManager:o.DragManager,hoverManager:o.HoverManager},mixins:[o.AnnotateMixin],render:function(){var t;return t=this.props.attribute,o.div({className:"ExpressionCode Interactive",onMouseUp:this._onMouseUp})},annotation:function(){return{component:this}},componentDidMount:function(){var t;return t=o.findDOMNode(this),this.mirror=r(t,{mode:"javascript",viewportMargin:Infinity,smartIndent:!0,indentUnit:2,tabSize:2,indentWithTabs:!0,lineWrapping:!0,scrollbarStyle:"null",undoDepth:0}),this.mirror.on("change",this._onChange),this.mirror.on("mousedown",this._onMirrorMouseDown),this.mirror.on("dblclick",this._onMirrorDoubleClick),this.componentDidUpdate()},componentDidUpdate:function(){return this._updateMirrorFromAttribute()},_onChange:function(){if(this._updateAttributeFromMirror(),this.mirror.hasFocus())return this._showAutocomplete()},_onMirrorMouseDown:function(t,e){var n;if(n=e.target,a.matches(n,".cm-number"))return e.preventDefault(),this._startNumberScrub(e)},_onMirrorDoubleClick:function(t,e){var n;if(n=e.target,a.matches(n,".cm-number"))return e.preventDefault(),this._endNumberScrub(e)},_onMouseUp:function(t){var e,n,r;if(e=this.props.attribute,n=this.context.dragManager,"transcludeAttribute"===(null!=(r=n.drag)?r.type:void 0))return this.transcludeAttribute(n.drag.attribute)},_updateMirrorFromAttribute:function(){var t,e,n;return t=this.props.attribute,n=null!=(e=t.exprString)?e:"",this.mirror.getValue()!==n&&this.mirror.setValue(n),this._updateMarks()},_updateAttributeFromMirror:function(){var t,e,n,r,i,o,a,u;if(a=this.context.project,t=this.props.attribute,r=this.mirror.getValue(),t.exprString!==r){i={},u=a.editingElementNodesById();for(e in u)c.call(u,e)&&(o=u[e],n=r.indexOf(e)!==-1,n&&(i[e]=o));return t.setExpression(r,i)}},transcludeAttribute:function(t){return this.mirror.hasFocus()?this._replaceSelectionWithReference(t):this._replaceAllWithReference(t)},_replaceSelectionWithReference:function(t){var e,n,r,i;return e=this.props.attribute,i=e.references(),r=a.getId(t),i[r]=t,n=e.exprString,e.setExpression(n,i),this.mirror.replaceSelection(r)},_replaceAllWithReference:function(t){var e,n,r,i;return e=this.props.attribute,i={},r=a.getId(t),i[r]=t,n=r,e.setExpression(n,i)},_marks:function(){return this._attributeTokenMarks()},_attributeTokenMarks:function(){var t,e,n,r,i,u,s,l;t=this.props.attribute,l=this.mirror.getValue(),n=[],r=t.references();for(u in r)if(c.call(r,u))for(i=r[u],s=-1;(s=l.indexOf(u,s))>-1;)e=s+u.length,function(r){var i,u,c;return i=a.charToLineCh(l,s),c=a.charToLineCh(l,e),u=function(){return o.AttributeToken({attribute:r,contextElement:t.parentElement()})},n.push({from:i,to:c,render:u})}(i),s=e;return n},_updateMarks:function(){var t,e,n,r,i,o,a,s,c,f,h,p,d,g,v,m,y,b,w,x,_;for(m=this._marks(),null==this._existingMarks&&(this._existingMarks=[]),_=[],i=[],w=this._existingMarks,o=0,h=w.length;o<h;o++){if(n=w[o],c=!1,b=n.find())for(a=0,p=m.length;a<p;a++)v=m[a],t=b.from.line===v.from.line&&b.from.ch===v.from.ch&&b.to.line===v.to.line&&b.to.ch===v.to.ch,t&&(this._renderMark(v,n.el),_.push(v),c=!0);c||i.push(n)}for(s=0,d=i.length;s<d;s++)r=i[s],r.clear(),this._existingMarks=u.without(this._existingMarks,r);for(x=[],f=0,g=m.length;f<g;f++)v=m[f],l.call(_,v)<0?(e=document.createElement("span"),this._renderMark(v,e),y=this.mirror.markText(v.from,v.to,{replacedWith:e,handleMouseEvents:!0}),y.el=e,x.push(this._existingMarks.push(y))):x.push(void 0);return x},_renderMark:function(t,e){var n;return n=o.ContextWrapper({context:this.context,childRender:t.render}),o.render(n,e)},_showAutocomplete:function(){return this.mirror.showHint({hint:this._hint,completeSingle:!1})},_shouldShowHint:function(t){var e,n,r,i,o;if(e=this.props.attribute,"variable"!==t.type)return!1;n=t.string,o=e.references();for(i in o)if(c.call(o,i)&&(r=o[i],n.indexOf(i)!==-1))return!1;return!0},_hint:function(t){var e,n,i,o,a,u;if(n=t.getCursor(),u=t.getTokenAt(n),this._shouldShowHint(u))return i=r.Pos(n.line,u.start),a=r.Pos(n.line,n.ch),o=u.string.toLowerCase(),e=this._completions(o,i,a),{list:e,from:i,to:a}},_completions:function(t,e,n){var r,i,a,s;return r=this.props.attribute,s=this.context.project,a=this._matchingAttributes(t),i=u.map(a,function(t){return function(i){return{render:function(e){var n;return n=o.ContextWrapper({context:t.context,childRender:function(){return o.AttributeToken({attribute:i,contextElement:r.parentElement()})}}),o.render(n,e)},hint:function(){return t.mirror.setSelection(e,n),t._replaceSelectionWithReference(i)}}}}(this)),i.push({displayText:"Create Variable: "+t,hint:function(r){return function(){var i;return i=s.editingElement.addVariable(),i.label=t,r.mirror.setSelection(e,n),r._replaceSelectionWithReference(i)}}(this)}),i},_matchingAttributes:function(t){var e,n;return e=document.querySelectorAll(".AttributeLabel"),n=u.map(e,function(t){return function(t){return t.annotation.attribute}}(this)),n=u.filter(n,function(e){return function(e){var n,r,i;return i=e.label,n=i.toLowerCase(),r=u.every(t,function(t){return n.indexOf(t)!==-1})}}(this)),n=u.unique(n)},_startNumberScrub:function(t){var e,n,r;return n=this._getTokenPositionFromCursor(t),r=n.start,e=n.end,this.mirror.focus(),this.mirror.setSelection(r,e),this._startScrubbingSelection(t)},_endNumberScrub:function(t){var e;return e=this.mirror.coordsChar({left:t.clientX,top:t.clientY}),this.mirror.setCursor(e)},_getTokenPositionFromCursor:function(t){var e,n,r,i,o;return r=this.mirror.coordsChar({left:t.clientX,top:t.clientY}),this.mirror.cursorCoords(r).left<t.clientX&&r.ch++,o=this.mirror.getTokenAt(r),i={line:r.line,ch:o.start},n={line:r.line,ch:o.end},i.ch>0&&(e={line:i.line,ch:i.ch-1},"-"===this.mirror.getRange(e,i)&&(i=e)),{start:i,end:n}},_startScrubbingSelection:function(t){var e,n,r,i;return e=this.context.dragManager,n=+this.mirror.getSelection(),r=a.precision(this.mirror.getSelection()),i=t.clientX,e.start(t,{cursor:"ew-resize",onMove:function(t){return function(e){var o,u,c;return u=e.clientX-i,u/=3,o=u*Math.pow(10,-r),c=n+o,s.command&&(c=a.roundToPrecision(c,r-1)),c=a.toPrecision(c,r),t.mirror.replaceSelection(""+c,"around")}}(this)})}})},function(t,e,n){var r,i;i=n(2),r=n(8),r.create("EditableText",{propTypes:{value:String,setValue:Function},shouldComponentUpdate:function(t){return this._isDirty||t.value!==this.props.value},render:function(){var t;return t={contentEditable:!0,onInput:this._onInput,onKeyDown:this._onKeyDown},i.defaults(t,this.props),r.div(t)},componentDidMount:function(){if(this._refresh(),""===this.props.value||!this.props.value)return r.findDOMNode(this).focus()},componentDidUpdate:function(){return this._refresh()},_refresh:function(){var t;return t=r.findDOMNode(this),t.textContent!==this.props.value&&(t.textContent=this.props.value),this._isDirty=!1},_onInput:function(){var t,e;return this._isDirty=!0,t=r.findDOMNode(this),e=t.textContent,this.props.setValue(e)},_onKeyDown:function(t){if(13===t.keyCode)return t.preventDefault()}})},function(t,e,n){var r,i,o,a;i=n(2),r=n(8),o=window.devicePixelRatio||1,a=function(t){var e;return e=t.getBoundingClientRect(),t.width=e.width*o,t.height=e.height*o},r.create("HTMLCanvas",{propTypes:{draw:Function},render:function(){var t;return t={},i.defaults(t,this.props),r.canvas(t)},componentDidMount:function(){return this._refresh()},componentDidUpdate:function(){return this._refresh()},resize:function(){return this._canvasIsSized=!1},_refresh:function(){var t,e;return t=r.findDOMNode(this),this._canvasIsSized?t.width=t.width:(a(t),this._canvasIsSized=!0),e=t.getContext("2d"),e.setTransform(o,0,0,o,0,0),this.props.draw(e)}})},function(t,e,n){var r,i,o;i=n(8),r=n(5),o=n(6),i.create("Inspector",{contextTypes:{project:r.Project},render:function(){var t,e,n,r;return e=this.context.project,t=null!=(n=e.selectedParticularElement)?n.element:void 0,i.div({className:"Inspector"},i.div({className:"Header"},null!=(r=null!=t?t.label:void 0)?r:""),i.div({className:"Scroller"},t?i.FullAttributesList({element:t}):void 0))}}),i.create("FullAttributesList",{propTypes:{element:r.Element},render:function(){var t,e,n;return n=this.props.element,i.div({className:"InspectorList"},i.div({className:"ComponentSection"},i.div({className:"ComponentSectionTitle"},i.span({},"Variables")),i.div({className:"ComponentSectionContent"},function(){var e,r,a,u;for(a=n.variables(),u=[],e=0,r=a.length;e<r;e++)t=a[e],u.push(i.AttributeRow({attribute:t,key:o.getId(t)}));return u}()),i.div({className:"AddVariableRow"},i.button({className:"AddButton",onClick:this._addVariable}))),function(){var t,r,a,u;for(a=n.components(),u=[],t=0,r=a.length;t<r;t++)e=a[t],u.push(i.ComponentSection({component:e,key:o.getId(e)}));return u}())},_addVariable:function(){var t;return t=this.props.element,t.addVariable()}}),i.create("ComponentSection",{propTypes:{component:r.Component},render:function(){var t,e;return e=this.props.component,i.div({className:"ComponentSection"},i.div({className:"ComponentSectionTitle"},i.span,e.label),i.div({className:"ComponentSectionContent"},function(){var n,r,a,u;for(a=e.attributes(),u=[],n=0,r=a.length;n<r;n++)t=a[n],u.push(i.AttributeRow({attribute:t,key:o.getId(t)}));return u}()))}}),i.create("NovelAttributesList",{propTypes:{element:r.Element},contextTypes:{project:r.Project},render:function(){var t,e,n,o,a;return e=this.props.element,o=this.context.project,i.div({className:"AttributesList"},function(){var o,u,s,c;for(s=e.allAttributes(),c=[],n=o=0,u=s.length;o<u;n=++o)t=s[n],a=t.isNovel()||t.isVariantOf(r.Variable),a?c.push(i.AttributeRow({key:n,attribute:t})):c.push(void 0);return c}(),e===o.editingElement?i.div({className:"AddVariableRow"},i.button({className:"AddButton Interactive",onClick:this._addVariable})):void 0)},_addVariable:function(){var t;return t=this.props.element,t.addVariable()}})},function(t,e,n){var r,i,o,a=function(t,e){return function(){return t.apply(e,arguments)}};o=n(2),t.exports=i=function(){function t(){this._onMouseUp=a(this._onMouseUp,this),this._onMouseMove=a(this._onMouseMove,this),this.drag=null,window.addEventListener("mousemove",this._onMouseMove),window.addEventListener("mouseup",this._onMouseUp)}return t.prototype.start=function(t,e){return this.drag=new r(t,e)},t.prototype._onMouseMove=function(t){var e,n,r,i;if(this.drag)return this.drag.consummated?"function"==typeof(e=this.drag).onMove?e.onMove(t):void 0:(r=t.clientX-this.drag.originalX,i=t.clientY-this.drag.originalY,n=Math.max(Math.abs(r),Math.abs(i)),n>3?this._consummate(t):void 0)},t.prototype._onMouseUp=function(t){var e,n,r;if(this.drag)return this.drag.consummated?"function"==typeof(e=this.drag).onDrop&&e.onDrop(t):"function"==typeof(n=this.drag).onCancel&&n.onCancel(t),"function"==typeof(r=this.drag).onUp&&r.onUp(t),this.drag=null},t.prototype._consummate=function(t){var e;return this.drag.consummated=!0,"function"==typeof(e=this.drag).onConsummate?e.onConsummate(t):void 0},t}(),r=function(){function t(t,e){o.extend(this,e),this.originalX=t.clientX,this.originalY=t.clientY,null==this.consummated&&(this.consummated=!1)}return t}()},function(t,e){var n;t.exports=n=function(){function t(){this.hoveredParticularElement=null,this.controllerParticularElement=null,this.attributesToChange=[],this.hoveredAttribute=null}return t}()},function(t,e,n){var r,i,o,a;a=n(45),i=n(8),r=n(5),o=n(6),i.create("Menubar",{contextTypes:{editor:r.Editor,project:r.Project},render:function(){var t,e,n,r;return r=this.context,t=r.editor,n=r.project,e=null!=n.selectedParticularElement,t.layout.fullScreen?null:i.div({className:"Menubar"},i.MenubarItem({title:"New",isDisabled:!1,fn:this._new}),i.MenubarItem({title:"Load",isDisabled:!1,fn:this._load}),t.experimental?i.MenubarItem({title:"Merge",isDisabled:!1,fn:this._merge}):void 0,i.MenubarItem({title:"Save",isDisabled:!1,fn:this._save}),t.experimental?i.MenubarItem({title:"Share",isDisabled:!1,fn:this._share}):void 0,i.div({className:"MenubarSeparator"}),i.MenubarItem({title:"Undo",isDisabled:!t.isUndoable(),fn:this._undo}),i.MenubarItem({title:"Redo",isDisabled:!t.isRedoable(),fn:this._redo}),i.div({className:"MenubarSeparator"}),i.MenubarItem({title:"Delete",isDisabled:!e,fn:this._removeSelectedElement}),i.MenubarItem({title:"Group",isDisabled:!e,fn:this._groupSelectedElement}),i.MenubarItem({title:"Create Symbol",isDisabled:!e,fn:this._createSymbolFromSelectedElement}),t.experimental?[i.div({className:"MenubarSeparator"}),i.div({className:"MenubarSeparator"}),i.div({style:{color:"red"}},"Experimental mode is on")]:void 0)},componentDidMount:function(){return a("command+o, ctrl+o",function(t){return function(e){return e.preventDefault(),t._load()}}(this)),a("command+s, ctrl+s",function(t){return function(e){return e.preventDefault(),t._save()}}(this)),a("command+z, ctrl+z",function(t){return function(e){return e.preventDefault(),t._undo()}}(this)),a("command+shift+z, ctrl+y",function(t){return function(e){return e.preventDefault(),t._redo()}}(this)),a("backspace",function(t){return function(e){if(!o.textFocus())return e.preventDefault(),t._removeSelectedElement()}}(this)),a("command+g, ctrl+g",function(t){return function(e){return e.preventDefault(),t._groupSelectedElement()}}(this))},_new:function(){var t;return t=this.context.editor,t.createNewProject()},_load:function(){var t;return t=this.context.editor,t.loadFromFile()},_merge:function(){var t;return t=this.context.editor,t.mergeFromFile()},_save:function(){var t;return t=this.context.editor,t.saveToFile()},_share:function(){var t;return t=this.context.editor,t.saveToFirebase()},_undo:function(){var t;return t=this.context.editor,t.undo()},_redo:function(){var t;return t=this.context.editor,t.redo()},_todo:function(){},_removeSelectedElement:function(){var t;return t=this.context.project,t.removeSelectedElement()},_groupSelectedElement:function(){var t;return t=this.context.project,t.groupSelectedElement()},_duplicateSelectedElement:function(){var t;return t=this.context.project,t.duplicateSelectedElement()},_createSymbolFromSelectedElement:function(){var t;return t=this.context.project,t.createSymbolFromSelectedElement()}}),i.create("MenubarItem",{propTypes:{title:String,isDisabled:Boolean,fn:Function},render:function(){var t,e,n,r;return n=this.props,r=n.title,e=n.isDisabled,t=n.fn,i.div({className:i.cx({MenubarItem:!0,isDisabled:e}),onClick:this._activate},r)},_activate:function(){var t,e,n;if(n=this.props,e=n.isDisabled,t=n.fn,!e)return t()}})},function(t,e,n){var r,i,o,a;a=n(2),i=n(8),r=n(5),o=n(6),i.create("Outline",{contextTypes:{project:r.Project,editor:r.Editor},render:function(){var t,e,n,r,o;return o=this.context,r=o.project,t=o.editor,e=r.editingElement,n=t.layout,i.div({className:"Outline"},i.div({className:"Header"},"Outline",i.span({className:"HeaderSetting",onClick:function(){return n.toggleShowAttributesInOutline()}},n.showAttributesInOutline?"Hide Attributes":"Show Attributes")),i.div({className:"Scroller"},i.OutlineTree({element:e})))}}),i.create("OutlineTree",{propTypes:{element:r.Element},contextTypes:{dragManager:i.DragManager},mixins:[i.AnnotateMixin],render:function(){var t,e,n,r,o,a;return n=this.props.element,e=this.context.dragManager,o=n.expanded,t=e.drag,r="outlineReorder"===(null!=t?t.type:void 0)&&t.consummated&&t.element===n,a=i.div({className:"OutlineTree"},i.OutlineItem({element:n}),o?i.OutlineChildren({element:n}):void 0),r?i.div({},i.div({className:"OutlineDragging",style:{left:t.x,top:t.y,width:t.width}},a),i.div({className:"OutlinePlaceholder",style:{height:t.height}})):a},annotation:function(){return{element:this.props.element}}}),i.create("OutlineChildren",{propTypes:{element:r.Element},mixins:[i.AnnotateMixin],render:function(){var t,e,n;return e=this.props.element,n=e.getAllowedShapeInterpretationContextForChildren().join(" "),i.div({className:"OutlineChildren "+n},function(){var n,r,a,u;for(a=e.childElements(),u=[],n=0,r=a.length;n<r;n++)t=a[n],u.push(i.OutlineTree({element:t,key:o.getId(t)}));return u}())},annotation:function(){return{element:this.props.element}}}),i.create("OutlineItem",{propTypes:{element:r.Element},contextTypes:{project:r.Project,editor:r.Editor,hoverManager:i.HoverManager,dragManager:i.DragManager},render:function(){var t,e,n,r,o,a,u,s,c,l,f,h;return c=this.context.project,t=this.props.element,e=this.context.hoverManager,u=(null!=(l=c.selectedParticularElement)?l.element:void 0)===t,a=(null!=(f=e.hoveredParticularElement)?f.element:void 0)===t,n=(null!=(h=e.controllerParticularElement)?h.element:void 0)===t,r=t.isController(),o=t.expanded,s=this.context.editor.layout,i.div({className:i.cx({OutlineItem:!0,isSelected:u,isHovered:a,isActiveController:n,isController:r}),onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},i.div({className:"ElementRow"},i.div({className:"ElementRowDisclosure"},i.div({className:i.cx({DisclosureTriangle:!0,Interactive:!0,isExpanded:o}),onClick:this._onClickTriangle})),i.div({className:"ElementRowLabel"},i.EditableText({className:"EditableTextInline Interactive",value:t.label,setValue:this._setLabelValue,onClick:function(t){return function(){return t._select()}}(this)}))),s.showAttributesInOutline?i.NovelAttributesList({element:t}):void 0)},_onMouseDown:function(t){var e;if(e=t.target,!o.closest(e,".Interactive"))return t.preventDefault(),o.clearTextFocus(),this._select(),this._startDragToReorder(t)},_onMouseEnter:function(){var t,e,n,i,o;if(e=this.props.element,o=this.context,t=o.dragManager,n=o.hoverManager,null==t.drag)return i=new r.ParticularElement(e),n.hoveredParticularElement=i},_onMouseLeave:function(){var t,e,n;if(n=this.context,t=n.dragManager,e=n.hoverManager,null==t.drag)return e.hoveredParticularElement=null},_setLabelValue:function(t){return this.props.element.label=t},_onClickTriangle:function(){var t;t=this.props.element,t.expanded=!t.expanded},_select:function(){var t,e,n;return t=this.props.element,n=this.context.project,e=new r.ParticularElement(t),n.select(e)},_startDragToReorder:function(t){var e,n,r,a,u,s,c,l,f,h;return r=this.props.element,e=this.context.dragManager,n=i.findDOMNode(this),l=o.closest(n,".OutlineTree"),c=o.closest(n,".Outline"),f=l.getBoundingClientRect(),u=t.clientX-f.left,s=t.clientY-f.top,h=f.width,a=f.height,e.start(t,{type:"outlineReorder",element:r,outlineEl:c,width:h,height:a,onMove:function(t){return function(n){var r;if(e.drag.x=n.clientX-u,e.drag.y=n.clientY-s,r=t._findDropSpot(e.drag))return t._reorderItem(r)}}(this)})},_findDropSpot:function(t){var e,n,r,i,u,s,c,l,f,h,p,d,g,v,m,y,b,w,x;for(w=t.x,x=t.y,m=t.outlineEl,l=this.props.element,s=[w,x],y=m.querySelector(".OutlinePlaceholder"),null!=y&&(y.style.display="none"),n={quadrance:1600},r=function(t){return function(t,e,r){var i;if(i=o.quadrance(s,t),i<n.quadrance)return n={quadrance:i,outlineChildrenEl:e,beforeOutlineTreeEl:r}}}(this),e=l.getAllowedShapeInterpretationContext().map(function(t){return".OutlineChildren."+t}).join(", "),v=m.querySelectorAll(e),f=0,p=v.length;f<p;f++)if(g=v[f],!o.closest(g,".OutlineDragging")){for(u=a.filter(g.childNodes,function(t){return o.matches(t,".OutlineTree")}),h=0,d=u.length;h<d;h++)i=u[h],b=i.getBoundingClientRect(),c=[b.left,b.top],r(c,g,i);b=g.getBoundingClientRect(),c=[b.left,b.bottom],r(c,g,null)}return null!=y&&(y.style.display=""),n.outlineChildrenEl?n:null},_reorderItem:function(t){var e,n,r,i,o,a;return r=this.props.element,o=t.outlineChildrenEl,n=t.beforeOutlineTreeEl,a=o.annotation.element,n?(e=n.annotation.element,a.children().indexOf(r)!==-1&&a.removeChild(r),i=a.children().indexOf(e),a.addChild(r,i)):a.addChild(r)}})},function(t,e,n){var r,i,o;i=n(8),r=n(5),o=n(6),i.create("RightPanel",{contextTypes:{editor:r.Editor,dragManager:i.DragManager},_onResizeMouseDown:function(t){var e,n,r;return e=this.context.editor.layout,r=t.clientX,n=e.rightPanelWidth,this.context.dragManager.start(t,{cursor:"ew-resize",onMove:function(t){return function(t){var i;return i=t.clientX-r,e.constraintRightPanelWidth(n-i)}}(this)})},render:function(){var t;return t=this.context.editor.layout,t.fullScreen?null:i.div({className:i.cx({RightPanel:!0,FullScreen:t.fullScreen}),style:{width:t.rightPanelWidth}},i.div({className:"RightResize",onMouseDown:this._onResizeMouseDown}),i.div({className:"RightPanelContainer"},i.Outline({}),i.Inspector({})))}})},function(t,e,n){var r,i;i=n(8),r=n(5),i.create("Viewer",{propTypes:{project:r.Project},childContextTypes:{project:r.Project},getChildContext:function(){return{project:this.props.project}},render:function(){return i.MouseManagersWrapper({},i.BareViewerCanvas({element:this.props.project.editingElement}))}})},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);this._opad=s,this._alg=t;var a="sha512"===t?128:64;n=this._key=e.isBuffer(n)?n:new e(n),n.length>a?n=i(t).update(n).digest():n.length<a&&(n=e.concat([n,o],a));for(var u=this._ipad=new e(a),s=this._opad=new e(a),c=0;c<a;c++)u[c]=54^n[c],s[c]=92^n[c];this._hash=i(t).update(u)}var i=n(70),o=new e(128);o.fill(0),t.exports=r,r.prototype.update=function(t,e){return this._hash.update(t,e),this},r.prototype.digest=function(t){var e=this._hash.digest();return i(this._alg).update(this._opad).update(e).digest(t)}}).call(e,n(15).Buffer)},function(t,e,n){(function(e){function n(t,n){if(t.length%o!==0){var r=t.length+(o-t.length%o);t=e.concat([t,a],r)}for(var i=[],u=n?t.readInt32BE:t.readInt32LE,s=0;s<t.length;s+=o)i.push(u.call(t,s));return i}function r(t,n,r){for(var i=new e(n),o=r?i.writeInt32BE:i.writeInt32LE,a=0;a<t.length;a++)o.call(i,t[a],4*a,!0);return i}function i(t,i,o,a){e.isBuffer(t)||(t=new e(t));var s=i(n(t,a),t.length*u);return r(s,o,a)}var o=4,a=new e(o);a.fill(0);var u=8;t.exports={hash:i}}).call(e,n(15).Buffer)},function(t,e,n){(function(t){function r(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function i(t,e){for(var n in t)e(t[n],n)}var o=n(154);e.createHash=n(70),e.createHmac=n(149),e.randomBytes=function(e,n){if(!n||!n.call)return new t(o(e));try{n.call(this,void 0,new t(o(e)))}catch(r){n(r)}},e.getHashes=function(){return["sha1","sha256","sha512","md5","rmd160"]};var a=n(153)(e);e.pbkdf2=a.pbkdf2,e.pbkdf2Sync=a.pbkdf2Sync,i(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(t){e[t]=function(){r("sorry,",t,"is not implemented yet")}})}).call(e,n(15).Buffer)},function(t,e,n){function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,f=0;f<t.length;f+=16){var h=n,p=r,d=i,g=l;n=o(n,r,i,l,t[f+0],7,-680876936),l=o(l,n,r,i,t[f+1],12,-389564586),i=o(i,l,n,r,t[f+2],17,606105819),r=o(r,i,l,n,t[f+3],22,-1044525330),n=o(n,r,i,l,t[f+4],7,-176418897),l=o(l,n,r,i,t[f+5],12,1200080426),i=o(i,l,n,r,t[f+6],17,-1473231341),r=o(r,i,l,n,t[f+7],22,-45705983),n=o(n,r,i,l,t[f+8],7,1770035416),l=o(l,n,r,i,t[f+9],12,-1958414417),i=o(i,l,n,r,t[f+10],17,-42063),r=o(r,i,l,n,t[f+11],22,-1990404162),n=o(n,r,i,l,t[f+12],7,1804603682),l=o(l,n,r,i,t[f+13],12,-40341101),i=o(i,l,n,r,t[f+14],17,-1502002290),r=o(r,i,l,n,t[f+15],22,1236535329),n=a(n,r,i,l,t[f+1],5,-165796510),l=a(l,n,r,i,t[f+6],9,-1069501632),i=a(i,l,n,r,t[f+11],14,643717713),r=a(r,i,l,n,t[f+0],20,-373897302),n=a(n,r,i,l,t[f+5],5,-701558691),l=a(l,n,r,i,t[f+10],9,38016083),i=a(i,l,n,r,t[f+15],14,-660478335),r=a(r,i,l,n,t[f+4],20,-405537848),n=a(n,r,i,l,t[f+9],5,568446438),l=a(l,n,r,i,t[f+14],9,-1019803690),i=a(i,l,n,r,t[f+3],14,-187363961),r=a(r,i,l,n,t[f+8],20,1163531501),n=a(n,r,i,l,t[f+13],5,-1444681467),l=a(l,n,r,i,t[f+2],9,-51403784),i=a(i,l,n,r,t[f+7],14,1735328473),r=a(r,i,l,n,t[f+12],20,-1926607734),n=u(n,r,i,l,t[f+5],4,-378558),l=u(l,n,r,i,t[f+8],11,-2022574463),i=u(i,l,n,r,t[f+11],16,1839030562),r=u(r,i,l,n,t[f+14],23,-35309556),n=u(n,r,i,l,t[f+1],4,-1530992060),l=u(l,n,r,i,t[f+4],11,1272893353),i=u(i,l,n,r,t[f+7],16,-155497632),r=u(r,i,l,n,t[f+10],23,-1094730640),n=u(n,r,i,l,t[f+13],4,681279174),l=u(l,n,r,i,t[f+0],11,-358537222),i=u(i,l,n,r,t[f+3],16,-722521979),r=u(r,i,l,n,t[f+6],23,76029189),n=u(n,r,i,l,t[f+9],4,-640364487),l=u(l,n,r,i,t[f+12],11,-421815835),i=u(i,l,n,r,t[f+15],16,530742520),r=u(r,i,l,n,t[f+2],23,-995338651),n=s(n,r,i,l,t[f+0],6,-198630844),l=s(l,n,r,i,t[f+7],10,1126891415),i=s(i,l,n,r,t[f+14],15,-1416354905),r=s(r,i,l,n,t[f+5],21,-57434055),n=s(n,r,i,l,t[f+12],6,1700485571),l=s(l,n,r,i,t[f+3],10,-1894986606),i=s(i,l,n,r,t[f+10],15,-1051523),r=s(r,i,l,n,t[f+1],21,-2054922799),n=s(n,r,i,l,t[f+8],6,1873313359),l=s(l,n,r,i,t[f+15],10,-30611744),i=s(i,l,n,r,t[f+6],15,-1560198380),r=s(r,i,l,n,t[f+13],21,1309151649),n=s(n,r,i,l,t[f+4],6,-145523070),l=s(l,n,r,i,t[f+11],10,-1120210379),i=s(i,l,n,r,t[f+2],15,718787259),r=s(r,i,l,n,t[f+9],21,-343485551),n=c(n,h),r=c(r,p),i=c(i,d),l=c(l,g)}return Array(n,r,i,l)}function i(t,e,n,r,i,o){return c(l(c(c(e,t),c(r,o)),i),n)}function o(t,e,n,r,o,a,u){return i(e&n|~e&r,t,e,o,a,u)}function a(t,e,n,r,o,a,u){return i(e&r|n&~r,t,e,o,a,u)}function u(t,e,n,r,o,a,u){return i(e^n^r,t,e,o,a,u)}function s(t,e,n,r,o,a,u){return i(n^(e|~r),t,e,o,a,u)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function l(t,e){return t<<e|t>>>32-e}var f=n(150);t.exports=function(t){return f.hash(t,r,16)}},function(t,e,n){var r=n(173);t.exports=function(t,e){e=e||{};var n=r(t);return e.pbkdf2=n.pbkdf2,e.pbkdf2Sync=n.pbkdf2Sync,e}},function(t,e,n){(function(e,r){!function(){var i=("undefined"==typeof window?e:window)||{};_crypto=i.crypto||i.msCrypto||n(250),t.exports=function(t){if(_crypto.getRandomValues){var e=new r(t);return _crypto.getRandomValues(e),e}if(_crypto.randomBytes)return _crypto.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(e,function(){return this}(),n(15).Buffer)},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function r(){}function i(t){var e;return t=(t+"").trim().toLowerCase(),(e=N.exec(t))?(e=parseInt(e[1],16),new c(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=P.exec(t))?o(parseInt(e[1],16)):(e=D.exec(t))?new c(e[1],e[2],e[3],1):(e=O.exec(t))?new c(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=R.exec(t))?a(e[1],e[2],e[3],e[4]):(e=I.exec(t))?a(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=L.exec(t))?l(e[1],e[2]/100,e[3]/100,1):(e=j.exec(t))?l(e[1],e[2]/100,e[3]/100,e[4]):F.hasOwnProperty(t)?o(F[t]):"transparent"===t?new c(NaN,NaN,NaN,0):null}function o(t){return new c(t>>16&255,t>>8&255,255&t,1)}function a(t,e,n,r){return r<=0&&(t=e=n=NaN),new c(t,e,n,r)}function u(t){return t instanceof r||(t=i(t)),t?(t=t.rgb(),new c(t.r,t.g,t.b,t.opacity)):new c}function s(t,e,n,r){return 1===arguments.length?u(t):new c(t,e,n,null==r?1:r)}function c(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function l(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new p(t,e,n,r)}function f(t){if(t instanceof p)return new p(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=i(t)),!t)return new p;if(t instanceof p)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,a=Math.min(e,n,o),u=Math.max(e,n,o),s=NaN,c=u-a,l=(u+a)/2;return c?(s=e===u?(n-o)/c+6*(n<o):n===u?(o-e)/c+2:(e-n)/c+4,c/=l<.5?u+a:2-u-a,s*=60):c=l>0&&l<1?0:s,new p(s,c,l,t.opacity)}function h(t,e,n,r){return 1===arguments.length?f(t):new p(t,e,n,null==r?1:r)}function p(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function d(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function g(t){if(t instanceof m)return new m(t.l,t.a,t.b,t.opacity);if(t instanceof M){var e=t.h*B;return new m(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof c||(t=u(t));var n=x(t.r),r=x(t.g),i=x(t.b),o=y((.4124564*n+.3575761*r+.1804375*i)/H),a=y((.2126729*n+.7151522*r+.072175*i)/z),s=y((.0193339*n+.119192*r+.9503041*i)/V);return new m(116*a-16,500*(o-a),200*(a-s),t.opacity)}function v(t,e,n,r){return 1===arguments.length?g(t):new m(t,e,n,null==r?1:r)}function m(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function y(t){return t>K?Math.pow(t,1/3):t/X+q}function b(t){return t>Y?t*t*t:X*(t-q)}function w(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _(t){if(t instanceof M)return new M(t.h,t.c,t.l,t.opacity);t instanceof m||(t=g(t));var e=Math.atan2(t.b,t.a)*U;return new M(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function C(t,e,n,r){return 1===arguments.length?_(t):new M(t,e,n,null==r?1:r)}function M(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function S(t){if(t instanceof E)return new E(t.h,t.s,t.l,t.opacity);t instanceof c||(t=u(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(nt*r+tt*e-et*n)/(nt+tt-et),o=r-i,a=($*(n-i)-Z*o)/J,s=Math.sqrt(a*a+o*o)/($*i*(1-i)),l=s?Math.atan2(a,o)*U-120:NaN;return new E(l<0?l+360:l,s,i,t.opacity)}function k(t,e,n,r){return 1===arguments.length?S(t):new E(t,e,n,null==r?1:r)}function E(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var T=.7,A=1/T,N=/^#([0-9a-f]{3})$/,P=/^#([0-9a-f]{6})$/,D=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,O=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,R=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,I=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,L=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,j=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,F={
aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),e(c,s,n(r,{brighter:function(t){return t=null==t?A:Math.pow(A,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?T:Math.pow(T,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),e(p,h,n(r,{brighter:function(t){return t=null==t?A:Math.pow(A,t),new p(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?T:Math.pow(T,t),new p(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new c(d(t>=240?t-240:t+120,i,r),d(t,i,r),d(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var B=Math.PI/180,U=180/Math.PI,W=18,H=.95047,z=1,V=1.08883,q=4/29,Y=6/29,X=3*Y*Y,K=Y*Y*Y;e(m,v,n(r,{brighter:function(t){return new m(this.l+W*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new m(this.l-W*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=z*b(t),e=H*b(e),n=V*b(n),new c(w(3.2404542*e-1.5371385*t-.4985314*n),w(-.969266*e+1.8760108*t+.041556*n),w(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),e(M,C,n(r,{brighter:function(t){return new M(this.h,this.c,this.l+W*(null==t?1:t),this.opacity)},darker:function(t){return new M(this.h,this.c,this.l-W*(null==t?1:t),this.opacity)},rgb:function(){return g(this).rgb()}}));var G=-.14861,Q=1.78277,Z=-.29227,J=-.90649,$=1.97294,tt=$*J,et=$*Q,nt=Q*Z-J*G;e(E,k,n(r,{brighter:function(t){return t=null==t?A:Math.pow(A,t),new E(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?T:Math.pow(T,t),new E(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*B,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new c(255*(e+n*(G*r+Q*i)),255*(e+n*(Z*r+J*i)),255*(e+n*($*r)),this.opacity)}})),t.color=i,t.rgb=s,t.hsl=h,t.lab=v,t.hcl=C,t.cubehelix=k,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(155))}(this,function(t,e){"use strict";function n(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function r(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,s=i<e-1?t[i+2]:2*a-o;return n((r-i/e)*e,u,o,a,s)}}function i(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=t[(i+e-1)%e],a=t[i%e],u=t[(i+1)%e],s=t[(i+2)%e];return n((r-i/e)*e,o,a,u,s)}}function o(t){return function(){return t}}function a(t,e){return function(n){return t+n*e}}function u(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function s(t,e){var n=e-t;return n?a(t,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(t)?e:t)}function c(t){return 1===(t=+t)?l:function(e,n){return n-e?u(e,n,t):o(isNaN(e)?n:e)}}function l(t,e){var n=e-t;return n?a(t,n):o(isNaN(t)?e:t)}function f(t){return function(n){var r,i,o=n.length,a=new Array(o),u=new Array(o),s=new Array(o);for(r=0;r<o;++r)i=e.rgb(n[r]),a[r]=i.r||0,u[r]=i.g||0,s[r]=i.b||0;return a=t(a),u=t(u),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=u(t),i.b=s(t),i+""}}}function h(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=b(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function p(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}}function d(t,e){return t=+t,e-=t,function(n){return t+e*n}}function g(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=b(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function v(t){return function(){return t}}function m(t){return function(e){return t(e)+""}}function y(t,e){var n,r,i,o=W.lastIndex=H.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=W.exec(t))&&(r=H.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:d(n,r)})),o=H.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?m(s[0].x):v(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function b(t,n){var r,i=typeof n;return null==n||"boolean"===i?o(n):("number"===i?d:"string"===i?(r=e.color(n))?(n=r,F):y:n instanceof e.color?F:n instanceof Date?p:Array.isArray(n)?h:isNaN(n)?g:d)(t,n)}function w(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}}function x(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*z,skewX:Math.atan(s)*z,scaleX:a,scaleY:u}}function _(t){return"none"===t?V:(R||(R=document.createElement("DIV"),I=document.documentElement,L=document.defaultView),R.style.transform=t,t=L.getComputedStyle(I.appendChild(R),null).getPropertyValue("transform"),I.removeChild(R),t=t.slice(7,-1).split(","),x(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function C(t){return null==t?V:(j||(j=document.createElementNS("http://www.w3.org/2000/svg","g")),j.setAttribute("transform",t),(t=j.transform.baseVal.consolidate())?(t=t.matrix,x(t.a,t.b,t.c,t.d,t.e,t.f)):V)}function M(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:d(t,i)},{i:s-2,x:d(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:d(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function u(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:d(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function s(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:d(t,n)},{i:u-2,x:d(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),u(e.skewX,n.skewX,r,i),s(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function S(t){return((t=Math.exp(t))+1/t)/2}function k(t){return((t=Math.exp(t))-1/t)/2}function E(t){return((t=Math.exp(2*t))-1)/(t+1)}function T(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],c=e[2],l=u-i,f=s-o,h=l*l+f*f;if(h<Q)r=Math.log(c/a)/X,n=function(t){return[i+t*l,o+t*f,a*Math.exp(X*t*r)]};else{var p=Math.sqrt(h),d=(c*c-a*a+G*h)/(2*a*K*p),g=(c*c-a*a-G*h)/(2*c*K*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/X,n=function(t){var e=t*r,n=S(v),u=a/(K*p)*(n*E(X*e+v)-k(v));return[i+u*l,o+u*f,a*n/S(X*e+v)]}}return n.duration=1e3*r,n}function A(t){return function(n,r){var i=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),o=l(n.s,r.s),a=l(n.l,r.l),u=l(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=u(t),n+""}}}function N(t,n){var r=l((t=e.lab(t)).l,(n=e.lab(n)).l),i=l(t.a,n.a),o=l(t.b,n.b),a=l(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}}function P(t){return function(n,r){var i=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),o=l(n.c,r.c),a=l(n.l,r.l),u=l(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=u(t),n+""}}}function D(t){return function n(r){function i(n,i){var o=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=l(n.s,i.s),u=l(n.l,i.l),s=l(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=u(Math.pow(t,r)),n.opacity=s(t),n+""}}return r=+r,i.gamma=n,i}(1)}function O(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var R,I,L,j,F=function rt(t){function n(t,n){var i=r((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=r(t.g,n.g),a=r(t.b,n.b),u=r(t.opacity,n.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=u(e),t+""}}var r=c(t);return n.gamma=rt,n}(1),B=f(r),U=f(i),W=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H=new RegExp(W.source,"g"),z=180/Math.PI,V={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},q=M(_,"px, ","px)","deg)"),Y=M(C,", ",")",")"),X=Math.SQRT2,K=2,G=4,Q=1e-12,Z=A(s),J=A(l),$=P(s),tt=P(l),et=D(s),nt=D(l);t.interpolate=b,t.interpolateArray=h,t.interpolateBasis=r,t.interpolateBasisClosed=i,t.interpolateDate=p,t.interpolateNumber=d,t.interpolateObject=g,t.interpolateRound=w,t.interpolateString=y,t.interpolateTransformCss=q,t.interpolateTransformSvg=Y,t.interpolateZoom=T,t.interpolateRgb=F,t.interpolateRgbBasis=B,t.interpolateRgbBasisClosed=U,t.interpolateHsl=Z,t.interpolateHslLong=J,t.interpolateLab=N,t.interpolateHcl=$,t.interpolateHclLong=tt,t.interpolateCubehelix=et,t.interpolateCubehelixLong=nt,t.quantize=O,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(156))}(this,function(t,e){"use strict";function n(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function r(t){return e.interpolateRgbBasis(n(t))}var i=n("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),o=n("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),a=n("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),u=n("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),s=n("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),c=n("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),l=n("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),f=n("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),h=r("5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30"),p=r("40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b"),d=r("8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419"),g=r("7f3b08b35806e08214fdb863fee0b6f7f7f7d8daebb2abd28073ac5427882d004b"),v=r("67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061"),m=r("67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a"),y=r("a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695"),b=r("a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837"),w=r("9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2"),x=r("f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b"),_=r("f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b"),C=r("f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081"),M=r("fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000"),S=r("fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636"),k=r("fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858"),E=r("f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f"),T=r("fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a"),A=r("ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58"),N=r("ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529"),P=r("ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506"),D=r("ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026"),O=r("f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b"),R=r("f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b"),I=r("fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000"),L=r("fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d"),j=r("fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d"),F=r("fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704");t.schemeAccent=i,t.schemeDark2=o,t.schemePaired=a,t.schemePastel1=u,t.schemePastel2=s,t.schemeSet1=c,t.schemeSet2=l,t.schemeSet3=f,t.interpolateBrBG=h,t.interpolatePRGn=p,t.interpolatePiYG=d,t.interpolatePuOr=g,t.interpolateRdBu=v,t.interpolateRdGy=m,t.interpolateRdYlBu=y,t.interpolateRdYlGn=b,t.interpolateSpectral=w,t.interpolateBuGn=x,t.interpolateBuPu=_,t.interpolateGnBu=C,t.interpolateOrRd=M,t.interpolatePuBuGn=S,t.interpolatePuBu=k,t.interpolatePuRd=E,t.interpolateRdPu=T,t.interpolateYlGnBu=A,t.interpolateYlGn=N,t.interpolateYlOrBr=P,t.interpolateYlOrRd=D,t.interpolateBlues=O,t.interpolateGreens=R,t.interpolateGreys=I,t.interpolatePurples=L,t.interpolateReds=j,t.interpolateOranges=F,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(e,n){return bc(t(e),n)}}function n(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ic?i*=10:o>=Lc?i*=5:o>=jc&&(i*=2),e<t?-i:i}function r(t){return t.length}function i(){}function o(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(r=t[o],o,t),r)}else if(t)for(var u in t)n.set(u,t[u]);return n}function a(){return{}}function u(t,e,n){t[e]=n}function s(){return o()}function c(t,e,n){t.set(e,n)}function l(){}function f(t,e){var n=new l;if(t instanceof l)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function h(t){return+t}function p(t){return t*t}function d(t){return t*(2-t)}function g(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function v(t){return t*t*t}function m(t){return--t*t*t+1}function y(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function b(t){return 1-Math.cos(t*bl)}function w(t){return Math.sin(t*bl)}function x(t){return(1-Math.cos(yl*t))/2}function _(t){return Math.pow(2,10*t-10)}function C(t){return 1-Math.pow(2,-10*t)}function M(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function S(t){return 1-Math.sqrt(1-t*t)}function k(t){return Math.sqrt(1- --t*t)}function E(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function T(t){return 1-A(1-t)}function A(t){return(t=+t)<wl?Al*t*t:t<_l?Al*(t-=xl)*t+Cl:t<Sl?Al*(t-=Ml)*t+kl:Al*(t-=El)*t+Tl}function N(t){return((t*=2)<=1?1-A(1-t):A(t-1)+1)/2}function P(t,e){return t[0]-e[0]||t[1]-e[1]}function D(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&Hl(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function O(){this._x0=this._y0=this._x1=this._y1=null,this._=[]}function R(){return new O}function I(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,u,s,c,l,f,h,p=t._root,d={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a,i=p,!(p=p[f=l<<1|c]))return i[f]=d,t;if(u=+t._x.call(null,p.data),s=+t._y.call(null,p.data),e===u&&n===s)return d.next=p,i?i[f]=d:t._root=d,t;do i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a;while((f=l<<1|c)===(h=(s>=a)<<1|u>=o));return i[h]=p,i[f]=d,t}function L(t){var e,n,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,l=-(1/0),f=-(1/0);for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,u[n]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));for(l<s&&(s=this._x0,l=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(s,c).cover(l,f),n=0;n<o;++n)I(this,a[n],u[n],t[n]);return this}function j(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function F(t){return t[0]}function B(t){return t[1]}function U(t,e,n){var r=new W(null==e?F:e,null==n?B:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function W(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function H(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function z(t){if(!(t>=1))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function V(t){if(!t._start)try{q(t)}catch(e){if(t._tasks[t._ended+t._active-1])X(t,e);else if(!t._data)throw e}}function q(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=Y(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||hf)}}function Y(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?X(t,n):(t._data[e]=r,t._waiting?V(t):K(t))))}}function X(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,K(t)}function K(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function G(t){return new z(arguments.length?+t:1/0)}function Q(t){return t.innerRadius}function Z(t){return t.outerRadius}function J(t){return t.startAngle}function $(t){return t.endAngle}function tt(t){return t&&t.padAngle}function et(t){return t>=1?vf:t<=-1?-vf:Math.asin(t)}function nt(t,e,n,r,i,o,a,u){var s=n-t,c=r-e,l=a-i,f=u-o,h=(l*(e-o)-f*(t-i))/(f*s-l*c);return[t+h*s,e+h*c]}function rt(t,e,n,r,i,o,a){var u=t-n,s=e-r,c=(a?o:-o)/Math.sqrt(u*u+s*s),l=c*s,f=-c*u,h=t+l,p=e+f,d=n+l,g=r+f,v=(h+d)/2,m=(p+g)/2,y=d-h,b=g-p,w=y*y+b*b,x=i-o,_=h*g-d*p,C=(b<0?-1:1)*Math.sqrt(Math.max(0,x*x*w-_*_)),M=(_*b-y*C)/w,S=(-_*y-b*C)/w,k=(_*b+y*C)/w,E=(-_*y+b*C)/w,T=M-v,A=S-m,N=k-v,P=E-m;return T*T+A*A>N*N+P*P&&(M=k,S=E),{cx:M,cy:S,x01:-l,y01:-f,x11:M*(i/x-1),y11:S*(i/x-1)}}function it(t){this._context=t}function ot(t){return t[0]}function at(t){return t[1]}function ut(t){this._curve=t}function st(t){function e(e){return new ut(t(e))}return e._curve=t,e}function ct(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(st(t)):e()._curve},t}function lt(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ft(t){this._context=t}function ht(t){this._context=t}function pt(t){this._context=t}function dt(t,e){this._basis=new ft(t),this._beta=e}function gt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function vt(t,e){this._context=t,this._k=(1-e)/6}function mt(t,e){this._context=t,this._k=(1-e)/6}function yt(t,e){this._context=t,this._k=(1-e)/6}function bt(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>df){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>df){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function wt(t,e){this._context=t,this._alpha=e}function xt(t,e){this._context=t,this._alpha=e}function _t(t,e){this._context=t,this._alpha=e}function Ct(t){this._context=t}function Mt(t){return t<0?-1:1}function St(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Mt(o)+Mt(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function kt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Et(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function Tt(t){this._context=t}function At(t){this._context=new Nt(t)}function Nt(t){this._context=t}function Pt(t){return new Tt(t)}function Dt(t){return new At(t)}function Ot(t){this._context=t}function Rt(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function It(t,e){this._context=t,this._t=e}function Lt(t){return new It(t,0)}function jt(t){return new It(t,1)}function Ft(t,e){return t[e]}function Bt(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function Ut(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wt(){}function Ht(t){var e;return t=(t+"").trim().toLowerCase(),(e=_h.exec(t))?(e=parseInt(e[1],16),new Xt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Ch.exec(t))?zt(parseInt(e[1],16)):(e=Mh.exec(t))?new Xt(e[1],e[2],e[3],1):(e=Sh.exec(t))?new Xt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=kh.exec(t))?Vt(e[1],e[2],e[3],e[4]):(e=Eh.exec(t))?Vt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Th.exec(t))?Kt(e[1],e[2]/100,e[3]/100,1):(e=Ah.exec(t))?Kt(e[1],e[2]/100,e[3]/100,e[4]):Nh.hasOwnProperty(t)?zt(Nh[t]):"transparent"===t?new Xt(NaN,NaN,NaN,0):null}function zt(t){return new Xt(t>>16&255,t>>8&255,255&t,1)}function Vt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xt(t,e,n,r)}function qt(t){return t instanceof Wt||(t=Ht(t)),t?(t=t.rgb(),new Xt(t.r,t.g,t.b,t.opacity)):new Xt}function Yt(t,e,n,r){return 1===arguments.length?qt(t):new Xt(t,e,n,null==r?1:r)}function Xt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Kt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zt(t,e,n,r)}function Gt(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);if(t instanceof Wt||(t=Ht(t)),!t)return new Zt;if(t instanceof Zt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Zt(a,u,s,t.opacity)}function Qt(t,e,n,r){return 1===arguments.length?Gt(t):new Zt(t,e,n,null==r?1:r)}function Zt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function $t(t){if(t instanceof ee)return new ee(t.l,t.a,t.b,t.opacity);if(t instanceof se){var e=t.h*Ph;return new ee(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Xt||(t=qt(t));var n=oe(t.r),r=oe(t.g),i=oe(t.b),o=ne((.4124564*n+.3575761*r+.1804375*i)/Rh),a=ne((.2126729*n+.7151522*r+.072175*i)/Ih),u=ne((.0193339*n+.119192*r+.9503041*i)/Lh);return new ee(116*a-16,500*(o-a),200*(a-u),t.opacity)}function te(t,e,n,r){return 1===arguments.length?$t(t):new ee(t,e,n,null==r?1:r)}function ee(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ne(t){return t>Uh?Math.pow(t,1/3):t/Bh+jh}function re(t){return t>Fh?t*t*t:Bh*(t-jh)}function ie(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function oe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ae(t){if(t instanceof se)return new se(t.h,t.c,t.l,t.opacity);t instanceof ee||(t=$t(t));var e=Math.atan2(t.b,t.a)*Dh;return new se(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ue(t,e,n,r){return 1===arguments.length?ae(t):new se(t,e,n,null==r?1:r)}function se(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ce(t){if(t instanceof fe)return new fe(t.h,t.s,t.l,t.opacity);t instanceof Xt||(t=qt(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Kh*r+Yh*e-Xh*n)/(Kh+Yh-Xh),o=r-i,a=(qh*(n-i)-zh*o)/Vh,u=Math.sqrt(a*a+o*o)/(qh*i*(1-i)),s=u?Math.atan2(a,o)*Dh-120:NaN;return new fe(s<0?s+360:s,u,i,t.opacity)}function le(t,e,n,r){return 1===arguments.length?ce(t):new fe(t,e,n,null==r?1:r)}function fe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function he(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function pe(t,e){return function(n){return t+n*e}}function de(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ge(t,e){var n=e-t;return n?pe(t,n>180||n<-180?n-360*Math.round(n/360):n):ep(isNaN(t)?e:t)}function ve(t){return 1===(t=+t)?me:function(e,n){return n-e?de(e,n,t):ep(isNaN(e)?n:e)}}function me(t,e){var n=e-t;return n?pe(t,n):ep(isNaN(t)?e:t)}function ye(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Yt(e[n]),o[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}function be(t){return function(){return t}}function we(t){return function(e){return t(e)+""}}function xe(t){return"none"===t?gp:(Gh||(Gh=document.createElement("DIV"),Qh=document.documentElement,Zh=document.defaultView),Gh.style.transform=t,t=Zh.getComputedStyle(Qh.appendChild(Gh),null).getPropertyValue("transform"),Qh.removeChild(Gh),t=t.slice(7,-1).split(","),vp(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function _e(t){return null==t?gp:(Jh||(Jh=document.createElementNS("http://www.w3.org/2000/svg","g")),Jh.setAttribute("transform",t),(t=Jh.transform.baseVal.consolidate())?(t=t.matrix,vp(t.a,t.b,t.c,t.d,t.e,t.f)):gp)}function Ce(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:up(t,i)},{i:s-2,x:up(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:up(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function u(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:up(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function s(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:up(t,n)},{i:u-2,x:up(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),u(e.skewX,n.skewX,r,i),s(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function Me(t){return((t=Math.exp(t))+1/t)/2}function Se(t){return((t=Math.exp(t))-1/t)/2}function ke(t){return((t=Math.exp(2*t))-1)/(t+1)}function Ee(t){return function(e,n){var r=t((e=Qt(e)).h,(n=Qt(n)).h),i=me(e.s,n.s),o=me(e.l,n.l),a=me(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function Te(t,e){var n=me((t=te(t)).l,(e=te(e)).l),r=me(t.a,e.a),i=me(t.b,e.b),o=me(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function Ae(t){return function(e,n){var r=t((e=ue(e)).h,(n=ue(n)).h),i=me(e.c,n.c),o=me(e.l,n.l),a=me(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function Ne(t){return function e(n){function r(e,r){var i=t((e=le(e)).h,(r=le(r)).h),o=me(e.s,r.s),a=me(e.l,r.l),u=me(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}function Pe(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new De(r)}function De(t){this._=t}function Oe(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function Re(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Ie(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Pp,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Le(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function je(t,e){var n=Le(t);return function(r,i){return e(n(r),i,t)}}function Fe(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function Be(t){return function(e,n){t(null==e?n:null)}}function Ue(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function We(t,e){return function(n){return t(n.responseText,e)}}function He(){return od||(sd(ze),od=ud.now()+ad)}function ze(){od=0}function Ve(){this._call=this._time=this._next=null}function qe(t,e,n){var r=new Ve;return r.restart(t,e,n),r}function Ye(){He(),++td;for(var t,e=Dp;e;)(t=od-e._time)>=0&&e._call.call(null,t),e=e._next;--td}function Xe(){od=(id=ud.now())+ad,td=ed=0;try{Ye()}finally{td=0,Ge(),od=0}}function Ke(){var t=ud.now(),e=t-id;e>rd&&(ad-=e,id=t)}function Ge(){for(var t,e,n=Dp,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Dp=e);Op=t,Qe(r)}function Qe(t){if(!td){ed&&(ed=clearTimeout(ed));var e=t-od;e>24?(t<1/0&&(ed=setTimeout(Xe,e)),nd&&(nd=clearInterval(nd))):(nd||(nd=setInterval(Ke,rd)),td=1,sd(Xe))}}function Ze(t,e,n,r){function i(e){return t(e=new Date((+e))),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){
return e(t=new Date((+t)),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;do a.push(new Date((+n)));while(e(n,o),t(n),n<r);return a},i.filter=function(n){return Ze(function(e){for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return fd.setTime(+e),hd.setTime(+r),t(fd),t(hd),Math.floor(n(fd,hd))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}function Je(t){return Ze(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vd)/bd})}function $e(t){return Ze(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/bd})}function tn(t){if(!(e=Mg.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],u=e[6]&&+e[6],s=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(s=!0,l="g"):Cg[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=u,this.comma=s,this.precision=c,this.type=l}function en(t){return t}function nn(e){return kg=Tg(e),t.format=kg.format,t.formatPrefix=kg.formatPrefix,kg}function rn(t){if(0<=t.y&&t.y<100){var e=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function on(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function an(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function un(t){function e(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,c=t.length;for(n instanceof Date||(n=new Date((+n)));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=Og[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function n(t,e){return function(n){var i=an(1900),o=r(i,t,n+="",0);if(o!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var a="Z"in i?on(an(i.y)).getUTCDay():e(an(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,on(i)):e(i)}}function r(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=H[i in Og?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function i(t,e,n){var r=N.exec(e.slice(n));return r?(t.p=P[r[0].toLowerCase()],n+r[0].length):-1}function o(t,e,n){var r=R.exec(e.slice(n));return r?(t.w=I[r[0].toLowerCase()],n+r[0].length):-1}function a(t,e,n){var r=D.exec(e.slice(n));return r?(t.w=O[r[0].toLowerCase()],n+r[0].length):-1}function u(t,e,n){var r=F.exec(e.slice(n));return r?(t.m=B[r[0].toLowerCase()],n+r[0].length):-1}function s(t,e,n){var r=L.exec(e.slice(n));return r?(t.m=j[r[0].toLowerCase()],n+r[0].length):-1}function c(t,e,n){return r(t,_,e,n)}function l(t,e,n){return r(t,C,e,n)}function f(t,e,n){return r(t,M,e,n)}function h(t){return E[t.getDay()]}function p(t){return k[t.getDay()]}function d(t){return A[t.getMonth()]}function g(t){return T[t.getMonth()]}function v(t){return S[+(t.getHours()>=12)]}function m(t){return E[t.getUTCDay()]}function y(t){return k[t.getUTCDay()]}function b(t){return A[t.getUTCMonth()]}function w(t){return T[t.getUTCMonth()]}function x(t){return S[+(t.getUTCHours()>=12)]}var _=t.dateTime,C=t.date,M=t.time,S=t.periods,k=t.days,E=t.shortDays,T=t.months,A=t.shortMonths,N=ln(S),P=fn(S),D=ln(k),O=fn(k),R=ln(E),I=fn(E),L=ln(T),j=fn(T),F=ln(A),B=fn(A),U={a:h,A:p,b:d,B:g,c:null,d:kn,e:kn,H:En,I:Tn,j:An,L:Nn,m:Pn,M:Dn,p:v,S:On,U:Rn,w:In,W:Ln,x:null,X:null,y:jn,Y:Fn,Z:Bn,"%":tr},W={a:m,A:y,b:b,B:w,c:null,d:Un,e:Un,H:Wn,I:Hn,j:zn,L:Vn,m:qn,M:Yn,p:x,S:Xn,U:Kn,w:Gn,W:Qn,x:null,X:null,y:Zn,Y:Jn,Z:$n,"%":tr},H={a:o,A:a,b:u,B:s,c:c,d:bn,e:bn,H:xn,I:xn,j:wn,L:Mn,m:yn,M:_n,p:i,S:Cn,U:pn,w:hn,W:dn,x:l,X:f,y:vn,Y:gn,Z:mn,"%":Sn};return U.x=e(C,U),U.X=e(M,U),U.c=e(_,U),W.x=e(C,W),W.X=e(M,W),W.c=e(_,W),{format:function(t){var n=e(t+="",U);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",rn);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",W);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,on);return e.toString=function(){return t},e}}}function sn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function cn(t){return t.replace(Lg,"\\$&")}function ln(t){return new RegExp("^(?:"+t.map(cn).join("|")+")","i")}function fn(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function hn(t,e,n){var r=Rg.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pn(t,e,n){var r=Rg.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function dn(t,e,n){var r=Rg.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function gn(t,e,n){var r=Rg.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function vn(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mn(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yn(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bn(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wn(t,e,n){var r=Rg.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xn(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _n(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Cn(t,e,n){var r=Rg.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mn(t,e,n){var r=Rg.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Sn(t,e,n){var r=Ig.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kn(t,e){return sn(t.getDate(),e,2)}function En(t,e){return sn(t.getHours(),e,2)}function Tn(t,e){return sn(t.getHours()%12||12,e,2)}function An(t,e){return sn(1+kd.count(Vd(t),t),e,3)}function Nn(t,e){return sn(t.getMilliseconds(),e,3)}function Pn(t,e){return sn(t.getMonth()+1,e,2)}function Dn(t,e){return sn(t.getMinutes(),e,2)}function On(t,e){return sn(t.getSeconds(),e,2)}function Rn(t,e){return sn(Td.count(Vd(t),t),e,2)}function In(t){return t.getDay()}function Ln(t,e){return sn(Ad.count(Vd(t),t),e,2)}function jn(t,e){return sn(t.getFullYear()%100,e,2)}function Fn(t,e){return sn(t.getFullYear()%1e4,e,4)}function Bn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+sn(e/60|0,"0",2)+sn(e%60,"0",2)}function Un(t,e){return sn(t.getUTCDate(),e,2)}function Wn(t,e){return sn(t.getUTCHours(),e,2)}function Hn(t,e){return sn(t.getUTCHours()%12||12,e,2)}function zn(t,e){return sn(1+Qd.count(dg(t),t),e,3)}function Vn(t,e){return sn(t.getUTCMilliseconds(),e,3)}function qn(t,e){return sn(t.getUTCMonth()+1,e,2)}function Yn(t,e){return sn(t.getUTCMinutes(),e,2)}function Xn(t,e){return sn(t.getUTCSeconds(),e,2)}function Kn(t,e){return sn(Jd.count(dg(t),t),e,2)}function Gn(t){return t.getUTCDay()}function Qn(t,e){return sn($d.count(dg(t),t),e,2)}function Zn(t,e){return sn(t.getUTCFullYear()%100,e,2)}function Jn(t,e){return sn(t.getUTCFullYear()%1e4,e,4)}function $n(){return"+0000"}function tr(){return"%"}function er(e){return Ag=un(e),t.timeFormat=Ag.format,t.timeParse=Ag.parse,t.utcFormat=Ag.utcFormat,t.utcParse=Ag.utcParse,Ag}function nr(t){return t.toISOString()}function rr(t){var e=new Date(t);return isNaN(e)?null:e}function ir(t){function e(e){var o=e+"",a=n.get(o);if(!a){if(i!==zg)return i;n.set(o,a=r.push(e))}return t[(a-1)%t.length]}var n=o(),r=[],i=zg;return t=null==t?[]:Hg.call(t),e.domain=function(t){if(!arguments.length)return r.slice();r=[],n=o();for(var i,a,u=-1,s=t.length;++u<s;)n.has(a=(i=t[u])+"")||n.set(a,r.push(i));return e},e.range=function(n){return arguments.length?(t=Hg.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return ir().domain(r).range(t).unknown(i)},e}function or(){function t(){var t=i().length,r=a[1]<a[0],f=a[r-0],h=a[1-r];e=(h-f)/Math.max(1,t-s+2*c),u&&(e=Math.floor(e)),f+=(h-f-e*(t-s))*l,n=e*(1-s),u&&(f=Math.round(f),n=Math.round(n));var p=Rc(t).map(function(t){return f+e*t});return o(r?p.reverse():p)}var e,n,r=ir().unknown(void 0),i=r.domain,o=r.range,a=[0,1],u=!1,s=0,c=0,l=.5;return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),t()):i()},r.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},r.rangeRound=function(e){return a=[+e[0],+e[1]],u=!0,t()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(u=!!e,t()):u},r.padding=function(e){return arguments.length?(s=c=Math.max(0,Math.min(1,e)),t()):s},r.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),t()):s},r.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},r.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),t()):l},r.copy=function(){return or().domain(i()).range(a).round(u).paddingInner(s).paddingOuter(c).align(l)},t()}function ar(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ar(e())},t}function ur(){return ar(or().paddingInner(1))}function sr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vg(e)}function cr(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function lr(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function fr(t,e,n,r){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=n(o,i),a=r(u,a)):(i=n(i,o),a=r(a,u)),function(t){return a(i(t))}}function hr(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=n(t[u],t[u+1]),a[u]=r(e[u],e[u+1]);return function(e){var n=_c(t,e,1,i)-1;return a[n](o[n](e))}}function pr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function dr(t,e){function n(){return i=Math.min(u.length,s.length)>2?hr:fr,o=a=null,r}function r(e){return(o||(o=i(u,s,l?cr(t):t,c)))(+e)}var i,o,a,u=Yg,s=Yg,c=hp,l=!1;return r.invert=function(t){return(a||(a=i(s,u,sr,l?lr(e):e)))(+t)},r.domain=function(t){return arguments.length?(u=Wg.call(t,qg),n()):u.slice()},r.range=function(t){return arguments.length?(s=Hg.call(t),n()):s.slice()},r.rangeRound=function(t){return s=Hg.call(t),c=pp,n()},r.clamp=function(t){return arguments.length?(l=!!t,n()):l},r.interpolate=function(t){return arguments.length?(c=t,n()):c},n()}function gr(t){var e=t.domain;return t.ticks=function(t){var n=e();return Fc(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Xg(e(),t,n)},t.nice=function(r){var i=e(),o=i.length-1,a=null==r?10:r,u=i[0],s=i[o],c=n(u,s,a);return c&&(c=n(Math.floor(u/c)*c,Math.ceil(s/c)*c,a),i[0]=Math.floor(u/c)*c,i[o]=Math.ceil(s/c)*c,e(i)),t},t}function vr(){var t=dr(sr,up);return t.copy=function(){return pr(t,vr())},gr(t)}function mr(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Wg.call(n,qg),t):e.slice()},t.copy=function(){return mr().domain(e)},gr(t)}function yr(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Vg(e)}function br(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function wr(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xr(t){return 10===t?wr:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function _r(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Cr(t){return function(e){return-t(-e)}}function Mr(){function e(){return o=_r(i),a=xr(i),r()[0]<0&&(o=Cr(o),a=Cr(a)),n}var n=dr(yr,br).domain([1,10]),r=n.domain,i=10,o=_r(10),a=xr(10);return n.base=function(t){return arguments.length?(i=+t,e()):i},n.domain=function(t){return arguments.length?(r(t),e()):r()},n.ticks=function(t){var e,n=r(),u=n[0],s=n[n.length-1];(e=s<u)&&(h=u,u=s,s=h);var c,l,f,h=o(u),p=o(s),d=null==t?10:+t,g=[];if(!(i%1)&&p-h<d){if(h=Math.round(h)-1,p=Math.round(p)+1,u>0){for(;h<p;++h)for(l=1,c=a(h);l<i;++l)if(f=c*l,!(f<u)){if(f>s)break;g.push(f)}}else for(;h<p;++h)for(l=i-1,c=a(h);l>=1;--l)if(f=c*l,!(f<u)){if(f>s)break;g.push(f)}}else g=Fc(h,p,Math.min(p-h,d)).map(a);return e?g.reverse():g},n.tickFormat=function(e,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),e===1/0)return r;null==e&&(e=10);var u=Math.max(1,i*e/n.ticks().length);return function(t){var e=t/a(Math.round(o(t)));return e*i<i-.5&&(e*=i),e<=u?r(t):""}},n.nice=function(){return r(Kg(r(),{floor:function(t){return a(Math.floor(o(t)))},ceil:function(t){return a(Math.ceil(o(t)))}}))},n.copy=function(){return pr(n,Mr().base(i))},n}function Sr(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function kr(){function t(t,e){return(e=Sr(e,n)-(t=Sr(t,n)))?function(r){return(Sr(r,n)-t)/e}:Vg(e)}function e(t,e){return e=Sr(e,n)-(t=Sr(t,n)),function(r){return Sr(t+e*r,1/n)}}var n=1,r=dr(t,e),i=r.domain;return r.exponent=function(t){return arguments.length?(n=+t,i(i())):n},r.copy=function(){return pr(r,kr().exponent(n))},gr(r)}function Er(){return kr().exponent(.5)}function Tr(){function t(){var t=0,o=Math.max(1,r.length);for(i=new Array(o-1);++t<o;)i[t-1]=Wc(n,t/o);return e}function e(t){if(!isNaN(t=+t))return r[_c(i,t)]}var n=[],r=[],i=[];return e.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var r,i=0,o=e.length;i<o;++i)r=e[i],null==r||isNaN(r=+r)||n.push(r);return n.sort(bc),t()},e.range=function(e){return arguments.length?(r=Hg.call(e),t()):r.slice()},e.quantiles=function(){return i.slice()},e.copy=function(){return Tr().domain(n).range(r)},e}function Ar(){function t(t){if(t<=t)return a[_c(o,t,0,i)]}function e(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return t}var n=0,r=1,i=1,o=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e()):[n,r]},t.range=function(t){return arguments.length?(i=(a=Hg.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},t.copy=function(){return Ar().domain([n,r]).range(a)},gr(t)}function Nr(){function t(t){if(t<=t)return n[_c(e,t,0,r)]}var e=[.5],n=[0,1],r=1;return t.domain=function(i){return arguments.length?(e=Hg.call(i),r=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=Hg.call(i),r=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},t.copy=function(){return Nr().domain(e).range(n)},t}function Pr(t){return new Date(t)}function Dr(t){return t instanceof Date?+t:+new Date((+t))}function Or(t,e,r,i,o,a,u,s,c){function l(n){return(u(n)<n?g:a(n)<n?v:o(n)<n?m:i(n)<n?y:e(n)<n?r(n)<n?b:w:t(n)<n?x:_)(n)}function f(e,r,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-r)/e,u=wc(function(t){return t[2]}).right(C,a);u===C.length?(o=n(r/ev,i/ev,e),e=t):u?(u=C[a/C[u-1][2]<C[u][2]/a?u-1:u],o=u[1],e=u[0]):(o=n(r,i,e),e=s)}return null==o?e:e.every(o)}var h=dr(sr,up),p=h.invert,d=h.domain,g=c(".%L"),v=c(":%S"),m=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),w=c("%b %d"),x=c("%B"),_=c("%Y"),C=[[u,1,Gg],[u,5,5*Gg],[u,15,15*Gg],[u,30,30*Gg],[a,1,Qg],[a,5,5*Qg],[a,15,15*Qg],[a,30,30*Qg],[o,1,Zg],[o,3,3*Zg],[o,6,6*Zg],[o,12,12*Zg],[i,1,Jg],[i,2,2*Jg],[r,1,$g],[e,1,tv],[e,3,3*tv],[t,1,ev]];return h.invert=function(t){return new Date(p(t))},h.domain=function(t){return arguments.length?d(Wg.call(t,Dr)):d().map(Pr)},h.ticks=function(t,e){var n,r=d(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=f(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?l:c(e)},h.nice=function(t,e){var n=d();return(t=f(t,n[0],n[n.length-1],e))?d(Kg(n,t)):h},h.copy=function(){return pr(h,Or(t,e,r,i,o,a,u,s,c))},h}function Rr(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Ir(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return Ir(t).domain([n,r]).clamp(i)},gr(e)}function Lr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===yv&&e.documentElement.namespaceURI===yv?e.createElement(t):e.createElementNS(n,t)}}function jr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fr(){return new Br}function Br(){this._="@"+(++_v).toString(36)}function Ur(t,e,n){return t=Wr(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Wr(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function Hr(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function zr(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Vr(t,e,n){var r=Ev.hasOwnProperty(t.type)?Ur:Wr;return function(i,o,a){var u,s=this.__on,c=r(e,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=e);this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(u):this.__on=[u]}}function qr(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function Yr(){}function Xr(){return[]}function Kr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Gr(t,e,n,r,i,o){for(var a,u=0,s=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new Kr(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function Qr(t,e,n,r,i,o,a){var u,s,c,l={},f=e.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=e[u])&&(p[u]=c=Uv+a.call(s,s.__data__,u,e),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)c=Uv+a.call(t,o[u],u,o),(s=l[c])?(r[u]=s,s.__data__=o[u],l[c]=null):n[u]=new Kr(t,o[u]);for(u=0;u<f;++u)(s=e[u])&&l[p[u]]===s&&(i[u]=s)}function Zr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Jr(t){return function(){this.removeAttribute(t)}}function $r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ti(t,e){return function(){this.setAttribute(t,e)}}function ei(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ni(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ri(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ii(t){return function(){this.style.removeProperty(t)}}function oi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ai(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ui(t){return function(){delete this[t]}}function si(t,e){return function(){this[t]=e}}function ci(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function li(t){return t.trim().split(/^|\s+/)}function fi(t){return t.classList||new hi(t)}function hi(t){this._node=t,this._names=li(t.getAttribute("class")||"")}function pi(t,e){for(var n=fi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function di(t,e){for(var n=fi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function gi(t){return function(){pi(this,t)}}function vi(t){return function(){di(this,t)}}function mi(t,e){return function(){(e.apply(this,arguments)?pi:di)(this,t)}}function yi(){this.textContent=""}function bi(t){return function(){this.textContent=t}}function wi(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function xi(){this.innerHTML=""}function _i(t){return function(){this.innerHTML=t}}function Ci(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Mi(){this.nextSibling&&this.parentNode.appendChild(this)}function Si(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ki(){return null}function Ei(){var t=this.parentNode;t&&t.removeChild(this)}function Ti(t,e,n){var r=$v(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ai(t,e){return function(){return Ti(this,t,e)}}function Ni(t,e){return function(){return Ti(this,t,e.apply(this,arguments))}}function Pi(t,e){this._groups=t,this._parents=e}function Di(){return new Pi([[document.documentElement]],hm)}function Oi(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>bm)throw new Error("too late");return n}function Ri(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>xm)throw new Error("too late");return n}function Ii(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Li(t,e,n){function r(t){n.state=wm,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)}function i(r){var c,l,f,h;if(n.state!==wm)return a();for(c in s)if(h=s[c],h.name===n.name){if(h.state===_m)return cd(i);h.state===Cm?(h.state=Sm,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete s[c]):+c<e&&(h.state=Sm,h.timer.stop(),delete s[c])}if(cd(function(){n.state===_m&&(n.state=Cm,n.timer.restart(o,n.delay,n.time),o(r))}),n.state=xm,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xm){for(n.state=_m,u=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(u[++l]=h);u.length=l+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Mm,1),i=-1,o=u.length;++i<o;)u[i].call(null,r);n.state===Mm&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Sm,n.timer.stop(),delete s[e];for(var r in s)return;delete t.__transition}var u,s=t.__transition;s[e]=n,n.timer=qe(r,0,n.time)}function ji(t,e){var n,r;return function(){var i=Ri(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Fi(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ri(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},s=0,c=i.length;s<c;++s)if(i[s].name===e){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function Bi(t,e,n){var r=t._id;return t.each(function(){var t=Ri(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ii(t,r).value[e]}}function Ui(t){return function(){this.removeAttribute(t)}}function Wi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hi(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function zi(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function Vi(t,e,n){var r,i,o;return function(){var a,u=n(this);return null==u?void this.removeAttribute(t):(a=this.getAttribute(t),a===u?null:a===r&&u===i?o:o=e(r=a,i=u))}}function qi(t,e,n){var r,i,o;return function(){var a,u=n(this);return null==u?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===u?null:a===r&&u===i?o:o=e(r=a,i=u))}}function Yi(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function Xi(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function Ki(t,e){return function(){Oi(this,t).delay=+e.apply(this,arguments)}}function Gi(t,e){return e=+e,function(){Oi(this,t).delay=e}}function Qi(t,e){return function(){Ri(this,t).duration=+e.apply(this,arguments)}}function Zi(t,e){return e=+e,function(){Ri(this,t).duration=e}}function Ji(t,e){if("function"!=typeof e)throw new Error;return function(){Ri(this,t).ease=e}}function $i(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function to(t,e,n){var r,i,o=$i(e)?Oi:Ri;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}function eo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function no(t,e){var n,r,i;return function(){var o=$v(this).getComputedStyle(this,null),a=o.getPropertyValue(t),u=(this.style.removeProperty(t),o.getPropertyValue(t));return a===u?null:a===n&&u===r?i:i=e(n=a,r=u)}}function ro(t){return function(){this.style.removeProperty(t)}}function io(t,e,n){var r,i;return function(){var o=$v(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===r?i:i=e(r=o,n)}}function oo(t,e,n){var r,i,o;return function(){var a=$v(this).getComputedStyle(this,null),u=a.getPropertyValue(t),s=n(this);return null==s&&(this.style.removeProperty(t),s=a.getPropertyValue(t)),u===s?null:u===r&&s===i?o:o=e(r=u,i=s)}}function ao(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}function uo(t){return function(){this.textContent=t}}function so(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function co(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function lo(t){return Di().transition(t)}function fo(){return++Km}function ho(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Qm.time=He(),Qm;return n}function po(t,e,n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"}function go(t,e,n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"}function vo(t){var e=t.bandwidth()/2;return t.round()&&(e=Math.round(e)),function(n){return t(n)+e}}function mo(){return!this.__axis}function yo(t,e){function n(n){var c,l=null==i?e.ticks?e.ticks.apply(e,r):e.domain():i,f=null==o?e.tickFormat?e.tickFormat.apply(e,r):ey:o,h=Math.max(a,0)+s,p=t===ny||t===iy?po:go,d=e.range(),g=d[0]+.5,v=d[d.length-1]+.5,m=(e.bandwidth?vo:ey)(e.copy()),y=n.selection?n.selection():n,b=y.selectAll(".domain").data([null]),w=y.selectAll(".tick").data(l,e).order(),x=w.exit(),_=w.enter().append("g").attr("class","tick"),C=w.select("line"),M=w.select("text"),S=t===ny||t===oy?-1:1,k=t===oy||t===ry?(c="x","y"):(c="y","x");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(_),C=C.merge(_.append("line").attr("stroke","#000").attr(c+"2",S*a).attr(k+"1",.5).attr(k+"2",.5)),M=M.merge(_.append("text").attr("fill","#000").attr(c,S*h).attr(k,.5).attr("dy",t===ny?"0em":t===iy?"0.71em":"0.32em")),n!==y&&(b=b.transition(n),w=w.transition(n),C=C.transition(n),M=M.transition(n),x=x.transition(n).attr("opacity",ay).attr("transform",function(t){return p(m,this.parentNode.__axis||m,t)}),_.attr("opacity",ay).attr("transform",function(t){return p(this.parentNode.__axis||m,m,t)})),x.remove(),b.attr("d",t===oy||t==ry?"M"+S*u+","+g+"H0.5V"+v+"H"+S*u:"M"+g+","+S*u+"V0.5H"+v+"V"+S*u),w.attr("opacity",1).attr("transform",function(t){return p(m,m,t)}),C.attr(c+"2",S*a),M.attr(c,S*h).text(f),y.filter(mo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ry?"start":t===oy?"end":"middle"),y.each(function(){this.__axis=m})}var r=[],i=null,o=null,a=6,u=6,s=3;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return r=ty.call(arguments),n},n.tickArguments=function(t){return arguments.length?(r=null==t?[]:ty.call(t),n):r.slice()},n.tickValues=function(t){return arguments.length?(i=null==t?null:ty.call(t),n):i&&i.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(a=u=+t,n):a},n.tickSizeInner=function(t){return arguments.length?(a=+t,n):a},n.tickSizeOuter=function(t){return arguments.length?(u=+t,n):u},n.tickPadding=function(t){return arguments.length?(s=+t,n):s},n}function bo(t){return yo(ny,t)}function wo(t){return yo(ry,t)}function xo(t){return yo(iy,t)}function _o(t){return yo(oy,t)}function Co(t,e){return t.parent===e.parent?1:2}function Mo(t){return t.reduce(So,0)/t.length}function So(t,e){return t+e.x}function ko(t){return 1+t.reduce(Eo,0)}function Eo(t,e){return Math.max(t,e.y)}function To(t){for(var e;e=t.children;)t=e[0];return t}function Ao(t){for(var e;e=t.children;)t=e[e.length-1];return t}function No(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Po(t,e){var n,r,i,o,a,u=new Lo(t),s=+t.value&&(u.value=t.value),c=[u];for(null==e&&(e=Oo);n=c.pop();)if(s&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new Lo(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(Io)}function Do(){return Po(this).eachBefore(Ro)}function Oo(t){return t.children}function Ro(t){t.data=t.data.data}function Io(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Lo(t){this.data=t,this.depth=this.height=0,this.parent=null}function jo(t){this._=t,this.next=null}function Fo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r-e.r;return i*i+1e-6>n*n+r*r}function Bo(t,e){var n,r,i,o=null,a=t.head;switch(e.length){case 1:n=Uo(e[0]);break;case 2:n=Wo(e[0],e[1]);break;case 3:n=Ho(e[0],e[1],e[2])}for(;a;)i=a._,r=a.next,n&&Fo(n,i)?o=a:(o?(t.tail=o,o.next=null):t.head=t.tail=null,e.push(i),n=Bo(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),o=t.tail,o.next=r),a=r;return t.tail=o,n}function Uo(t){return{x:t.x,y:t.y,r:t.r}}function Wo(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,s=o-n,c=a-r,l=u-i,f=Math.sqrt(s*s+c*c);return{x:(n+o+s/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+u)/2}}function Ho(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,s=e.r,c=n.x,l=n.y,f=n.r,h=2*(r-a),p=2*(i-u),d=2*(s-o),g=r*r+i*i-o*o-a*a-u*u+s*s,v=2*(r-c),m=2*(i-l),y=2*(f-o),b=r*r+i*i-o*o-c*c-l*l+f*f,w=v*p-h*m,x=(p*b-m*g)/w-r,_=(m*d-p*y)/w,C=(v*g-h*b)/w-i,M=(h*y-v*d)/w,S=_*_+M*M-1,k=2*(x*_+C*M+o),E=x*x+C*C-o*o,T=(-k-Math.sqrt(k*k-4*S*E))/(2*S);return{x:x+_*T+r,y:C+M*T+i,r:T}}function zo(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,u=e.x-r,s=e.y-i,c=u*u+s*s;if(c){var l=.5+((a*=a)-(o*=o))/(2*c),f=Math.sqrt(Math.max(0,2*o*(a+c)-(a-=c)*a-o*o))/(2*c);n.x=r+l*u+f*s,n.y=i+l*s-f*u}else n.x=r+a,n.y=i}function Vo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i>n*n+r*r}function qo(t,e,n){var r=t.x-e,i=t.y-n;return r*r+i*i}function Yo(t){this._=t,this.next=null,this.previous=null}function Xo(t){if(!(i=t.length))return 0;var e,n,r,i;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;zo(n,e,r=t[2]);var o,a,u,s,c,l,f,h=e.r*e.r,p=n.r*n.r,d=r.r*r.r,g=h+p+d,v=h*e.x+p*n.x+d*r.x,m=h*e.y+p*n.y+d*r.y;e=new Yo(e),n=new Yo(n),r=new Yo(r),e.next=r.previous=n,n.next=e.previous=r,
r.next=n.previous=e;t:for(u=3;u<i;++u){if(zo(e._,n._,r=t[u]),r=new Yo(r),(c=e.previous)===(s=n.next)){if(Vo(s._,r._)){e=n,n=s,--u;continue t}}else{l=s._.r,f=c._.r;do if(l<=f){if(Vo(s._,r._)){n=s,e.next=n,n.previous=e,--u;continue t}s=s.next,l+=s._.r}else{if(Vo(c._,r._)){e=c,e.next=n,n.previous=e,--u;continue t}c=c.previous,f+=c._.r}while(s!==c.next)}for(r.previous=e,r.next=n,e.next=n.previous=n=r,g+=d=r._.r*r._.r,v+=d*r._.x,m+=d*r._.y,h=qo(e._,o=v/g,a=m/g);(r=r.next)!==n;)(d=qo(r._,o,a))<h&&(e=r,h=d);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=by(e),u=0;u<i;++u)e=t[u],e.x-=r.x,e.y-=r.y;return r.r}function Ko(t){return null==t?null:Go(t)}function Go(t){if("function"!=typeof t)throw new Error;return t}function Qo(){return 0}function Zo(t){return Math.sqrt(t.value)}function Jo(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function $o(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=Xo(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function ta(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function ea(t){return t.id}function na(t){return t.parentId}function ra(t,e){return t.parent===e.parent?1:2}function ia(t){var e=t.children;return e?e[0]:t.t}function oa(t){var e=t.children;return e?e[e.length-1]:t.t}function aa(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ua(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function sa(t,e,n){return t.a.parent===e.parent?t.a:n}function ca(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function la(t){for(var e,n,r,i,o,a=new ca(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=e.children[i]=new ca(r[i],i)),n.parent=e;return(a.parent=new ca(null,0)).children=[a],a}function fa(t,e,n,r,i,o){for(var a,u,s,c,l,f,h,p,d,g,v,m,y=[],b=e.children,w=0,x=b.length,_=e.value;w<x;){for(c=i-n,l=o-r,h=p=f=b[w].value,v=Math.max(l/c,c/l)/(_*t),m=f*f*v,g=Math.max(p/m,m/h),s=w+1;s<x;++s){if(f+=u=b[s].value,u<h&&(h=u),u>p&&(p=u),m=f*f*v,d=Math.max(p/m,m/h),d>g){f-=u;break}g=d}y.push(a={value:f,dice:c<l,children:b.slice(w,s)}),a.dice?My(a,n,r,i,_?r+=l*f/_:o):Py(a,n,r,_?n+=c*f/_:i,o),_-=f,w=s}return y}function ha(t){return t.x+t.vx}function pa(t){return t.y+t.vy}function da(t,e){return e}function ga(t){return t.x}function va(t){return t.y}function ma(){t.event.stopImmediatePropagation()}function ya(t,e){var n=t.document.documentElement,r=pm(t).on("dragstart.drag",null);e&&(r.on("click.drag",Gy,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ba(t,e,n,r,i,o,a,u,s,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=c}function wa(){return!t.event.button}function xa(){return this.parentNode}function _a(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Ca(t){return t[0]}function Ma(t){return t[1]}function Sa(){this._=null}function ka(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ea(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ta(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Aa(t){for(;t.L;)t=t.L;return t}function Na(t,e,n,r){var i=[null,null],o=ib.push(i)-1;return i.left=t,i.right=e,n&&Da(i,t,e,n),r&&Da(i,e,t,r),nb[t.index].halfedges.push(o),nb[e.index].halfedges.push(o),i}function Pa(t,e,n){var r=[e,n];return r.left=t,r}function Da(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Oa(t,e,n,r,i){var o,a=t[0],u=t[1],s=a[0],c=a[1],l=u[0],f=u[1],h=0,p=1,d=l-s,g=f-c;if(o=e-s,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=r-s,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<p&&(p=o)}if(o=n-c,g||!(o>0)){if(o/=g,g<0){if(o<h)return;o<p&&(p=o)}else if(g>0){if(o>p)return;o>h&&(h=o)}if(o=i-c,g||!(o<0)){if(o/=g,g<0){if(o>p)return;o>h&&(h=o)}else if(g>0){if(o<h)return;o<p&&(p=o)}return!(h>0||p<1)||(h>0&&(t[0]=[s+h*d,c+h*g]),p<1&&(t[1]=[s+p*d,c+p*g]),!0)}}}}}function Ra(t,e,n,r,i){var o=t[1];if(o)return!0;var a,u,s=t[0],c=t.left,l=t.right,f=c[0],h=c[1],p=l[0],d=l[1],g=(f+p)/2,v=(h+d)/2;if(d===h){if(g<e||g>=r)return;if(f>p){if(s){if(s[1]>=i)return}else s=[g,n];o=[g,i]}else{if(s){if(s[1]<n)return}else s=[g,i];o=[g,n]}}else if(a=(f-p)/(d-h),u=v-a*g,a<-1||a>1)if(f>p){if(s){if(s[1]>=i)return}else s=[(n-u)/a,n];o=[(i-u)/a,i]}else{if(s){if(s[1]<n)return}else s=[(i-u)/a,i];o=[(n-u)/a,n]}else if(h<d){if(s){if(s[0]>=r)return}else s=[e,a*e+u];o=[r,a*r+u]}else{if(s){if(s[0]<e)return}else s=[r,a*r+u];o=[e,a*e+u]}return t[0]=s,t[1]=o,!0}function Ia(t,e,n,r){for(var i,o=ib.length;o--;)Ra(i=ib[o],t,e,n,r)&&Oa(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>ub||Math.abs(i[0][1]-i[1][1])>ub)||delete ib[o]}function La(t){return nb[t.index]={site:t,halfedges:[]}}function ja(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Fa(t,e){return e[+(e.left!==t.site)]}function Ba(t,e){return e[+(e.left===t.site)]}function Ua(){for(var t,e,n,r,i=0,o=nb.length;i<o;++i)if((t=nb[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(n=0;n<r;++n)a[n]=n,u[n]=ja(t,ib[e[n]]);for(a.sort(function(t,e){return u[e]-u[t]}),n=0;n<r;++n)u[n]=e[a[n]];for(n=0;n<r;++n)e[n]=u[n]}}function Wa(t,e,n,r){var i,o,a,u,s,c,l,f,h,p,d,g,v=nb.length,m=!0;for(i=0;i<v;++i)if(o=nb[i]){for(a=o.site,s=o.halfedges,u=s.length;u--;)ib[s[u]]||s.splice(u,1);for(u=0,c=s.length;u<c;)p=Ba(o,ib[s[u]]),d=p[0],g=p[1],l=Fa(o,ib[s[++u%c]]),f=l[0],h=l[1],(Math.abs(d-f)>ub||Math.abs(g-h)>ub)&&(s.splice(u,0,ib.push(Pa(a,p,Math.abs(d-t)<ub&&r-g>ub?[t,Math.abs(f-t)<ub?h:r]:Math.abs(g-r)<ub&&n-d>ub?[Math.abs(h-r)<ub?f:n,r]:Math.abs(d-n)<ub&&g-e>ub?[n,Math.abs(f-n)<ub?h:e]:Math.abs(g-e)<ub&&d-t>ub?[Math.abs(h-e)<ub?f:t,e]:null))-1),++c);c&&(m=!1)}if(m){var y,b,w,x=1/0;for(i=0,m=null;i<v;++i)(o=nb[i])&&(a=o.site,y=a[0]-t,b=a[1]-e,w=y*y+b*b,w<x&&(x=w,m=o));if(m){var _=[t,e],C=[t,r],M=[n,r],S=[n,e];m.halfedges.push(ib.push(Pa(a=m.site,_,C))-1,ib.push(Pa(a,C,M))-1,ib.push(Pa(a,M,S))-1,ib.push(Pa(a,S,_))-1)}}for(i=0;i<v;++i)(o=nb[i])&&(o.halfedges.length||delete nb[i])}function Ha(){ka(this),this.x=this.y=this.arc=this.site=this.cy=null}function za(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],u=i[1],s=r[0]-a,c=r[1]-u,l=o[0]-a,f=o[1]-u,h=2*(s*f-c*l);if(!(h>=-sb)){var p=s*s+c*c,d=l*l+f*f,g=(f*p-c*d)/h,v=(s*d-l*p)/h,m=ob.pop()||new Ha;m.arc=t,m.site=i,m.x=g+a,m.y=(m.cy=v+u)+Math.sqrt(g*g+v*v),t.circle=m;for(var y=null,b=rb._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}rb.insert(y,m),y||(tb=m)}}}}function Va(t){var e=t.circle;e&&(e.P||(tb=e.N),rb.remove(e),ob.push(e),ka(e),t.circle=null)}function qa(){ka(this),this.edge=this.site=this.circle=null}function Ya(t){var e=ab.pop()||new qa;return e.site=t,e}function Xa(t){Va(t),eb.remove(t),ab.push(t),ka(t)}function Ka(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,u=[t];Xa(t);for(var s=o;s.circle&&Math.abs(n-s.circle.x)<ub&&Math.abs(r-s.circle.cy)<ub;)o=s.P,u.unshift(s),Xa(s),s=o;u.unshift(s),Va(s);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<ub&&Math.abs(r-c.circle.cy)<ub;)a=c.N,u.push(c),Xa(c),c=a;u.push(c),Va(c);var l,f=u.length;for(l=1;l<f;++l)c=u[l],s=u[l-1],Da(c.edge,s.site,c.site,i);s=u[0],c=u[f-1],c.edge=Na(s.site,c.site,null,i),za(s),za(c)}function Ga(t){for(var e,n,r,i,o=t[0],a=t[1],u=eb._;u;)if(r=Qa(u,a)-o,r>ub)u=u.L;else{if(i=o-Za(u,a),!(i>ub)){r>-ub?(e=u.P,n=u):i>-ub?(e=u,n=u.N):e=n=u;break}if(!u.R){e=u;break}u=u.R}La(t);var s=Ya(t);if(eb.insert(e,s),e||n){if(e===n)return Va(e),n=Ya(e.site),eb.insert(s,n),s.edge=n.edge=Na(e.site,s.site),za(e),void za(n);if(!n)return void(s.edge=Na(e.site,s.site));Va(e),Va(n);var c=e.site,l=c[0],f=c[1],h=t[0]-l,p=t[1]-f,d=n.site,g=d[0]-l,v=d[1]-f,m=2*(h*v-p*g),y=h*h+p*p,b=g*g+v*v,w=[(v*y-p*b)/m+l,(h*b-g*y)/m+f];Da(n.edge,c,d,w),s.edge=Na(c,t,null,w),n.edge=Na(t,d,null,w),za(e),za(n)}}function Qa(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var u=n[0],s=n[1],c=s-e;if(!c)return u;var l=u-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+i-o/2)))/f+r:(r+u)/2}function Za(t,e){var n=t.N;if(n)return Qa(n,e);var r=t.site;return r[1]===e?r[0]:1/0}function Ja(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function $a(t,e){return e[1]-t[1]||e[0]-t[0]}function tu(t,e){var n,r,i,o=t.sort($a).pop();for(ib=[],nb=new Array(t.length),eb=new Sa,rb=new Sa;;)if(i=tb,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Ga(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Ka(i.arc)}if(Ua(),e){var a=+e[0][0],u=+e[0][1],s=+e[1][0],c=+e[1][1];Ia(a,u,s,c),Wa(a,u,s,c)}this.edges=ib,this.cells=nb,eb=rb=ib=nb=null}function eu(t,e,n){this.target=t,this.type=e,this.transform=n}function nu(t,e,n){this.k=t,this.x=e,this.y=n}function ru(t){return t.__zoom||fb}function iu(){t.event.stopImmediatePropagation()}function ou(){return!t.event.button}function au(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function uu(){return this.__zoom||fb}function su(){t.event.stopImmediatePropagation()}function cu(t){return{type:t}}function lu(){return!t.event.button}function fu(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function hu(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function pu(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function du(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function gu(){return mu(xb)}function vu(){return mu(_b)}function mu(e){function n(t){var n=t.property("__brush",u).selectAll(".overlay").data([cu("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mb.overlay).merge(n).each(function(){var t=hu(this).extent;pm(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([cu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mb.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Mb[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function r(){var t=pm(this),e=hu(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-h/2:e[0][0]-h/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-h/2:e[0][1]-h/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+h:h}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+h:h})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){function n(){var t=Pv(M);!L||_||C||(Math.abs(t[0]-F[0])>Math.abs(t[1]-F[1])?C=!0:_=!0),F=t,x=!0,vb(),o()}function o(){var t;switch(b=F[0]-j[0],w=F[1]-j[1],k){case yb:case mb:E&&(b=Math.max(D-f,Math.min(R-g,b)),h=f+b,v=g+b),T&&(w=Math.max(O-p,Math.min(I-m,w)),d=p+w,y=m+w);break;case bb:E<0?(b=Math.max(D-f,Math.min(R-f,b)),h=f+b,v=g):E>0&&(b=Math.max(D-g,Math.min(R-g,b)),h=f,v=g+b),T<0?(w=Math.max(O-p,Math.min(I-p,w)),d=p+w,y=m):T>0&&(w=Math.max(O-m,Math.min(I-m,w)),d=p,y=m+w);break;case wb:E&&(h=Math.max(D,Math.min(R,f-b*E)),v=Math.max(D,Math.min(R,g+b*E))),T&&(d=Math.max(O,Math.min(I,p-w*T)),y=Math.max(O,Math.min(I,m+w*T)))}v<h&&(E*=-1,t=f,f=g,g=t,t=h,h=v,v=t,S in Sb&&W.attr("cursor",Mb[S=Sb[S]])),y<d&&(T*=-1,t=p,p=m,m=t,t=d,d=y,y=t,S in kb&&W.attr("cursor",Mb[S=kb[S]])),P=A.selection,_&&(h=P[0][0],v=P[1][0]),C&&(d=P[0][1],y=P[1][1]),P[0][0]===h&&P[0][1]===d&&P[1][0]===v&&P[1][1]===y||(A.selection=[[h,d],[v,y]],r.call(M),B.brush())}function a(){if(su(),t.event.touches){if(t.event.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500),U.on("touchmove.brush touchend.brush touchcancel.brush",null)}else ya(t.event.view,x),H.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);U.attr("pointer-events","all"),W.attr("cursor",Mb.overlay),pu(P)&&(A.selection=null,r.call(M)),B.end()}function u(){switch(t.event.keyCode){case 16:L=E&&T;break;case 18:k===bb&&(E&&(g=v-b*E,f=h+b*E),T&&(m=y-w*T,p=d+w*T),k=wb,o());break;case 32:k!==bb&&k!==wb||(E<0?g=v-b:E>0&&(f=h-b),T<0?m=y-w:T>0&&(p=d-w),k=yb,W.attr("cursor",Mb.selection),o());break;default:return}vb()}function c(){switch(t.event.keyCode){case 16:L&&(_=C=L=!1,o());break;case 18:k===wb&&(E<0?g=v:E>0&&(f=h),T<0?m=y:T>0&&(p=d),k=bb,o());break;case 32:k===yb&&(t.event.altKey?(E&&(g=v-b*E,f=h+b*E),T&&(m=y-w*T,p=d+w*T),k=wb):(E<0?g=v:E>0&&(f=h),T<0?m=y:T>0&&(p=d),k=bb),W.attr("cursor",Mb[S]),o());break;default:return}vb()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return vb()}else if(s)return;if(l.apply(this,arguments)){var f,h,p,d,g,v,m,y,b,w,x,_,C,M=this,S=t.event.target.__data__.type,k="selection"===(t.event.metaKey?S="overlay":S)?mb:t.event.altKey?wb:bb,E=e===_b?null:Eb[S],T=e===xb?null:Tb[S],A=hu(M),N=A.extent,P=A.selection,D=N[0][0],O=N[0][1],R=N[1][0],I=N[1][1],L=E&&T&&t.event.shiftKey,j=Pv(M),F=j,B=i(M,arguments).beforestart();"overlay"===S?A.selection=P=[[f=e===_b?D:j[0],p=e===xb?O:j[1]],[g=e===_b?R:f,m=e===xb?I:p]]:(f=P[0][0],p=P[0][1],g=P[1][0],m=P[1][1]),h=f,d=p,v=g,y=m;var U=pm(M).attr("pointer-events","none"),W=U.selectAll(".overlay").attr("cursor",Mb[S]);if(t.event.touches)U.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var H=pm(t.event.view).on("keydown.brush",u,!0).on("keyup.brush",c,!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);Qy(t.event.view)}su(),Em(M),r.call(M),B.start()}}function u(){var t=this.__brush||{selection:null};return t.extent=c.apply(this,arguments),t.dim=e,t}var s,c=fu,l=lu,f=Pe(n,"start","brush","end"),h=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){a.selection=1===t&&pu(c)?null:l(t),r.call(o),u.brush()}var o=this,a=o.__brush,u=i(o,arguments),s=a.selection,c=e.input("function"==typeof n?n.apply(this,arguments):n,a.extent),l=hp(s,c);return s&&c?t:t(1)}):t.each(function(){var t=this,o=arguments,a=t.__brush,u=e.input("function"==typeof n?n.apply(t,o):n,a.extent),s=i(t,o).beforestart();Em(t),a.selection=null==u||pu(u)?null:u,r.call(t),s.start().brush().end()})},o.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){qr(new gb(n,t,e.output(this.state.selection)),f.apply,f,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(c="function"==typeof t?t:db([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):c},n.filter=function(t){return arguments.length?(l="function"==typeof t?t:db(!!t),n):l},n.handleSize=function(t){return arguments.length?(h=+t,n):h},n.on=function(){var t=f.on.apply(f,arguments);return t===f?n:t},n}function yu(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function bu(t){return t.source}function wu(t){return t.target}function xu(t){return t.radius}function _u(t){return t.startAngle}function Cu(t){return t.endAngle}function Mu(){this.reset()}function Su(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function ku(t){return t>1?0:t<-1?xw:Math.acos(t)}function Eu(t){return t>1?_w:t<-1?-_w:Math.asin(t)}function Tu(t){return(t=Iw(t/2))*t}function Au(){}function Nu(t,e){t&&Uw.hasOwnProperty(t.type)&&Uw[t.type](t,e)}function Pu(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Du(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Pu(t[n],e,1);e.polygonEnd()}function Ou(){Vw.point=Iu}function Ru(){Lu(Wb,Hb)}function Iu(t,e){Vw.point=Lu,Wb=t,Hb=e,t*=kw,e*=kw,zb=t,Vb=Nw(e=e/2+Cw),qb=Iw(e)}function Lu(t,e){t*=kw,e*=kw,e=e/2+Cw;var n=t-zb,r=n>=0?1:-1,i=r*n,o=Nw(e),a=Iw(e),u=qb*a,s=Vb*o+u*Nw(i),c=u*r*Iw(i);Hw.add(Aw(c,s)),zb=t,Vb=o,qb=a}function ju(t){return[Aw(t[1],t[0]),Eu(t[2])]}function Fu(t){var e=t[0],n=t[1],r=Nw(n);return[r*Nw(e),r*Iw(e),Iw(n)]}function Bu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Uu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Wu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Hu(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function zu(t){var e=jw(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Vu(t,e){tw.push(ew=[Yb=t,Kb=t]),e<Xb&&(Xb=e),e>Gb&&(Gb=e)}function qu(t,e){var n=Fu([t*kw,e*kw]);if($b){var r=Uu($b,n),i=[r[1],-r[0],0],o=Uu(i,r);zu(o),o=ju(o);var a,u=t-Qb,s=u>0?1:-1,c=o[0]*Sw*s,l=Ew(u)>180;l^(s*Qb<c&&c<s*t)?(a=o[1]*Sw,a>Gb&&(Gb=a)):(c=(c+360)%360-180,l^(s*Qb<c&&c<s*t)?(a=-o[1]*Sw,a<Xb&&(Xb=a)):(e<Xb&&(Xb=e),e>Gb&&(Gb=e))),l?t<Qb?Zu(Yb,t)>Zu(Yb,Kb)&&(Kb=t):Zu(t,Kb)>Zu(Yb,Kb)&&(Yb=t):Kb>=Yb?(t<Yb&&(Yb=t),t>Kb&&(Kb=t)):t>Qb?Zu(Yb,t)>Zu(Yb,Kb)&&(Kb=t):Zu(t,Kb)>Zu(Yb,Kb)&&(Yb=t)}else Vu(t,e);$b=n,Qb=t}function Yu(){Xw.point=qu}function Xu(){ew[0]=Yb,ew[1]=Kb,Xw.point=Vu,$b=null}function Ku(t,e){if($b){var n=t-Qb;Yw.add(Ew(n)>180?n+(n>0?360:-360):n)}else Zb=t,Jb=e;Vw.point(t,e),qu(t,e)}function Gu(){Vw.lineStart()}function Qu(){Ku(Zb,Jb),Vw.lineEnd(),Ew(Yw)>bw&&(Yb=-(Kb=180)),ew[0]=Yb,ew[1]=Kb,$b=null}function Zu(t,e){return(e-=t)<0?e+360:e}function Ju(t,e){return t[0]-e[0]}function $u(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function ts(t,e){t*=kw,e*=kw;var n=Nw(e);es(n*Nw(t),n*Iw(t),Iw(e))}function es(t,e,n){++nw,iw+=(t-iw)/nw,ow+=(e-ow)/nw,aw+=(n-aw)/nw}function ns(){Gw.point=rs}function rs(t,e){t*=kw,e*=kw;var n=Nw(e);gw=n*Nw(t),vw=n*Iw(t),mw=Iw(e),Gw.point=is,es(gw,vw,mw)}function is(t,e){t*=kw,e*=kw;var n=Nw(e),r=n*Nw(t),i=n*Iw(t),o=Iw(e),a=Aw(jw((a=vw*o-mw*i)*a+(a=mw*r-gw*o)*a+(a=gw*i-vw*r)*a),gw*r+vw*i+mw*o);rw+=a,uw+=a*(gw+(gw=r)),sw+=a*(vw+(vw=i)),cw+=a*(mw+(mw=o)),es(gw,vw,mw)}function os(){Gw.point=ts}function as(){Gw.point=ss}function us(){cs(pw,dw),Gw.point=ts}function ss(t,e){pw=t,dw=e,t*=kw,e*=kw,Gw.point=cs;var n=Nw(e);gw=n*Nw(t),vw=n*Iw(t),mw=Iw(e),es(gw,vw,mw)}function cs(t,e){t*=kw,e*=kw;var n=Nw(e),r=n*Nw(t),i=n*Iw(t),o=Iw(e),a=vw*o-mw*i,u=mw*r-gw*o,s=gw*i-vw*r,c=jw(a*a+u*u+s*s),l=gw*r+vw*i+mw*o,f=c&&-ku(l)/c,h=Aw(c,l);lw+=f*a,fw+=f*u,hw+=f*s,rw+=h,uw+=h*(gw+(gw=r)),sw+=h*(vw+(vw=i)),cw+=h*(mw+(mw=o)),es(gw,vw,mw)}function ls(t,e){return[t>xw?t-Mw:t<-xw?t+Mw:t,e]}function fs(t,e,n){return(t%=Mw)?e||n?Jw(ps(t),ds(e,n)):ps(t):e||n?ds(e,n):ls}function hs(t){return function(e,n){return e+=t,[e>xw?e-Mw:e<-xw?e+Mw:e,n]}}function ps(t){var e=hs(t);return e.invert=hs(-t),e}function ds(t,e){function n(t,e){var n=Nw(e),u=Nw(t)*n,s=Iw(t)*n,c=Iw(e),l=c*r+u*i;return[Aw(s*o-l*a,u*r-c*i),Eu(l*o+s*a)]}var r=Nw(t),i=Iw(t),o=Nw(e),a=Iw(e);return n.invert=function(t,e){var n=Nw(e),u=Nw(t)*n,s=Iw(t)*n,c=Iw(e),l=c*o-s*a;return[Aw(s*o+c*a,u*r+l*i),Eu(l*r-u*i)]},n}function gs(t,e,n,r,i,o){if(n){var a=Nw(e),u=Iw(e),s=r*n;null==i?(i=e+r*Mw,o=e-s/2):(i=vs(a,i),o=vs(a,o),(r>0?i<o:i>o)&&(i+=r*Mw));for(var c,l=i;r>0?l>o:l<o;l-=s)c=ju([a,-u*Nw(l),-u*Iw(l)]),t.point(c[0],c[1])}}function vs(t,e){e=Fu(e),e[0]-=t,zu(e);var n=ku(-e[1]);return((-e[2]<0?-n:n)+Mw-bw)%Mw}function ms(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ys(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function bs(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,u,c){var l=0,f=0;if(null==i||(l=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0){do c.point(0===l||3===l?t:n,l>1?r:e);while((l=(l+u+4)%4)!==f)}else c.point(o[0],o[1])}function a(r,i){return Ew(r[0]-t)<bw?i>0?0:3:Ew(r[0]-n)<bw?i>0?2:1:Ew(r[1]-e)<bw?i>0?1:0:i>0?3:2}function u(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function s(t,e){i(t,e)&&k.point(t,e)}function c(){for(var e=0,n=0,i=v.length;n<i;++n)for(var o,a,u=v[n],s=1,c=u.length,l=u[0],f=l[0],h=l[1];s<c;++s)o=f,a=h,l=u[s],f=l[0],h=l[1],a<=r?h>r&&(f-o)*(r-a)>(h-a)*(t-o)&&++e:h<=r&&(f-o)*(r-a)<(h-a)*(t-o)&&--e;return e}function l(){k=E,g=[],v=[],S=!0}function f(){var t=c(),e=S&&t,n=(g=Xc(g)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&gx(g,u,t,o,a),a.polygonEnd()),k=a,g=v=m=null}function h(){T.point=d,v&&v.push(m=[]),M=!0,C=!1,x=_=NaN}function p(){g&&(d(y,b),w&&C&&E.rejoin(),g.push(E.result())),T.point=s,C&&k.lineEnd()}function d(o,a){var u=i(o,a);if(v&&m.push([o,a]),M)y=o,b=a,w=u,M=!1,u&&(k.lineStart(),k.point(o,a));else if(u&&C)k.point(o,a);else{var s=[x=Math.max(mx,Math.min(vx,x)),_=Math.max(mx,Math.min(vx,_))],c=[o=Math.max(mx,Math.min(vx,o)),a=Math.max(mx,Math.min(vx,a))];px(s,c,t,e,n,r)?(C||(k.lineStart(),k.point(s[0],s[1])),k.point(c[0],c[1]),u||k.lineEnd(),S=!1):u&&(k.lineStart(),k.point(o,a),S=!1)}x=o,_=a,C=u}var g,v,m,y,b,w,x,_,C,M,S,k=a,E=hx(),T={point:s,lineStart:h,lineEnd:p,polygonStart:l,polygonEnd:f};return T}}function ws(){wx.point=_s,wx.lineEnd=xs}function xs(){wx.point=wx.lineEnd=Au}function _s(t,e){t*=kw,e*=kw,$w=t,tx=Iw(e),ex=Nw(e),wx.point=Cs}function Cs(t,e){t*=kw,e*=kw;var n=Iw(e),r=Nw(e),i=Ew(t-$w),o=Nw(i),a=Iw(i),u=r*a,s=ex*n-tx*r*o,c=tx*n+ex*r*o;bx.add(Aw(jw(u*u+s*s),c)),$w=t,tx=n,ex=r}function Ms(t,e,n){var r=Rc(t,e-bw,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Ss(t,e,n){var r=Rc(t,e-bw,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function ks(){Nx.point=Es}function Es(t,e){Nx.point=Ts,nx=ix=t,rx=ox=e}function Ts(t,e){Ax.add(ox*t-ix*e),ix=t,ox=e}function As(){Ts(nx,rx)}function Ns(t,e){t<Px&&(Px=t),t>Ox&&(Ox=t),e<Dx&&(Dx=e),e>Rx&&(Rx=e)}function Ps(t,e){Lx+=t,jx+=e,++Fx}function Ds(){qx.point=Os}function Os(t,e){qx.point=Rs,Ps(sx=t,cx=e)}function Rs(t,e){var n=t-sx,r=e-cx,i=jw(n*n+r*r);Bx+=i*(sx+t)/2,Ux+=i*(cx+e)/2,Wx+=i,Ps(sx=t,cx=e)}function Is(){qx.point=Ps}function Ls(){qx.point=Fs}function js(){Bs(ax,ux)}function Fs(t,e){qx.point=Bs,Ps(ax=sx=t,ux=cx=e)}function Bs(t,e){var n=t-sx,r=e-cx,i=jw(n*n+r*r);Bx+=i*(sx+t)/2,Ux+=i*(cx+e)/2,Wx+=i,i=cx*t-sx*e,Hx+=i*(sx+t),zx+=i*(cx+e),Vx+=3*i,Ps(sx=t,cx=e)}function Us(t){this._context=t}function Ws(){this._string=[]}function Hs(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function zs(t){return t.length>1}function Vs(t,e){return((t=t.x)[0]<0?t[1]-_w-bw:_w-t[1])-((e=e.x)[0]<0?e[1]-_w-bw:_w-e[1])}function qs(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u=o>0?xw:-xw,s=Ew(o-n);Ew(s-xw)<bw?(t.point(n,r=(r+a)/2>0?_w:-_w),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):i!==u&&s>=xw&&(Ew(n-i)<bw&&(n-=i*bw),Ew(o-u)<bw&&(o-=u*bw),r=Ys(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=a),i=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Ys(t,e,n,r){var i,o,a=Iw(t-n);return Ew(a)>bw?Tw((Iw(e)*(o=Nw(r))*Iw(n)-Iw(r)*(i=Nw(e))*Iw(t))/(i*o*a)):(e+r)/2}function Xs(t,e,n,r){var i;if(null==t)i=n*_w,r.point(-xw,i),r.point(0,i),r.point(xw,i),r.point(xw,0),r.point(xw,-i),r.point(0,-i),r.point(-xw,-i),r.point(-xw,0),r.point(-xw,i);else if(Ew(t[0]-e[0])>bw){var o=t[0]<e[0]?xw:-xw;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Ks(t){function e(){}var n=e.prototype=Object.create(Gs.prototype);for(var r in t)n[r]=t[r];return function(t){var n=new e;return n.stream=t,n}}function Gs(){}function Qs(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Ww(n,t.stream(Ix));var a=Ix.result(),u=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),s=+e[0][0]+(r-u*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(i-u*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*u).translate([s,c])}function Zs(t){return function(e,n){return Qs(t,[[0,0],e],n)}}function Js(t){return function(e,n){return Qs(t,e,n)}}function $s(t){return Ks({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function tc(t,e){function n(r,i,o,a,u,s,c,l,f,h,p,d,g,v){var m=c-r,y=l-i,b=m*m+y*y;if(b>4*e&&g--){var w=a+h,x=u+p,_=s+d,C=jw(w*w+x*x+_*_),M=Eu(_/=C),S=Ew(Ew(_)-1)<bw||Ew(o-f)<bw?(o+f)/2:Aw(x,w),k=t(S,M),E=k[0],T=k[1],A=E-r,N=T-i,P=y*A-m*N;(P*P/b>e||Ew((m*A+y*N)/b-.5)>.3||a*h+u*p+s*d<t_)&&(n(r,i,o,a,u,s,E,T,S,w/=C,x/=C,_,g,v),v.point(E,T),n(E,T,S,w,x,_,c,l,f,h,p,d,g,v))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){m=NaN,_.point=o,e.lineStart()}function o(r,i){var o=Fu([r,i]),a=t(r,i);n(m,y,v,b,w,x,m=a[0],y=a[1],v=r,b=o[0],w=o[1],x=o[2],$x,e),e.point(m,y)}function a(){_.point=r,e.lineEnd()}function u(){i(),_.point=s,_.lineEnd=c}function s(t,e){o(l=t,e),f=m,h=y,p=b,d=w,g=x,_.point=o}function c(){n(m,y,v,b,w,x,f,h,l,p,d,g,$x,e),_.lineEnd=a,a()}var l,f,h,p,d,g,v,m,y,b,w,x,_={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),_.lineStart=u},polygonEnd:function(){e.polygonEnd(),_.lineStart=i}};return _}}function ec(t){return nc(function(){return t})()}function nc(t){function e(t){return t=l(t[0]*kw,t[1]*kw),[t[0]*v+u,s-t[1]*v]}function n(t){return t=l.invert((t[0]-u)/v,(s-t[1])/v),t&&[t[0]*Sw,t[1]*Sw]}function r(t,e){return t=a(t,e),[t[0]*v+u,s-t[1]*v]}function i(){l=Jw(c=fs(x,_,C),a);var t=a(b,w);return u=m-t[0]*v,s=y+t[1]*v,o()}function o(){return d=g=null,e}var a,u,s,c,l,f,h,p,d,g,v=150,m=480,y=250,b=0,w=0,x=0,_=0,C=0,M=null,S=Qx,k=null,E=Ex,T=.5,A=e_(r,T);return e.stream=function(t){return d&&g===t?d:d=n_(S(c,A(E(g=t))))},e.clipAngle=function(t){return arguments.length?(S=+t?Zx(M=t*kw,6*kw):(M=null,Qx),o()):M*Sw},e.clipExtent=function(t){return arguments.length?(E=null==t?(k=f=h=p=null,Ex):bs(k=+t[0][0],f=+t[0][1],h=+t[1][0],p=+t[1][1]),o()):null==k?null:[[k,f],[h,p]]},e.scale=function(t){return arguments.length?(v=+t,i()):v},e.translate=function(t){return arguments.length?(m=+t[0],y=+t[1],i()):[m,y]},e.center=function(t){return arguments.length?(b=t[0]%360*kw,w=t[1]%360*kw,i()):[b*Sw,w*Sw]},e.rotate=function(t){return arguments.length?(x=t[0]%360*kw,_=t[1]%360*kw,C=t.length>2?t[2]%360*kw:0,i()):[x*Sw,_*Sw,C*Sw]},e.precision=function(t){return arguments.length?(A=e_(r,T=t*t),o()):jw(T)},e.fitExtent=Js(e),e.fitSize=Zs(e),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function rc(t){var e=0,n=xw/3,r=nc(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*kw,n=t[1]*kw):[e*Sw,n*Sw]},i}function ic(t,e){function n(t,e){var n=jw(o-2*i*Iw(e))/i;return[n*Iw(t*=i),a-n*Nw(t)]}var r=Iw(t),i=(r+Iw(e))/2,o=1+r*(2*i-r),a=jw(o)/i;return n.invert=function(t,e){var n=a-e;return[Aw(t,n)/i,Eu((o-(t*t+n*n)*i*i)/(2*i))]},n}function oc(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function ac(t){return function(e,n){var r=Nw(e),i=Nw(n),o=t(r*i);return[o*i*Iw(e),o*Iw(n)]}}function uc(t){return function(e,n){var r=jw(e*e+n*n),i=t(r),o=Iw(i),a=Nw(i);return[Aw(e*o,r*a),Eu(r&&n*o/r)]}}function sc(t,e){return[t,Ow(Fw((_w+e)/2))]}function cc(t){var e,n=ec(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(t){return arguments.length?(r(t),e&&n.clipExtent(null),n):r()},n.translate=function(t){return arguments.length?(i(t),e&&n.clipExtent(null),n):i()},n.clipExtent=function(t){if(!arguments.length)return e?null:o();if(e=null==t){var a=xw*r(),u=i();t=[[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]]}return o(t),n},n.clipExtent(null)}function lc(t){return Fw((_w+t)/2)}function fc(t,e){function n(t,e){o>0?e<-_w+bw&&(e=-_w+bw):e>_w-bw&&(e=_w-bw);var n=o/Rw(lc(e),i);return[n*Iw(i*t),o-n*Nw(i*t)]}var r=Nw(t),i=t===e?Iw(t):Ow(r/Nw(e))/Ow(lc(e)/lc(t)),o=r*Rw(lc(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=Lw(i)*jw(t*t+n*n);return[Aw(t,n)/i,2*Tw(Rw(o/r,1/i))-_w]},n):sc}function hc(t,e){return[t,e]}function pc(t,e){function n(t,e){var n=o-e,r=i*t;return[n*Iw(r),o-n*Nw(r)]}var r=Nw(t),i=t===e?Iw(t):(r-Nw(e))/(e-t),o=r/i+t;return Ew(i)<bw?hc:(n.invert=function(t,e){var n=o-e;return[Aw(t,n)/i,o-Lw(i)*jw(t*t+n*n)]},n)}function dc(t,e){var n=Nw(e),r=Nw(t)*n;return[n*Iw(t)/r,Iw(e)/r]}function gc(t,e){return[Nw(e)*Iw(t),Iw(e)]}function vc(t,e){var n=Nw(e),r=1+Nw(t)*n;return[n*Iw(t)/r,Iw(e)/r]}function mc(t,e){return[Ow(Fw((_w+e)/2)),-t]}var yc="4.2.3",bc=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},wc=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},xc=wc(bc),_c=xc.right,Cc=xc.left,Mc=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Sc=function(t){return null===t?NaN:+t},kc=function(t,e){var n,r,i=t.length,o=0,a=0,u=-1,s=0;if(null==e)for(;++u<i;)isNaN(n=Sc(t[u]))||(r=n-o,o+=r/++s,a+=r*(n-o));else for(;++u<i;)isNaN(n=Sc(e(t[u],u,t)))||(r=n-o,o+=r/++s,a+=r*(n-o));if(s>1)return a/(s-1)},Ec=function(t,e){var n=kc(t,e);return n?Math.sqrt(n):n},Tc=function(t,e){var n,r,i,o=-1,a=t.length;if(null==e){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e(t[o],o,t))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e(t[o],o,t))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},Ac=Array.prototype,Nc=Ac.slice,Pc=Ac.map,Dc=function(t){return function(){return t}},Oc=function(t){return t},Rc=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},Ic=Math.sqrt(50),Lc=Math.sqrt(10),jc=Math.sqrt(2),Fc=function(t,e,r){var i=n(t,e,r);return Rc(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)},Bc=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},Uc=function(){function t(t){var i,o,a=t.length,u=new Array(a);for(i=0;i<a;++i)u[i]=e(t[i],i,t);var s=n(u),c=s[0],l=s[1],f=r(u,c,l);Array.isArray(f)||(f=Fc(c,l,f));for(var h=f.length;f[0]<=c;)f.shift(),--h;for(;f[h-1]>=l;)f.pop(),--h;var p,d=new Array(h+1);for(i=0;i<=h;++i)p=d[i]=[],p.x0=i>0?f[i-1]:c,p.x1=i<h?f[i]:l;for(i=0;i<a;++i)o=u[i],c<=o&&o<=l&&d[_c(f,o,0,h)].push(t[i]);return d}var e=Oc,n=Tc,r=Bc;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Dc(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:Dc([e[0],e[1]]),
t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:Dc(Array.isArray(e)?Nc.call(e):e),t):r},t},Wc=function(t,e,n){if(null==n&&(n=Sc),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}},Hc=function(t,e,n){return t=Pc.call(t,Sc).sort(bc),Math.ceil((n-e)/(2*(Wc(t,.75)-Wc(t,.25))*Math.pow(t.length,-1/3)))},zc=function(t,e,n){return Math.ceil((n-e)/(3.5*Ec(t)*Math.pow(t.length,-1/3)))},Vc=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&r>n&&(n=r)}return n},qc=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(null==e)for(;++o<i;)isNaN(n=Sc(t[o]))?--a:r+=n;else for(;++o<i;)isNaN(n=Sc(e(t[o],o,t)))?--a:r+=n;if(a)return r/a},Yc=function(t,e){var n,r=[],i=t.length,o=-1;if(null==e)for(;++o<i;)isNaN(n=Sc(t[o]))||r.push(n);else for(;++o<i;)isNaN(n=Sc(e(t[o],o,t)))||r.push(n);return Wc(r.sort(bc),.5)},Xc=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n},Kc=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&n>r&&(n=r)}return n},Gc=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},Qc=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},Zc=function(t,e){if(n=t.length){var n,r,i=0,o=0,a=t[o];for(e||(e=bc);++i<n;)(e(r=t[i],a)<0||0!==e(a,a))&&(a=r,o=i);return 0===e(a,a)?o:void 0}},Jc=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},$c=function(t,e){var n,r=0,i=t.length,o=-1;if(null==e)for(;++o<i;)(n=+t[o])&&(r+=n);else for(;++o<i;)(n=+e(t[o],o,t))&&(r+=n);return r},tl=function(t){if(!(o=t.length))return[];for(var e=-1,n=Kc(t,r),i=new Array(n);++e<n;)for(var o,a=-1,u=i[e]=new Array(o);++a<o;)u[a]=t[a][e];return i},el=function(){return tl(arguments)},nl="$";i.prototype=o.prototype={constructor:i,has:function(t){return nl+t in this},get:function(t){return this[nl+t]},set:function(t,e){return this[nl+t]=e,this},remove:function(t){var e=nl+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===nl&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===nl&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===nl&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===nl&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===nl&&++t;return t},empty:function(){for(var t in this)if(t[0]===nl)return!1;return!0},each:function(t){for(var e in this)e[0]===nl&&t(this[e],e.slice(1),this)}};var rl=function(){function t(e,i,a,u){if(i>=l.length)return null!=r?r(e):null!=n?e.sort(n):e;for(var s,c,f,h=-1,p=e.length,d=l[i++],g=o(),v=a();++h<p;)(f=g.get(s=d(c=e[h])+""))?f.push(c):g.set(s,[c]);return g.each(function(e,n){u(v,n,t(e,i,a,u))}),v}function e(t,n){if(++n>l.length)return t;var i,o=f[n-1];return null!=r&&n>=l.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:e(t,n)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}var n,r,i,l=[],f=[];return i={object:function(e){return t(e,0,a,u)},map:function(e){return t(e,0,s,c)},entries:function(n){return e(t(n,0,s,c),0)},key:function(t){return l.push(t),i},sortKeys:function(t){return f[l.length-1]=t,i},sortValues:function(t){return n=t,i},rollup:function(t){return r=t,i}}},il=o.prototype;l.prototype=f.prototype={constructor:l,has:il.has,add:function(t){return t+="",this[nl+t]=t,this},remove:il.remove,clear:il.clear,values:il.keys,size:il.size,empty:il.empty,each:il.each};var ol=function(t){var e=[];for(var n in t)e.push(n);return e},al=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ul=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},sl=function(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}},cl=function(t,e){var n,r;return t=null==t?0:+t,e=null==e?1:+e,function(){var i;if(null!=n)i=n,n=null;else do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*i*Math.sqrt(-2*Math.log(r)/r)}},ll=function(){var t=cl.apply(this,arguments);return function(){return Math.exp(t())}},fl=function(t){return function(){for(var e=0,n=0;n<t;++n)e+=Math.random();return e}},hl=function(t){var e=fl(t);return function(){return e()/t}},pl=function(t){return function(){return-Math.log(1-Math.random())/t}},dl=3,gl=function y_(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=y_,e}(dl),vl=function b_(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=b_,e}(dl),ml=function w_(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=w_,e}(dl),yl=Math.PI,bl=yl/2,wl=4/11,xl=6/11,_l=8/11,Cl=.75,Ml=9/11,Sl=10/11,kl=.9375,El=21/22,Tl=63/64,Al=1/wl/wl,Nl=1.70158,Pl=function x_(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=x_,e}(Nl),Dl=function __(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=__,e}(Nl),Ol=function C_(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=C_,e}(Nl),Rl=2*Math.PI,Il=1,Ll=.3,jl=function M_(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((r-n)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=Rl);return n.amplitude=function(t){return M_(t,e*Rl)},n.period=function(e){return M_(t,e)},n}(Il,Ll),Fl=function S_(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+r)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=Rl);return n.amplitude=function(t){return S_(t,e*Rl)},n.period=function(e){return S_(t,e)},n}(Il,Ll),Bl=function k_(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((r-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((r+n)/e))/2}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=Rl);return n.amplitude=function(t){return k_(t,e*Rl)},n.period=function(e){return k_(t,e)},n}(Il,Ll),Ul=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},Wl=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,u=t[i-1],s=0;++r<i;)e=u,u=t[r],s+=n=e[0]*u[1]-u[0]*e[1],o+=(e[0]+u[0])*n,a+=(e[1]+u[1])*n;return s*=3,[o/s,a/s]},Hl=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},zl=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(P),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=D(r),a=D(i),u=a[0]===o[0],s=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+u;e<a.length-s;++e)c.push(t[r[a[e]][2]]);return c},Vl=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],u=e[1],s=o[0],c=o[1],l=!1,f=0;f<i;++f)o=t[f],n=o[0],r=o[1],r>u!=c>u&&a<(s-n)*(u-r)/(c-r)+n&&(l=!l),s=n,c=r;return l},ql=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],u=o[1],s=0;++r<i;)e=a,n=u,o=t[r],a=o[0],u=o[1],e-=a,n-=u,s+=Math.sqrt(e*e+n*n);return s},Yl=Math.PI,Xl=2*Yl,Kl=1e-6,Gl=Xl-Kl;O.prototype=R.prototype={constructor:O,moveTo:function(t,e){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._.push("Z"))},lineTo:function(t,e){this._.push("L",this._x1=+t,",",this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._.push("Q",+t,",",+e,",",this._x1=+n,",",this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._.push("C",+t,",",+e,",",+n,",",+r,",",this._x1=+i,",",this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,s=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._.push("M",this._x1=t,",",this._y1=e);else if(f>Kl)if(Math.abs(l*u-s*c)>Kl&&i){var h=n-o,p=r-a,d=u*u+s*s,g=h*h+p*p,v=Math.sqrt(d),m=Math.sqrt(f),y=i*Math.tan((Yl-Math.acos((d+f-g)/(2*v*m)))/2),b=y/m,w=y/v;Math.abs(b-1)>Kl&&this._.push("L",t+b*c,",",e+b*l),this._.push("A",i,",",i,",0,0,",+(l*h>c*p),",",this._x1=t+w*u,",",this._y1=e+w*s)}else this._.push("L",this._x1=t,",",this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n;var a=n*Math.cos(r),u=n*Math.sin(r),s=t+a,c=e+u,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._.push("M",s,",",c):(Math.abs(this._x1-s)>Kl||Math.abs(this._y1-c)>Kl)&&this._.push("L",s,",",c),n&&(f>Gl?this._.push("A",n,",",n,",0,1,",l,",",t-a,",",e-u,"A",n,",",n,",0,1,",l,",",this._x1=s,",",this._y1=c):(f<0&&(f=f%Xl+Xl),this._.push("A",n,",",n,",0,",+(f>=Yl),",",l,",",this._x1=t+n*Math.cos(i),",",this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e,"h",+n,"v",+r,"h",-n,"Z")},toString:function(){return this._.join("")}};var Ql=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return I(this.cover(e,n),e,n,t)},Zl=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,u,s=i-n,c=this._root;switch(u=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do a=new Array(4),a[u]=c,c=a;while(s*=2,i=n+s,o=r+s,t>i||e>o);break;case 1:do a=new Array(4),a[u]=c,c=a;while(s*=2,n=i-s,o=r+s,n>t||e>o);break;case 2:do a=new Array(4),a[u]=c,c=a;while(s*=2,i=n+s,r=o-s,t>i||r>e);break;case 3:do a=new Array(4),a[u]=c,c=a;while(s*=2,n=i-s,r=o-s,n>t||r>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Jl=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},$l=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},tf=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},ef=function(t,e,n){var r,i,o,a,u,s,c,l=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new tf(g,l,f,h,p)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,p=e+n,n*=n);s=d.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>p||(a=s.x1)<l||(u=s.y1)<f))if(g.length){var v=(i+a)/2,m=(o+u)/2;d.push(new tf(g[3],v,m,a,u),new tf(g[2],i,m,v,u),new tf(g[1],v,o,a,m),new tf(g[0],i,o,v,m)),(c=(e>=m)<<1|t>=v)&&(s=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=s)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);l=t-x,f=e-x,h=t+x,p=e+x,r=g.data}}return r},nf=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,u,s,c,l,f,h,p=this._root,d=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(u=(d+v)/2))?d=u:v=u,(l=a>=(s=(g+m)/2))?g=s:m=s,e=p,!(p=p[f=l<<1|c]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)},rf=function(){return this._root},of=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},af=function(t){var e,n,r,i,o,a,u=[],s=this._root;for(s&&u.push(new tf(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&s.length){var c=(r+o)/2,l=(i+a)/2;(n=s[3])&&u.push(new tf(n,c,l,o,a)),(n=s[2])&&u.push(new tf(n,r,l,c,a)),(n=s[1])&&u.push(new tf(n,c,i,o,l)),(n=s[0])&&u.push(new tf(n,r,i,c,l))}return this},uf=function(t){var e,n=[],r=[];for(this._root&&n.push(new tf(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,s=e.x1,c=e.y1,l=(a+s)/2,f=(u+c)/2;(o=i[0])&&n.push(new tf(o,a,u,l,f)),(o=i[1])&&n.push(new tf(o,l,u,s,f)),(o=i[2])&&n.push(new tf(o,a,f,l,c)),(o=i[3])&&n.push(new tf(o,l,f,s,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},sf=function(t){return arguments.length?(this._x=t,this):this._x},cf=function(t){return arguments.length?(this._y=t,this):this._y},lf=U.prototype=W.prototype;lf.copy=function(){var t,e,n=new W(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=H(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=H(e));return n},lf.add=Ql,lf.addAll=L,lf.cover=Zl,lf.data=Jl,lf.extent=$l,lf.find=ef,lf.remove=nf,lf.removeAll=j,lf.root=rf,lf.size=of,lf.visit=af,lf.visitAfter=uf,lf.x=sf,lf.y=cf;var ff=[].slice,hf={};z.prototype=G.prototype={constructor:z,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=ff.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),V(this),this},abort:function(){return null==this._error&&X(this,new Error("abort")),this},await:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=function(e,n){t.apply(null,[e].concat(n))},K(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,K(this),this}};var pf=function(t){return function(){return t}},df=1e-12,gf=Math.PI,vf=gf/2,mf=2*gf,yf=function(){function t(){var t,c,l=+e.apply(this,arguments),f=+n.apply(this,arguments),h=o.apply(this,arguments)-vf,p=a.apply(this,arguments)-vf,d=Math.abs(p-h),g=p>h;if(s||(s=t=R()),f<l&&(c=f,f=l,l=c),f>df)if(d>mf-df)s.moveTo(f*Math.cos(h),f*Math.sin(h)),s.arc(0,0,f,h,p,!g),l>df&&(s.moveTo(l*Math.cos(p),l*Math.sin(p)),s.arc(0,0,l,p,h,g));else{var v,m,y=h,b=p,w=h,x=p,_=d,C=d,M=u.apply(this,arguments)/2,S=M>df&&(i?+i.apply(this,arguments):Math.sqrt(l*l+f*f)),k=Math.min(Math.abs(f-l)/2,+r.apply(this,arguments)),E=k,T=k;if(S>df){var A=et(S/l*Math.sin(M)),N=et(S/f*Math.sin(M));(_-=2*A)>df?(A*=g?1:-1,w+=A,x-=A):(_=0,w=x=(h+p)/2),(C-=2*N)>df?(N*=g?1:-1,y+=N,b-=N):(C=0,y=b=(h+p)/2)}var P=f*Math.cos(y),D=f*Math.sin(y),O=l*Math.cos(x),I=l*Math.sin(x);if(k>df){var L=f*Math.cos(b),j=f*Math.sin(b),F=l*Math.cos(w),B=l*Math.sin(w);if(d<gf){var U=_>df?nt(P,D,F,B,L,j,O,I):[O,I],W=P-U[0],H=D-U[1],z=L-U[0],V=j-U[1],q=1/Math.sin(Math.acos((W*z+H*V)/(Math.sqrt(W*W+H*H)*Math.sqrt(z*z+V*V)))/2),Y=Math.sqrt(U[0]*U[0]+U[1]*U[1]);E=Math.min(k,(l-Y)/(q-1)),T=Math.min(k,(f-Y)/(q+1))}}C>df?T>df?(v=rt(F,B,P,D,f,T,g),m=rt(L,j,O,I,f,T,g),s.moveTo(v.cx+v.x01,v.cy+v.y01),T<k?s.arc(v.cx,v.cy,T,Math.atan2(v.y01,v.x01),Math.atan2(m.y01,m.x01),!g):(s.arc(v.cx,v.cy,T,Math.atan2(v.y01,v.x01),Math.atan2(v.y11,v.x11),!g),s.arc(0,0,f,Math.atan2(v.cy+v.y11,v.cx+v.x11),Math.atan2(m.cy+m.y11,m.cx+m.x11),!g),s.arc(m.cx,m.cy,T,Math.atan2(m.y11,m.x11),Math.atan2(m.y01,m.x01),!g))):(s.moveTo(P,D),s.arc(0,0,f,y,b,!g)):s.moveTo(P,D),l>df&&_>df?E>df?(v=rt(O,I,L,j,l,-E,g),m=rt(P,D,F,B,l,-E,g),s.lineTo(v.cx+v.x01,v.cy+v.y01),E<k?s.arc(v.cx,v.cy,E,Math.atan2(v.y01,v.x01),Math.atan2(m.y01,m.x01),!g):(s.arc(v.cx,v.cy,E,Math.atan2(v.y01,v.x01),Math.atan2(v.y11,v.x11),!g),s.arc(0,0,l,Math.atan2(v.cy+v.y11,v.cx+v.x11),Math.atan2(m.cy+m.y11,m.cx+m.x11),g),s.arc(m.cx,m.cy,E,Math.atan2(m.y11,m.x11),Math.atan2(m.y01,m.x01),!g))):s.arc(0,0,l,x,w,g):s.lineTo(O,I)}else s.moveTo(0,0);if(s.closePath(),t)return s=null,t+""||null}var e=Q,n=Z,r=pf(0),i=null,o=J,a=$,u=tt,s=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-gf/2;return[Math.cos(r)*t,Math.sin(r)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:pf(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:pf(+e),t):n},t.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:pf(+e),t):r},t.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:pf(+e),t):i},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:pf(+e),t):o},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:pf(+e),t):a},t.padAngle=function(e){return arguments.length?(u="function"==typeof e?e:pf(+e),t):u},t.context=function(e){return arguments.length?(s=null==e?null:e,t):s},t};it.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var bf=function(t){return new it(t)},wf=function(){function t(t){var u,s,c,l=t.length,f=!1;for(null==i&&(a=o(c=R())),u=0;u<=l;++u)!(u<l&&r(s=t[u],u,t))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(s,u,t),+n(s,u,t));if(c)return a=null,c+""||null}var e=ot,n=at,r=pf(!0),i=null,o=bf,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:pf(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:pf(+e),t):n},t.defined=function(e){return arguments.length?(r="function"==typeof e?e:pf(!!e),t):r},t.curve=function(e){return arguments.length?(o=e,null!=i&&(a=o(i)),t):o},t.context=function(e){return arguments.length?(null==e?i=a=null:a=o(i=e),t):i},t},xf=function(){function t(t){var e,l,f,h,p,d=t.length,g=!1,v=new Array(d),m=new Array(d);for(null==u&&(c=s(p=R())),e=0;e<=d;++e){if(!(e<d&&a(h=t[e],e,t))===g)if(g=!g)l=e,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),f=e-1;f>=l;--f)c.point(v[f],m[f]);c.lineEnd(),c.areaEnd()}g&&(v[e]=+n(h,e,t),m[e]=+i(h,e,t),c.point(r?+r(h,e,t):v[e],o?+o(h,e,t):m[e]))}if(p)return c=null,p+""||null}function e(){return wf().defined(a).curve(s).context(u)}var n=ot,r=null,i=pf(0),o=at,a=pf(!0),u=null,s=bf,c=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:pf(+e),r=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:pf(+e),t):n},t.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:pf(+e),t):r},t.y=function(e){return arguments.length?(i="function"==typeof e?e:pf(+e),o=null,t):i},t.y0=function(e){return arguments.length?(i="function"==typeof e?e:pf(+e),t):i},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:pf(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(i)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(r).y(i)},t.defined=function(e){return arguments.length?(a="function"==typeof e?e:pf(!!e),t):a},t.curve=function(e){return arguments.length?(s=e,null!=u&&(c=s(u)),t):s},t.context=function(e){return arguments.length?(null==e?u=c=null:c=s(u=e),t):u},t},_f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Cf=function(t){return t},Mf=function(){function t(t){var u,s,c,l,f,h=t.length,p=0,d=new Array(h),g=new Array(h),v=+i.apply(this,arguments),m=Math.min(mf,Math.max(-mf,o.apply(this,arguments)-v)),y=Math.min(Math.abs(m)/h,a.apply(this,arguments)),b=y*(m<0?-1:1);for(u=0;u<h;++u)(f=g[d[u]=u]=+e(t[u],u,t))>0&&(p+=f);for(null!=n?d.sort(function(t,e){return n(g[t],g[e])}):null!=r&&d.sort(function(e,n){return r(t[e],t[n])}),u=0,c=p?(m-h*b)/p:0;u<h;++u,v=l)s=d[u],f=g[s],l=v+(f>0?f*c:0)+b,g[s]={data:t[s],index:u,value:f,startAngle:v,endAngle:l,padAngle:y};return g}var e=Cf,n=_f,r=null,i=pf(0),o=pf(mf),a=pf(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:pf(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,r=null,t):n},t.sort=function(e){return arguments.length?(r=e,n=null,t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:pf(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:pf(+e),t):o},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:pf(+e),t):a},t},Sf=st(bf);ut.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var kf=function(){return ct(wf().curve(Sf))},Ef=function(){var t=xf().curve(Sf),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ct(n())},delete t.lineX0,t.lineEndAngle=function(){return ct(r())},delete t.lineX1,t.lineInnerRadius=function(){return ct(i())},delete t.lineY0,t.lineOuterRadius=function(){return ct(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(st(t)):e()._curve},t},Tf={draw:function(t,e){var n=Math.sqrt(e/gf);t.moveTo(n,0),t.arc(0,0,n,0,mf)}},Af={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Nf=Math.sqrt(1/3),Pf=2*Nf,Df={draw:function(t,e){var n=Math.sqrt(e/Pf),r=n*Nf;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Of=.8908130915292852,Rf=Math.sin(gf/10)/Math.sin(7*gf/10),If=Math.sin(mf/10)*Rf,Lf=-Math.cos(mf/10)*Rf,jf={draw:function(t,e){var n=Math.sqrt(e*Of),r=If*n,i=Lf*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=mf*o/5,u=Math.cos(a),s=Math.sin(a);t.lineTo(s*n,-u*n),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},Ff={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Bf=Math.sqrt(3),Uf={draw:function(t,e){var n=-Math.sqrt(e/(3*Bf));t.moveTo(0,2*n),t.lineTo(-Bf*n,-n),t.lineTo(Bf*n,-n),t.closePath()}},Wf=-.5,Hf=Math.sqrt(3)/2,zf=1/Math.sqrt(12),Vf=3*(zf/2+1),qf={draw:function(t,e){var n=Math.sqrt(e/Vf),r=n/2,i=n*zf,o=r,a=n*zf+n,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo(Wf*r-Hf*i,Hf*r+Wf*i),t.lineTo(Wf*o-Hf*a,Hf*o+Wf*a),t.lineTo(Wf*u-Hf*s,Hf*u+Wf*s),t.lineTo(Wf*r+Hf*i,Wf*i-Hf*r),t.lineTo(Wf*o+Hf*a,Wf*a-Hf*o),t.lineTo(Wf*u+Hf*s,Wf*s-Hf*u),t.closePath()}},Yf=[Tf,Af,Df,Ff,jf,Uf,qf],Xf=function(){function t(){var t;if(r||(r=t=R()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}var e=pf(Tf),n=pf(64),r=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:pf(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:pf(+e),t):n},t.context=function(e){return arguments.length?(r=null==e?null:e,t):r},t},Kf=function(){};ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Gf=function(t){return new ft(t)};ht.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Qf=function(t){return new ht(t)};pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Zf=function(t){return new pt(t)};dt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*e[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Jf=function E_(t){function e(e){return 1===t?new ft(e):new dt(e,t)}return e.beta=function(t){return E_(+t)},e}(.85);vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:gt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:gt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $f=function T_(t){function e(e){return new vt(e,t)}return e.tension=function(t){return T_(+t)},e}(0);mt.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var th=function A_(t){function e(e){return new mt(e,t)}return e.tension=function(t){return A_(+t)},e}(0);yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var eh=function N_(t){function e(e){return new yt(e,t)}return e.tension=function(t){return N_(+t)},e}(0);wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nh=function P_(t){function e(e){return t?new wt(e,t):new vt(e,0)}return e.alpha=function(t){return P_(+t)},e}(.5);xt.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rh=function D_(t){function e(e){return t?new xt(e,t):new mt(e,0)}return e.alpha=function(t){return D_(+t)},e}(.5);_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ih=function O_(t){function e(e){return t?new _t(e,t):new yt(e,0)}return e.alpha=function(t){return O_(+t)},e}(.5);Ct.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath();
},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var oh=function(t){return new Ct(t)};Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Et(this,this._t0,kt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Et(this,kt(this,n=St(this,t,e)),n);break;default:Et(this,this._t0,n=St(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(At.prototype=Object.create(Tt.prototype)).point=function(t,e){Tt.prototype.point.call(this,e,t)},Nt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Rt(t),i=Rt(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ah=function(t){return new Ot(t)};It.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var uh=function(t){return new It(t,.5)},sh=Array.prototype.slice,ch=function(t,e){if((r=t.length)>1)for(var n,r,i=1,o=t[e[0]],a=o.length;i<r;++i){n=o,o=t[e[i]];for(var u=0;u<a;++u)o[u][1]+=o[u][0]=isNaN(n[u][1])?n[u][0]:n[u][1]}},lh=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},fh=function(){function t(t){var o,a,u=e.apply(this,arguments),s=t.length,c=u.length,l=new Array(c);for(o=0;o<c;++o){for(var f,h=u[o],p=l[o]=new Array(s),d=0;d<s;++d)p[d]=f=[0,+i(t[d],h,d,t)],f.data=t[d];p.key=h}for(o=0,a=n(l);o<c;++o)l[a[o]].index=o;return r(l,a),l}var e=pf([]),n=lh,r=ch,i=Ft;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:pf(sh.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:pf(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?lh:"function"==typeof e?e:pf(sh.call(e)),t):n},t.offset=function(e){return arguments.length?(r=null==e?ch:e,t):r},t},hh=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}ch(t,e)}},ph=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<n;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}ch(t,e)}},dh=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var u=0,s=0,c=0;u<i;++u){for(var l=t[e[u]],f=l[a][1]||0,h=l[a-1][1]||0,p=(f-h)/2,d=0;d<u;++d){var g=t[e[d]],v=g[a][1]||0,m=g[a-1][1]||0;p+=v-m}s+=f,c+=p*f}n[a-1][1]+=n[a-1][0]=o,s&&(o-=c/s)}n[a-1][1]+=n[a-1][0]=o,ch(t,e)}},gh=function(t){var e=t.map(Bt);return lh(t).sort(function(t,n){return e[t]-e[n]})},vh=function(t){return gh(t).reverse()},mh=function(t){var e,n,r=t.length,i=t.map(Bt),o=lh(t).sort(function(t,e){return i[e]-i[t]}),a=0,u=0,s=[],c=[];for(e=0;e<r;++e)n=o[e],a<u?(a+=i[n],s.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(s)},yh=function(t){return lh(t).reverse()},bh=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},wh=.7,xh=1/wh,_h=/^#([0-9a-f]{3})$/,Ch=/^#([0-9a-f]{6})$/,Mh=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,Sh=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,kh=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Eh=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Th=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,Ah=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Nh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bh(Wt,Ht,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),bh(Xt,Yt,Ut(Wt,{brighter:function(t){return t=null==t?xh:Math.pow(xh,t),new Xt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?wh:Math.pow(wh,t),new Xt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),bh(Zt,Qt,Ut(Wt,{brighter:function(t){return t=null==t?xh:Math.pow(xh,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?wh:Math.pow(wh,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xt(Jt(t>=240?t-240:t+120,i,r),Jt(t,i,r),Jt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Ph=Math.PI/180,Dh=180/Math.PI,Oh=18,Rh=.95047,Ih=1,Lh=1.08883,jh=4/29,Fh=6/29,Bh=3*Fh*Fh,Uh=Fh*Fh*Fh;bh(ee,te,Ut(Wt,{brighter:function(t){return new ee(this.l+Oh*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ee(this.l-Oh*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Ih*re(t),e=Rh*re(e),n=Lh*re(n),new Xt(ie(3.2404542*e-1.5371385*t-.4985314*n),ie(-.969266*e+1.8760108*t+.041556*n),ie(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),bh(se,ue,Ut(Wt,{brighter:function(t){return new se(this.h,this.c,this.l+Oh*(null==t?1:t),this.opacity)},darker:function(t){return new se(this.h,this.c,this.l-Oh*(null==t?1:t),this.opacity)},rgb:function(){return $t(this).rgb()}}));var Wh=-.14861,Hh=1.78277,zh=-.29227,Vh=-.90649,qh=1.97294,Yh=qh*Vh,Xh=qh*Hh,Kh=Hh*zh-Vh*Wh;bh(fe,le,Ut(Wt,{brighter:function(t){return t=null==t?xh:Math.pow(xh,t),new fe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?wh:Math.pow(wh,t),new fe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ph,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Xt(255*(e+n*(Wh*r+Hh*i)),255*(e+n*(zh*r+Vh*i)),255*(e+n*(qh*r)),this.opacity)}}));var Gh,Qh,Zh,Jh,$h=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return he((n-r/e)*e,a,i,o,u)}},tp=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return he((n-r/e)*e,i,o,a,u)}},ep=function(t){return function(){return t}},np=function R_(t){function e(t,e){var r=n((t=Yt(t)).r,(e=Yt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=n(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var n=ve(t);return e.gamma=R_,e}(1),rp=ye($h),ip=ye(tp),op=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=hp(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},ap=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},up=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},sp=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=hp(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},cp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lp=new RegExp(cp.source,"g"),fp=function(t,e){var n,r,i,o=cp.lastIndex=lp.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=cp.exec(t))&&(r=lp.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:up(n,r)})),o=lp.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?we(s[0].x):be(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})},hp=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?ep(e):("number"===r?up:"string"===r?(n=Ht(e))?(e=n,np):fp:e instanceof Ht?np:e instanceof Date?ap:Array.isArray(e)?op:isNaN(e)?sp:up)(t,e)},pp=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},dp=180/Math.PI,gp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},vp=function(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*dp,skewX:Math.atan(s)*dp,scaleX:a,scaleY:u}},mp=Ce(xe,"px, ","px)","deg)"),yp=Ce(_e,", ",")",")"),bp=Math.SQRT2,wp=2,xp=4,_p=1e-12,Cp=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],c=e[2],l=u-i,f=s-o,h=l*l+f*f;if(h<_p)r=Math.log(c/a)/bp,n=function(t){return[i+t*l,o+t*f,a*Math.exp(bp*t*r)]};else{var p=Math.sqrt(h),d=(c*c-a*a+xp*h)/(2*a*wp*p),g=(c*c-a*a-xp*h)/(2*c*wp*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/bp,n=function(t){var e=t*r,n=Me(v),u=a/(wp*p)*(n*ke(bp*e+v)-Se(v));return[i+u*l,o+u*f,a*n/Me(bp*e+v)]}}return n.duration=1e3*r,n},Mp=Ee(ge),Sp=Ee(me),kp=Ae(ge),Ep=Ae(me),Tp=Ne(ge),Ap=Ne(me),Np=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Pp={value:function(){}};De.prototype=Pe.prototype={constructor:De,on:function(t,e){var n,r=this._,i=Oe(t+"",r),o=-1,a=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Ie(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ie(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Re(r[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new De(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Dp,Op,Rp=function(t){function e(t,e){var r,i,o=n(t,function(t,n){return r?r(t,n-1):(i=t,void(r=e?je(t,e):Le(t)))});return o.columns=i,o}function n(t,e){function n(){if(l>=c)return a;if(i)return i=!1,o;var e,n=l;if(34===t.charCodeAt(n)){for(var r=n;r++<c;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return l=r+2,e=t.charCodeAt(r+1),13===e?(i=!0,10===t.charCodeAt(r+2)&&++l):10===e&&(i=!0),t.slice(n+1,r).replace(/""/g,'"')}for(;l<c;){var u=1;if(e=t.charCodeAt(l++),10===e)i=!0;else if(13===e)i=!0,10===t.charCodeAt(l)&&(++l,++u);else if(e!==s)continue;return t.slice(n,l-u)}return t.slice(n)}for(var r,i,o={},a={},u=[],c=t.length,l=0,f=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();e&&null==(h=e(h,f++))||u.push(h)}return u}function r(e,n){return null==n&&(n=Fe(e)),[n.map(a).join(t)].concat(e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})).join("\n")}function i(t){return t.map(o).join("\n")}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":u.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n]"),s=t.charCodeAt(0);return{parse:e,parseRows:n,format:r,formatRows:i}},Ip=Rp(","),Lp=Ip.parse,jp=Ip.parseRows,Fp=Ip.format,Bp=Ip.formatRows,Up=Rp("\t"),Wp=Up.parse,Hp=Up.parseRows,zp=Up.format,Vp=Up.formatRows,qp=function(t,e){function n(t){var e,n=l.status;if(!n&&Ue(l)||n>=200&&n<300||304===n){if(a)try{e=a.call(r,l)}catch(i){return void s.call("error",r,i)}else e=l;s.call("load",r,e)}else s.call("error",r,t)}var r,i,a,u,s=Pe("beforesend","progress","load","error"),c=o(),l=new XMLHttpRequest,f=null,h=null,p=0;if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=n:l.onreadystatechange=function(t){l.readyState>3&&n(t)},l.onprogress=function(t){s.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(p=+t,r):p},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",r)},response:function(t){return a=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(e,n,o){return l.open(e,t,!0,f,h),null==i||c.has("accept")||c.set("accept",i+",*/*"),l.setRequestHeader&&c.each(function(t,e){l.setRequestHeader(e,t)}),null!=i&&l.overrideMimeType&&l.overrideMimeType(i),null!=u&&(l.responseType=u),p>0&&(l.timeout=p),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=Be(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),s.call("beforesend",r,l),l.send(null==n?null:n),r},abort:function(){return l.abort(),r},on:function(){var t=s.on.apply(s,arguments);return t===s?r:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}return r},Yp=function(t,e){return function(n,r){var i=qp(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},Xp=Yp("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Kp=Yp("application/json",function(t){return JSON.parse(t.responseText)}),Gp=Yp("text/plain",function(t){return t.responseText}),Qp=Yp("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),Zp=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=qp(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(We(e,r=t)):r},o.row(r),i?o.get(i):o}},Jp=Zp("text/csv",Lp),$p=Zp("text/tab-separated-values",Wp),td=0,ed=0,nd=0,rd=1e3,id=0,od=0,ad=0,ud="object"==typeof performance&&performance.now?performance:Date,sd="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};Ve.prototype=qe.prototype={constructor:Ve,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?He():+n)+(null==e?0:+e),this._next||Op===this||(Op?Op._next=this:Dp=this,Op=this),this._call=t,this._time=n,Qe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qe())}};var cd=function(t,e,n){var r=new Ve;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},ld=function(t,e,n){var r=new Ve,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?He():+n,r.restart(function o(a){a+=i,r.restart(o,i+=e,n),t(a)},e,n),r)},fd=new Date,hd=new Date,pd=Ze(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});pd.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ze(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):pd:null};var dd=pd.range,gd=1e3,vd=6e4,md=36e5,yd=864e5,bd=6048e5,wd=Ze(function(t){t.setTime(Math.floor(t/gd)*gd)},function(t,e){t.setTime(+t+e*gd)},function(t,e){return(e-t)/gd},function(t){return t.getUTCSeconds()}),xd=wd.range,_d=Ze(function(t){t.setTime(Math.floor(t/vd)*vd)},function(t,e){t.setTime(+t+e*vd)},function(t,e){return(e-t)/vd},function(t){return t.getMinutes()}),Cd=_d.range,Md=Ze(function(t){var e=t.getTimezoneOffset()*vd%md;e<0&&(e+=md),t.setTime(Math.floor((+t-e)/md)*md+e)},function(t,e){t.setTime(+t+e*md)},function(t,e){return(e-t)/md},function(t){return t.getHours()}),Sd=Md.range,kd=Ze(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vd)/yd},function(t){return t.getDate()-1}),Ed=kd.range,Td=Je(0),Ad=Je(1),Nd=Je(2),Pd=Je(3),Dd=Je(4),Od=Je(5),Rd=Je(6),Id=Td.range,Ld=Ad.range,jd=Nd.range,Fd=Pd.range,Bd=Dd.range,Ud=Od.range,Wd=Rd.range,Hd=Ze(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),zd=Hd.range,Vd=Ze(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Vd.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ze(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var qd=Vd.range,Yd=Ze(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*vd)},function(t,e){return(e-t)/vd},function(t){return t.getUTCMinutes()}),Xd=Yd.range,Kd=Ze(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*md)},function(t,e){return(e-t)/md},function(t){return t.getUTCHours()}),Gd=Kd.range,Qd=Ze(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/yd},function(t){return t.getUTCDate()-1}),Zd=Qd.range,Jd=$e(0),$d=$e(1),tg=$e(2),eg=$e(3),ng=$e(4),rg=$e(5),ig=$e(6),og=Jd.range,ag=$d.range,ug=tg.range,sg=eg.range,cg=ng.range,lg=rg.range,fg=ig.range,hg=Ze(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),pg=hg.range,dg=Ze(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});dg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ze(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var gg,vg=dg.range,mg=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},yg=function(t){return t=mg(Math.abs(t)),t?t[1]:NaN},bg=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(n.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}},wg=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},xg=function(t,e){var n=mg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(gg=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mg(t,Math.max(0,e+o-1))[0]},_g=function(t,e){var n=mg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array((-i)).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Cg={"":wg,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return _g(100*t,e)},r:_g,s:xg,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Mg=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,Sg=function(t){return new tn(t)};tn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var kg,Eg=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Tg=function(t){function e(t){function e(t){var e,i,s,y=d,b=g;if("c"===p)b=v(t)+b,t="";else{t=+t;var w=(t<0||1/t<0)&&(t*=-1,!0);if(t=v(t,h),w)for(e=-1,i=t.length,w=!1;++e<i;)if(s=t.charCodeAt(e),48<s&&s<58||"x"===p&&96<s&&s<103||"X"===p&&64<s&&s<71){w=!0;break}if(y=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+y,b=b+("s"===p?Eg[8+gg/3]:"")+(w&&"("===u?")":""),m)for(e=-1,i=t.length;++e<i;)if(s=t.charCodeAt(e),48>s||s>57){b=(46===s?o+t.slice(e+1):t.slice(e))+b,t=t.slice(0,e);break}}f&&!c&&(t=r(t,1/0));var x=y.length+t.length+b.length,_=x<l?new Array(l-x+1).join(n):"";switch(f&&c&&(t=r(_+t,_.length?l-b.length:1/0),_=""),a){case"<":return y+t+b+_;case"=":return y+_+t+b;case"^":return _.slice(0,x=_.length>>1)+y+t+b+_.slice(x)}return _+y+t+b}t=Sg(t);var n=t.fill,a=t.align,u=t.sign,s=t.symbol,c=t.zero,l=t.width,f=t.comma,h=t.precision,p=t.type,d="$"===s?i[0]:"#"===s&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",g="$"===s?i[1]:/[%p]/.test(p)?"%":"",v=Cg[p],m=!p||/[defgprs%]/.test(p);return h=null==h?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),e.toString=function(){return t+""},e}function n(t,n){var r=e((t=Sg(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(yg(n)/3))),o=Math.pow(10,-i),a=Eg[8+i/3];return function(t){return r(o*t)+a}}var r=t.grouping&&t.thousands?bg(t.grouping,t.thousands):en,i=t.currency,o=t.decimal;return{format:e,formatPrefix:n}};nn({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Ag,Ng=function(t){return Math.max(0,-yg(Math.abs(t)))},Pg=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yg(e)/3)))-yg(Math.abs(t)))},Dg=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yg(e)-yg(t))+1},Og={"-":"",_:" ",0:"0"},Rg=/^\s*\d+/,Ig=/^%/,Lg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;er({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var jg="%Y-%m-%dT%H:%M:%S.%LZ",Fg=Date.prototype.toISOString?nr:t.utcFormat(jg),Bg=+new Date("2000-01-01T00:00:00.000Z")?rr:t.utcParse(jg),Ug=Array.prototype,Wg=Ug.map,Hg=Ug.slice,zg={name:"implicit"},Vg=function(t){return function(){return t}},qg=function(t){return+t},Yg=[0,1],Xg=function(e,r,i){var o,a=e[0],u=e[e.length-1],s=n(a,u,null==r?10:r);switch(i=Sg(null==i?",f":i),i.type){case"s":var c=Math.max(Math.abs(a),Math.abs(u));return null!=i.precision||isNaN(o=Pg(s,c))||(i.precision=o),t.formatPrefix(i,c);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=Dg(s,Math.max(Math.abs(a),Math.abs(u))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=Ng(s))||(i.precision=o-2*("%"===i.type))}return t.format(i)},Kg=function(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},Gg=1e3,Qg=60*Gg,Zg=60*Qg,Jg=24*Zg,$g=7*Jg,tv=30*Jg,ev=365*Jg,nv=function(){return Or(Vd,Hd,Td,kd,Md,_d,wd,pd,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},rv=function(){return Or(dg,hg,Jd,Qd,Kd,Yd,wd,pd,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},iv=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},ov=iv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),av=iv("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),uv=iv("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),sv=iv("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),cv=Ap(le(300,.5,0),le(-240,.5,1)),lv=Ap(le(-100,.75,.35),le(80,1.5,.8)),fv=Ap(le(260,.75,.35),le(80,1.5,.8)),hv=le(),pv=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return hv.h=360*t-100,hv.s=1.5-1.5*e,hv.l=.8-.9*e,hv+""},dv=Rr(iv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),gv=Rr(iv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),vv=Rr(iv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),mv=Rr(iv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),yv="http://www.w3.org/1999/xhtml",bv={
svg:"http://www.w3.org/2000/svg",xhtml:yv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wv=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),bv.hasOwnProperty(e)?{space:bv[e],local:t}:t},xv=function(t){var e=wv(t);return(e.local?jr:Lr)(e)},_v=0;Br.prototype=Fr.prototype={constructor:Br,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Cv=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Mv=document.documentElement;if(!Mv.matches){var Sv=Mv.webkitMatchesSelector||Mv.msMatchesSelector||Mv.mozMatchesSelector||Mv.oMatchesSelector;Cv=function(t){return function(){return Sv.call(this,t)}}}}var kv=Cv,Ev={};t.event=null;var Tv=function(t,e,n){var r,i,o=Hr(t+""),a=o.length;{if(!(arguments.length<2)){for(u=e?Vr:zr,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value}},Av=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},Nv=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Pv=function(t){var e=Av();return e.changedTouches&&(e=e.changedTouches[0]),Nv(t,e)},Dv=function(t){return null==t?Yr:function(){return this.querySelector(t)}},Ov=function(t){"function"!=typeof t&&(t=Dv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Pi(r,this._parents)},Rv=function(t){return null==t?Xr:function(){return this.querySelectorAll(t)}},Iv=function(t){"function"!=typeof t&&(t=Rv(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new Pi(r,i)},Lv=function(t){"function"!=typeof t&&(t=kv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Pi(r,this._parents)},jv=function(t){return new Array(t.length)},Fv=function(){return new Pi(this._enter||this._groups.map(jv),this._parents)};Kr.prototype={constructor:Kr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Bv=function(t){return function(){return t}},Uv="$",Wv=function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n=e?Qr:Gr,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Bv(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,p=t.call(l,l&&l.__data__,c,r),d=p.length,g=u[c]=new Array(d),v=a[c]=new Array(d),m=s[c]=new Array(h);n(l,f,g,v,m,p,e);for(var y,b,w=0,x=0;w<d;++w)if(y=g[w])for(w>=x&&(x=w+1);!(b=v[x])&&++x<d;)y._next=b||null}return a=new Pi(a,r),a._enter=u,a._exit=s,a},Hv=function(){return new Pi(this._exit||this._groups.map(jv),this._parents)},zv=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=e[u];return new Pi(a,this._parents)},Vv=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},qv=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Zr);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(e)}return new Pi(i,this._parents).order()},Yv=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Xv=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Kv=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},Gv=function(){var t=0;return this.each(function(){++t}),t},Qv=function(){return!this.node()},Zv=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},Jv=function(t,e){var n=wv(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?$r:Jr:"function"==typeof e?n.local?ri:ni:n.local?ei:ti)(n,e))},$v=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},tm=function(t,e,n){var r;return arguments.length>1?this.each((null==e?ii:"function"==typeof e?ai:oi)(t,e,null==n?"":n)):$v(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},em=function(t,e){return arguments.length>1?this.each((null==e?ui:"function"==typeof e?ci:si)(t,e)):this.node()[t]};hi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var nm=function(t,e){var n=li(t+"");if(arguments.length<2){for(var r=fi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?mi:e?gi:vi)(n,e))},rm=function(t){return arguments.length?this.each(null==t?yi:("function"==typeof t?wi:bi)(t)):this.node().textContent},im=function(t){return arguments.length?this.each(null==t?xi:("function"==typeof t?Ci:_i)(t)):this.node().innerHTML},om=function(){return this.each(Mi)},am=function(){return this.each(Si)},um=function(t){var e="function"==typeof t?t:xv(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},sm=function(t,e){var n="function"==typeof t?t:xv(t),r=null==e?ki:"function"==typeof e?e:Dv(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},cm=function(){return this.each(Ei)},lm=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},fm=function(t,e){return this.each(("function"==typeof e?Ni:Ai)(t,e))},hm=[null];Pi.prototype=Di.prototype={constructor:Pi,select:Ov,selectAll:Iv,filter:Lv,data:Wv,enter:Fv,exit:Hv,merge:zv,order:Vv,sort:qv,call:Yv,nodes:Xv,node:Kv,size:Gv,empty:Qv,each:Zv,attr:Jv,style:tm,property:em,classed:nm,text:rm,html:im,raise:om,lower:am,append:um,insert:sm,remove:cm,datum:lm,on:Tv,dispatch:fm};var pm=function(t){return"string"==typeof t?new Pi([[document.querySelector(t)]],[document.documentElement]):new Pi([[t]],hm)},dm=function(t){return"string"==typeof t?new Pi([document.querySelectorAll(t)],[document.documentElement]):new Pi([null==t?[]:t],hm)},gm=function(t,e,n){arguments.length<3&&(n=e,e=Av().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Nv(t,r);return null},vm=function(t,e){null==e&&(e=Av().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Nv(t,e[n]);return i},mm=Pe("start","end","interrupt"),ym=[],bm=0,wm=1,xm=2,_m=3,Cm=4,Mm=5,Sm=6,km=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Li(t,n,{name:e,index:r,group:i,on:mm,tween:ym,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:bm})},Em=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state===_m,n.state=Sm,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},Tm=function(t){return this.each(function(){Em(this,t)})},Am=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ii(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ji:Fi)(n,t,e))},Nm=function(t,e){var n;return("number"==typeof e?up:e instanceof Ht?np:(n=Ht(e))?(e=n,np):fp)(t,e)},Pm=function(t,e){var n=wv(t),r="transform"===n?yp:Nm;return this.attrTween(t,"function"==typeof e?(n.local?qi:Vi)(n,r,Bi(this,"attr."+t,e)):null==e?(n.local?Wi:Ui)(n):(n.local?zi:Hi)(n,r,e))},Dm=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=wv(t);return this.tween(n,(r.local?Yi:Xi)(r,e))},Om=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ki:Gi)(e,t)):Ii(this.node(),e).delay},Rm=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Qi:Zi)(e,t)):Ii(this.node(),e).duration},Im=function(t){var e=this._id;return arguments.length?this.each(Ji(e,t)):Ii(this.node(),e).ease},Lm=function(t){"function"!=typeof t&&(t=kv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new co(r,this._parents,this._name,this._id)},jm=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=e[u];return new co(a,this._parents,this._name,this._id)},Fm=function(t,e){var n=this._id;return arguments.length<2?Ii(this.node(),n).on.on(t):this.each(to(n,t,e))},Bm=function(){return this.on("end.remove",eo(this._id))},Um=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Dv(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,km(f[h],e,n,h,f,Ii(u,n)));return new co(o,this._parents,e,n)},Wm=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Rv(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,p=t.call(s,s.__data__,f,c),d=Ii(s,n),g=0,v=p.length;g<v;++g)(h=p[g])&&km(h,e,n,g,p,d);o.push(p),a.push(s)}return new co(o,a,e,n)},Hm=Di.prototype.constructor,zm=function(){return new Hm(this._groups,this._parents)},Vm=function(t,e,n){var r="transform"==(t+="")?mp:Nm;return null==e?this.styleTween(t,no(t,r)).on("end.style."+t,ro(t)):this.styleTween(t,"function"==typeof e?oo(t,r,Bi(this,"style."+t,e)):io(t,r,e),n)},qm=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,ao(t,e,null==n?"":n))},Ym=function(t){return this.tween("text","function"==typeof t?so(Bi(this,"text",t)):uo(null==t?"":t+""))},Xm=function(){for(var t=this._name,e=this._id,n=fo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=Ii(a,e);km(a,t,n,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new co(r,this._parents,t,n)},Km=0,Gm=Di.prototype;co.prototype=lo.prototype={constructor:co,select:Um,selectAll:Wm,filter:Lm,merge:jm,selection:zm,transition:Xm,call:Gm.call,nodes:Gm.nodes,node:Gm.node,size:Gm.size,empty:Gm.empty,each:Gm.each,on:Fm,attr:Pm,attrTween:Dm,style:Vm,styleTween:qm,text:Ym,remove:Bm,tween:Am,delay:Om,duration:Rm,ease:Im};var Qm={time:null,delay:0,duration:250,ease:y},Zm=function(t){var e,n;t instanceof co?(e=t._id,t=t._name):(e=fo(),(n=Qm).time=He(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&km(a,t,e,c,u,n||ho(a,e));return new co(r,this._parents,t,e)};Di.prototype.interrupt=Tm,Di.prototype.transition=Zm;var Jm=[null],$m=function(t,e){var n,r,i=t.__transition;if(i){e=null==e?null:e+"";for(r in i)if((n=i[r]).state>wm&&n.name===e)return new co([[t]],Jm,e,(+r))}return null},ty=Array.prototype.slice,ey=function(t){return t},ny=1,ry=2,iy=3,oy=4,ay=1e-6,uy=function(){function t(t){var o,a=0;t.eachAfter(function(t){var n=t.children;n?(t.x=Mo(n),t.y=ko(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)});var u=To(t),s=Ao(t),c=u.x-e(u,s)/2,l=s.x+e(s,u)/2;return t.eachAfter(i?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*r}:function(e){e.x=(e.x-c)/(l-c)*n,e.y=(1-(t.y?e.y/t.y:1))*r})}var e=Co,n=1,r=1,i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(i=!1,n=+e[0],r=+e[1],t):i?null:[n,r]},t.nodeSize=function(e){return arguments.length?(i=!0,n=+e[0],r=+e[1],t):i?[n,r]:null},t},sy=function(t){var e,n,r,i,o=this,a=[o];do for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(a.length);return this},cy=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},ly=function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},fy=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},hy=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},py=function(t){for(var e=this,n=No(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},dy=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},gy=function(){var t=[];return this.each(function(e){t.push(e)}),t},vy=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},my=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};Lo.prototype=Po.prototype={constructor:Lo,each:sy,eachAfter:ly,eachBefore:cy,sum:fy,sort:hy,path:py,ancestors:dy,descendants:gy,leaves:vy,links:my,copy:Do};var yy=function(t){for(var e,n=(t=t.slice()).length,r=null,i=r;n;){var o=new jo(t[n-1]);i=i?i.next=o:r=o,t[e]=t[--n]}return{head:r,tail:i}},by=function(t){return Bo(yy(t),[])},wy=function(t){return Xo(t),t},xy=function(t){return function(){return t}},_y=function(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(Jo(e)).eachAfter($o(i,.5)).eachBefore(ta(1)):t.eachBefore(Jo(Zo)).eachAfter($o(Qo,1)).eachAfter($o(i,t.r/Math.min(n,r))).eachBefore(ta(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=Qo;return t.radius=function(n){return arguments.length?(e=Ko(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:xy(+e),t):i},t},Cy=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},My=function(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(r-e)/t.value;++u<s;)o=a[u],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},Sy=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=r/a,t.eachBefore(e(r,a)),o&&t.eachBefore(Cy),t}function e(t,e){return function(n){n.children&&My(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,a=n.x1-i,u=n.y1-i;a<r&&(r=a=(r+a)/2),u<o&&(o=u=(o+u)/2),n.x0=r,n.y0=o,n.x1=a,n.y1=u}}var n=1,r=1,i=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},ky="$",Ey={depth:-1},Ty={},Ay=function(){function t(t){var r,i,o,a,u,s,c,l=t.length,f=new Array(l),h={};for(i=0;i<l;++i)r=t[i],u=f[i]=new Lo(r),null!=(s=e(r,i,t))&&(s+="")&&(c=ky+(u.id=s),h[c]=c in h?Ty:u);for(i=0;i<l;++i)if(u=f[i],s=n(t[i],i,t),null!=s&&(s+="")){if(a=h[ky+s],!a)throw new Error("missing: "+s);if(a===Ty)throw new Error("ambiguous: "+s);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=Ey,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(Io),o.parent=null,l>0)throw new Error("cycle");return o}var e=ea,n=na;return t.id=function(n){return arguments.length?(e=Go(n),t):e},t.parentId=function(e){return arguments.length?(n=Go(e),t):n},t};ca.prototype=Object.create(Lo.prototype);var Ny=function(){function t(t){var r=la(t);if(r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),s)t.eachBefore(i);else{var c=t,l=t,f=t;t.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=c===l?1:o(c,l)/2,p=h-c.x,d=a/(l.x+h+p),g=u/(f.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*g})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){ua(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var r,i=t,a=t,u=e,s=i.parent.children[0],c=i.m,l=a.m,f=u.m,h=s.m;u=oa(u),i=ia(i),u&&i;)s=ia(s),a=oa(a),a.a=t,r=u.z+f-i.z-c+o(u._,i._),r>0&&(aa(sa(u,t,n),t,r),c+=r,l+=r),f+=u.m,c+=i.m,h+=s.m,l+=a.m;u&&!oa(a)&&(a.t=u,a.m+=f-l),i&&!ia(s)&&(s.t=i,s.m+=c-h,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*u}var o=ra,a=1,u=1,s=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(s=!1,a=+e[0],u=+e[1],t):s?null:[a,u]},t.nodeSize=function(e){return arguments.length?(s=!0,a=+e[0],u=+e[1],t):s?[a,u]:null},t},Py=function(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(i-n)/t.value;++u<s;)o=a[u],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},Dy=(1+Math.sqrt(5))/2,Oy=function I_(t){function e(e,n,r,i,o){fa(t,e,n,r,i,o)}return e.ratio=function(t){return I_((t=+t)>1?t:1)},e}(Dy),Ry=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),a=[0],r&&t.eachBefore(Cy),t}function e(t){var e=a[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,h=t.y1-e;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(e=a[t.depth+1]=u(t)/2,r+=f(t)-e,i+=s(t)-e,o-=c(t)-e,h-=l(t)-e,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),n(t,r,i,o,h))}var n=Oy,r=!1,i=1,o=1,a=[0],u=Qo,s=Qo,c=Qo,l=Qo,f=Qo;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=Go(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(u="function"==typeof e?e:xy(+e),t):u},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:xy(+e),t):s},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:xy(+e),t):c},t.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:xy(+e),t):l},t.paddingLeft=function(e){return arguments.length?(f="function"==typeof e?e:xy(+e),t):f},t},Iy=function(t,e,n,r,i){function o(t,e,n,r,i,a,u){if(t>=e-1){var c=s[t];return c.x0=r,c.y0=i,c.x1=a,c.y1=u,void 0}for(var f=l[t],h=n/2+f,p=t+1,d=e-1;p<d;){var g=p+d>>>1;l[g]<h?p=g+1:d=g}var v=l[p]-f,m=n-v;if(u-i>a-r){var y=(i*m+u*v)/n;o(t,p,v,r,i,a,y),o(p,e,m,r,y,a,u)}else{var b=(r*m+a*v)/n;o(t,p,v,r,i,b,u),o(p,e,m,b,i,a,u)}}var a,u,s=t.children,c=s.length,l=new Array(c+1);for(l[0]=u=a=0;a<c;++a)l[a+1]=u+=s[a].value;o(0,c,t.value,e,n,r,i)},Ly=function(t,e,n,r,i){(1&t.depth?Py:My)(t,e,n,r,i)},jy=function L_(t){function e(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,u,s,c,l,f=-1,h=a.length,p=e.value;++f<h;){for(u=a[f],s=u.children,c=u.value=0,l=s.length;c<l;++c)u.value+=s[c].value;u.dice?My(u,n,r,i,r+=(o-r)*u.value/p):Py(u,n,r,n+=(i-n)*u.value/p,o),p-=u.value}else e._squarify=a=fa(t,e,n,r,i,o),a.ratio=t}return e.ratio=function(t){return L_((t=+t)>1?t:1)},e}(Dy),Fy=function(t,e){function n(){var n,i,o=r.length,a=0,u=0;for(n=0;n<o;++n)i=r[n],a+=i.x,u+=i.y;for(a=a/o-t,u=u/o-e,n=0;n<o;++n)i=r[n],i.x-=a,i.y-=u}var r;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){r=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},By=function(t){return function(){return t}},Uy=function(){return 1e-6*(Math.random()-.5)},Wy=function(t){function e(){function t(t,n,r,i,a){var u=t.data,p=t.r,d=f+p;{if(!u)return n>c+d||i<c-d||r>l+d||a<l-d;if(u.index>e){var g=c-u.x-u.vx,v=l-u.y-u.vy,m=g*g+v*v;m<d*d&&(0===g&&(g=Uy(),m+=g*g),0===v&&(v=Uy(),m+=v*v),m=(d-(m=Math.sqrt(m)))/m*o,s.vx+=(g*=m)*(d=(p*=p)/(h+p)),s.vy+=(v*=m)*d,u.vx-=g*(d=1-d),u.vy-=v*d)}}}for(var e,u,s,c,l,f,h,p=r.length,d=0;d<a;++d)for(u=U(r,ha,pa).visitAfter(n),e=0;e<p;++e)s=r[e],f=i[e],h=f*f,c=s.x+s.vx,l=s.y+s.vy,u.visit(t)}function n(t){if(t.data)return t.r=i[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}var r,i,o=1,a=1;return"function"!=typeof t&&(t=By(null==t?1:+t)),e.initialize=function(e){var n,o=(r=e).length;for(i=new Array(o),n=0;n<o;++n)i[n]=+t(r[n],n,r)},e.iterations=function(t){return arguments.length?(a=+t,e):a},e.strength=function(t){return arguments.length?(o=+t,e):o},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:By(+n),e):t},e},Hy=function(t){function e(t){return 1/Math.min(l[t.source.index],l[t.target.index])}function n(e){for(var n=0,r=t.length;n<g;++n)for(var i,o,a,c,l,h,p,d=0;d<r;++d)i=t[d],o=i.source,a=i.target,c=a.x+a.vx-o.x-o.vx||Uy(),l=a.y+a.vy-o.y-o.vy||Uy(),h=Math.sqrt(c*c+l*l),h=(h-s[d])/h*e*u[d],c*=h,l*=h,a.vx-=c*(p=f[d]),a.vy-=l*p,o.vx+=c*(p=1-p),o.vy+=l*p}function r(){if(c){var e,n,r=c.length,p=t.length,d=o(c,h);for(e=0,l=new Array(r);e<r;++e)l[e]=0;for(e=0;e<p;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=d.get(n.source)),"object"!=typeof n.target&&(n.target=d.get(n.target)),++l[n.source.index],++l[n.target.index];for(e=0,f=new Array(p);e<p;++e)n=t[e],f[e]=l[n.source.index]/(l[n.source.index]+l[n.target.index]);u=new Array(p),i(),s=new Array(p),a()}}function i(){if(c)for(var e=0,n=t.length;e<n;++e)u[e]=+p(t[e],e,t)}function a(){if(c)for(var e=0,n=t.length;e<n;++e)s[e]=+d(t[e],e,t)}var u,s,c,l,f,h=da,p=e,d=By(30),g=1;return null==t&&(t=[]),n.initialize=function(t){c=t,r()},n.links=function(e){return arguments.length?(t=e,r(),n):t},n.id=function(t){return arguments.length?(h=t,n):h},n.iterations=function(t){return arguments.length?(g=+t,n):g},n.strength=function(t){return arguments.length?(p="function"==typeof t?t:By(+t),i(),n):p},n.distance=function(t){return arguments.length?(d="function"==typeof t?t:By(+t),a(),n):d},n},zy=10,Vy=Math.PI*(3-Math.sqrt(5)),qy=function(t){function e(){n(),d.call("tick",a),u<s&&(p.stop(),d.call("end",a))}function n(){var e,n,r=t.length;for(u+=(l-u)*c,h.each(function(t){t(u)}),e=0;e<r;++e)n=t[e],null==n.fx?n.x+=n.vx*=f:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=f:(n.y=n.fy,n.vy=0)}function r(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=zy*Math.sqrt(n),o=n*Vy;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(t),e}var a,u=1,s=.001,c=1-Math.pow(s,1/300),l=0,f=.6,h=o(),p=qe(e),d=Pe("tick","end");return null==t&&(t=[]),r(),a={tick:n,restart:function(){return p.restart(e),a},stop:function(){return p.stop(),a},nodes:function(e){return arguments.length?(t=e,r(),h.each(i),a):t},alpha:function(t){return arguments.length?(u=+t,a):u},alphaMin:function(t){return arguments.length?(s=+t,a):s},alphaDecay:function(t){return arguments.length?(c=+t,a):+c},alphaTarget:function(t){return arguments.length?(l=+t,a):l},velocityDecay:function(t){return arguments.length?(f=1-t,a):1-f},force:function(t,e){return arguments.length>1?(null==e?h.remove(t):h.set(t,i(e)),a):h.get(t)},find:function(e,n,r){var i,o,a,u,s,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)u=t[c],i=e-u.x,o=n-u.y,a=i*i+o*o,a<r&&(s=u,r=a);return s},on:function(t,e){return arguments.length>1?(d.on(t,e),a):d.on(t)}}},Yy=function(){function t(t){var e,u=i.length,s=U(i,ga,va).visitAfter(n);for(a=t,e=0;e<u;++e)o=i[e],s.visit(r)}function e(){if(i){var t,e=i.length;for(u=new Array(e),t=0;t<e;++t)u[t]=+s(i[t],t,i)}}function n(t){var e,n,r,i,o,a=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=e.value)&&(a+=n,r+=n*e.x,i+=n*e.y);t.x=r/a,t.y=i/a}else{e=t,e.x=e.data.x,e.y=e.data.y;do a+=u[e.data.index];while(e=e.next)}t.value=a}function r(t,e,n,r){if(!t.value)return!0;var i=t.x-o.x,s=t.y-o.y,h=r-e,p=i*i+s*s;if(h*h/f<p)return p<l&&(0===i&&(i=Uy(),p+=i*i),0===s&&(s=Uy(),p+=s*s),p<c&&(p=Math.sqrt(c*p)),o.vx+=i*t.value*a/p,o.vy+=s*t.value*a/p),!0;if(!(t.length||p>=l)){(t.data!==o||t.next)&&(0===i&&(i=Uy(),p+=i*i),0===s&&(s=Uy(),p+=s*s),p<c&&(p=Math.sqrt(c*p)));do t.data!==o&&(h=u[t.data.index]*a/p,o.vx+=i*h,o.vy+=s*h);while(t=t.next)}}var i,o,a,u,s=By(-30),c=1,l=1/0,f=.81;return t.initialize=function(t){i=t,e()},t.strength=function(n){return arguments.length?(s="function"==typeof n?n:By(+n),e(),t):s},t.distanceMin=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.distanceMax=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.theta=function(e){return arguments.length?(f=e*e,t):Math.sqrt(f)},t},Xy=function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)e=r[n],e.vx+=(o[n]-e.x)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=By(.1);return"function"!=typeof t&&(t=By(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:By(+t),n(),e):a},e.x=function(r){return arguments.length?(t="function"==typeof r?r:By(+r),n(),e):t},e},Ky=function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)e=r[n],e.vy+=(o[n]-e.y)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=By(.1);return"function"!=typeof t&&(t=By(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:By(+t),n(),e):a},e.y=function(r){return arguments.length?(t="function"==typeof r?r:By(+r),n(),e):t},e},Gy=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Qy=function(t){var e=t.document.documentElement,n=pm(t).on("dragstart.drag",Gy,!0);"onselectstart"in e?n.on("selectstart.drag",Gy,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Zy=function(t){return function(){return t}};ba.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Jy=function(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",o).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",u).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!l&&f.apply(this,arguments)){var e=s("mouse",h.apply(this,arguments),Pv,this,arguments);e&&(pm(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),Qy(t.event.view),ma(),c=!1,e("start"))}}function r(){Gy(),c=!0,d.mouse("drag")}function i(){pm(t.event.view).on("mousemove.drag mouseup.drag",null),ya(t.event.view,c),Gy(),d.mouse("end")}function o(){if(f.apply(this,arguments)){var e,n,r=t.event.changedTouches,i=h.apply(this,arguments),o=r.length;for(e=0;e<o;++e)(n=s(r[e].identifier,i,gm,this,arguments))&&(ma(),n("start"))}}function a(){var e,n,r=t.event.changedTouches,i=r.length;for(e=0;e<i;++e)(n=d[r[e].identifier])&&(Gy(),n("drag"))}function u(){var e,n,r=t.event.changedTouches,i=r.length;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),e=0;e<i;++e)(n=d[r[e].identifier])&&(ma(),n("end"))}function s(n,r,i,o,a){var u,s,c,l=i(r,n),f=g.copy();if(qr(new ba(e,"beforestart",u,n,v,l[0],l[1],0,0,f),function(){return null!=(t.event.subject=u=p.apply(o,a))&&(s=u.x-l[0]||0,c=u.y-l[1]||0,!0)}))return function h(t){var p,g=l;switch(t){case"start":d[n]=h,p=v++;break;case"end":delete d[n],--v;case"drag":l=i(r,n),p=v}qr(new ba(e,t,u,n,p,l[0]+s,l[1]+c,l[0]-g[0],l[1]-g[1],f),f.apply,f,[t,o,a])}}var c,l,f=wa,h=xa,p=_a,d={},g=Pe("start","drag","end"),v=0;return e.filter=function(t){return arguments.length?(f="function"==typeof t?t:Zy(!!t),e):f},e.container=function(t){return arguments.length?(h="function"==typeof t?t:Zy(t),e):h},e.subject=function(t){return arguments.length?(p="function"==typeof t?t:Zy(t),e):p},e.on=function(){var t=g.on.apply(g,arguments);return t===g?e:t},e},$y=function(t){return function(){return t}};Sa.prototype={constructor:Sa,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Aa(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ea(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Ta(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ta(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Ea(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Aa(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,Ea(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ta(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ea(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,Ta(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ea(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ta(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var tb,eb,nb,rb,ib,ob=[],ab=[],ub=1e-6,sb=1e-12;tu.prototype={constructor:tu,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Fa(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){for(var i,o=n.site,a=n.halfedges,u=-1,s=a.length,c=e[a[s-1]],l=c.left===o?c.right:c.left;++u<s;)i=l,c=e[a[u]],l=c.left===o?c.right:c.left,r<i.index&&r<l.index&&Ja(o,i,l)<0&&t.push([o.data,i.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})}};var cb=function(){function t(t){return new tu(t.map(function(r,i){var o=[Math.round(e(r,i,t)/ub)*ub,Math.round(n(r,i,t)/ub)*ub];return o.index=i,o.data=r,o}),r)}var e=Ca,n=Ma,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:$y(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:$y(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},lb=function(t){return function(){return t}};nu.prototype={constructor:nu,scale:function(t){return 1===t?this:new nu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new nu(this.k,this.x+this.k*t,this.y+this.k*e)},
apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var fb=new nu(1,0,0);ru.prototype=nu.prototype;var hb=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},pb=function(){function e(t){t.on("wheel.zoom",c).on("mousedown.zoom",l).on("dblclick.zoom",f).on("touchstart.zoom",h).on("touchmove.zoom",p).on("touchend.zoom touchcancel.zoom",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",uu)}function n(t,e){return e=Math.max(b,Math.min(w,e)),e===t.k?t:new nu(e,t.x,t.y)}function r(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new nu(t.k,r,i)}function i(t,e){var n=Math.min(0,t.invertX(e[0][0])-x)||Math.max(0,t.invertX(e[1][0])-_),r=Math.min(0,t.invertY(e[0][1])-C)||Math.max(0,t.invertY(e[1][1])-M);return n||r?t.translate(n,r):t}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function a(t,e,n){t.on("start.zoom",function(){u(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){u(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,i=u(t,r),a=y.apply(t,r),s=n||o(a),c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,f="function"==typeof e?e.apply(t,r):e,h=Cp(l.invert(s).concat(c/l.k),f.invert(s).concat(c/f.k));return function(t){if(1===t)t=f;else{var e=h(t),n=c/e[2];t=new nu(n,s[0]-e[0]*n,s[1]-e[1]*n)}i.zoom(null,t)}})}function u(t,e){for(var n,r=0,i=k.length;r<i;++r)if((n=k[r]).that===t)return n;return new s(t,e)}function s(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function c(){function e(){o.wheel=null,o.end()}if(m.apply(this,arguments)){var o=u(this,arguments),a=this.__zoom,s=Math.max(b,Math.min(w,a.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),c=Pv(this);if(o.wheel)o.mouse[0][0]===c[0]&&o.mouse[0][1]===c[1]||(o.mouse[1]=a.invert(o.mouse[0]=c)),clearTimeout(o.wheel);else{if(a.k===s)return;o.mouse=[c,a.invert(c)],Em(this),o.start()}hb(),o.wheel=setTimeout(e,A),o.zoom("mouse",i(r(n(a,s),o.mouse[0],o.mouse[1]),o.extent))}}function l(){function e(){hb(),o.moved=!0,o.zoom("mouse",i(r(o.that.__zoom,o.mouse[0]=Pv(o.that),o.mouse[1]),o.extent))}function n(){a.on("mousemove.zoom mouseup.zoom",null),ya(t.event.view,o.moved),hb(),o.end()}if(!v&&m.apply(this,arguments)){var o=u(this,arguments),a=pm(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),s=Pv(this);Qy(t.event.view),iu(),o.mouse=[s,this.__zoom.invert(s)],Em(this),o.start()}}function f(){if(m.apply(this,arguments)){var o=this.__zoom,u=Pv(this),s=o.invert(u),c=o.k*(t.event.shiftKey?.5:2),l=i(r(n(o,c),u,s),y.apply(this,arguments));hb(),S>0?pm(this).transition().duration(S).call(a,l,u):pm(this).call(e.transform,l)}}function h(){if(m.apply(this,arguments)){var e,n,r,i=u(this,arguments),o=t.event.changedTouches,a=o.length;for(iu(),e=0;e<a;++e)n=o[e],r=gm(this,o,n.identifier),r=[r,this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):i.touch0=r;return g&&(g=clearTimeout(g),!i.touch1)?(i.end(),f.apply(this,arguments)):void(t.event.touches.length===a&&(g=setTimeout(function(){g=null},T),Em(this),i.start()))}}function p(){var e,o,a,s,c=u(this,arguments),l=t.event.changedTouches,f=l.length;for(hb(),g&&(g=clearTimeout(g)),e=0;e<f;++e)o=l[e],a=gm(this,l,o.identifier),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=a:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=a);if(o=c.that.__zoom,c.touch1){var h=c.touch0[0],p=c.touch0[1],d=c.touch1[0],v=c.touch1[1],m=(m=d[0]-h[0])*m+(m=d[1]-h[1])*m,y=(y=v[0]-p[0])*y+(y=v[1]-p[1])*y;o=n(o,Math.sqrt(m/y)),a=[(h[0]+d[0])/2,(h[1]+d[1])/2],s=[(p[0]+v[0])/2,(p[1]+v[1])/2]}else{if(!c.touch0)return;a=c.touch0[0],s=c.touch0[1]}c.zoom("touch",i(r(o,a,s),c.extent))}function d(){var e,n,r=u(this,arguments),i=t.event.changedTouches,o=i.length;for(iu(),v&&clearTimeout(v),v=setTimeout(function(){v=null},T),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0||r.end()}var g,v,m=ou,y=au,b=0,w=1/0,x=-w,_=w,C=x,M=_,S=250,k=[],E=Pe("start","zoom","end"),T=500,A=150;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",uu),t!==n?a(t,e):n.interrupt().each(function(){u(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},e.scaleTo=function(t,a){e.transform(t,function(){var t=y.apply(this,arguments),e=this.__zoom,u=o(t),s=e.invert(u),c="function"==typeof a?a.apply(this,arguments):a;return i(r(n(e,c),u,s),t)})},e.translateBy=function(t,n,r){e.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),y.apply(this,arguments))})},s.prototype={start:function(){return 1===++this.active&&(this.index=k.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(k.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){qr(new eu(e,t,this.that.__zoom),E.apply,E,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(m="function"==typeof t?t:lb(!!t),e):m},e.extent=function(t){return arguments.length?(y="function"==typeof t?t:lb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):y},e.scaleExtent=function(t){return arguments.length?(b=+t[0],w=+t[1],e):[b,w]},e.translateExtent=function(t){return arguments.length?(x=+t[0][0],_=+t[1][0],C=+t[0][1],M=+t[1][1],e):[[x,C],[_,M]]},e.duration=function(t){return arguments.length?(S=+t,e):S},e.on=function(){var t=E.on.apply(E,arguments);return t===E?e:t},e},db=function(t){return function(){return t}},gb=function(t,e,n){this.target=t,this.type=e,this.selection=n},vb=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},mb={name:"drag"},yb={name:"space"},bb={name:"handle"},wb={name:"center"},xb={name:"x",handles:["e","w"].map(cu),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},_b={name:"y",handles:["n","s"].map(cu),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Cb={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(cu),input:function(t){return t},output:function(t){return t}},Mb={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Sb={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kb={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Eb={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Tb={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Ab=function(){return mu(Cb)},Nb=Math.cos,Pb=Math.sin,Db=Math.PI,Ob=Db/2,Rb=2*Db,Ib=Math.max,Lb=function(){function t(t){var o,a,u,s,c,l,f=t.length,h=[],p=Rc(f),d=[],g=[],v=g.groups=new Array(f),m=new Array(f*f);for(o=0,c=-1;++c<f;){for(a=0,l=-1;++l<f;)a+=t[c][l];h.push(a),d.push(Rc(f)),o+=a}for(n&&p.sort(function(t,e){return n(h[t],h[e])}),r&&d.forEach(function(e,n){e.sort(function(e,i){return r(t[n][e],t[n][i])})}),o=Ib(0,Rb-e*f)/o,s=o?e:Rb/f,a=0,c=-1;++c<f;){for(u=a,l=-1;++l<f;){var y=p[c],b=d[y][l],w=t[y][b],x=a,_=a+=w*o;m[b*f+y]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}v[y]={index:y,startAngle:u,endAngle:a,value:h[y]},a+=s}for(c=-1;++c<f;)for(l=c-1;++l<f;){var C=m[l*f+c],M=m[c*f+l];(C.value||M.value)&&g.push(C.value<M.value?{source:M,target:C}:{source:C,target:M})}return i?g.sort(i):g}var e=0,n=null,r=null,i=null;return t.padAngle=function(n){return arguments.length?(e=Ib(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(r=e,t):r},t.sortChords=function(e){return arguments.length?(null==e?i=null:(i=yu(e))._=e,t):i&&i._},t},jb=Array.prototype.slice,Fb=function(t){return function(){return t}},Bb=function(){function t(){var t,u=jb.call(arguments),s=e.apply(this,u),c=n.apply(this,u),l=+r.apply(this,(u[0]=s,u)),f=i.apply(this,u)-Ob,h=o.apply(this,u)-Ob,p=l*Nb(f),d=l*Pb(f),g=+r.apply(this,(u[0]=c,u)),v=i.apply(this,u)-Ob,m=o.apply(this,u)-Ob;if(a||(a=t=R()),a.moveTo(p,d),a.arc(0,0,l,f,h),f===v&&h===m||(a.quadraticCurveTo(0,0,g*Nb(v),g*Pb(v)),a.arc(0,0,g,v,m)),a.quadraticCurveTo(0,0,p,d),a.closePath(),t)return a=null,t+""||null}var e=bu,n=wu,r=xu,i=_u,o=Cu,a=null;return t.radius=function(e){return arguments.length?(r="function"==typeof e?e:Fb(+e),t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Fb(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Fb(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t},Ub=function(){return new Mu};Mu.prototype={constructor:Mu,reset:function(){this.s=this.t=0},add:function(t){Su(yw,t,this.t),Su(this,yw.s,this.s),this.s?this.t+=yw.t:this.s=yw.t},valueOf:function(){return this.s}};var Wb,Hb,zb,Vb,qb,Yb,Xb,Kb,Gb,Qb,Zb,Jb,$b,tw,ew,nw,rw,iw,ow,aw,uw,sw,cw,lw,fw,hw,pw,dw,gw,vw,mw,yw=new Mu,bw=1e-6,ww=1e-12,xw=Math.PI,_w=xw/2,Cw=xw/4,Mw=2*xw,Sw=180/xw,kw=xw/180,Ew=Math.abs,Tw=Math.atan,Aw=Math.atan2,Nw=Math.cos,Pw=Math.ceil,Dw=Math.exp,Ow=Math.log,Rw=Math.pow,Iw=Math.sin,Lw=Math.sign||function(t){return t>0?1:t<0?-1:0},jw=Math.sqrt,Fw=Math.tan,Bw={Feature:function(t,e){Nu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Nu(n[r].geometry,e)}},Uw={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Pu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Pu(n[r],e,0)},Polygon:function(t,e){Du(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Du(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Nu(n[r],e)}},Ww=function(t,e){t&&Bw.hasOwnProperty(t.type)?Bw[t.type](t,e):Nu(t,e)},Hw=Ub(),zw=Ub(),Vw={point:Au,lineStart:Au,lineEnd:Au,polygonStart:function(){Hw.reset(),Vw.lineStart=Ou,Vw.lineEnd=Ru},polygonEnd:function(){var t=+Hw;zw.add(t<0?Mw+t:t),this.lineStart=this.lineEnd=this.point=Au},sphere:function(){zw.add(Mw)}},qw=function(t){return zw.reset(),Ww(t,Vw),2*zw},Yw=Ub(),Xw={point:Vu,lineStart:Yu,lineEnd:Xu,polygonStart:function(){Xw.point=Ku,Xw.lineStart=Gu,Xw.lineEnd=Qu,Yw.reset(),Vw.polygonStart()},polygonEnd:function(){Vw.polygonEnd(),Xw.point=Vu,Xw.lineStart=Yu,Xw.lineEnd=Xu,Hw<0?(Yb=-(Kb=180),Xb=-(Gb=90)):Yw>bw?Gb=90:Yw<-bw&&(Xb=-90),ew[0]=Yb,ew[1]=Kb}},Kw=function(t){var e,n,r,i,o,a,u;if(Gb=Kb=-(Yb=Xb=1/0),tw=[],Ww(t,Xw),n=tw.length){for(tw.sort(Ju),e=1,r=tw[0],o=[r];e<n;++e)i=tw[e],$u(r,i[0])||$u(r,i[1])?(Zu(r[0],i[1])>Zu(r[0],r[1])&&(r[1]=i[1]),Zu(i[0],r[1])>Zu(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-(1/0),n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(u=Zu(r[1],i[0]))>a&&(a=u,Yb=i[0],Kb=r[1])}return tw=ew=null,Yb===1/0||Xb===1/0?[[NaN,NaN],[NaN,NaN]]:[[Yb,Xb],[Kb,Gb]]},Gw={sphere:Au,point:ts,lineStart:ns,lineEnd:os,polygonStart:function(){Gw.lineStart=as,Gw.lineEnd=us},polygonEnd:function(){Gw.lineStart=ns,Gw.lineEnd=os}},Qw=function(t){nw=rw=iw=ow=aw=uw=sw=cw=lw=fw=hw=0,Ww(t,Gw);var e=lw,n=fw,r=hw,i=e*e+n*n+r*r;return i<ww&&(e=uw,n=sw,r=cw,rw<bw&&(e=iw,n=ow,r=aw),i=e*e+n*n+r*r,i<ww)?[NaN,NaN]:[Aw(n,e)*Sw,Eu(r/jw(i))*Sw]},Zw=function(t){return function(){return t}},Jw=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n};ls.invert=ls;var $w,tx,ex,nx,rx,ix,ox,ax,ux,sx,cx,lx=function(t){function e(e){return e=t(e[0]*kw,e[1]*kw),e[0]*=Sw,e[1]*=Sw,e}return t=fs(t[0]*kw,t[1]*kw,t.length>2?t[2]*kw:0),e.invert=function(e){return e=t.invert(e[0]*kw,e[1]*kw),e[0]*=Sw,e[1]*=Sw,e},e},fx=function(){function t(t,e){n.push(t=r(t,e)),t[0]*=Sw,t[1]*=Sw}function e(){var t=i.apply(this,arguments),e=o.apply(this,arguments)*kw,s=a.apply(this,arguments)*kw;return n=[],r=fs(-t[0]*kw,-t[1]*kw,0).invert,gs(u,e,s,1),t={type:"Polygon",coordinates:[n]},n=r=null,t}var n,r,i=Zw([0,0]),o=Zw(90),a=Zw(6),u={point:t};return e.center=function(t){return arguments.length?(i="function"==typeof t?t:Zw([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:Zw(+t),e):o},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:Zw(+t),e):a},e},hx=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Au,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},px=function(t,e,n,r,i,o){var a,u=t[0],s=t[1],c=e[0],l=e[1],f=0,h=1,p=c-u,d=l-s;if(a=n-u,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=i-u,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}if(a=r-s,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=o-s,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=u+f*p,t[1]=s+f*d),h<1&&(e[0]=u+h*p,e[1]=s+h*d),!0}}}}},dx=function(t,e){return Ew(t[0]-e[0])<bw&&Ew(t[1]-e[1])<bw},gx=function(t,e,n,r,i){var o,a,u=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(dx(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}u.push(n=new ms(r,t,null,(!0))),s.push(n.o=new ms(r,null,n,(!1))),u.push(n=new ms(a,t,null,(!1))),s.push(n.o=new ms(a,null,n,(!0)))}}),u.length){for(s.sort(e),ys(u),ys(s),o=0,a=s.length;o<a;++o)s[o].e=n=!n;for(var c,l,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);i.lineEnd()}}},vx=1e9,mx=-vx,yx=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=bs(r,i,o,a)(e=n)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=e=null,n):[[r,i],[o,a]]}}},bx=Ub(),wx={sphere:Au,point:Au,lineStart:ws,lineEnd:Au,polygonStart:Au,polygonEnd:Au},xx=function(t){return bx.reset(),Ww(t,wx),+bx},_x=[null,null],Cx={type:"LineString",coordinates:_x},Mx=function(t,e){return _x[0]=t,_x[1]=e,xx(Cx)},Sx=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Rc(Pw(o/v)*v,i,v).map(h).concat(Rc(Pw(c/m)*m,s,m).map(p)).concat(Rc(Pw(r/d)*d,n,d).filter(function(t){return Ew(t%v)>bw}).map(l)).concat(Rc(Pw(u/g)*g,a,g).filter(function(t){return Ew(t%m)>bw}).map(f))}var n,r,i,o,a,u,s,c,l,f,h,p,d=10,g=d,v=90,m=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(s).slice(1),h(i).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],c=+e[0][1],s=+e[1][1],o>i&&(e=o,o=i,i=e),c>s&&(e=c,c=s,s=e),t.precision(y)):[[o,c],[i,s]]},t.extentMinor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],u=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),u>a&&(e=u,u=a,a=e),t.precision(y)):[[r,u],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(v=+e[0],m=+e[1],t):[v,m]},t.stepMinor=function(e){return arguments.length?(d=+e[0],g=+e[1],t):[d,g]},t.precision=function(e){return arguments.length?(y=+e,l=Ms(u,a,90),f=Ss(r,n,y),h=Ms(c,s,90),p=Ss(o,i,y),t):y},t.extentMajor([[-180,-90+bw],[180,90-bw]]).extentMinor([[-180,-80-bw],[180,80+bw]])},kx=function(t,e){var n=t[0]*kw,r=t[1]*kw,i=e[0]*kw,o=e[1]*kw,a=Nw(r),u=Iw(r),s=Nw(o),c=Iw(o),l=a*Nw(n),f=a*Iw(n),h=s*Nw(i),p=s*Iw(i),d=2*Eu(jw(Tu(o-r)+a*s*Tu(i-n))),g=Iw(d),v=d?function(t){var e=Iw(t*=d)/g,n=Iw(d-t)/g,r=n*l+e*h,i=n*f+e*p,o=n*u+e*c;return[Aw(i,r)*Sw,Aw(o,jw(r*r+i*i))*Sw]}:function(){return[n*Sw,r*Sw]};return v.distance=d,v},Ex=function(t){return t},Tx=Ub(),Ax=Ub(),Nx={point:Au,lineStart:Au,lineEnd:Au,polygonStart:function(){Nx.lineStart=ks,Nx.lineEnd=As},polygonEnd:function(){Nx.lineStart=Nx.lineEnd=Nx.point=Au,Tx.add(Ew(Ax)),Ax.reset()},result:function(){var t=Tx/2;return Tx.reset(),t}},Px=1/0,Dx=Px,Ox=-Px,Rx=Ox,Ix={point:Ns,lineStart:Au,lineEnd:Au,polygonStart:Au,polygonEnd:Au,result:function(){var t=[[Px,Dx],[Ox,Rx]];return Ox=Rx=-(Dx=Px=1/0),t}},Lx=0,jx=0,Fx=0,Bx=0,Ux=0,Wx=0,Hx=0,zx=0,Vx=0,qx={point:Ps,lineStart:Ds,lineEnd:Is,polygonStart:function(){qx.lineStart=Ls,qx.lineEnd=js},polygonEnd:function(){qx.point=Ps,qx.lineStart=Ds,qx.lineEnd=Is},result:function(){var t=Vx?[Hx/Vx,zx/Vx]:Wx?[Bx/Wx,Ux/Wx]:Fx?[Lx/Fx,jx/Fx]:[NaN,NaN];return Lx=jx=Fx=Bx=Ux=Wx=Hx=zx=Vx=0,t}};Us.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Mw)}},result:Au},Ws.prototype={_circle:Hs(4.5),pointRadius:function(t){return this._circle=Hs(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Yx=function(){function t(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Ww(t,n(i))),i.result()}var e,n,r,i,o=4.5;return t.area=function(t){return Ww(t,n(Nx)),Nx.result()},t.bounds=function(t){return Ww(t,n(Ix)),Ix.result()},t.centroid=function(t){return Ww(t,n(qx)),qx.result()},t.projection=function(r){return arguments.length?(n=null==(e=r)?Ex:r.stream,t):e},t.context=function(e){return arguments.length?(i=null==(r=e)?new Ws:new Us(e),"function"!=typeof o&&i.pointRadius(o),t):r},t.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(i.pointRadius(+e),+e),t):o},t.projection(null).context(null)},Xx=Ub(),Kx=function(t,e){var n=e[0],r=e[1],i=[Iw(n),-Nw(n),0],o=0,a=0;Xx.reset();for(var u=0,s=t.length;u<s;++u)if(l=(c=t[u]).length)for(var c,l,f=c[l-1],h=f[0],p=f[1]/2+Cw,d=Iw(p),g=Nw(p),v=0;v<l;++v,h=y,d=w,g=x,f=m){var m=c[v],y=m[0],b=m[1]/2+Cw,w=Iw(b),x=Nw(b),_=y-h,C=_>=0?1:-1,M=C*_,S=M>xw,k=d*w;if(Xx.add(Aw(k*C*Iw(M),g*x+k*Nw(M))),o+=S?_+C*Mw:_,S^h>=n^y>=n){var E=Uu(Fu(f),Fu(m));zu(E);var T=Uu(i,E);zu(T);var A=(S^_>=0?-1:1)*Eu(T[2]);(r>A||r===A&&(E[0]||E[1]))&&(a+=S^_>=0?1:-1)}}return(o<-bw||o<bw&&Xx<-bw)^1&a},Gx=function(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function u(t,e){var n=i(t,e);v.point(n[0],n[1])}function s(){x.point=u,v.lineStart()}function c(){x.point=a,v.lineEnd()}function l(t,e){g.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),g=[]}function h(){l(g[0][0],g[0][1]),b.lineEnd();var t,e,n,r,i=b.clean(),a=y.result(),u=a.length;if(g.pop(),p.push(g),g=null,u)if(1&i){if(n=a[0],(e=n.length-1)>0){for(w||(o.polygonStart(),w=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else u>1&&2&i&&a.push(a.pop().concat(a.shift())),d.push(a.filter(zs))}var p,d,g,v=e(o),m=i.invert(r[0],r[1]),y=hx(),b=e(y),w=!1,x={point:a,lineStart:s,lineEnd:c,polygonStart:function(){x.point=l,x.lineStart=f,x.lineEnd=h,d=[],p=[]},polygonEnd:function(){x.point=a,x.lineStart=s,x.lineEnd=c,d=Xc(d);var t=Kx(p,m);d.length?(w||(o.polygonStart(),w=!0),gx(d,Vs,t,n,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}},Qx=Gx(function(){return!0},qs,Xs,[-xw,-_w]),Zx=function(t,e){function n(n,r,i,o){gs(o,t,e,i,n,r)}function r(t,e){return Nw(t)*Nw(e)>u}function i(t){var e,n,i,u,l;return{lineStart:function(){u=i=!1,l=1},point:function(f,h){var p,d=[f,h],g=r(f,h),v=s?g?0:a(f,h):g?a(f+(f<0?xw:-xw),h):0;if(!e&&(u=i=g)&&t.lineStart(),g!==i&&(p=o(e,d),(dx(e,p)||dx(d,p))&&(d[0]+=bw,d[1]+=bw,g=r(d[0],d[1]))),g!==i)l=0,g?(t.lineStart(),p=o(d,e),t.point(p[0],p[1])):(p=o(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(c&&e&&s^g){var m;v&n||!(m=o(d,e,!0))||(l=0,s?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&dx(e,d)||t.point(d[0],d[1]),e=d,i=g,n=v},lineEnd:function(){i&&t.lineEnd(),e=null},clean:function(){return l|(u&&i)<<1}}}function o(t,e,n){var r=Fu(t),i=Fu(e),o=[1,0,0],a=Uu(r,i),s=Bu(a,a),c=a[0],l=s-c*c;if(!l)return!n&&t;var f=u*s/l,h=-u*c/l,p=Uu(o,a),d=Hu(o,f),g=Hu(a,h);Wu(d,g);var v=p,m=Bu(d,v),y=Bu(v,v),b=m*m-y*(Bu(d,d)-1);if(!(b<0)){var w=jw(b),x=Hu(v,(-m-w)/y);if(Wu(x,d),x=ju(x),!n)return x;var _,C=t[0],M=e[0],S=t[1],k=e[1];M<C&&(_=C,C=M,M=_);var E=M-C,T=Ew(E-xw)<bw,A=T||E<bw;if(!T&&k<S&&(_=S,S=k,k=_),A?T?S+k>0^x[1]<(Ew(x[0]-C)<bw?S:k):S<=x[1]&&x[1]<=k:E>xw^(C<=x[0]&&x[0]<=M)){var N=Hu(v,(-m+w)/y);return Wu(N,d),[x,ju(N)]}}}function a(e,n){var r=s?t:xw-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var u=Nw(t),s=u>0,c=Ew(u)>bw;return Gx(r,i,n,s?[0,-t]:[-xw,t-xw])},Jx=function(t){return{stream:Ks(t)}};Gs.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var $x=16,t_=Nw(30*kw),e_=function(t,e){return+e?tc(t,e):$s(t)},n_=Ks({point:function(t,e){this.stream.point(t*kw,e*kw)}}),r_=function(){return rc(ic).scale(155.424).center([0,33.6442])},i_=function(){return r_().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},o_=function(){function t(t){var e=t[0],n=t[1];return a=null,r.point(e,n),a||(i.point(e,n),a)||(o.point(e,n),a)}var e,n,r,i,o,a,u=i_(),s=r_().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=r_().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){a=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:u).invert(t)},t.stream=function(t){return e&&n===t?e:e=oc([u.stream(n=t),s.stream(t),c.stream(t)])},t.precision=function(e){return arguments.length?(u.precision(e),s.precision(e),c.precision(e),t):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),s.scale(.35*e),c.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(e){if(!arguments.length)return u.translate();var n=u.scale(),a=+e[0],f=+e[1];return r=u.translate(e).clipExtent([[a-.455*n,f-.238*n],[a+.455*n,f+.238*n]]).stream(l),i=s.translate([a-.307*n,f+.201*n]).clipExtent([[a-.425*n+bw,f+.12*n+bw],[a-.214*n-bw,f+.234*n-bw]]).stream(l),o=c.translate([a-.205*n,f+.212*n]).clipExtent([[a-.214*n+bw,f+.166*n+bw],[a-.115*n-bw,f+.234*n-bw]]).stream(l),t},t.fitExtent=Js(t),t.fitSize=Zs(t),t.scale(1070)},a_=ac(function(t){return jw(2/(1+t))});a_.invert=uc(function(t){return 2*Eu(t/2)});var u_=function(){return ec(a_).scale(124.75).clipAngle(179.999)},s_=ac(function(t){return(t=ku(t))&&t/Iw(t)});s_.invert=uc(function(t){return t});var c_=function(){return ec(s_).scale(79.4188).clipAngle(179.999)};sc.invert=function(t,e){return[t,2*Tw(Dw(e))-_w]};var l_=function(){return cc(sc).scale(961/Mw)},f_=function(){return rc(fc).scale(109.5).parallels([30,30])};hc.invert=hc;var h_=function(){return ec(hc).scale(152.63)},p_=function(){return rc(pc).scale(131.154).center([0,13.9389])};dc.invert=uc(Tw);var d_=function(){return ec(dc).scale(144.049).clipAngle(60)};gc.invert=uc(Eu);var g_=function(){return ec(gc).scale(249.5).clipAngle(90+bw)};vc.invert=uc(function(t){return 2*Tw(t)});var v_=function(){return ec(vc).scale(250).clipAngle(142)};mc.invert=function(t,e){return[-e,2*Tw(Dw(t))-_w]};var m_=function(){var t=cc(mc),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};t.version=yc,t.bisect=_c,t.bisectRight=_c,t.bisectLeft=Cc,t.ascending=bc,t.bisector=wc,t.descending=Mc,t.deviation=Ec,t.extent=Tc,t.histogram=Uc,t.thresholdFreedmanDiaconis=Hc,t.thresholdScott=zc,t.thresholdSturges=Bc,t.max=Vc,t.mean=qc,t.median=Yc,t.merge=Xc,t.min=Kc,t.pairs=Gc,t.permute=Qc,t.quantile=Wc,t.range=Rc,t.scan=Zc,t.shuffle=Jc,t.sum=$c,t.ticks=Fc,t.tickStep=n,t.transpose=tl,t.variance=kc,t.zip=el,t.entries=ul,t.keys=ol,t.values=al,t.map=o,t.set=f,t.nest=rl,t.randomUniform=sl,t.randomNormal=cl,t.randomLogNormal=ll,t.randomBates=hl,t.randomIrwinHall=fl,t.randomExponential=pl,t.easeLinear=h,t.easeQuad=g,t.easeQuadIn=p,t.easeQuadOut=d,t.easeQuadInOut=g,t.easeCubic=y,t.easeCubicIn=v,t.easeCubicOut=m,t.easeCubicInOut=y,t.easePoly=ml,t.easePolyIn=gl,t.easePolyOut=vl,t.easePolyInOut=ml,t.easeSin=x,t.easeSinIn=b,t.easeSinOut=w,t.easeSinInOut=x,t.easeExp=M,t.easeExpIn=_,t.easeExpOut=C,t.easeExpInOut=M,t.easeCircle=E,t.easeCircleIn=S,t.easeCircleOut=k,t.easeCircleInOut=E,t.easeBounce=A,t.easeBounceIn=T,t.easeBounceOut=A,t.easeBounceInOut=N,t.easeBack=Ol,t.easeBackIn=Pl,t.easeBackOut=Dl,t.easeBackInOut=Ol,t.easeElastic=Fl,t.easeElasticIn=jl,t.easeElasticOut=Fl,t.easeElasticInOut=Bl,t.polygonArea=Ul,t.polygonCentroid=Wl,t.polygonHull=zl,t.polygonContains=Vl,t.polygonLength=ql,t.path=R,t.quadtree=U,t.queue=G,t.arc=yf,t.area=xf,t.line=wf,t.pie=Mf,t.radialArea=Ef,t.radialLine=kf,t.symbol=Xf,t.symbols=Yf,t.symbolCircle=Tf,t.symbolCross=Af,t.symbolDiamond=Df,t.symbolSquare=Ff,t.symbolStar=jf,t.symbolTriangle=Uf,t.symbolWye=qf,t.curveBasisClosed=Qf,t.curveBasisOpen=Zf,t.curveBasis=Gf,t.curveBundle=Jf,t.curveCardinalClosed=th,t.curveCardinalOpen=eh,t.curveCardinal=$f,t.curveCatmullRomClosed=rh,t.curveCatmullRomOpen=ih,t.curveCatmullRom=nh,t.curveLinearClosed=oh,t.curveLinear=bf,t.curveMonotoneX=Pt,t.curveMonotoneY=Dt,t.curveNatural=ah,t.curveStep=uh,t.curveStepAfter=jt,t.curveStepBefore=Lt,t.stack=fh,t.stackOffsetExpand=hh,t.stackOffsetNone=ch,t.stackOffsetSilhouette=ph,t.stackOffsetWiggle=dh,t.stackOrderAscending=gh,t.stackOrderDescending=vh,t.stackOrderInsideOut=mh,t.stackOrderNone=lh,t.stackOrderReverse=yh,t.color=Ht,t.rgb=Yt,t.hsl=Qt,t.lab=te,t.hcl=ue,t.cubehelix=le,t.interpolate=hp,t.interpolateArray=op,t.interpolateDate=ap,t.interpolateNumber=up,t.interpolateObject=sp,t.interpolateRound=pp,t.interpolateString=fp,t.interpolateTransformCss=mp,t.interpolateTransformSvg=yp,t.interpolateZoom=Cp,t.interpolateRgb=np,t.interpolateRgbBasis=rp,t.interpolateRgbBasisClosed=ip,t.interpolateHsl=Mp,t.interpolateHslLong=Sp,t.interpolateLab=Te,t.interpolateHcl=kp,t.interpolateHclLong=Ep,t.interpolateCubehelix=Tp,t.interpolateCubehelixLong=Ap,t.interpolateBasis=$h,t.interpolateBasisClosed=tp,t.quantize=Np,t.dispatch=Pe,t.dsvFormat=Rp,t.csvParse=Lp,t.csvParseRows=jp,t.csvFormat=Fp,t.csvFormatRows=Bp,t.tsvParse=Wp,t.tsvParseRows=Hp,t.tsvFormat=zp,t.tsvFormatRows=Vp,t.request=qp,t.html=Xp,t.json=Kp,t.text=Gp,t.xml=Qp,t.csv=Jp,t.tsv=$p,t.now=He,t.timer=qe,t.timerFlush=Ye,t.timeout=cd,t.interval=ld,t.timeInterval=Ze,t.timeMillisecond=pd,t.timeMilliseconds=dd,t.timeSecond=wd,t.timeSeconds=xd,t.timeMinute=_d,t.timeMinutes=Cd,t.timeHour=Md,t.timeHours=Sd,t.timeDay=kd,t.timeDays=Ed,t.timeWeek=Td,t.timeWeeks=Id,t.timeSunday=Td,t.timeSundays=Id,t.timeMonday=Ad,t.timeMondays=Ld,t.timeTuesday=Nd,t.timeTuesdays=jd,t.timeWednesday=Pd,t.timeWednesdays=Fd,t.timeThursday=Dd,t.timeThursdays=Bd,t.timeFriday=Od,t.timeFridays=Ud,t.timeSaturday=Rd,t.timeSaturdays=Wd,t.timeMonth=Hd,t.timeMonths=zd,t.timeYear=Vd,t.timeYears=qd,t.utcMillisecond=pd,t.utcMilliseconds=dd,t.utcSecond=wd,t.utcSeconds=xd,t.utcMinute=Yd,t.utcMinutes=Xd,t.utcHour=Kd,t.utcHours=Gd,t.utcDay=Qd,t.utcDays=Zd,t.utcWeek=Jd,t.utcWeeks=og,t.utcSunday=Jd,t.utcSundays=og,t.utcMonday=$d,t.utcMondays=ag,t.utcTuesday=tg,t.utcTuesdays=ug,t.utcWednesday=eg,t.utcWednesdays=sg,t.utcThursday=ng,t.utcThursdays=cg,t.utcFriday=rg,t.utcFridays=lg,t.utcSaturday=ig,t.utcSaturdays=fg,t.utcMonth=hg,t.utcMonths=pg,t.utcYear=dg,t.utcYears=vg,t.formatLocale=Tg,t.formatDefaultLocale=nn,t.formatSpecifier=Sg,t.precisionFixed=Ng,t.precisionPrefix=Pg,t.precisionRound=Dg,t.isoFormat=Fg,t.isoParse=Bg,t.timeFormatLocale=un,t.timeFormatDefaultLocale=er,t.scaleBand=or,t.scalePoint=ur,t.scaleIdentity=mr,t.scaleLinear=vr,t.scaleLog=Mr,t.scaleOrdinal=ir,t.scaleImplicit=zg,t.scalePow=kr,t.scaleSqrt=Er,t.scaleQuantile=Tr,t.scaleQuantize=Ar,t.scaleThreshold=Nr,t.scaleTime=nv,t.scaleUtc=rv,t.schemeCategory10=ov,t.schemeCategory20b=av,t.schemeCategory20c=uv,t.schemeCategory20=sv,t.scaleSequential=Ir,t.interpolateCubehelixDefault=cv,t.interpolateRainbow=pv,t.interpolateWarm=lv,t.interpolateCool=fv,t.interpolateViridis=dv,t.interpolateMagma=gv,t.interpolateInferno=vv,t.interpolatePlasma=mv,t.creator=xv,t.customEvent=qr,t.local=Fr,t.matcher=kv,t.mouse=Pv,t.namespace=wv,t.namespaces=bv,t.select=pm,t.selectAll=dm,t.selection=Di,t.selector=Dv,t.selectorAll=Rv,t.touch=gm,t.touches=vm,t.window=$v,t.active=$m,t.interrupt=Em,t.transition=lo,t.axisTop=bo,t.axisRight=wo,t.axisBottom=xo,t.axisLeft=_o,t.cluster=uy,t.hierarchy=Po,t.pack=_y,t.packSiblings=wy,t.packEnclose=by,t.partition=Sy,t.stratify=Ay,t.tree=Ny,t.treemap=Ry,t.treemapBinary=Iy,t.treemapDice=My,t.treemapSlice=Py,t.treemapSliceDice=Ly,t.treemapSquarify=Oy,t.treemapResquarify=jy,t.forceCenter=Fy,t.forceCollide=Wy,t.forceLink=Hy,t.forceManyBody=Yy,t.forceSimulation=qy,t.forceX=Xy,t.forceY=Ky,t.drag=Jy,t.dragDisable=Qy,t.dragEnable=ya,t.voronoi=cb,t.zoom=pb,t.zoomIdentity=fb,t.zoomTransform=ru,t.brush=Ab,t.brushX=gu,t.brushY=vu,t.brushSelection=du,t.chord=Lb,t.ribbon=Bb,t.geoAlbers=i_,t.geoAlbersUsa=o_,t.geoArea=qw,t.geoAzimuthalEqualArea=u_,t.geoAzimuthalEqualAreaRaw=a_,t.geoAzimuthalEquidistant=c_,t.geoAzimuthalEquidistantRaw=s_,t.geoBounds=Kw,t.geoCentroid=Qw,t.geoCircle=fx,t.geoClipExtent=yx,t.geoConicConformal=f_,t.geoConicConformalRaw=fc,t.geoConicEqualArea=r_,t.geoConicEqualAreaRaw=ic,t.geoConicEquidistant=p_,
t.geoConicEquidistantRaw=pc,t.geoDistance=Mx,t.geoEquirectangular=h_,t.geoEquirectangularRaw=hc,t.geoGnomonic=d_,t.geoGnomonicRaw=dc,t.geoGraticule=Sx,t.geoInterpolate=kx,t.geoLength=xx,t.geoMercator=l_,t.geoMercatorRaw=sc,t.geoOrthographic=g_,t.geoOrthographicRaw=gc,t.geoPath=Yx,t.geoProjection=ec,t.geoProjectionMutator=nc,t.geoRotation=lx,t.geoStereographic=v_,t.geoStereographicRaw=vc,t.geoStream=Ww,t.geoTransform=Jx,t.geoTransverseMercator=m_,t.geoTransverseMercatorRaw=mc,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e){"use strict";function n(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;t.exports=n},function(t,e,n){"use strict";function r(t){return i(t.replace(o,"ms-"))}var i=n(159),o=/^-ms-/;t.exports=r},function(t,e,n){"use strict";function r(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function i(t){return r(t)?Array.isArray(t)?t.slice():o(t):[t]}var o=n(170);t.exports=i},function(t,e,n){"use strict";function r(t){var e=t.match(l);return e&&e[1].toLowerCase()}function i(t,e){var n=c;c?void 0:s(!1);var i=r(t),o=i&&u(i);if(o){n.innerHTML=o[1]+t+o[2];for(var l=o[0];l--;)n=n.lastChild}else n.innerHTML=t;var f=n.getElementsByTagName("script");f.length&&(e?void 0:s(!1),a(f).forEach(e));for(var h=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var o=n(7),a=n(161),u=n(76),s=n(1),c=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;t.exports=i},function(t,e){"use strict";function n(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=n},function(t,e){"use strict";function n(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=n},function(t,e,n){"use strict";function r(t){return i(t).replace(o,"-ms-")}var i=n(164),o=/^ms-/;t.exports=r},function(t,e){"use strict";function n(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=n},function(t,e,n){"use strict";function r(t){return i(t)&&3==t.nodeType}var i=n(166);t.exports=r},function(t,e){"use strict";function n(t,e,n){if(!t)return null;var i={};for(var o in t)r.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}var r=Object.prototype.hasOwnProperty;t.exports=n},function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=n},function(t,e,n){"use strict";function r(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?i(!1):void 0,"number"!=typeof e?i(!1):void 0,0===e||e-1 in t?void 0:i(!1),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var r=Array(e),o=0;o<e;o++)r[o]=t[o];return r}var i=n(1);t.exports=r},function(t,e){e.read=function(t,e,n,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=u;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,u,s,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),e+=a+f>=1?h/s:h*Math.pow(2,1-f),e*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(e*s-1)*Math.pow(2,i),a+=f):(u=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&u,p+=d,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){t.exports=function(t){function n(t,e,n,i,o,a){if("function"==typeof o&&(a=o,o=void 0),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var u;try{u=r(t,e,n,i,o)}catch(s){return a(s)}a(void 0,u)})}function r(n,r,i,o,a){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0)throw new TypeError("Bad key length");a=a||"sha1",e.isBuffer(n)||(n=new e(n)),e.isBuffer(r)||(r=new e(r));var u,s,c,l=1,f=new e(o),h=new e(r.length+4);r.copy(h,0,0,r.length);for(var p=1;p<=l;p++){h.writeUInt32BE(p,r.length);var d=t.createHmac(a,n).update(h).digest();if(!u&&(u=d.length,c=new e(u),l=Math.ceil(o/u),s=o-(l-1)*u,o>(Math.pow(2,32)-1)*u))throw new TypeError("keylen exceeds maximum length");d.copy(c,0,0,u);for(var g=1;g<i;g++){d=t.createHmac(a,n).update(d).digest();for(var v=0;v<u;v++)c[v]^=d[v]}var m=(p-1)*u,y=p==l?s:u;c.copy(f,m,0,y)}return f}return{pbkdf2:n,pbkdf2Sync:r}}}).call(e,n(15).Buffer)},function(t,e,n){"use strict";var r=n(246);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#|&)/,""),t?t.split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(r)?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i,t},{}):{})},e.stringify=function(t){return t?Object.keys(t).sort().map(function(e){var n=t[e];return Array.isArray(n)?n.sort().map(function(t){return r(e)+"="+r(t)}).join("&"):r(e)+"="+r(n)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e,n){"use strict";t.exports=n(87)},function(t,e,n){!function(e,r){t.exports=r(n(109))}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),f=r(l),h=n(2),p=r(h),d="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"),g=function(t){function e(t,n){o(this,e);var r=a(this,Object.getPrototypeOf(e).call(this,t,n));return r.onClick=r.onClick.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDrop=r.onDrop.bind(r),r.state={isDragActive:!1},r}return u(e,t),c(e,[{key:"componentDidMount",value:function(){this.enterCounter=0}},{key:"onDragStart",value:function(t){this.props.onDragStart&&this.props.onDragStart.call(this,t)}},{key:"onDragEnter",value:function(t){t.preventDefault(),++this.enterCounter;var e=t.dataTransfer&&t.dataTransfer.items?t.dataTransfer.items:[],n=this.allFilesAccepted(Array.prototype.slice.call(e));this.setState({isDragActive:n,isDragReject:!n}),this.props.onDragEnter&&this.props.onDragEnter.call(this,t)}},{key:"onDragOver",value:function(t){return t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="copy",!1}},{key:"onDragLeave",value:function(t){t.preventDefault(),--this.enterCounter>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave.call(this,t))}},{key:"onDrop",value:function(t){t.preventDefault(),this.enterCounter=0,this.setState({isDragActive:!1,isDragReject:!1});for(var e=t.dataTransfer?t.dataTransfer.files:t.target.files,n=this.props.multiple?e.length:Math.min(e.length,1),r=[],i=0;i<n;i++){var o=e[i];this.props.disablePreview||(o.preview=window.URL.createObjectURL(o)),r.push(o)}this.allFilesAccepted(r)&&this.allFilesMatchSize(r)?(this.props.onDrop&&this.props.onDrop.call(this,r,t),this.props.onDropAccepted&&this.props.onDropAccepted.call(this,r,t)):this.props.onDropRejected&&this.props.onDropRejected.call(this,r,t)}},{key:"onClick",value:function(){this.props.disableClick||this.open()}},{key:"allFilesAccepted",value:function(t){var e=this;return t.every(function(t){return(0,f["default"])(t,e.props.accept)})}},{key:"allFilesMatchSize",value:function(t){var e=this;return t.every(function(t){return t.size<=e.props.maxSize&&t.size>=e.props.minSize})}},{key:"open",value:function(){this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var t=this,e=this.props,n=e.accept,r=e.activeClassName,o=e.inputProps,a=e.multiple,u=e.name,c=e.rejectClassName,l=i(e,["accept","activeClassName","inputProps","multiple","name","rejectClassName"]),f=l.activeStyle,h=l.className,g=l.rejectStyle,v=l.style,m=i(l,["activeStyle","className","rejectStyle","style"]),y=this.state,b=y.isDragActive,w=y.isDragReject;h=h||"",b&&r&&(h+=" "+r),w&&c&&(h+=" "+c),h||v||f||g||(v={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},f={borderStyle:"solid",backgroundColor:"#eee"},g={borderStyle:"solid",backgroundColor:"#ffdddd"});var x=void 0;x=f&&b?s({},v,f):g&&w?s({},v,g):s({},v);var _={accept:n,type:"file",style:{display:"none"},multiple:d&&a,ref:function(e){return t.fileInputEl=e},onChange:this.onDrop};u&&u.length&&(_.name=u);var C=["disablePreview","disableClick","onDropAccepted","onDropRejected","maxSize","minSize"],M=s({},m);return C.forEach(function(t){return delete M[t]}),p["default"].createElement("div",s({className:h,style:x},M,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop}),this.props.children,p["default"].createElement("input",s({},o,_)))}}]),e}(p["default"].Component);g.defaultProps={disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},g.propTypes={onDrop:p["default"].PropTypes.func,onDropAccepted:p["default"].PropTypes.func,onDropRejected:p["default"].PropTypes.func,onDragStart:p["default"].PropTypes.func,onDragEnter:p["default"].PropTypes.func,onDragLeave:p["default"].PropTypes.func,children:p["default"].PropTypes.node,style:p["default"].PropTypes.object,activeStyle:p["default"].PropTypes.object,rejectStyle:p["default"].PropTypes.object,className:p["default"].PropTypes.string,activeClassName:p["default"].PropTypes.string,rejectClassName:p["default"].PropTypes.string,disablePreview:p["default"].PropTypes.bool,disableClick:p["default"].PropTypes.bool,inputProps:p["default"].PropTypes.object,multiple:p["default"].PropTypes.bool,accept:p["default"].PropTypes.string,name:p["default"].PropTypes.string,maxSize:p["default"].PropTypes.number,minSize:p["default"].PropTypes.number},e["default"]=g,t.exports=e["default"]},function(t,e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";e.__esModule=!0,n(8),n(9),e["default"]=function(t,e){if(t&&e){var n=function(){var n=e.split(","),r=t.name||"",i=t.type||"",o=i.replace(/\/.*$/,"");return{v:n.some(function(t){var e=t.trim();return"."===e.charAt(0)?r.toLowerCase().endsWith(e.toLowerCase()):/\/\*$/.test(e)?o===e.replace(/\/.*$/,""):i===e})}}();if("object"==typeof n)return n.v}return!0},t.exports=e["default"]},function(t,e){var n=t.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(2),i=n(1),o=n(4),a=n(19),u="prototype",s=function(t,e){return function(){return t.apply(e,arguments)}},c=function(t,e,n){var l,f,h,p,d=t&c.G,g=t&c.P,v=d?r:t&c.S?r[e]||(r[e]={}):(r[e]||{})[u],m=d?i:i[e]||(i[e]={});d&&(n=e);for(l in n)f=!(t&c.F)&&v&&l in v,h=(f?v:n)[l],p=t&c.B&&f?s(h,r):g&&"function"==typeof h?s(Function.call,h):h,v&&!f&&a(v,l,h),m[l]!=h&&o(m,l,p),g&&((m[u]||(m[u]={}))[l]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,t.exports=c},function(t,e,n){var r=n(5),i=n(18);t.exports=n(22)?function(t,e,n){return r.setDesc(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(20)("wks"),i=n(2).Symbol;t.exports=function(t){return r[t]||(r[t]=i&&i[t]||(i||n(6))("Symbol."+t))}},function(t,e,n){n(26),t.exports=n(1).Array.some},function(t,e,n){n(25),t.exports=n(1).String.endsWith},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n(7)("match")]=!1,!"/./"[t](e)}catch(i){}}return!0}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(16),i=n(11),o=n(7)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(2),i=n(4),o=n(6)("src"),a="toString",u=Function[a],s=(""+u).split(a);n(1).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,a){"function"==typeof n&&(i(n,o,t[e]?""+t[e]:s.join(String(e))),"name"in n||(n.name=e)),t===r?t[e]=n:(a||delete t[e],i(t,e,n))})(Function.prototype,a,function(){return"function"==typeof this&&this[o]||u.call(this)})},function(t,e,n){var r=n(2),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(17),i=n(13);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){t.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(23),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=n(3),i=n(24),o=n(21),a="endsWith",u=""[a];r(r.P+r.F*n(14)(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments,r=n.length>1?n[1]:void 0,s=i(e.length),c=void 0===r?s:Math.min(i(r),s),l=String(t);return u?u.call(e,l,c):e.slice(c-l.length,c)===l}})},function(t,e,n){var r=n(5),i=n(3),o=n(1).Array||Array,a={},u=function(t,e){r.each.call(t.split(","),function(t){void 0==e&&t in o?a[t]=o[t]:t in[]&&(a[t]=n(12)(Function.call,[][t],e))})};u("pop,reverse,shift,keys,values,entries",1),u("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),u("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),i(i.S,"Array",a)}])},function(e,n){e.exports=t}])})},function(t,e,n){"use strict";var r=n(9),i=n(55),o=n(74),a={componentDidMount:function(){this.props.autoFocus&&o(i(this))}},u={Mixin:a,focusDOMComponent:function(){o(r.getNode(this._rootNodeID))}};t.exports=u},function(t,e,n){"use strict";function r(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function i(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case T.topCompositionStart:return A.compositionStart;case T.topCompositionEnd:return A.compositionEnd;case T.topCompositionUpdate:return A.compositionUpdate}}function a(t,e){return t===T.topKeyDown&&e.keyCode===x}function u(t,e){switch(t){case T.topKeyUp:return w.indexOf(e.keyCode)!==-1;case T.topKeyDown:return e.keyCode!==x;case T.topKeyPress:case T.topMouseDown:case T.topBlur:return!0;default:return!1}}function s(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function c(t,e,n,r,i){var c,l;if(_?c=o(t):P?u(t,r)&&(c=A.compositionEnd):a(t,r)&&(c=A.compositionStart),!c)return null;S&&(P||c!==A.compositionStart?c===A.compositionEnd&&P&&(l=P.getData()):P=v.getPooled(e));var f=m.getPooled(c,n,r,i);if(l)f.data=l;else{var h=s(r);null!==h&&(f.data=h)}return d.accumulateTwoPhaseDispatches(f),f}function l(t,e){switch(t){case T.topCompositionEnd:return s(e);case T.topKeyPress:var n=e.which;return n!==k?null:(N=!0,E);case T.topTextInput:var r=e.data;return r===E&&N?null:r;default:return null}}function f(t,e){if(P){if(t===T.topCompositionEnd||u(t,e)){var n=P.getData();return v.release(P),P=null,n}return null}switch(t){case T.topPaste:return null;case T.topKeyPress:return e.which&&!i(e)?String.fromCharCode(e.which):null;case T.topCompositionEnd:return S?null:e.data;default:return null}}function h(t,e,n,r,i){var o;if(o=M?l(t,r):f(t,r),!o)return null;var a=y.getPooled(A.beforeInput,n,r,i);return a.data=o,d.accumulateTwoPhaseDispatches(a),a}var p=n(17),d=n(29),g=n(7),v=n(186),m=n(216),y=n(219),b=n(19),w=[9,13,27,32],x=229,_=g.canUseDOM&&"CompositionEvent"in window,C=null;g.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var M=g.canUseDOM&&"TextEvent"in window&&!C&&!r(),S=g.canUseDOM&&(!_||C&&C>8&&C<=11),k=32,E=String.fromCharCode(k),T=p.topLevelTypes,A={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[T.topCompositionEnd,T.topKeyPress,T.topTextInput,T.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[T.topBlur,T.topCompositionEnd,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[T.topBlur,T.topCompositionStart,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[T.topBlur,T.topCompositionUpdate,T.topKeyDown,T.topKeyPress,T.topKeyUp,T.topMouseDown]}},N=!1,P=null,D={eventTypes:A,extractEvents:function(t,e,n,r,i){return[c(t,e,n,r,i),h(t,e,n,r,i)]}};t.exports=D},function(t,e,n){"use strict";var r=n(81),i=n(7),o=n(12),a=(n(160),n(224)),u=n(165),s=n(169),c=(n(3),s(function(t){return u(t)})),l=!1,f="cssFloat";if(i.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(p){l=!0}void 0===document.documentElement.style.cssFloat&&(f="styleFloat")}var d={createMarkupForStyles:function(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];null!=r&&(e+=c(n)+":",e+=a(n,r)+";")}return e||null},setValueForStyles:function(t,e){var n=t.style;for(var i in e)if(e.hasOwnProperty(i)){var o=a(i,e[i]);if("float"===i&&(i=f),o)n[i]=o;else{var u=l&&r.shorthandPropertyExpansions[i];if(u)for(var s in u)n[s]="";else n[i]=""}}}};o.measureMethods(d,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=d},function(t,e,n){"use strict";function r(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function i(t){var e=C.getPooled(A.change,P,t,M(t));w.accumulateTwoPhaseDispatches(e),_.batchedUpdates(o,e)}function o(t){b.enqueueEvents(t),b.processEventQueue(!1)}function a(t,e){N=t,P=e,N.attachEvent("onchange",i)}function u(){N&&(N.detachEvent("onchange",i),N=null,P=null)}function s(t,e,n){if(t===T.topChange)return n}function c(t,e,n){t===T.topFocus?(u(),a(e,n)):t===T.topBlur&&u()}function l(t,e){N=t,P=e,D=t.value,O=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(N,"value",L),N.attachEvent("onpropertychange",h)}function f(){N&&(delete N.value,N.detachEvent("onpropertychange",h),N=null,P=null,D=null,O=null)}function h(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==D&&(D=e,i(t))}}function p(t,e,n){if(t===T.topInput)return n}function d(t,e,n){t===T.topFocus?(f(),l(e,n)):t===T.topBlur&&f()}function g(t,e,n){if((t===T.topSelectionChange||t===T.topKeyUp||t===T.topKeyDown)&&N&&N.value!==D)return D=N.value,P}function v(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function m(t,e,n){if(t===T.topClick)return n}var y=n(17),b=n(28),w=n(29),x=n(7),_=n(13),C=n(22),M=n(58),S=n(61),k=n(108),E=n(19),T=y.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:E({onChange:null}),captured:E({onChangeCapture:null})},dependencies:[T.topBlur,T.topChange,T.topClick,T.topFocus,T.topInput,T.topKeyDown,T.topKeyUp,T.topSelectionChange]}},N=null,P=null,D=null,O=null,R=!1;x.canUseDOM&&(R=S("change")&&(!("documentMode"in document)||document.documentMode>8));var I=!1;x.canUseDOM&&(I=S("input")&&(!("documentMode"in document)||document.documentMode>9));var L={get:function(){return O.get.call(this)},set:function(t){D=""+t,O.set.call(this,t)}},j={eventTypes:A,extractEvents:function(t,e,n,i,o){var a,u;if(r(e)?R?a=s:u=c:k(e)?I?a=p:(a=g,u=d):v(e)&&(a=m),a){var l=a(t,e,n);if(l){var f=C.getPooled(A.change,l,i,o);return f.type="change",w.accumulateTwoPhaseDispatches(f),f}}u&&u(t,e,n)}};t.exports=j},function(t,e){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};t.exports=r},function(t,e,n){"use strict";function r(t){return t.substring(1,t.indexOf(" "))}var i=n(7),o=n(162),a=n(14),u=n(76),s=n(1),c=/^(<[^ \/>]+)/,l="data-danger-index",f={dangerouslyRenderMarkup:function(t){i.canUseDOM?void 0:s(!1);for(var e,n={},f=0;f<t.length;f++)t[f]?void 0:s(!1),e=r(t[f]),e=u(e)?e:"*",n[e]=n[e]||[],n[e][f]=t[f];var h=[],p=0;for(e in n)if(n.hasOwnProperty(e)){var d,g=n[e];for(d in g)if(g.hasOwnProperty(d)){var v=g[d];g[d]=v.replace(c,"$1 "+l+'="'+d+'" ')}for(var m=o(g.join(""),a),y=0;y<m.length;++y){var b=m[y];b.hasAttribute&&b.hasAttribute(l)&&(d=+b.getAttribute(l),b.removeAttribute(l),h.hasOwnProperty(d)?s(!1):void 0,h[d]=b,p+=1)}}return p!==h.length?s(!1):void 0,h.length!==t.length?s(!1):void 0,h},dangerouslyReplaceNodeWithMarkup:function(t,e){i.canUseDOM?void 0:s(!1),e?void 0:s(!1),"html"===t.tagName.toLowerCase()?s(!1):void 0;var n;n="string"==typeof e?o(e,a)[0]:e,t.parentNode.replaceChild(n,t)}};t.exports=f},function(t,e,n){"use strict";var r=n(19),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=i},function(t,e,n){"use strict";var r=n(17),i=n(29),o=n(37),a=n(9),u=n(19),s=r.topLevelTypes,c=a.getFirstReactDOM,l={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},f=[null,null],h={eventTypes:l,extractEvents:function(t,e,n,r,u){if(t===s.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(t!==s.topMouseOut&&t!==s.topMouseOver)return null;var h;if(e.window===e)h=e;else{var p=e.ownerDocument;h=p?p.defaultView||p.parentWindow:window}var d,g,v="",m="";if(t===s.topMouseOut?(d=e,v=n,g=c(r.relatedTarget||r.toElement),g?m=a.getID(g):g=h,g=g||h):(d=h,g=e,m=n),d===g)return null;var y=o.getPooled(l.mouseLeave,v,r,u);y.type="mouseleave",y.target=d,y.relatedTarget=g;var b=o.getPooled(l.mouseEnter,m,r,u);return b.type="mouseenter",b.target=g,b.relatedTarget=d,i.accumulateEnterLeaveDispatches(y,b,v,m),f[0]=y,f[1]=b,f}};t.exports=h},function(t,e,n){"use strict";function r(t){return t===v.topMouseUp||t===v.topTouchEnd||t===v.topTouchCancel}function i(t){return t===v.topMouseMove||t===v.topTouchMove}function o(t){return t===v.topMouseDown||t===v.topTouchStart}function a(t,e,n,r){var i=t.type||"unknown-event";t.currentTarget=g.Mount.getNode(r),e?p.invokeGuardedCallbackWithCatch(i,n,t,r):p.invokeGuardedCallback(i,n,t,r),t.currentTarget=null}function u(t,e){var n=t._dispatchListeners,r=t._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)a(t,e,n[i],r[i]);else n&&a(t,e,n,r);t._dispatchListeners=null,t._dispatchIDs=null}function s(t){var e=t._dispatchListeners,n=t._dispatchIDs;if(Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,n[r]))return n[r]}else if(e&&e(t,n))return n;return null}function c(t){var e=s(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function l(t){var e=t._dispatchListeners,n=t._dispatchIDs;Array.isArray(e)?d(!1):void 0;var r=e?e(t,n):null;return t._dispatchListeners=null,t._dispatchIDs=null,r}function f(t){return!!t._dispatchListeners}var h=n(17),p=n(96),d=n(1),g=(n(3),{Mount:null,injectMount:function(t){g.Mount=t}}),v=h.topLevelTypes,m={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:l,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:c,hasDispatches:f,getNode:function(t){return g.Mount.getNode(t)},getID:function(t){return g.Mount.getID(t)},injection:g};t.exports=m},function(t,e,n){"use strict";function r(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var i=n(20),o=n(4),a=n(107);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);var u=e>1?1-e:void 0;return this._fallbackText=i.slice(t,u),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";var r,i=n(23),o=n(7),a=i.injection.MUST_USE_ATTRIBUTE,u=i.injection.MUST_USE_PROPERTY,s=i.injection.HAS_BOOLEAN_VALUE,c=i.injection.HAS_SIDE_EFFECTS,l=i.injection.HAS_NUMERIC_VALUE,f=i.injection.HAS_POSITIVE_NUMERIC_VALUE,h=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var p=document.implementation;r=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var d={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|s,allowTransparency:a,alt:null,async:s,autoComplete:null,autoPlay:s,capture:a|s,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:u|s,classID:a,className:r?a:u,cols:a|f,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:u|s,coords:null,crossOrigin:null,data:null,dateTime:a,"default":s,defer:s,dir:null,disabled:a|s,download:h,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:s,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|s,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:u,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:u|s,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:u|s,muted:u|s,name:null,nonce:a,noValidate:s,open:s,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:u|s,rel:null,required:s,reversed:s,role:a,rows:a|f,rowSpan:null,sandbox:null,scope:null,scoped:s,scrolling:null,seamless:a|s,selected:u|s,shape:null,size:a|f,sizes:a,span:f,spellCheck:null,src:null,srcDoc:u,srcLang:null,srcSet:a,start:l,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:u|c,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,"typeof":a,vocab:a,autoCapitalize:a,autoCorrect:a,autoSave:null,color:null,itemProp:a,itemScope:a|s,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=d},function(t,e,n){"use strict";var r=n(87),i=n(198),o=n(203),a=n(4),u=n(225),s={};a(s,o),a(s,{findDOMNode:u("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:u("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:u("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:u("renderToString","ReactDOMServer","react-dom/server",i,i.renderToString),renderToStaticMarkup:u("renderToStaticMarkup","ReactDOMServer","react-dom/server",i,i.renderToStaticMarkup)}),s.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,s.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,t.exports=s},function(t,e,n){"use strict";var r=(n(30),n(55)),i=(n(3),"_getDOMNodeDidWarn"),o={getDOMNode:function(){return this.constructor[i]=!0,r(this)}};t.exports=o},function(t,e,n){"use strict";function r(t,e,n){var r=void 0===t[n];null!=e&&r&&(t[n]=o(e,null))}var i=n(21),o=n(60),a=n(63),u=n(64),s=(n(3),{instantiateChildren:function(t,e,n){if(null==t)return null;var i={};return u(t,r,i),i},updateChildren:function(t,e,n,r){if(!e&&!t)return null;var u;for(u in e)if(e.hasOwnProperty(u)){var s=t&&t[u],c=s&&s._currentElement,l=e[u];if(null!=s&&a(c,l))i.receiveComponent(s,l,n,r),e[u]=s;else{s&&i.unmountComponent(s,u);var f=o(l,null);e[u]=f}}for(u in t)!t.hasOwnProperty(u)||e&&e.hasOwnProperty(u)||i.unmountComponent(t[u]);return e},unmountChildren:function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];i.unmountComponent(n)}}});t.exports=s},function(t,e,n){"use strict";function r(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" Check the render method of `"+n+"`."}return""}function i(t){}var o=n(51),a=n(18),u=n(10),s=n(30),c=n(12),l=n(36),f=(n(35),n(21)),h=n(53),p=n(4),d=n(27),g=n(1),v=n(63);n(3);i.prototype.render=function(){var t=s.get(this)._currentElement.type;return t(this.props,this.context,this.updater)};var m=1,y={construct:function(t){this._currentElement=t,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,
this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(t,e,n){this._context=n,this._mountOrder=m++,this._rootNodeID=t;var r,o,a=this._processProps(this._currentElement.props),c=this._processContext(n),l=this._currentElement.type,p="prototype"in l;p&&(r=new l(a,c,h)),p&&null!==r&&r!==!1&&!u.isValidElement(r)||(o=r,r=new i(l)),r.props=a,r.context=c,r.refs=d,r.updater=h,this._instance=r,s.set(r,this);var v=r.state;void 0===v&&(r.state=v=null),"object"!=typeof v||Array.isArray(v)?g(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===o&&(o=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(o);var y=f.mountComponent(this._renderedComponent,t,e,this._processChildContext(n));return r.componentDidMount&&e.getReactMountReady().enqueue(r.componentDidMount,r),y},unmountComponent:function(){var t=this._instance;t.componentWillUnmount&&t.componentWillUnmount(),f.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,s.remove(t)},_maskContext:function(t){var e=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return d;e={};for(var i in r)e[i]=t[i];return e},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof e.childContextTypes?g(!1):void 0;for(var i in r)i in e.childContextTypes?void 0:g(!1);return p({},t,r)}return t},_processProps:function(t){return t},_checkPropTypes:function(t,e,n){var i=this.getName();for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]?g(!1):void 0,a=t[o](e,o,i,n)}catch(u){a=u}if(a instanceof Error){r(this);n===l.prop}}},receiveComponent:function(t,e,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,r,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement&&f.receiveComponent(this,this._pendingElement||this._currentElement,t,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(t,e,n,r,i){var o,a=this._instance,u=this._context===i?a.context:this._processContext(i);e===n?o=n.props:(o=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(o,u));var s=this._processPendingState(o,u),c=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(o,s,u);c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,o,s,u,t,i)):(this._currentElement=n,this._context=i,a.props=o,a.state=s,a.context=u)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=p({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var u=r[a];p(o,"function"==typeof u?u.call(n,o,t,e):u)}return o},_performComponentUpdate:function(t,e,n,r,i,o){var a,u,s,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,u=c.state,s=c.context),c.componentWillUpdate&&c.componentWillUpdate(e,n,r),this._currentElement=t,this._context=o,c.props=e,c.state=n,c.context=r,this._updateRenderedComponent(i,o),l&&i.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,u,s),c)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(v(r,i))f.receiveComponent(n,i,t,this._processChildContext(e));else{var o=this._rootNodeID,a=n._rootNodeID;f.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i);var u=f.mountComponent(this._renderedComponent,o,t,this._processChildContext(e));this._replaceNodeWithMarkupByID(a,u)}},_replaceNodeWithMarkupByID:function(t,e){o.replaceNodeWithMarkupByID(t,e)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t=this._instance,e=t.render();return e},_renderValidatedComponent:function(){var t;a.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===t||t===!1||u.isValidElement(t)?void 0:g(!1),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?g(!1):void 0;var r=e.getPublicInstance(),i=n.refs===d?n.refs={}:n.refs;i[t]=r},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return t instanceof i?null:t},_instantiateReactComponent:null};c.measureMethods(y,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var b={Mixin:y};t.exports=b},function(t,e){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getNativeProps:function(t,e,r){if(!e.disabled)return e;var i={};for(var o in e)e.hasOwnProperty(o)&&!n[o]&&(i[o]=e[o]);return i}};t.exports=r},function(t,e,n){"use strict";function r(){return this}function i(){var t=this._reactInternalComponent;return!!t}function o(){}function a(t,e){var n=this._reactInternalComponent;n&&(D.enqueueSetPropsInternal(n,t),e&&D.enqueueCallbackInternal(n,e))}function u(t,e){var n=this._reactInternalComponent;n&&(D.enqueueReplacePropsInternal(n,t),e&&D.enqueueCallbackInternal(n,e))}function s(t,e){e&&(null!=e.dangerouslySetInnerHTML&&(null!=e.children?L(!1):void 0,"object"==typeof e.dangerouslySetInnerHTML&&Y in e.dangerouslySetInnerHTML?void 0:L(!1)),null!=e.style&&"object"!=typeof e.style?L(!1):void 0)}function c(t,e,n,r){var i=A.findReactContainerForID(t);if(i){var o=i.nodeType===X?i.ownerDocument:i;W(e,o)}r.getReactMountReady().enqueue(l,{id:t,registrationName:e,listener:n})}function l(){var t=this;_.putListener(t.id,t.registrationName,t.listener)}function f(){var t=this;t._rootNodeID?void 0:L(!1);var e=A.getNode(t._rootNodeID);switch(e?void 0:L(!1),t._tag){case"iframe":t._wrapperState.listeners=[_.trapBubbledEvent(x.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in K)K.hasOwnProperty(n)&&t._wrapperState.listeners.push(_.trapBubbledEvent(x.topLevelTypes[n],K[n],e));break;case"img":t._wrapperState.listeners=[_.trapBubbledEvent(x.topLevelTypes.topError,"error",e),_.trapBubbledEvent(x.topLevelTypes.topLoad,"load",e)];break;case"form":t._wrapperState.listeners=[_.trapBubbledEvent(x.topLevelTypes.topReset,"reset",e),_.trapBubbledEvent(x.topLevelTypes.topSubmit,"submit",e)]}}function h(){S.mountReadyWrapper(this)}function p(){E.postUpdateWrapper(this)}function d(t){$.call(J,t)||(Z.test(t)?void 0:L(!1),J[t]=!0)}function g(t,e){return t.indexOf("-")>=0||null!=e.is}function v(t){d(t),this._tag=t.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var m=n(177),y=n(179),b=n(23),w=n(48),x=n(17),_=n(34),C=n(50),M=n(192),S=n(195),k=n(196),E=n(89),T=n(199),A=n(9),N=n(204),P=n(12),D=n(53),O=n(4),R=n(39),I=n(40),L=n(1),j=(n(61),n(19)),F=n(41),B=n(62),U=(n(77),n(65),n(3),_.deleteListener),W=_.listenTo,H=_.registrationNameModules,z={string:!0,number:!0},V=j({children:null}),q=j({style:null}),Y=j({__html:null}),X=1,K={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},G={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},Z=(O({menuitem:!0},G),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),J={},$={}.hasOwnProperty;v.displayName="ReactDOMComponent",v.Mixin={construct:function(t){this._currentElement=t},mountComponent:function(t,e,n){this._rootNodeID=t;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(f,this);break;case"button":r=M.getNativeProps(this,r,n);break;case"input":S.mountWrapper(this,r,n),r=S.getNativeProps(this,r,n);break;case"option":k.mountWrapper(this,r,n),r=k.getNativeProps(this,r,n);break;case"select":E.mountWrapper(this,r,n),r=E.getNativeProps(this,r,n),n=E.processChildContext(this,r,n);break;case"textarea":T.mountWrapper(this,r,n),r=T.getNativeProps(this,r,n)}s(this,r);var i;if(e.useCreateElement){var o=n[A.ownerDocumentContextKey],a=o.createElement(this._currentElement.type);w.setAttributeForID(a,this._rootNodeID),A.getID(a),this._updateDOMProperties({},r,e,a),this._createInitialChildren(e,r,n,a),i=a}else{var u=this._createOpenTagMarkupAndPutListeners(e,r),c=this._createContentMarkup(e,r,n);i=!c&&G[this._tag]?u+"/>":u+">"+c+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(h,this);case"button":case"select":case"textarea":r.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this)}return i},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(null!=i)if(H.hasOwnProperty(r))i&&c(this._rootNodeID,r,i,t);else{r===q&&(i&&(i=this._previousStyleCopy=O({},e.style)),i=y.createMarkupForStyles(i));var o=null;null!=this._tag&&g(this._tag,e)?r!==V&&(o=w.createMarkupForCustomAttribute(r,i)):o=w.createMarkupForProperty(r,i),o&&(n+=" "+o)}}if(t.renderToStaticMarkup)return n;var a=w.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(t,e,n){var r="",i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=z[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)r=I(o);else if(null!=a){var u=this.mountChildren(a,t,n);r=u.join("")}}return Q[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(t,e,n,r){var i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&F(r,i.__html);else{var o=z[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)B(r,o);else if(null!=a)for(var u=this.mountChildren(a,t,n),s=0;s<u.length;s++)r.appendChild(u[s])}},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,r){var i=e.props,o=this._currentElement.props;switch(this._tag){case"button":i=M.getNativeProps(this,i),o=M.getNativeProps(this,o);break;case"input":S.updateWrapper(this),i=S.getNativeProps(this,i),o=S.getNativeProps(this,o);break;case"option":i=k.getNativeProps(this,i),o=k.getNativeProps(this,o);break;case"select":i=E.getNativeProps(this,i),o=E.getNativeProps(this,o);break;case"textarea":T.updateWrapper(this),i=T.getNativeProps(this,i),o=T.getNativeProps(this,o)}s(this,o),this._updateDOMProperties(i,o,t,null),this._updateDOMChildren(i,o,t,r),!R&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=o),"select"===this._tag&&t.getReactMountReady().enqueue(p,this)},_updateDOMProperties:function(t,e,n,r){var i,o,a;for(i in t)if(!e.hasOwnProperty(i)&&t.hasOwnProperty(i))if(i===q){var u=this._previousStyleCopy;for(o in u)u.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else H.hasOwnProperty(i)?t[i]&&U(this._rootNodeID,i):(b.properties[i]||b.isCustomAttribute(i))&&(r||(r=A.getNode(this._rootNodeID)),w.deleteValueForProperty(r,i));for(i in e){var s=e[i],l=i===q?this._previousStyleCopy:t[i];if(e.hasOwnProperty(i)&&s!==l)if(i===q)if(s?s=this._previousStyleCopy=O({},s):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&(a=a||{},a[o]=s[o])}else a=s;else H.hasOwnProperty(i)?s?c(this._rootNodeID,i,s,n):l&&U(this._rootNodeID,i):g(this._tag,e)?(r||(r=A.getNode(this._rootNodeID)),i===V&&(s=null),w.setValueForAttribute(r,i,s)):(b.properties[i]||b.isCustomAttribute(i))&&(r||(r=A.getNode(this._rootNodeID)),null!=s?w.setValueForProperty(r,i,s):w.deleteValueForProperty(r,i))}a&&(r||(r=A.getNode(this._rootNodeID)),y.setValueForStyles(r,a))},_updateDOMChildren:function(t,e,n,r){var i=z[typeof t.children]?t.children:null,o=z[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=null!=i?null:t.children,c=null!=o?null:e.children,l=null!=i||null!=a,f=null!=o||null!=u;null!=s&&null==c?this.updateChildren(null,n,r):l&&!f&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=u?a!==u&&this.updateMarkup(""+u):null!=c&&this.updateChildren(c,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var e=0;e<t.length;e++)t[e].remove();break;case"input":S.unmountWrapper(this);break;case"html":case"head":case"body":L(!1)}if(this.unmountChildren(),_.deleteAllListeners(this._rootNodeID),C.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var t=A.getNode(this._rootNodeID);t._reactInternalComponent=this,t.getDOMNode=r,t.isMounted=i,t.setState=o,t.replaceState=o,t.forceUpdate=o,t.setProps=a,t.replaceProps=u,t.props=this._currentElement.props,this._nodeWithLegacyProperties=t}return this._nodeWithLegacyProperties}},P.measureMethods(v,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),O(v.prototype,v.Mixin,N.Mixin),t.exports=v},function(t,e,n){"use strict";function r(t){return i.createFactory(t)}var i=n(10),o=(n(93),n(168)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=a},function(t,e,n){"use strict";function r(){this._rootNodeID&&h.updateWrapper(this)}function i(t){var e=this._currentElement.props,n=a.executeOnChange(e,t);s.asap(r,this);var i=e.name;if("radio"===e.type&&null!=i){for(var o=u.getNode(this._rootNodeID),c=o;c.parentNode;)c=c.parentNode;for(var h=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0;p<h.length;p++){var d=h[p];if(d!==o&&d.form===o.form){var g=u.getID(d);g?void 0:l(!1);var v=f[g];v?void 0:l(!1),s.asap(r,v)}}}return n}var o=n(52),a=n(49),u=n(9),s=n(13),c=n(4),l=n(1),f={},h={getNativeProps:function(t,e,n){var r=a.getValue(e),i=a.getChecked(e),o=c({},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:t._wrapperState.initialValue,checked:null!=i?i:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return o},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:e.defaultChecked||!1,initialValue:null!=n?n:null,onChange:i.bind(t)}},mountReadyWrapper:function(t){f[t._rootNodeID]=t},unmountWrapper:function(t){delete f[t._rootNodeID]},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&o.updatePropertyByID(t._rootNodeID,"checked",n||!1);var r=a.getValue(e);null!=r&&o.updatePropertyByID(t._rootNodeID,"value",""+r)}};t.exports=h},function(t,e,n){"use strict";var r=n(84),i=n(89),o=n(4),a=(n(3),i.valueContextKey),u={mountWrapper:function(t,e,n){var r=n[a],i=null;if(null!=r)if(i=!1,Array.isArray(r)){for(var o=0;o<r.length;o++)if(""+r[o]==""+e.value){i=!0;break}}else i=""+r==""+e.value;t._wrapperState={selected:i}},getNativeProps:function(t,e,n){var i=o({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(i.selected=t._wrapperState.selected);var a="";return r.forEach(e.children,function(t){null!=t&&("string"!=typeof t&&"number"!=typeof t||(a+=t))}),a&&(i.children=a),i}};t.exports=u},function(t,e,n){"use strict";function r(t,e,n,r){return t===n&&e===r}function i(t){var e=document.selection,n=e.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(t),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,i=e.anchorOffset,o=e.focusNode,a=e.focusOffset,u=e.getRangeAt(0);try{u.startContainer.nodeType,u.endContainer.nodeType}catch(s){return null}var c=r(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),l=c?0:u.toString().length,f=u.cloneRange();f.selectNodeContents(t),f.setEnd(u.startContainer,u.startOffset);var h=r(f.startContainer,f.startOffset,f.endContainer,f.endOffset),p=h?0:f.toString().length,d=p+l,g=document.createRange();g.setStart(n,i),g.setEnd(o,a);var v=g.collapsed;return{start:v?d:p,end:v?p:d}}function a(t,e){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),i.moveToElementText(t),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function u(t,e){if(window.getSelection){var n=window.getSelection(),r=t[l()].length,i=Math.min(e.start,r),o="undefined"==typeof e.end?i:Math.min(e.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var u=c(t,i),s=c(t,o);if(u&&s){var f=document.createRange();f.setStart(u.node,u.offset),n.removeAllRanges(),i>o?(n.addRange(f),n.extend(s.node,s.offset)):(f.setEnd(s.node,s.offset),n.addRange(f))}}}var s=n(7),c=n(228),l=n(107),f=s.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:f?i:o,setOffsets:f?a:u};t.exports=h},function(t,e,n){"use strict";var r=n(92),i=n(209),o=n(54);r.inject();var a={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:o};t.exports=a},function(t,e,n){"use strict";function r(){this._rootNodeID&&l.updateWrapper(this)}function i(t){var e=this._currentElement.props,n=o.executeOnChange(e,t);return u.asap(r,this),n}var o=n(49),a=n(52),u=n(13),s=n(4),c=n(1),l=(n(3),{getNativeProps:function(t,e,n){null!=e.dangerouslySetInnerHTML?c(!1):void 0;var r=s({},e,{defaultValue:void 0,value:void 0,children:t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return r},mountWrapper:function(t,e){var n=e.defaultValue,r=e.children;null!=r&&(null!=n?c(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:c(!1),r=r[0]),n=""+r),null==n&&(n="");var a=o.getValue(e);t._wrapperState={initialValue:""+(null!=a?a:n),onChange:i.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=o.getValue(e);null!=n&&a.updatePropertyByID(t._rootNodeID,"value",""+n)}});t.exports=l},function(t,e,n){"use strict";function r(t){i.enqueueEvents(t),i.processEventQueue(!1)}var i=n(28),o={handleTopLevel:function(t,e,n,o,a){var u=i.extractEvents(t,e,n,o,a);r(u)}};t.exports=o},function(t,e,n){"use strict";function r(t){var e=h.getID(t),n=f.getReactRootIDFromNodeID(e),r=h.findReactContainerForID(n),i=h.getFirstReactDOM(r);return i}function i(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){a(t)}function a(t){for(var e=h.getFirstReactDOM(g(t.nativeEvent))||window,n=e;n;)t.ancestors.push(n),n=r(n);for(var i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var o=h.getID(e)||"";m._handleTopLevel(t.topLevelType,e,o,t.nativeEvent,g(t.nativeEvent))}}function u(t){var e=v(window);t(e)}var s=n(72),c=n(7),l=n(20),f=n(24),h=n(9),p=n(13),d=n(4),g=n(58),v=n(163);d(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(t){m._handleTopLevel=t},setEnabled:function(t){m._enabled=!!t},isEnabled:function(){return m._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?s.listen(r,e,m.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var r=n;return r?s.capture(r,e,m.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=u.bind(null,t);s.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(m._enabled){var n=i.getPooled(t,e);try{p.batchedUpdates(o,n)}finally{i.release(n)}}}};t.exports=m},function(t,e,n){"use strict";var r=n(23),i=n(28),o=n(51),a=n(85),u=n(94),s=n(34),c=n(100),l=n(12),f=n(103),h=n(13),p={Component:o.injection,Class:a.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:i.injection,EventEmitter:s.injection,NativeComponent:c.injection,Perf:l.injection,RootIndex:f.injection,Updates:h.injection};t.exports=p},function(t,e,n){"use strict";var r=n(84),i=n(86),o=n(85),a=n(194),u=n(10),s=(n(93),n(102)),c=n(54),l=n(4),f=n(229),h=u.createElement,p=u.createFactory,d=u.cloneElement,g={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:f},Component:i,createElement:h,cloneElement:d,isValidElement:u.isValidElement,PropTypes:s,createClass:o.createClass,createFactory:p,createMixin:function(t){return t},DOM:a,version:c,__spread:l};t.exports=g},function(t,e,n){"use strict";function r(t,e,n){v.push({parentID:t,parentNode:null,type:f.INSERT_MARKUP,markupIndex:m.push(e)-1,content:null,fromIndex:null,toIndex:n})}function i(t,e,n){v.push({parentID:t,parentNode:null,type:f.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:e,toIndex:n})}function o(t,e){v.push({parentID:t,parentNode:null,type:f.REMOVE_NODE,markupIndex:null,content:null,fromIndex:e,toIndex:null})}function a(t,e){v.push({parentID:t,parentNode:null,type:f.SET_MARKUP,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function u(t,e){v.push({parentID:t,parentNode:null,type:f.TEXT_CONTENT,markupIndex:null,content:e,fromIndex:null,toIndex:null})}function s(){v.length&&(l.processChildrenUpdates(v,m),c())}function c(){v.length=0,m.length=0}var l=n(51),f=n(99),h=(n(18),n(21)),p=n(190),d=n(226),g=0,v=[],m=[],y={Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return p.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,r){var i;return i=d(e),p.updateChildren(t,i,n,r)},mountChildren:function(t,e,n){var r=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a],s=this._rootNodeID+a,c=h.mountComponent(u,s,e,n);u._mountIndex=o++,i.push(c)}return i},updateTextContent:function(t){g++;var e=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(t),e=!1}finally{g--,g||(e?c():s())}},updateMarkup:function(t){g++;var e=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(t),e=!1}finally{g--,g||(e?c():s())}},updateChildren:function(t,e,n){g++;var r=!0;try{this._updateChildren(t,e,n),r=!1}finally{g--,g||(r?c():s())}},_updateChildren:function(t,e,n){var r=this._renderedChildren,i=this._reconcilerUpdateChildren(r,t,e,n);if(this._renderedChildren=i,i||r){var o,a=0,u=0;for(o in i)if(i.hasOwnProperty(o)){var s=r&&r[o],c=i[o];s===c?(this.moveChild(s,u,a),a=Math.max(s._mountIndex,a),s._mountIndex=u):(s&&(a=Math.max(s._mountIndex,a),this._unmountChild(s)),this._mountChildByNameAtIndex(c,o,u,e,n)),u++}for(o in r)!r.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||this._unmountChild(r[o])}},unmountChildren:function(){var t=this._renderedChildren;p.unmountChildren(t),this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&i(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){r(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){o(this._rootNodeID,t._mountIndex)},setTextContent:function(t){u(this._rootNodeID,t)},setMarkup:function(t){a(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,r,i){var o=this._rootNodeID+e,a=h.mountComponent(t,o,r,i);t._mountIndex=n,this.createChild(t,a)},_unmountChild:function(t){this.removeChild(t),t._mountIndex=null}}};t.exports=y},function(t,e,n){"use strict";var r=n(1),i={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){i.isValidOwner(n)?void 0:r(!1),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){i.isValidOwner(n)?void 0:r(!1),n.getPublicInstance().refs[e]===t.getPublicInstance()&&n.detachRef(e)}};t.exports=i},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=!t&&u.useCreateElement}var i=n(47),o=n(20),a=n(34),u=n(88),s=n(97),c=n(38),l=n(4),f={initialize:s.getSelectionInformation,close:s.restoreSelection},h={initialize:function(){var t=a.isEnabled();return a.setEnabled(!1),t},close:function(t){a.setEnabled(t)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[f,h,p],g={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};l(r.prototype,c.Mixin,g),o.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function i(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=n(205),a={};a.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&r(n,t,e._owner)}},a.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,r=null===e||e===!1;return n||r||e._owner!==t._owner||e.ref!==t.ref},a.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&i(n,t,e._owner)}},t.exports=a},function(t,e){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(t){}};t.exports=n},function(t,e,n){"use strict";function r(t){a.isValidElement(t)?void 0:d(!1);var e;try{f.injection.injectBatchingStrategy(c);var n=u.createReactRootID();return e=l.getPooled(!1),e.perform(function(){var r=p(t,null),i=r.mountComponent(n,e,h);return s.addChecksumToMarkup(i)},null)}finally{l.release(e),f.injection.injectBatchingStrategy(o)}}function i(t){a.isValidElement(t)?void 0:d(!1);var e;try{f.injection.injectBatchingStrategy(c);var n=u.createReactRootID();return e=l.getPooled(!0),e.perform(function(){var r=p(t,null);return r.mountComponent(n,e,h)},null)}finally{l.release(e),f.injection.injectBatchingStrategy(o)}}var o=n(91),a=n(10),u=n(24),s=n(98),c=n(208),l=n(210),f=n(13),h=n(27),p=n(60),d=n(1);t.exports={renderToString:r,renderToStaticMarkup:i}},function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=o.getPooled(null),this.useCreateElement=!1}var i=n(20),o=n(47),a=n(38),u=n(4),s=n(14),c={initialize:function(){this.reactMountReady.reset()},close:s},l=[c],f={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};u(r.prototype,a.Mixin,f),i.addPoolingTo(r),t.exports=r},function(t,e,n){"use strict";var r=n(23),i=r.injection.MUST_USE_ATTRIBUTE,o={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,xlinkActuate:i,xlinkArcrole:i,xlinkHref:i,xlinkRole:i,xlinkShow:i,xlinkTitle:i,xlinkType:i,xmlBase:i,xmlLang:i,xmlSpace:i,y1:i,y2:i,y:i},DOMAttributeNamespaces:{xlinkActuate:o.xlink,xlinkArcrole:o.xlink,xlinkHref:o.xlink,xlinkRole:o.xlink,xlinkShow:o.xlink,xlinkTitle:o.xlink,xlinkType:o.xlink,xmlBase:o.xml,xmlLang:o.xml,xmlSpace:o.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};t.exports=a},function(t,e,n){"use strict";function r(t){if("selectionStart"in t&&s.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(t,e){if(w||null==m||m!==l())return null;var n=r(m);if(!b||!p(b,n)){b=n;var i=c.getPooled(v.select,y,t,e);return i.type="select",i.target=m,a.accumulateTwoPhaseDispatches(i),i}
return null}var o=n(17),a=n(29),u=n(7),s=n(97),c=n(22),l=n(75),f=n(108),h=n(19),p=n(77),d=o.topLevelTypes,g=u.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},m=null,y=null,b=null,w=!1,x=!1,_=h({onSelect:null}),C={eventTypes:v,extractEvents:function(t,e,n,r,o){if(!x)return null;switch(t){case d.topFocus:(f(e)||"true"===e.contentEditable)&&(m=e,y=n,b=null);break;case d.topBlur:m=null,y=null,b=null;break;case d.topMouseDown:w=!0;break;case d.topContextMenu:case d.topMouseUp:return w=!1,i(r,o);case d.topSelectionChange:if(g)break;case d.topKeyDown:case d.topKeyUp:return i(r,o)}return null},didPutListener:function(t,e,n){e===_&&(x=!0)}};t.exports=C},function(t,e){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=r},function(t,e,n){"use strict";var r=n(17),i=n(72),o=n(29),a=n(9),u=n(215),s=n(22),c=n(218),l=n(220),f=n(37),h=n(217),p=n(221),d=n(31),g=n(222),v=n(14),m=n(56),y=n(1),b=n(19),w=r.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},_={topAbort:x.abort,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var C in _)_[C].dependencies=[C];var M=b({onClick:null}),S={},k={eventTypes:x,extractEvents:function(t,e,n,r,i){var a=_[t];if(!a)return null;var v;switch(t){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:v=s;break;case w.topKeyPress:if(0===m(r))return null;case w.topKeyDown:case w.topKeyUp:v=l;break;case w.topBlur:case w.topFocus:v=c;break;case w.topClick:if(2===r.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:v=f;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:v=h;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:v=p;break;case w.topScroll:v=d;break;case w.topWheel:v=g;break;case w.topCopy:case w.topCut:case w.topPaste:v=u}v?void 0:y(!1);var b=v.getPooled(a,n,r,i);return o.accumulateTwoPhaseDispatches(b),b},didPutListener:function(t,e,n){if(e===M){var r=a.getNode(t);S[t]||(S[t]=i.listen(r,"click",v))}},willDeleteListener:function(t,e){e===M&&(S[t].remove(),delete S[t])}};t.exports=k},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(22),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(22),o={data:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(37),o={dataTransfer:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(31),o={relatedTarget:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(22),o={data:null};i.augmentClass(r,o),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(31),o=n(56),a=n(227),u=n(57),s={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};i.augmentClass(r,s),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(31),o=n(57),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){i.call(this,t,e,n,r)}var i=n(37),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),t.exports=r},function(t,e){"use strict";function n(t){for(var e=1,n=0,i=0,o=t.length,a=o&-4;i<a;){for(;i<Math.min(i+4096,a);i+=4)n+=(e+=t.charCodeAt(i))+(e+=t.charCodeAt(i+1))+(e+=t.charCodeAt(i+2))+(e+=t.charCodeAt(i+3));e%=r,n%=r}for(;i<o;i++)n+=e+=t.charCodeAt(i);return e%=r,n%=r,e|n<<16}var r=65521;t.exports=n},function(t,e,n){"use strict";function r(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var r=isNaN(e);return r||0===e||o.hasOwnProperty(t)&&o[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")}var i=n(81),o=i.isUnitlessNumber;t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r,i){return i}n(4),n(3);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=t,i=void 0===r[n];i&&null!=e&&(r[n]=e)}function i(t){if(null==t)return t;var e={};return o(t,r,e),e}var o=n(64);n(3);t.exports=i},function(t,e,n){"use strict";function r(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=i(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?a[t.keyCode]||"Unidentified":""}var i=n(56),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function i(t,e){for(var i=n(t),o=0,a=0;i;){if(3===i.nodeType){if(a=o+i.textContent.length,o<=e&&a>=e)return{node:i,offset:e-o};o=a}i=n(r(i))}}t.exports=i},function(t,e,n){"use strict";function r(t){return i.isValidElement(t)?void 0:o(!1),t}var i=n(10),o=n(1);t.exports=r},function(t,e,n){"use strict";function r(t){return'"'+i(t)+'"'}var i=n(40);t.exports=r},function(t,e,n){"use strict";var r=n(9);t.exports=r.renderSubtreeIntoContainer},function(t,e,n){(function(e){function n(t,e,n){return t^e^n}function r(t,e,n){return t&e|~t&n}function i(t,e,n){return(t|~e)^n}function o(t,e,n){return t&n|e&~n}function a(t,e,n){return t^(e|~n)}function u(t,e){return t<<e|t>>>32-e}function s(t){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var r=g(t),i=8*t.length,o=8*t.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var a=0;a<r.length;a+=16)m(n,r,a);for(var a=0;a<5;a++){var u=n[a];n[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var s=v(n);return new e(s)}t.exports=s;/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.
	
	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	
	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	
	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0],g=function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},v=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},m=function(t,e,s){for(var g=0;g<16;g++){var v=s+g,m=e[v];e[v]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var y,b,w,x,_,C,M,S,k,E;C=y=t[0],M=b=t[1],S=w=t[2],k=x=t[3],E=_=t[4];for(var T,g=0;g<80;g+=1)T=y+e[s+c[g]]|0,T+=g<16?n(b,w,x)+p[0]:g<32?r(b,w,x)+p[1]:g<48?i(b,w,x)+p[2]:g<64?o(b,w,x)+p[3]:a(b,w,x)+p[4],T=0|T,T=u(T,f[g]),T=T+_|0,y=_,_=x,x=u(w,10),w=b,b=T,T=C+e[s+l[g]]|0,T+=g<16?a(M,S,k)+d[0]:g<32?o(M,S,k)+d[1]:g<48?i(M,S,k)+d[2]:g<64?r(M,S,k)+d[3]:n(M,S,k)+d[4],T=0|T,T=u(T,h[g]),T=T+E|0,C=E,E=k,k=u(S,10),S=M,M=T;T=t[1]+w+k|0,t[1]=t[2]+x+E|0,t[2]=t[3]+_+C|0,t[3]=t[4]+y+M|0,t[4]=t[0]+b+S|0,t[0]=T}}).call(e,n(15).Buffer)},function(t,e,n){var r=n(234),i=n(236),o=n(239),a=n(238),u=n(237),s=n(235),c=n(240);c.alea=r,c.xor128=i,c.xorwow=o,c.xorshift7=a,c.xor4096=u,c.tychei=s,t.exports=c},function(t,e,n){var r;(function(t){!function(t,i,o){function a(t){var e=this,n=c();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function u(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function s(t,e){var n=new a(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i["double"]=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&u(r,n),i.state=function(){return u(n,{})}),i}function c(){var t=4022871197,e=function(e){e=e.toString();for(var n=0;n<e.length;n++){t+=e.charCodeAt(n);var r=.02519603282416938*t;t=r>>>0,r-=t,r*=t,t=r>>>0,r-=t,t+=4294967296*r}return 2.3283064365386963e-10*(t>>>0)};return e}i&&i.exports?i.exports=s:n(11)&&n(25)?(r=function(){return s}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.alea=s}(this,"object"==typeof t&&t,n(11))}).call(e,n(26)(t))},function(t,e,n){var r;(function(t){!function(t,i,o){function a(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function u(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function s(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=s:n(11)&&n(25)?(r=function(){return s}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.tychei=s}(this,"object"==typeof t&&t,n(11))}).call(e,n(26)(t))},function(t,e,n){var r;(function(t){!function(t,i,o){function a(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function u(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function s(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=s:n(11)&&n(25)?(r=function(){return s}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.xor128=s}(this,"object"==typeof t&&t,n(11))}).call(e,n(26)(t))},function(t,e,n){var r;(function(t){!function(t,i,o){function a(t){function e(t,e){var n,r,i,o,a,u=[],s=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,s=Math.max(s,e.length)),i=0,o=-32;o<s;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,n=u[127&o]^=r+a,i=0==n?i+1:0);for(i>=128&&(u[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=u[i+34&127],n=u[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,u[i]=r^n;t.w=a,t.X=u,t.i=i}var n=this;n.next=function(){var t,e,r=n.w,i=n.X,o=n.i;return n.w=r=r+1640531527|0,e=i[o+34&127],t=i[o=o+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=i[o]=e^t,n.i=o,e+(r^r>>>16)|0},e(n,t)}function u(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function s(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.X&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=s:n(11)&&n(25)?(r=function(){return s}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.xor4096=s}(this,"object"==typeof t&&t,n(11))}).call(e,n(26)(t))},function(t,e,n){var r;(function(t){!function(t,i,o){function a(t){function e(t,e){var n,r,i=[];if(e===(0|e))r=i[0]=e;else for(e=""+e,n=0;n<e.length;++n)i[7&n]=i[7&n]<<15^e.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;n<8&&0===i[n];++n);for(r=8==n?i[7]=-1:i[n],t.x=i,t.i=0,n=256;n>0;--n)t.next()}var n=this;n.next=function(){var t,e,r=n.x,i=n.i;return t=r[i],t^=t>>>7,e=t^t<<24,t=r[i+1&7],e^=t^t>>>10,t=r[i+3&7],e^=t^t>>>3,t=r[i+4&7],e^=t^t<<7,t=r[i+7&7],t^=t<<13,e^=t^t<<9,r[i]=e,n.i=i+1&7,e},e(n,t)}function u(t,e){return e.x=t.x.slice(),e.i=t.i,e}function s(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.x&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=s:n(11)&&n(25)?(r=function(){return s}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.xorshift7=s}(this,"object"==typeof t&&t,n(11))}).call(e,n(26)(t))},function(t,e,n){var r;(function(t){!function(t,i,o){function a(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(t^t<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function u(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function s(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i["double"]=function(){do var t=n.next()>>>11,e=(n.next()>>>0)/4294967296,r=(t+e)/(1<<21);while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=s:n(11)&&n(25)?(r=function(){return s}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):this.xorwow=s}(this,"object"==typeof t&&t,n(11))}).call(e,n(26)(t))},function(t,e,n){var r;!function(i,o){function a(t,e,n){var r=[];e=1==e?{entropy:!0}:e||{};var a=l(c(e.entropy?[t,h(i)]:null==t?f():t,3),r),p=new u(r),d=function(){for(var t=p.g(v),e=b,n=0;t<w;)t=(t+n)*g,e*=g,n=p.g(1);for(;t>=x;)t/=2,e/=2,n>>>=1;return(t+n)/e};return d.int32=function(){return 0|p.g(4)},d.quick=function(){return p.g(4)/4294967296},d["double"]=d,l(h(p.S),i),(e.pass||n||function(t,e,n,r){return r&&(r.S&&s(r,p),t.state=function(){return s(p,{})}),n?(o[y]=t,e):t})(d,a,"global"in e?e.global:this==o,e.state)}function u(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<g;)a[i]=i++;for(i=0;i<g;i++)a[i]=a[o=_&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=_&i+1],n=n*g+a[_&(a[i]=a[o=_&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(g)}function s(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function c(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)try{r.push(c(t[n],e-1))}catch(o){}return r.length?r:"string"==i?t:t+"\0"}function l(t,e){for(var n,r=t+"",i=0;i<r.length;)e[_&i]=_&(n^=19*e[_&i])+r.charCodeAt(i++);return h(e)}function f(){try{if(p)return h(p.randomBytes(g));var t=new Uint8Array(g);return(d.crypto||d.msCrypto).getRandomValues(t),h(t)}catch(e){var n=d.navigator,r=n&&n.plugins;return[+new Date,d,r,d.screen,h(i)]}}function h(t){return String.fromCharCode.apply(0,t)}var p,d=this,g=256,v=6,m=52,y="random",b=o.pow(g,v),w=o.pow(2,m),x=2*w,_=g-1;if(o["seed"+y]=a,l(o.random(),i),"object"==typeof t&&t.exports){t.exports=a;try{p=n(151)}catch(C){}}else r=function(){return a}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}([],Math)},function(t,e){t.exports=function(t){function e(e,n){this._block=new t(e),this._finalSize=n,this._blockSize=e,this._len=0,this._s=0}return e.prototype.init=function(){this._s=0,this._len=0},e.prototype.update=function(e,n){"string"==typeof e&&(n=n||"utf8",e=new t(e,n));for(var r=this._len+=e.length,i=this._s=this._s||0,o=0,a=this._block;i<r;){for(var u=Math.min(e.length,o+this._blockSize-i%this._blockSize),s=u-o,c=0;c<s;c++)a[i%this._blockSize+c]=e[c+o];i+=s,o+=s,i%this._blockSize===0&&this._update(a)}return this._s=i,this},e.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e}},function(t,e,n){var e=t.exports=function(t){var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n},r=n(15).Buffer,i=n(241)(r);e.sha1=n(243)(r,i),e.sha256=n(244)(r,i),e.sha512=n(245)(r,i)},function(t,e,n){var r=n(67).inherits;t.exports=function(t,e){function n(){return d.length?d.pop().init():this instanceof n?(this._w=p,e.call(this,64,56),this._h=null,void this.init()):new n}function i(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function o(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function a(t,e){return t+e|0}function u(t,e){return t<<e|t>>>32-e}var s=0,c=4,l=8,f=12,h=16,p=new("undefined"==typeof Int32Array?Array:Int32Array)(80),d=[];return r(n,e),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,e.prototype.init.call(this),this},n.prototype._POOL=d,n.prototype._update=function(t){var e,n,r,s,c,l,f,h,p,d;e=l=this._a,n=f=this._b,r=h=this._c,s=p=this._d,c=d=this._e;for(var g=this._w,v=0;v<80;v++){var m=g[v]=v<16?t.readInt32BE(4*v):u(g[v-3]^g[v-8]^g[v-14]^g[v-16],1),y=a(a(u(e,5),i(v,n,r,s)),a(a(c,m),o(v)));c=s,s=r,r=u(n,30),n=e,e=y}this._a=a(e,l),this._b=a(n,f),this._c=a(r,h),this._d=a(s,p),this._e=a(c,d)},n.prototype._hash=function(){d.length<100&&d.push(this);var e=new t(20);return e.writeInt32BE(0|this._a,s),e.writeInt32BE(0|this._b,c),e.writeInt32BE(0|this._c,l),e.writeInt32BE(0|this._d,f),e.writeInt32BE(0|this._e,h),e},n}},function(t,e,n){var r=n(67).inherits;t.exports=function(t,e){function n(){this.init(),this._w=p,e.call(this,64,56)}function i(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function a(t,e,n){return t&e^~t&n}function u(t,e,n){return t&e^t&n^e&n}function s(t){return i(t,2)^i(t,13)^i(t,22)}function c(t){return i(t,6)^i(t,11)^i(t,25)}function l(t){return i(t,7)^i(t,18)^o(t,3)}function f(t){return i(t,17)^i(t,19)^o(t,10)}var h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);return r(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,r,i,o,p,d,g,v,m,y=this._w;e=0|this._a,n=0|this._b,r=0|this._c,i=0|this._d,o=0|this._e,p=0|this._f,d=0|this._g,g=0|this._h;for(var b=0;b<64;b++){var w=y[b]=b<16?t.readInt32BE(4*b):f(y[b-2])+y[b-7]+l(y[b-15])+y[b-16];v=g+c(o)+a(o,p,d)+h[b]+w,m=s(e)+u(e,n,r),g=d,d=p,p=o,o=i+v,i=r,r=n,n=e,e=v+m}this._a=e+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=p+this._f|0,this._g=d+this._g|0,this._h=g+this._h|0},n.prototype._hash=function(){var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},n}},function(t,e,n){var r=n(67).inherits;t.exports=function(t,e){function n(){this.init(),this._w=s,e.call(this,128,112)}function i(t,e,n){return t>>>n|e<<32-n}function o(t,e,n){return t&e^~t&n}function a(t,e,n){return t&e^t&n^e&n}var u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);return r(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},n.prototype._update=function(t){var e,n,r,s,c,l,f,h,p,d,g,v,m,y,b,w,x=this._w;e=0|this._a,n=0|this._b,r=0|this._c,s=0|this._d,c=0|this._e,l=0|this._f,f=0|this._g,h=0|this._h,p=0|this._al,d=0|this._bl,g=0|this._cl,v=0|this._dl,m=0|this._el,y=0|this._fl,b=0|this._gl,w=0|this._hl;for(var _=0;_<80;_++){var C,M,S=2*_;if(_<16)C=x[S]=t.readInt32BE(4*S),M=x[S+1]=t.readInt32BE(4*S+4);else{var k=x[S-30],E=x[S-30+1],T=i(k,E,1)^i(k,E,8)^k>>>7,A=i(E,k,1)^i(E,k,8)^i(E,k,7);k=x[S-4],E=x[S-4+1];var N=i(k,E,19)^i(E,k,29)^k>>>6,P=i(E,k,19)^i(k,E,29)^i(E,k,6),D=x[S-14],O=x[S-14+1],R=x[S-32],I=x[S-32+1];M=A+O,C=T+D+(M>>>0<A>>>0?1:0),M+=P,C=C+N+(M>>>0<P>>>0?1:0),M+=I,C=C+R+(M>>>0<I>>>0?1:0),x[S]=C,x[S+1]=M}var L=a(e,n,r),j=a(p,d,g),F=i(e,p,28)^i(p,e,2)^i(p,e,7),B=i(p,e,28)^i(e,p,2)^i(e,p,7),U=i(c,m,14)^i(c,m,18)^i(m,c,9),W=i(m,c,14)^i(m,c,18)^i(c,m,9),H=u[S],z=u[S+1],V=o(c,l,f),q=o(m,y,b),Y=w+W,X=h+U+(Y>>>0<w>>>0?1:0);Y+=q,X=X+V+(Y>>>0<q>>>0?1:0),Y+=z,X=X+H+(Y>>>0<z>>>0?1:0),Y+=M,X=X+C+(Y>>>0<M>>>0?1:0);var K=B+j,G=F+L+(K>>>0<B>>>0?1:0);h=f,w=b,f=l,b=y,l=c,y=m,m=v+Y|0,c=s+X+(m>>>0<v>>>0?1:0)|0,s=r,v=g,r=n,g=d,n=e,d=p,p=Y+K|0,e=X+G+(p>>>0<Y>>>0?1:0)|0}this._al=this._al+p|0,this._bl=this._bl+d|0,this._cl=this._cl+g|0,this._dl=this._dl+v|0,this._el=this._el+m|0,this._fl=this._fl+y|0,this._gl=this._gl+b|0,this._hl=this._hl+w|0,this._a=this._a+e+(this._al>>>0<p>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<d>>>0?1:0)|0,this._c=this._c+r+(this._cl>>>0<g>>>0?1:0)|0,this._d=this._d+s+(this._dl>>>0<v>>>0?1:0)|0,this._e=this._e+c+(this._el>>>0<m>>>0?1:0)|0,this._f=this._f+l+(this._fl>>>0<y>>>0?1:0)|0,this._g=this._g+f+(this._gl>>>0<b>>>0?1:0)|0,this._h=this._h+h+(this._hl>>>0<w>>>0?1:0)|0},n.prototype._hash=function(){function e(t,e,r){n.writeInt32BE(t,r),n.writeInt32BE(e,r+4)}var n=new t(64);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),e(this._g,this._gl,48),e(this._h,this._hl,56),n},n}},function(t,e){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a=i[1],u=i[2],s=i[3],c={css:a,media:u,sourceMap:s};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=v(),r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function u(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function s(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function c(t,e){var n,r,i;if(e.singleton){var o=y++;n=m||(m=u(e)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=h.bind(null,n),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(e),r=f.bind(null,n),i=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function l(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function h(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=d(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,y=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var u=n[a],s=p[u.id];s.refs--,o.push(s)}if(t){var c=i(t);r(c,e)}for(var a=0;a<o.length;a++){var s=o[a];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete p[s.id]}}}};var w=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){},function(t,e,n){var r,i,o,a,u,s,c,l,f,h,p,d,g,v,m,y,b;for(n(257),c=n(2),a=n(8),o=n(5),i=n(16),u=n(44),s=n(6),r=window.Apparatus={},r.Dataflow=i,r.Model=o,r.Storage=u,r.R=a,r.Util=s,f=new o.Editor,r.editor=f,m=function(){return i.run(function(){return a.render(a.Editor({editor:f}),document.getElementById("apparatus-container"))})},m(),y=!1,document.addEventListener("mouseup",function(){return y=!0}),l=c.debounce(function(){return y=!0},500),document.addEventListener("keydown",function(){return l()}),b=!1,g=r.refresh=function(){if(!b)return b=!0,requestAnimationFrame(function(){return m(),y&&(f.checkpoint(),y=!1),b=!1})},v=["mousedown","mousemove","mouseup","keydown","keyup","scroll","change","wheel","mousewheel"],p=0,d=v.length;p<d;p++)h=v[p],window.addEventListener(h,g)},,function(t,e,n){e=t.exports=n(71)(),e.push([t.id,".CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;box-shadow:2px 3px 5px rgba(0,0,0,.2);border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}",""])},function(t,e,n){e=t.exports=n(71)(),e.push([t.id,".CodeMirror{font-family:monospace;height:300px;color:#000}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px;*zoom:1;*display:inline}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper{-webkit-user-select:none;-moz-user-select:none;user-select:none}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:none;font-variant-ligatures:none}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background:#ffa;background:rgba(255,255,0,.4)}.CodeMirror span{*vertical-align:text-bottom}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:''}span.CodeMirror-selectedtext{background:none}",""])},function(t,e,n){e=t.exports=n(71)(),e.i(n(254),""),e.i(n(253),""),e.push([t.id,'body,html{margin:0;overflow:hidden}[contenteditable]:active,[contenteditable]:focus,button:active,button:focus{outline:none}[contenteditable]{cursor:text}body{font-family:Lucida Sans Unicode,Lucida Grande,sans-serif;font-size:12px;color:#333}canvas{width:100%;height:100%}.CursorOverride *{cursor:inherit!important}.DragHintContainer{position:fixed;top:0;left:0;pointer-events:none;z-index:10}.DragHintContainer .DragHint{position:absolute}.Editor{position:absolute;width:100%}.Center,.Editor{display:-ms-flexbox;display:flex;height:100%}.Center{-ms-flex-positive:2;flex-grow:2;-ms-flex-direction:column;flex-direction:column}.CreatePanel{top:0;left:0;bottom:0;width:120px;background-color:#eee;border-right:1px solid #ccc}.CreatePanel,.RightPanel{position:relative;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box}.CreatePanelContainer,.RightPanelContainer{position:absolute;width:100%;height:100%}.RightResize{z-index:2;position:absolute;width:10px;margin-left:-5px;height:100%;cursor:ew-resize}.Outline{top:0;bottom:50%}.Inspector,.Outline{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;left:0;right:0;box-sizing:border-box;background-color:#fff;border-left:1px solid #ccc}.Inspector{top:50%;bottom:0}.BareEditorCanvas,.BareViewerCanvas{position:relative;-ms-flex-preferred-size:100%;flex-basis:100%}.BareEditorCanvas canvas,.BareViewerCanvas canvas{position:absolute}.EditorCanvasDropzone{-ms-flex-positive:2;flex-grow:2;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.EditorCanvasDropzone.dropActive{background-color:#f8fff8}.EditorCanvasDropzone.dropReject{background-color:#fff8f8}.LayoutMode{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;border:1px solid #ccc;width:20px;height:20px;right:3px;top:-22px;box-sizing:border-box;background-color:#eee;background-size:16px 16px;background-position:1px 1px;background-repeat:no-repeat;text-align:center;font-size:16px}.LayoutMode.FullScreen{top:2px}.Menubar{height:24px;border-bottom:1px solid #ccc}.Header,.Menubar{box-sizing:border-box;background-color:#eee}.Header{width:100%;height:18px;line-height:16px;text-align:center;color:#666;text-shadow:0 1px 0 hsla(0,0%,100%,.5);background-image:linear-gradient(180deg,#fff,#ddd);border-top:1px solid #e6e6e6;border-bottom:1px solid #d3d3d3}.HeaderSetting{position:absolute;right:8px;cursor:pointer;font-size:80%;color:#aaa}.HeaderSetting:hover{color:#000}.Scroller{width:100%;height:calc(100% - 18px);overflow-y:auto;overflow-x:hidden}.Menubar{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;display:-ms-flexbox;display:flex}.Menubar .MenubarItem{padding:0 8px;cursor:pointer}.Menubar .MenubarItem:hover{color:#09c}.Menubar .MenubarItem.isDisabled{cursor:default;color:#aaa}.Menubar .MenubarItem.isDisabled:hover{color:#aaa}.Menubar .MenubarSeparator{width:24px}.Menubar .ToolbarRight{-ms-flex-positive:1;flex-grow:1;text-align:right}.ThumbnailCanvas{width:100%;height:100%}.CreatePanelItem{position:relative;padding:6px 6px 18px}.CreatePanelItem .CreatePanelThumbnail{cursor:-webkit-grab;cursor:grab;width:108px;height:108px;background-color:#fff;margin-bottom:6px;box-shadow:0 1px 2px rgba(0,0,0,.5)}.CreatePanelItem .CreatePanelItemEditButton{float:right;color:transparent;cursor:pointer}.CreatePanelItem .CreatePanelItemRemoveButton{position:absolute;top:7px;right:7px;font-size:16px;color:transparent;cursor:pointer}.CreatePanelItem:hover .CreatePanelItemEditButton,.CreatePanelItem:hover .CreatePanelItemRemoveButton{color:rgba(0,0,0,.25)}.CreatePanelItem:hover .CreatePanelItemEditButton:hover,.CreatePanelItem:hover .CreatePanelItemRemoveButton:hover{color:rgba(0,0,0,.6)}.CreatePanelItem.isEditing .CreatePanelThumbnail{outline:2px solid #09c}.CreatePanelItem.isEditing .CreatePanelItemEditButton{color:#09c!important}.CreatePanelAddItem{font-size:18px;text-align:center}.OutlineChildren{margin-left:1.5em}.OutlineItem.isHovered{background-color:#e0f8f2}.OutlineItem.isActiveController{background-color:#f8e0e0}.OutlineItem.isSelected{background-color:#e0f2f8}.OutlineItem.isController .ElementRow{color:#c66}.ElementRow{display:-ms-flexbox;display:flex;padding:.175em 0}.ElementRow .ElementRowDisclosure{width:1.5em}.ElementRow .ElementRowLabel{-ms-flex-positive:1;flex-grow:1}.DisclosureTriangle{width:0;height:0;margin-top:.11em;margin-left:.134em;border-top:.5em solid transparent;border-bottom:.5em solid transparent;border-left:.866em solid #ccc;transition:transform .05s}.DisclosureTriangle.isExpanded{transform:rotate(90deg)}.DisclosureTriangle.Hidden{display:none}.OutlineDragging{position:fixed;z-index:20;background-color:#fff;pointer-events:none;box-shadow:0 2px 6px rgba(0,0,0,.5);opacity:.7}.OutlinePlaceholder{background-color:#bbb;box-shadow:inset 0 1px 3px rgba(0,0,0,.5)}.InspectorList{padding:.5em}.AttributesList{margin-left:1.5em}.ComponentSection{padding-bottom:1.25em}.ComponentSectionTitle{margin-left:2.25em;color:#999}.AttributeRow{padding:.175em 0;display:-ms-flexbox;display:flex}.AttributeRow.isInherited{opacity:.5}.AttributeRow.isGoingToChange .cm-number,.AttributeRow.isGoingToChange .cm-operator{color:#c00}.AttributeRow .AttributeRowControl{width:1.5em;min-width:1.5em;max-width:1.5em}.AttributeRow .AttributeRowLabel{width:9em;min-width:9em;max-width:9em}.AttributeRow .AttributeRowExpression{-ms-flex-positive:1;flex-grow:1}.AttributeRow.isWrapped{-ms-flex-wrap:wrap;flex-wrap:wrap}.AttributeRow.isWrapped .AttributeRowExpression{padding-left:3.25em;width:100%}.AttributeRow .AttributeControl{width:1em;height:1em;border-radius:1em;border:1px solid transparent}.AttributeRow .AttributeControl.isControllable{border-color:#c66}.AttributeRow .AttributeControl.isImplicitlyControlled{background-color:hsla(0,50%,60%,.4)}.AttributeRow .AttributeControl.isControlled{background-color:#c66}.AddVariableRow{padding:.05em 0 .175em;margin-left:1.5em}.AttributeLabel{margin-right:.5em;border-radius:20px;padding:0 .75em;cursor:-webkit-grab;cursor:grab}.AttributeLabel.Editing{cursor:text}.AttributeLabel,.ReferenceToken{font-family:Lucida Sans Unicode,Lucida Grande,sans-serif;color:#333;background-image:linear-gradient(180deg,#f4f4f4,#e4e4e4)}.AttributeLabel.isHovered,.ReferenceToken.isHovered{background-image:linear-gradient(180deg,#bff2e5,#66e0c1)}.AttributeLabel.isGoingToChange,.ReferenceToken.isGoingToChange{background-image:linear-gradient(180deg,#f2bfbf,#e06666)}.Expression{font-family:menlo,monospace}.ExpressionValue{color:#ccc;clear:both}.ReferenceToken{border-radius:20px;padding:0 .75em;display:inline-block}.SpreadValue:before{content:"[";opacity:.5}.SpreadValue:after{content:"]";opacity:.5}.SpreadValueItem:not(:last-child):after{content:", ";opacity:.5}.EditableTextInline{display:inline;padding-right:.75em}.CodeMirror{height:auto;float:left;min-width:100px;background-color:transparent;font-family:inherit;font-size:inherit;line-height:inherit;color:inherit}.CodeMirror .CodeMirror-lines,.CodeMirror pre{padding:0}.CodeMirror .CodeMirror-selected{opacity:0}.CodeMirror.CodeMirror-focused .CodeMirror-selected{opacity:1}.CodeMirror .CodeMirror-sizer{padding-right:1px!important}.cm-number{cursor:ew-resize}.CodeMirror-hints{font-family:inherit}.AddButton{width:2em;height:1em;padding:0;line-height:1em;font-size:1em;color:#777;font-family:verdana;font-weight:700;text-shadow:0 1px 0 hsla(0,0%,100%,.5);background-color:#ddd;background-image:linear-gradient(180deg,#eee,#ccc);box-shadow:0 2px 1px rgba(0,0,0,.16),0 0 1px rgba(0,0,0,.5),inset 0 1px 0 hsla(0,0%,100%,.55);border-radius:20px;border:0}.AddButton:before{content:"+"}.AddButton:hover{background-image:linear-gradient(180deg,#f3f3f3,#d3d3d3)}.AddButton:active{background-image:linear-gradient(180deg,#cacaca,#d5d5d5);box-shadow:0 1px 1px hsla(0,0%,100%,.35),inset 0 0 1px rgba(0,0,0,.5),inset 0 1px 4px rgba(0,0,0,.4)}',""]);
},,function(t,e,n){var r=n(255);"string"==typeof r&&(r=[[t.id,r,""]]);n(247)(r,{});r.locals&&(t.exports=r.locals)}]);
//# sourceMappingURL=apparatus.js.map