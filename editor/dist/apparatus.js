!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([function(e,t,n){e.exports=n(140)},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=r},function(e,t,n){"use strict";var r=n(13),i=r;e.exports=i},function(e,t){"use strict";function n(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var a=Object(o);for(var s in a)r.call(a,s)&&(n[s]=a[s])}}return n}e.exports=n},function(e,t,n){var r,i;(function(){function n(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=M(r,o,4);var a=!P(n)&&C.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,r,i,a,u,s)}}function o(e){return function(t,n,r){n=k(n,r);for(var i=A(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function a(e,t,n){return function(r,i,o){var a=0,s=A(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,a,s),C.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function s(e,t){var n=R.length,r=e.constructor,i=C.isFunction(r)&&r.prototype||f,o="constructor";for(C.has(e,o)&&!C.contains(t,o)&&t.push(o);n--;)o=R[n],o in e&&e[o]!==i[o]&&!C.contains(t,o)&&t.push(o)}var u=this,l=u._,c=Array.prototype,f=Object.prototype,h=Function.prototype,p=c.push,d=c.slice,m=f.toString,v=f.hasOwnProperty,g=Array.isArray,y=Object.keys,b=h.bind,w=Object.create,x=function(){},C=function(e){return e instanceof C?e:this instanceof C?void(this._wrapped=e):new C(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=C),t._=C,C.VERSION="1.8.3";var M=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?C.identity:C.isFunction(e)?M(e,t,n):C.isObject(e)?C.matcher(e):C.property(e)};C.iteratee=function(e,t){return k(e,t,1/0)};var S=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;s>u;u++){var l=a[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}},E=function(e){if(!C.isObject(e))return{};if(w)return w(e);x.prototype=e;var t=new x;return x.prototype=null,t},T=function(e){return function(t){return null==t?void 0:t[e]}},_=Math.pow(2,53)-1,A=T("length"),P=function(e){var t=A(e);return"number"==typeof t&&t>=0&&_>=t};C.each=C.forEach=function(e,t,n){t=M(t,n);var r,i;if(P(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=C.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},C.map=C.collect=function(e,t,n){t=k(t,n);for(var r=!P(e)&&C.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},C.reduce=C.foldl=C.inject=n(1),C.reduceRight=C.foldr=n(-1),C.find=C.detect=function(e,t,n){var r;return r=P(e)?C.findIndex(e,t,n):C.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},C.filter=C.select=function(e,t,n){var r=[];return t=k(t,n),C.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},C.reject=function(e,t,n){return C.filter(e,C.negate(k(t)),n)},C.every=C.all=function(e,t,n){t=k(t,n);for(var r=!P(e)&&C.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},C.some=C.any=function(e,t,n){t=k(t,n);for(var r=!P(e)&&C.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},C.contains=C.includes=C.include=function(e,t,n,r){return P(e)||(e=C.values(e)),("number"!=typeof n||r)&&(n=0),C.indexOf(e,t,n)>=0},C.invoke=function(e,t){var n=d.call(arguments,2),r=C.isFunction(t);return C.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},C.pluck=function(e,t){return C.map(e,C.property(t))},C.where=function(e,t){return C.filter(e,C.matcher(t))},C.findWhere=function(e,t){return C.find(e,C.matcher(t))},C.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=P(e)?e:C.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>o&&(o=r)}else t=k(t,n),C.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},C.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=P(e)?e:C.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],o>r&&(o=r)}else t=k(t,n),C.each(e,function(e,n,r){i=t(e,n,r),(a>i||i===1/0&&o===1/0)&&(o=e,a=i)});return o},C.shuffle=function(e){for(var t,n=P(e)?e:C.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=C.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},C.sample=function(e,t,n){return null==t||n?(P(e)||(e=C.values(e)),e[C.random(e.length-1)]):C.shuffle(e).slice(0,Math.max(0,t))},C.sortBy=function(e,t,n){return t=k(t,n),C.pluck(C.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,r){var i={};return n=k(n,r),C.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};C.groupBy=D(function(e,t,n){C.has(e,n)?e[n].push(t):e[n]=[t]}),C.indexBy=D(function(e,t,n){e[n]=t}),C.countBy=D(function(e,t,n){C.has(e,n)?e[n]++:e[n]=1}),C.toArray=function(e){return e?C.isArray(e)?d.call(e):P(e)?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:P(e)?e.length:C.keys(e).length},C.partition=function(e,t,n){t=k(t,n);var r=[],i=[];return C.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},C.first=C.head=C.take=function(e,t,n){return null!=e?null==t||n?e[0]:C.initial(e,e.length-t):void 0},C.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},C.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:C.rest(e,Math.max(0,e.length-t)):void 0},C.rest=C.tail=C.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var N=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=A(e);s>a;a++){var u=e[a];if(P(u)&&(C.isArray(u)||C.isArguments(u))){t||(u=N(u,t,n));var l=0,c=u.length;for(i.length+=c;c>l;)i[o++]=u[l++]}else n||(i[o++]=u)}return i};C.flatten=function(e,t){return N(e,t,!1)},C.without=function(e){return C.difference(e,d.call(arguments,1))},C.uniq=C.unique=function(e,t,n,r){C.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var i=[],o=[],a=0,s=A(e);s>a;a++){var u=e[a],l=n?n(u,a,e):u;t?(a&&o===l||i.push(u),o=l):n?C.contains(o,l)||(o.push(l),i.push(u)):C.contains(i,u)||i.push(u)}return i},C.union=function(){return C.uniq(N(arguments,!0,!0))},C.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=A(e);i>r;r++){var o=e[r];if(!C.contains(t,o)){for(var a=1;n>a&&C.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},C.difference=function(e){var t=N(arguments,!0,!0,1);return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){return C.unzip(arguments)},C.unzip=function(e){for(var t=e&&C.max(e,A).length||0,n=Array(t),r=0;t>r;r++)n[r]=C.pluck(e,r);return n},C.object=function(e,t){for(var n={},r=0,i=A(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},C.findIndex=o(1),C.findLastIndex=o(-1),C.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var i=n(t),o=0,a=A(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},C.indexOf=a(1,C.findIndex,C.sortedIndex),C.lastIndexOf=a(-1,C.findLastIndex),C.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var O=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=E(e.prototype),a=e.apply(o,i);return C.isObject(a)?a:o};C.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,d.call(arguments,1));if(!C.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return O(e,r,t,this,n.concat(d.call(arguments)))};return r},C.partial=function(e){var t=d.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===C?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return O(e,n,this,this,o)};return n},C.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=C.bind(e[n],e);return e},C.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return C.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},C.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=C.partial(C.delay,C,1),C.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:C.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=C.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},C.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var l=C.now()-a;t>l&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=C.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s}},C.wrap=function(e,t){return C.partial(t,e)},C.negate=function(e){return function(){return!e.apply(this,arguments)}},C.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},C.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},C.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},C.once=C.partial(C.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];C.keys=function(e){if(!C.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)C.has(e,n)&&t.push(n);return L&&s(e,t),t},C.allKeys=function(e){if(!C.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&s(e,t),t},C.values=function(e){for(var t=C.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},C.mapObject=function(e,t,n){t=k(t,n);for(var r,i=C.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=t(e[r],r,e);return a},C.pairs=function(e){for(var t=C.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},C.invert=function(e){for(var t={},n=C.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=S(C.allKeys),C.extendOwn=C.assign=S(C.keys),C.findKey=function(e,t,n){t=k(t,n);for(var r,i=C.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},C.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;C.isFunction(t)?(i=C.allKeys(a),r=M(t,n)):(i=N(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=i.length;u>s;s++){var l=i[s],c=a[l];r(c,l,a)&&(o[l]=c)}return o},C.omit=function(e,t,n){if(C.isFunction(t))t=C.negate(t);else{var r=C.map(N(arguments,!1,!1,1),String);t=function(e,t){return!C.contains(r,t)}}return C.pick(e,t,n)},C.defaults=S(C.allKeys,!0),C.create=function(e,t){var n=E(e);return t&&C.extendOwn(n,t),n},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e},C.isMatch=function(e,t){var n=C.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var I=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=m.call(e);if(i!==m.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(C.isFunction(a)&&a instanceof a&&C.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!I(e[u],t[u],n,r))return!1}else{var l,c=C.keys(e);if(u=c.length,C.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!C.has(t,l)||!I(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};C.isEqual=function(e,t){return I(e,t)},C.isEmpty=function(e){return null==e?!0:P(e)&&(C.isArray(e)||C.isString(e)||C.isArguments(e))?0===e.length:0===C.keys(e).length},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=g||function(e){return"[object Array]"===m.call(e)},C.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},C.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){C["is"+e]=function(t){return m.call(t)==="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return C.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(C.isFunction=function(e){return"function"==typeof e||!1}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!==+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===m.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return null!=e&&v.call(e,t)},C.noConflict=function(){return u._=l,this},C.identity=function(e){return e},C.constant=function(e){return function(){return e}},C.noop=function(){},C.property=T,C.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},C.matcher=C.matches=function(e){return e=C.extendOwn({},e),function(t){return C.isMatch(t,e)}},C.times=function(e,t,n){var r=Array(Math.max(0,e));t=M(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},C.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=C.invert(F),W=function(e){var t=function(t){return e[t]},n="(?:"+C.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};C.escape=W(F),C.unescape=W(j),C.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),C.isFunction(r)?r.call(e):r};var U=0;C.uniqueId=function(e){var t=++U+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,z=function(e){return"\\"+B[e]};C.template=function(e,t,n){!t&&n&&(t=n),t=C.defaults({},t,C.templateSettings);var r=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(V,z),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,C)},l=t.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},C.chain=function(e){var t=C(e);return t._chain=!0,t};var q=function(e,t){return e._chain?C(t).chain():t};C.mixin=function(e){C.each(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return p.apply(e,arguments),q(this,n.apply(C,e))}})},C.mixin(C),C.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],q(this,n)}}),C.each(["concat","join","slice"],function(e){var t=c[e];C.prototype[e]=function(){return q(this,t.apply(this._wrapped,arguments))}}),C.prototype.value=function(){return this._wrapped},C.prototype.valueOf=C.prototype.toJSON=C.prototype.value,C.prototype.toString=function(){return""+this._wrapped},r=[],i=function(){return C}.apply(t,r),!(void 0!==i&&(e.exports=i))}).call(this)},function(e,t,n){var r,i,o,a,s,u,l,c,f,h,p;f=n(4),i=n(14),o=n(112),c=n(6),l=n(125),e.exports=a={},a.Project=n(118),a.ParticularElement=n(117),a.Layout=n(116),a.Node=n(28),a.NodeWithAttributes=n(63),a.Link=n(39),a.Attribute=n(113),a.Element=n(115),a.Editor=n(114),a.Variable=a.Attribute.createVariant({label:"Variable"}),a.ControlledAttributeLink=a.Link.createVariant({label:"ControlledAttributeLink"}),a.ReferenceLink=a.Link.createVariant({label:"ReferenceLink"}),p=function(e,t,n){var r;return r=a.Attribute.createVariant({label:e,name:t}),r.setExpression(n),r},a.Component=a.NodeWithAttributes.createVariant({label:"Component",graphicClass:o.Component,graphic:function(){var e;return e=new this.graphicClass,f.extend(e,this.getAttributesValuesByName()),e}}),a.Transform=a.Component.createVariant({label:"Transform",matrix:function(){var e,t,n,r,i,o;return e=this.getAttributesValuesByName(),i=e.x,o=e.y,n=e.sx,r=e.sy,t=e.rotate,c.Matrix.naturalConstruct(i,o,n,r,t)},defaultAttributesToChange:function(){var e,t,n;return e=this.getAttributesByName(),t=e.x,n=e.y,[t,n]},controllableAttributes:function(){var e,t,n,r,i,o;return e=this.getAttributesByName(),i=e.x,o=e.y,n=e.sx,r=e.sy,t=e.rotate,[i,o,n,r,t]},controlPoints:function(){var e,t,n,r,i;return e=this.getAttributesByName(),r=e.x,i=e.y,t=e.sx,n=e.sy,[{point:[0,0],attributesToChange:[r,i],filled:!0},{point:[1,0],attributesToChange:[t],filled:!1},{point:[0,1],attributesToChange:[n],filled:!1}]}}),a.Transform.addChildren([p("X","x","0.00"),p("Y","y","0.00"),p("Scale X","sx","1.00"),p("Scale Y","sy","1.00"),p("Rotate","rotate","0.00")]),a.Fill=a.Component.createVariant({label:"Fill",graphicClass:o.Fill}),a.Fill.addChildren([p("Fill Color","color","rgba(0.93, 0.93, 0.93, 1.00)")]),a.Stroke=a.Component.createVariant({label:"Stroke",graphicClass:o.Stroke}),a.Stroke.addChildren([p("Stroke Color","color","rgba(0.60, 0.60, 0.60, 1.00)"),p("Line Width","lineWidth","1")]),u="renderingContext",r="anchorCollectionContext",s="noDraggingContext",a.Shape=a.Element.createVariant({label:"Shape",getAllowedShapeInterpretationContext:function(){return[u]},getAllowedShapeInterpretationContextForChildren:function(){return[u]}}),a.Shape.addChildren([a.Transform.createVariant()]),a.Group=a.Shape.createVariant({label:"Group",getAllowedShapeInterpretationContext:function(){var e,t;return e=this.childElements(),t=f.some(e,function(e){return f.some(e.getAllowedShapeInterpretationContext(),function(e){return e===u})}),0===e.length?[r,u]:t?[u]:[r]},getAllowedShapeInterpretationContextForChildren:function(){var e;return(null!=(e=this._parent)?e.getAllowedShapeInterpretationContextForChildren:void 0)?this._parent.getAllowedShapeInterpretationContextForChildren():[u]},graphicClass:o.Group}),a.Anchor=a.Shape.createVariant({label:"Anchor",getAllowedShapeInterpretationContext:function(){return[r]},getAllowedShapeInterpretationContextForChildren:function(){return[s]},graphicClass:o.Anchor}),h=function(e,t){var n,r,i;return n=a.Anchor.createVariant(),i=n.childOfType(a.Transform),r=i.getAttributesByName(),r.x.setExpression(e),r.y.setExpression(t),n},a.PathComponent=a.Component.createVariant({_devLabel:"PathComponent",label:"Path",graphicClass:o.PathComponent}),a.PathComponent.addChildren([p("Close Path","closed","true")]),a.Path=a.Shape.createVariant({label:"Path",graphicClass:o.Path}),a.Path.addChildren([a.PathComponent.createVariant(),a.Fill.createVariant(),a.Stroke.createVariant()]),a.Circle=a.Path.createVariant({label:"Circle",getAllowedShapeInterpretationContextForChildren:function(){return[s]},graphicClass:o.Circle}),a.Rectangle=a.Path.createVariant({label:"Rectangle",getAllowedShapeInterpretationContextForChildren:function(){return[r]}}),a.Rectangle.addChildren([h("0.00","0.00"),h("0.00","1.00"),h("1.00","1.00"),h("1.00","0.00")]),a.TextComponent=a.Component.createVariant({_devLabel:"TextComponent",label:"Text",graphicClass:o.TextComponent}),a.TextComponent.addChildren([p("Text","text",'"Text"'),p("Font","fontFamily",'"Lucida Grande"'),p("Color","color","rgba(0.20, 0.20, 0.20, 1.00)"),p("Align","textAlign",'"start"'),p("Baseline","textBaseline",'"alphabetic"')]),a.Text=a.Shape.createVariant({label:"Text",graphicClass:o.Text,getAllowedShapeInterpretationContextForChildren:function(){return[s]}}),a.Text.addChildren([a.TextComponent.createVariant()]),a.ImageComponent=a.Component.createVariant({_devLabel:"ImageComponent",label:"Image",graphicClass:o.ImageComponent}),a.ImageComponent.addChildren([p("URL","url",'"'+l+'"')]),a.Image=a.Shape.createVariant({label:"Image",graphicClass:o.Image,getAllowedShapeInterpretationContextForChildren:function(){return[s]}}),a.Image.addChildren([a.ImageComponent.createVariant()])},function(e,t,n){var r,i,o,a;i=n(4),a=n(72),e.exports=r={},r.Matrix=n(123),r.matches=function(e,t){var n,r,i;return n=null!=(r=null!=(i=Element.prototype.webkitMatchesSelector)?i:Element.prototype.mozMatchesSelector)?r:Element.prototype.oMatchesSelector,n.call(e,t)},r.closest=function(e,t){var n,o;if(null!=e&&e.nodeType===Node.ELEMENT_NODE)return n=i.isString(t)?function(e){return r.matches(e,t)}:t,n(e)?e:(o=e.parentNode,r.closest(o,n))},r.mouseDownPreventDefault=function(e){var t,n,r,i,o;for(e.preventDefault(),document.activeElement.blur(),window.getSelection().removeAllRanges(),document.body.focus(),i=document.querySelectorAll(".CodeMirror-focused"),o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(t.CodeMirror.getInputField().blur());return o},r.textFocus=function(){var e,t;return(e=document.querySelector(".CodeMirror-focused"))?e.CodeMirror:(null!=(t=document.activeElement)?t.isContentEditable:void 0)?document.activeElement:null},r.clearTextFocus=function(){var e,t,n,r,i;for(document.activeElement.blur(),window.getSelection().removeAllRanges(),document.body.focus(),r=document.querySelectorAll(".CodeMirror-focused"),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.CodeMirror.getInputField().blur());return i},r.getId=function(e){return e.hasOwnProperty("id")?e.id:r.assignId(e,r.generateId())},r.assignId=function(e,t){return e.id=t},o=0,r.generateId=function(){return"id"+Math.random().toString(36).substr(2,6)+Date.now().toString(36)+(o++).toString(36)},r.quadrance=function(e,t){var n;return n=a["-"](e,t),a.dot(n,n)},r.solve=function(e,t){var n,r;return r=a.uncmin(e,t),isNaN(r.f)?(console.warn("NaN"),t):n=r.solution},r.precision=function(e){var t;return e=""+e,t=e.indexOf("."),-1===t?0:e.length-t-1},r.toPrecision=function(e,t){return e=r.roundToPrecision(e,t),e.toFixed(t)},r.toMaxPrecision=function(e,t){return e=r.toPrecision(e,t),e.indexOf(".")&&(e=e.replace(/\.?0+$/,"")),e},r.roundToPrecision=function(e,t){var n;return n=Math.pow(10,t),e=Math.round(e*n)/n},r.stringMatchIndices=function(e,t){var n,r;for(r=[],n=-1;;){if(n=e.indexOf(t,n+1),-1===n)break;r.push(n)}return r},r.charToLineCh=function(e,t){var n,r;return r=e.substr(0,t),n=r.split("\n"),{line:n.length-1,ch:i.last(n).length}},r.isNumberString=function(e){return/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(e)},r.isStringLiteral=function(e){return/^(?:"(?:\\"|[^"\r\n])*"|'(?:\\'|[^'\r\n])*')$/.test(e)}},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===B?e.documentElement:e.firstChild:null}function o(e){var t=i(e);return t&&Q.getID(t)}function a(e){var t=s(e);if(t)if(U.hasOwnProperty(t)){var n=U[t];n!==e&&(f(n,t)?I(!1):void 0,U[t]=e)}else U[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(W)||""}function u(e,t){var n=s(e);n!==t&&delete U[n],e.setAttribute(W,t),U[t]=e}function l(e){return U.hasOwnProperty(e)&&f(U[e],e)||(U[e]=Q.findReactNodeByID(e)),U[e]}function c(e){var t=E.get(e)._rootNodeID;return k.isNullComponentID(t)?null:(U.hasOwnProperty(t)&&f(U[t],t)||(U[t]=Q.findReactNodeByID(t)),U[t])}function f(e,t){if(e){s(e)!==t?I(!1):void 0;var n=Q.findReactContainerForID(t);if(n&&L(n,e))return!0}return!1}function h(e){delete U[e]}function p(e){var t=U[e];return t&&f(t,e)?void(G=t):!1}function d(e){G=null,S.traverseAncestors(e,p);var t=G;return G=null,t}function m(e,t,n,r,i,o){C.useCreateElement&&(o=N({},o),n.nodeType===B?o[z]=n:o[z]=n.ownerDocument);var a=A.mountComponent(e,t,r,o);e._renderedComponent._topLevelWrapper=e,Q._mountImageIntoNode(a,n,i,r)}function v(e,t,n,r,i){var o=D.ReactReconcileTransaction.getPooled(r);o.perform(m,null,e,t,n,o,r,i),D.ReactReconcileTransaction.release(o)}function g(e,t){for(A.unmountComponent(e),t.nodeType===B&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=o(e);return t?t!==S.getReactRootIDFromNodeID(t):!1}function b(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=s(e);if(t){var n,r=S.getReactRootIDFromNodeID(t),i=e;do if(n=s(i),i=i.parentNode,null==i)return null;while(n!==r);if(i===K[r])return e}}return null}var w=n(21),x=n(30),C=(n(16),n(82)),M=n(10),k=n(89),S=n(22),E=n(26),T=n(92),_=n(11),A=n(19),P=n(48),D=n(12),N=n(3),O=n(23),L=n(66),R=n(55),I=n(1),F=n(37),j=n(58),W=(n(60),n(2),w.ID_ATTRIBUTE_NAME),U={},H=1,B=9,V=11,z="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),q={},K={},X=[],G=null,Y=function(){};Y.prototype.isReactComponent={},Y.prototype.render=function(){return this.props};var Q={TopLevelWrapper:Y,_instancesByReactRootID:q,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return Q.scrollMonitor(n,function(){P.enqueueElementInternal(e,t),r&&P.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){!t||t.nodeType!==H&&t.nodeType!==B&&t.nodeType!==V?I(!1):void 0,x.ensureScrollValueMonitoring();var n=Q.registerContainer(t);return q[n]=e,n},_renderNewRootComponent:function(e,t,n,r){var i=R(e,null),o=Q._registerComponent(i,t);return D.batchedUpdates(v,i,o,t,n,r),i},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?I(!1):void 0,Q._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){M.isValidElement(t)?void 0:I(!1);var a=new M(Y,null,null,null,null,null,t),u=q[o(n)];if(u){var l=u._currentElement,c=l.props;if(j(c,t)){var f=u._renderedComponent.getPublicInstance(),h=r&&function(){r.call(f)};return Q._updateRootComponent(u,a,n,h),f}Q.unmountComponentAtNode(n)}var p=i(n),d=p&&!!s(p),m=y(n),v=d&&!u&&!m,g=Q._renderNewRootComponent(a,n,v,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):O)._renderedComponent.getPublicInstance();return r&&r.call(g),g},render:function(e,t,n){return Q._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=o(e);return t&&(t=S.getReactRootIDFromNodeID(t)),t||(t=S.createReactRootID()),K[t]=e,t},unmountComponentAtNode:function(e){!e||e.nodeType!==H&&e.nodeType!==B&&e.nodeType!==V?I(!1):void 0;var t=o(e),n=q[t];if(!n){var r=(y(e),s(e));r&&r===S.getReactRootIDFromNodeID(r);return!1}return D.batchedUpdates(g,n,e),delete q[t],delete K[t],!0},findReactContainerForID:function(e){var t=S.getReactRootIDFromNodeID(e),n=K[t];return n},findReactNodeByID:function(e){var t=Q.findReactContainerForID(e);return Q.findComponentRoot(t,e)},getFirstReactDOM:function(e){return b(e)},findComponentRoot:function(e,t){var n=X,r=0,i=d(t)||e;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var o,a=n[r++];a;){var s=Q.getID(a);s?t===s?o=a:S.isAncestorIDOf(s,t)&&(n.length=r=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,I(!1)},_mountImageIntoNode:function(e,t,n,o){if(!t||t.nodeType!==H&&t.nodeType!==B&&t.nodeType!==V?I(!1):void 0,n){var a=i(t);if(T.canReuseMarkup(e,a))return;var s=a.getAttribute(T.CHECKSUM_ATTR_NAME);a.removeAttribute(T.CHECKSUM_ATTR_NAME);var u=a.outerHTML;a.setAttribute(T.CHECKSUM_ATTR_NAME,s);var l=e,c=r(l,u);" (client) "+l.substring(c-20,c+20)+"\n (server) "+u.substring(c-20,c+20);t.nodeType===B?I(!1):void 0}if(t.nodeType===B?I(!1):void 0,o.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else F(t,e)},ownerDocumentContextKey:z,getReactRootID:o,getID:a,setID:u,getNode:l,getNodeFromInstance:c,isValid:f,purgeID:h};_.measureMethods(Q,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=Q},function(e,t,n){var r,i,o,a,s,u,l,c,f,h,p,d={}.hasOwnProperty;a=n(103),s=n(157),u=n(4),i=n(5),e.exports=o={},h=a.DOM;for(f in h)d.call(h,f)&&(p=h[f],o[f]=p);o.cx=function(e){return Object.keys(e).filter(function(t){return e[t]}).join(" ")},o.AnnotateMixin={componentDidMount:function(){return this._annotateDOMNode()},componentDidUpdate:function(){return this._annotateDOMNode()},componentWillUnmount:function(){return this._clearAnnotation()},_annotateDOMNode:function(){var e;return e=s.findDOMNode(this),e.annotation=this.annotation()},_clearAnnotation:function(){var e;return e=s.findDOMNode(this),delete e.annotation}},o.create=function(e,t){var n,r,i,s,u;for(t.displayName=e,s=["propTypes","childContextTypes","contextTypes"],r=0,i=s.length;i>r;r++)u=s[r],t[u]&&(t[u]=c(t[u]));return n=a.createClass(t),o[e]=a.createFactory(n)},o.render=s.render,o.findDOMNode=s.findDOMNode,c=function(e){return u.mapObject(e,l)},l=function(e){return e===Number?a.PropTypes.number.isRequired:e===String?a.PropTypes.string.isRequired:e===Boolean?a.PropTypes.bool.isRequired:e===Function?a.PropTypes.func.isRequired:e===Array?a.PropTypes.array.isRequired:e===Object?a.PropTypes.object.isRequired:"any"===e?a.PropTypes.any:null!=e.isVariantOf?function(t,n,r){var i;return i=t[n],i.isVariantOf(e)?void 0:new Error("In `"+r+"`, property `"+n+"` is the wrong type.")}:a.PropTypes.instanceOf(e).isRequired},o.DragManager=n(135),o.HoverManager=n(136),n(132),n(133),n(129),n(137),n(128),n(126),n(139),n(138),n(134),n(127),n(130),n(131),r=n(158),o.Dropzone=a.createFactory(r)},function(e,t,n){"use strict";var r=n(16),i=n(3),o=(n(35),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(e,t,n,r,i,a,s){var u={$$typeof:o,type:e,key:t,ref:n,props:s,_owner:a};return u};s.createElement=function(e,t,n){var i,o={},u=null,l=null,c=null,f=null;if(null!=t){l=void 0===t.ref?null:t.ref,u=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,f=void 0===t.__source?null:t.__source;for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(o[i]=t[i])}var h=arguments.length-2;if(1===h)o.children=n;else if(h>1){for(var p=Array(h),d=0;h>d;d++)p[d]=arguments[d+2];o.children=p}if(e&&e.defaultProps){var m=e.defaultProps;for(i in m)"undefined"==typeof o[i]&&(o[i]=m[i]);
}return s(e,u,l,c,f,r.current,o)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceKey=function(e,t){var n=s(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},s.cloneAndReplaceProps=function(e,t){var n=s(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n},s.cloneElement=function(e,t,n){var o,u=i({},e.props),l=e.key,c=e.ref,f=e._self,h=e._source,p=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,p=r.current),void 0!==t.key&&(l=""+t.key);for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(u[o]=t[o])}var d=arguments.length-2;if(1===d)u.children=n;else if(d>1){for(var m=Array(d),v=0;d>v;v++)m[v]=arguments[v+2];u.children=m}return s(e.type,l,c,f,h,p,u)},s.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},e.exports=s},function(e,t,n){"use strict";function r(e,t,n){return n}var i={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){i.storedMeasure=e}}};e.exports=i},function(e,t,n){"use strict";function r(){E.ReactReconcileTransaction&&w?void 0:v(!1)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=E.ReactReconcileTransaction.getPooled(!1)}function o(e,t,n,i,o,a){r(),w.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length?v(!1):void 0,g.sort(a);for(var n=0;t>n;n++){var r=g[n],i=r._pendingCallbacks;if(r._pendingCallbacks=null,p.performUpdateIfNecessary(r,e.reconcileTransaction),i)for(var o=0;o<i.length;o++)e.callbackQueue.enqueue(i[o],r.getPublicInstance())}}function u(e){return r(),w.isBatchingUpdates?void g.push(e):void w.batchedUpdates(u,e)}function l(e,t){w.isBatchingUpdates?void 0:v(!1),y.enqueue(e,t),b=!0}var c=n(42),f=n(18),h=n(11),p=n(19),d=n(34),m=n(3),v=n(1),g=[],y=c.getPooled(),b=!1,w=null,x={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),k()):g.length=0}},C={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},M=[x,C];m(i.prototype,d.Mixin,{getTransactionWrappers:function(){return M},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,E.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return d.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(i);var k=function(){for(;g.length||b;){if(g.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(b){b=!1;var t=y;y=c.getPooled(),t.notifyAll(),c.release(t)}}};k=h.measure("ReactUpdates","flushBatchedUpdates",k);var S={injectReconcileTransaction:function(e){e?void 0:v(!1),E.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:v(!1),"function"!=typeof e.batchedUpdates?v(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?v(!1):void 0,w=e}},E={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:k,injection:S,asap:l};e.exports=E},function(e,t){"use strict";function n(e){return function(){return e}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){var r,i,o,a,s,u,l,c,f,h;l=n(4),r=n(106),o=n(107),a=n(62),s=n(108),f=new r,h=new o({spreadEnv:s.empty,shouldThrow:!1}),u=function(){function e(e){this.spread=e}return e}(),c=function(e){var t,n,r,i,o,c;return c=function(){var t,n;try{return h.context.shouldThrow?e():h["with"]({shouldThrow:!0},e)}catch(n){if(t=n,t instanceof u)return r(t.spread);throw t}},r=function(e){var t,n;return t=h.context.spreadEnv,n=l.map(e.items,function(n,r){var i;return i=t.assign(e,r),h["with"]({spreadEnv:i},c)}),new a(n,e.origin)},i=f.memoize(function(){return h["with"]({spreadEnv:s.empty},c)}),o=function(e){var t;return t=h.context.spreadEnv,t.resolve(e)},t=function(){return f.run(function(){var e;return e=i(),e=o(e)})},n=function(){return f.run(function(){var e;if(e=t(),h.context.shouldThrow&&e instanceof a)throw new u(e);return e})},n.asSpread=t,n},e.exports=i={run:function(e){return f.run(e)},currentSpreadEnv:function(){return h.context.spreadEnv},memoize:function(e){return f.memoize(e)},cell:c,Spread:a,SpreadEnv:s,UnresolvedSpreadError:u}},function(e,t,n){"use strict";var r=n(29),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};e.exports=a},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){"use strict";var r=n(1),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},u=function(e,t,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r,i),a}return new o(e,t,n,r,i)},l=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,f=i,h=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||f,n.poolSize||(n.poolSize=c),n.release=l,n},p={addPoolingTo:h,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};e.exports=p},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(189),o={mountComponent:function(e,t,n,i){var o=e.mountComponent(t,n,i);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e),o},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var i=n(18),o=n(3),a=n(13),s=(n(2),{type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=s,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);o(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),e.exports=r},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(1),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)?i(!1):void 0;var h=f.toLowerCase(),p=n[f],d={attributeName:h,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseAttribute:r(p,t.MUST_USE_ATTRIBUTE),mustUseProperty:r(p,t.MUST_USE_PROPERTY),hasSideEffects:r(p,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(p,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(p,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(p,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(p,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.mustUseAttribute&&d.mustUseProperty?i(!1):void 0,!d.mustUseProperty&&d.hasSideEffects?i(!1):void 0,d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:i(!1),u.hasOwnProperty(f)){var m=u[f];d.attributeName=m}a.hasOwnProperty(f)&&(d.attributeNamespace=a[f]),l.hasOwnProperty(f)&&(d.propertyName=l[f]),c.hasOwnProperty(f)&&(d.mutationMethod=c[f]),s.properties[f]=d}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=a[e];return r||(a[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:o};e.exports=s},function(e,t,n){"use strict";function r(e){return p+e.toString(36)}function i(e,t){return e.charAt(t)===p||t===e.length}function o(e){return""===e||e.charAt(0)===p&&e.charAt(e.length-1)!==p}function a(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(p)):""}function u(e,t){if(o(e)&&o(t)?void 0:h(!1),a(e,t)?void 0:h(!1),e===t)return e;var n,r=e.length+d;for(n=r;n<t.length&&!i(t,n);n++);return t.substr(0,n)}function l(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,a=0;n>=a;a++)if(i(e,a)&&i(t,a))r=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,r);return o(s)?void 0:h(!1),s}function c(e,t,n,r,i,o){e=e||"",t=t||"",e===t?h(!1):void 0;var l=a(t,e);l||a(e,t)?void 0:h(!1);for(var c=0,f=l?s:u,p=e;;p=f(p,t)){var d;if(i&&p===e||o&&p===t||(d=n(p,l,r)),d===!1||p===t)break;c++<m?void 0:h(!1)}}var f=n(97),h=n(1),p=".",d=p.length,m=1e4,v={createReactRootID:function(){return r(f.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===p&&e.length>1){var t=e.indexOf(p,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,i){var o=l(e,t);o!==e&&c(e,o,n,r,!1,!0),o!==t&&c(o,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(c("",e,t,n,!0,!0),c(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},getFirstCommonAncestorID:l,_getNextDescendantID:u,isAncestorIDOf:a,SEPARATOR:p};e.exports=v},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(77),i=n(167),o=n(90),a=n(99),s=n(100),u=n(1),l=(n(2),{}),c=null,f=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return f(e,!0)},p=function(e){return f(e,!1)},d=null,m={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){d=e},getInstanceHandle:function(){return d},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n?u(!1):void 0;var i=l[t]||(l[t]={});i[e]=n;var o=r.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];return n&&n[e]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var i=l[t];i&&delete i[e]},deleteAllListeners:function(e){for(var t in l)if(l[t][e]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete l[t][e]}},extractEvents:function(e,t,n,i,o){for(var s,u=r.plugins,l=0;l<u.length;l++){var c=u[l];if(c){var f=c.extractEvents(e,t,n,i,o);f&&(s=a(s,f))}}return s},enqueueEvents:function(e){e&&(c=a(c,e))},processEventQueue:function(e){var t=c;c=null,e?s(t,h):s(t,p),c?u(!1):void 0,o.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};e.exports=m},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return y(e,r)}function i(e,t,n){var i=t?g.bubbled:g.captured,o=r(e,n,i);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchIDs=m(n._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,i,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=y(e,r);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchIDs=m(n._dispatchIDs,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function l(e){v(e,o)}function c(e){v(e,a)}function f(e,t,n,r){d.injection.getInstanceHandle().traverseEnterLeave(n,r,s,e,t)}function h(e){v(e,u)}var p=n(15),d=n(24),m=(n(2),n(99)),v=n(100),g=p.PropagationPhases,y=d.getListener,b={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:f};e.exports=b},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(20),o=n(53),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t,n){var r,i;i=n(4),e.exports=r={label:"Node",constructor:function(e,t){return this._master=e,this._head=t,this._variants=[],this._parent=null,this._children=[],this._isHatched=!1},master:function(){return this._master},variants:function(){var e,t,n,r,i;if(n=this.parent())for(i=n.variants(),e=0,t=i.length;t>e;e++)r=i[e],r._hatch();return this._variants},parent:function(){return this._parent},children:function(){return this._hatch(),this._children},head:function(){return this._head},_hatch:function(){var e,t,n,r,i,o,a;if(!this._isHatched&&(null!=(i=this._master)&&i._hatch(),this._isHatched=!0,null!=this._master)){for(o=this._master.children(),a=[],e=0,t=o.length;t>e;e++)n=o[e],r=n._createVariantWithHead(this._head),a.push(this.addChild(r));return a}},addChild:function(e,t){var n,r,i,o,a,s,u,l;for(null==t&&(t=1/0),this._hatch(),r=e.parent(),r&&r.removeChild(e),this._children.splice(t,0,e),e._parent=this,s=this._variants,u=[],o=0,a=s.length;a>o;o++)l=s[o],l._isHatched&&(i=l.head(),n=e.findVariantWithHead(i),n||(n=e._createVariantWithHead(i)),u.push(l.addChild(n,t)));return u},removeChild:function(e){var t,n,r,i,o,a,s,u;if(this._hatch(),i=this._children.indexOf(e),-1===i)throw"Cannot remove a child that doesn't exist";for(this._children.splice(i,1),e._parent=null,a=this._variants,s=[],r=0,o=a.length;o>r;r++)u=a[r],u._isHatched&&(n=u.head(),t=e.findVariantWithHead(n),(null!=t?t.parent():void 0)===u?s.push(u.removeChild(t)):s.push(void 0));return s},_createVariantWithHead:function(e,t){var n;return null==e&&(e=null),n=Object.create(this),null!=t&&i.extend(n,t),null==e&&(e=n),n.constructor(this,e),this._variants.push(n),n},createVariant:function(e){return this._createVariantWithHead(null,e)},findVariantWithHead:function(e){return i.find(this.variants(),function(t){return t.head()===e})},isVariantOf:function(e){return e===this||e.isPrototypeOf(this)},isAncestorOf:function(e){var t;return this===e?!0:(t=e.parent())?this.isAncestorOf(t):!1},addChildren:function(e){var t,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(this.addChild(t));return i},childrenOfType:function(e){return i.filter(this.children(),function(t){return t.isVariantOf(e)})},childOfType:function(e){return i.find(this.children(),function(t){return t.isVariantOf(e)})},depth:function(){return this.parent()?1+this.parent().depth():0},replaceChildWith:function(e,t){var n;return n=this.children().indexOf(e),this.removeChild(e),this.addChild(t,n)},devLabel:function(){return this._devLabel||this.label||"[NO LABEL]"},masterLineage:function(e){return null==e&&(e=!1),this.lineage("master",e)},parentThenMasterLineage:function(e){return null==e&&(e=!1),this.lineage(["parent","master"],e)},headThenMasterLineage:function(e){return null==e&&(e=!1),this.lineage(["head","master"],e)},lineage:function(e,t){var n,r,o,a,s,u,l,c,f;for(null==t&&(t=!1),n=t?this.devLabel():this,c=i.isArray(e),l=c?e:[e],r=0,o=l.length;o>r;r++)if(f=l[r],u=this["_"+f],u&&u!==this){s=f,a=u.lineage(e,t);break}return s||(s="end",a=[]),a.unshift(c?[n,s]:n),a}},r.constructor(null,null)},function(e,t,n){"use strict";var r=n(1),i=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=i},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,v)||(e[v]=d++,h[e[v]]={}),h[e[v]]}var i=n(15),o=n(24),a=n(77),s=n(182),u=n(11),l=n(98),c=n(3),f=n(56),h={},p=!1,d=0,m={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),g=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),s=a.registrationNameDependencies[e],u=i.topLevelTypes,l=0;l<s.length;l++){var c=s[l];o.hasOwnProperty(c)&&o[c]||(c===u.topWheel?f("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):f("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?f("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(f("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):f("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):m.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,m[c],n),o[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!p){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),p=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});u.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),e.exports=g},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(29),i=r({prop:null,context:null,childContext:null});e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(27),o=n(98),a=n(52),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(1),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,u){this.isInTransaction()?r(!1):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,i,o,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};e.exports=o},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t){"use strict";function n(e){return i[e]}function r(e){return(""+e).replace(o,n)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;e.exports=r},function(e,t,n){"use strict";var r=n(7),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=a},function(e,t,n){!function(t){e.exports=t()}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r?Fi(r):{},Fi(ea,r,!1),p(r);var i=r.value;"string"==typeof i&&(i=new ka(i,r.mode,null,r.lineSeparator)),this.doc=i;var o=new e.inputStyles[r.inputStyle](this),a=this.display=new t(n,i,o);a.wrapper.CodeMirror=this,l(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!Ao&&a.input.focus(),g(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Pi,keySeq:null,specialChars:null};var u=this;bo&&11>wo&&setTimeout(function(){u.display.input.reset(!0)},20),Bt(this),Yi(),wt(this),this.curOp.forceUpdate=!0,Qr(this,i),r.autofocus&&!Ao||u.hasFocus()?setTimeout(ji(gn,this),20):yn(this);for(var c in ta)ta.hasOwnProperty(c)&&ta[c](this,r[c],na);C(this),r.finishInit&&r.finishInit(this);for(var f=0;f<aa.length;++f)aa[f](this);Ct(this),xo&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function t(e,t,n){var r=this;this.input=n,r.scrollbarFiller=Bi("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=Bi("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Bi("div",null,"CodeMirror-code"),r.selectionDiv=Bi("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=Bi("div",null,"CodeMirror-cursors"),r.measure=Bi("div",null,"CodeMirror-measure"),r.lineMeasure=Bi("div",null,"CodeMirror-measure"),r.lineSpace=Bi("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=Bi("div",[Bi("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Bi("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=Bi("div",null,null,"position: absolute; height: "+Ra+"px; width: 1px;"),r.gutters=Bi("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=Bi("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Bi("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),bo&&8>wo&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),xo||vo&&Ao||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,We(e,100),e.state.modeGen++,e.curOp&&Rt(e)}function i(e){e.options.lineWrapping?(Ja(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Za(e.display.wrapper,"CodeMirror-wrap"),h(e)),a(e),Rt(e),st(e),setTimeout(function(){y(e)},100)}function o(e){var t=yt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/bt(e.display)-3);return function(i){if(Cr(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function a(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&ei(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),st(e)}function u(e){l(e),Rt(e),setTimeout(function(){x(e)},20)}function l(e){var t=e.display.gutters,n=e.options.gutters;Vi(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(Bi("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function f(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=mr(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=vr(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function h(e){var t=e.display,n=e.doc;t.maxLine=Zr(n,n.first),t.maxLineLength=f(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=f(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=Oi(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function d(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+ze(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Ke(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function m(e,t,n){this.cm=n;var r=this.vert=Bi("div",[Bi("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Bi("div",[Bi("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),Pa(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),Pa(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bo&&8>wo&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function v(){}function g(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Za(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Pa(e,"mousedown",function(){
t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?on(t,e):rn(t,e)},t),t.display.scrollbars.addClass&&Ja(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=d(e));var n=e.display.barWidth,r=e.display.barHeight;b(e,t);for(var i=0;4>i&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&D(e),b(e,d(e)),n=e.display.barWidth,r=e.display.barHeight}function b(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Ve(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=ni(t,r),a=ni(t,i);if(n&&n.ensure){var s=n.ensure.from.line,u=n.ensure.to.line;o>s?(o=s,a=ni(t,ri(Zr(t,s))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=a&&(o=ni(t,ri(Zr(t,u))-e.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function x(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=k(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function C(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=M(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Bi("div",[Bi("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",c(e),!0}return!1}function M(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function k(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function S(e,t,n){var r=e.display;this.viewport=t,this.visible=w(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Xe(e),this.force=n,this.dims=O(e),this.events=[]}function E(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ke(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ke(e)+"px",t.scrollbarsClipped=!0)}function T(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Ft(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ht(e))return!1;C(e)&&(Ft(e),t.dims=O(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Fo&&(o=wr(e.doc,o),a=xr(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Ut(e,o,a),n.viewOffset=ri(Zr(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=Ht(e);if(!s&&0==u&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var l=qi();return u>4&&(n.lineDiv.style.display="none"),L(e,n.updateLineNumbers,t.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,l&&qi()!=l&&l.offsetHeight&&l.focus(),Vi(n.cursorDiv),Vi(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,We(e,400)),n.updateLineNumbers=null,!0}function _(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Xe(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+ze(e.display)-Ge(e),n.top)}),t.visible=w(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&T(e,t);r=!1){D(e);var i=d(e);Le(e),y(e,i),P(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function A(e,t){var n=new S(e,t);if(T(e,n)){D(e),_(e,n);var r=d(e);Le(e),y(e,r),P(e,r),n.finish()}}function P(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ke(e)+"px"}function D(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,o=t.view[r];if(!o.hidden){if(bo&&8>wo){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var u=o.line.height-i;if(2>i&&(i=yt(t)),(u>.001||-.001>u)&&(ei(o.line,i),N(o.line),o.rest))for(var l=0;l<o.rest.length;l++)N(o.rest[l])}}}function N(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function O(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:k(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function L(e,t,n){function r(t){var n=t.nextSibling;return xo&&Po&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,o=e.options.lineNumbers,a=i.lineDiv,s=a.firstChild,u=i.view,l=i.viewFrom,c=0;c<u.length;c++){var f=u[c];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;s!=f.node;)s=r(s);var h=o&&null!=t&&l>=t&&f.lineNumber;f.changes&&(Oi(f.changes,"gutter")>-1&&(h=!1),R(e,f,l,n)),h&&(Vi(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(M(e.options,l)))),s=f.node.nextSibling}else{var p=V(e,f,l,n);a.insertBefore(p,s)}l+=f.size}for(;s;)s=r(s)}function R(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?W(e,t):"gutter"==o?H(e,t,n,r):"class"==o?U(t):"widget"==o&&B(e,t,r)}t.changes=null}function I(e){return e.node==e.text&&(e.node=Bi("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),bo&&8>wo&&(e.node.style.zIndex=2)),e.node}function F(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=I(e);e.background=n.insertBefore(Bi("div",null,t),n.firstChild)}}function j(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):jr(e,t)}function W(e,t){var n=t.text.className,r=j(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,U(t)):n&&(t.text.className=n)}function U(e){F(e),e.line.wrapClass?I(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function H(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=I(t);t.gutterBackground=Bi("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var i=I(t),a=t.gutter=Bi("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),i.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(Bi("div",M(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var u=e.options.gutters[s],l=o.hasOwnProperty(u)&&o[u];l&&a.appendChild(Bi("div",[l],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function B(e,t,n){t.alignable&&(t.alignable=null);for(var r,i=t.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}z(e,t,n)}function V(e,t,n,r){var i=j(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),U(t),H(e,t,n,r),z(e,t,r),t.node}function z(e,t,n){if(q(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)q(e,t.rest[r],t,n,!1)}function q(e,t,n,r,i){if(t.widgets)for(var o=I(n),a=0,s=t.widgets;a<s.length;++a){var u=s[a],l=Bi("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),K(u,l,n,r),e.display.input.setUneditable(l),i&&u.above?o.insertBefore(l,n.gutter||n.text):o.appendChild(l),ki(u,"redraw")}}function K(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function X(e){return jo(e.line,e.ch)}function G(e,t){return Wo(e,t)<0?t:e}function Y(e,t){return Wo(e,t)<0?e:t}function Q(e){e.state.focused||(e.display.input.focus(),gn(e))}function Z(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=o.splitLines(t),u=null;if(a&&r.ranges.length>1)if(Uo&&Uo.join("\n")==t){if(r.ranges.length%Uo.length==0){u=[];for(var l=0;l<Uo.length;l++)u.push(o.splitLines(Uo[l]))}}else s.length==r.ranges.length&&(u=Li(s,function(e){return[e]}));for(var l=r.ranges.length-1;l>=0;l--){var c=r.ranges[l],f=c.from(),h=c.to();c.empty()&&(n&&n>0?f=jo(f.line,f.ch-n):e.state.overwrite&&!a&&(h=jo(h.line,Math.min(Zr(o,h.line).text.length,h.ch+Ni(s).length))));var p=e.curOp.updateInput,d={from:f,to:h,text:u?u[l%u.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};En(e.doc,d),ki(e,"inputRead",e,d)}t&&!a&&$(e,t),jn(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||At(t,function(){Z(t,n,0,null,"paste")}),!0):void 0}function $(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Un(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Zr(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Un(e,i.head.line,"smart"));a&&ki(e,"electricInput",e,i.head.line)}}}function ee(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:jo(i,0),head:jo(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Pi,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function re(){var e=Bi("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Bi("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xo?e.style.width="1000px":e.setAttribute("wrap","off"),_o&&(e.style.border="1px solid black"),te(e),t}function ie(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Pi,this.gracePeriod=!1}function oe(e,t){var n=$e(e,t.line);if(!n||n.hidden)return null;var r=Zr(e.doc,t.line),i=Qe(n,r,t.line),o=ii(r),a="left";if(o){var s=lo(o,t.ch);a=s%2?"right":"left"}var u=nt(i.map,t.ch,a);return u.offset="right"==u.collapse?u.end:u.start,u}function ae(e,t){return t&&(e.bad=!0),e}function se(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return ae(e.clipPos(jo(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return ue(o,t,n)}}function ue(e,t,n){function r(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=0>i?l.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var u=ti(0>i?e.line:e.rest[i]),f=o[a]+r;return(0>r||s!=t)&&(f=o[a+(r?1:0)]),jo(u,f)}}}var i=e.text.firstChild,o=!1;if(!t||!Ga(i,t))return ae(jo(ti(e.line),0),!0);if(t==i&&(o=!0,t=i.childNodes[n],n=0,!t)){var a=e.rest?Ni(e.rest):e.line;return ae(jo(ti(a),a.text.length),o)}var s=3==t.nodeType?t:null,u=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var l=e.measure,c=l.maps,f=r(s,u,n);if(f)return ae(f,o);for(var h=u.nextSibling,p=s?s.nodeValue.length-n:0;h;h=h.nextSibling){if(f=r(h,h.firstChild,0))return ae(jo(f.line,f.ch-p),o);p+=h.textContent.length}for(var d=u.previousSibling,p=n;d;d=d.previousSibling){if(f=r(d,d.firstChild,-1))return ae(jo(f.line,f.ch+p),o);p+=h.textContent.length}}function le(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function a(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(s+=n);var c,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(jo(r,0),jo(i+1,0),o(+f));return void(h.length&&(c=h[0].find())&&(s+=Jr(e.doc,c.from,c.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;for(var p=0;p<t.childNodes.length;p++)a(t.childNodes[p]);/^(pre|div|p)$/i.test(t.nodeName)&&(u=!0)}else if(3==t.nodeType){var d=t.nodeValue;if(!d)return;u&&(s+=l,u=!1),s+=d}}for(var s="",u=!1,l=e.doc.lineSeparator();a(t),t!=n;)t=t.nextSibling;return s}function ce(e,t){this.ranges=e,this.primIndex=t}function fe(e,t){this.anchor=e,this.head=t}function he(e,t){var n=e[t];e.sort(function(e,t){return Wo(e.from(),t.from())}),t=Oi(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(Wo(o.to(),i.from())>=0){var a=Y(o.from(),i.from()),s=G(o.to(),i.to()),u=o.empty()?i.from()==i.head:o.from()==o.head;t>=r&&--t,e.splice(--r,2,new fe(u?s:a,u?a:s))}}return new ce(e,t)}function pe(e,t){return new ce([new fe(e,t||e)],0)}function de(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function me(e,t){if(t.line<e.first)return jo(e.first,0);var n=e.first+e.size-1;return t.line>n?jo(n,Zr(e,n).text.length):ve(t,Zr(e,t.line).text.length)}function ve(e,t){var n=e.ch;return null==n||n>t?jo(e.line,t):0>n?jo(e.line,0):e}function ge(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=me(e,t[r]);return n}function be(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=Wo(n,i)<0;o!=Wo(r,i)<0?(i=n,n=r):o!=Wo(n,r)<0&&(n=r)}return new fe(i,n)}return new fe(r||n,n)}function we(e,t,n,r){Ee(e,new ce([be(e,e.sel.primary(),t,n)],0),r)}function xe(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=be(e,e.sel.ranges[i],t[i],null);var o=he(r,e.sel.primIndex);Ee(e,o,n)}function Ce(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Ee(e,he(i,e.sel.primIndex),r)}function Me(e,t,n,r){Ee(e,pe(t,n),r)}function ke(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new fe(me(e,t[n].anchor),me(e,t[n].head))},origin:n&&n.origin};return Oa(e,"beforeSelectionChange",e,r),e.cm&&Oa(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?he(r.ranges,r.ranges.length-1):t}function Se(e,t,n){var r=e.history.done,i=Ni(r);i&&i.ranges?(r[r.length-1]=t,Te(e,t,n)):Ee(e,t,n)}function Ee(e,t,n){Te(e,t,n),fi(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Te(e,t,n){(_i(e,"beforeSelectionChange")||e.cm&&_i(e.cm,"beforeSelectionChange"))&&(t=ke(e,t,n));var r=n&&n.bias||(Wo(t.primary().head,e.sel.primary().head)<0?-1:1);_e(e,Pe(e,t,r,!0)),n&&n.scroll===!1||!e.cm||jn(e.cm)}function _e(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ti(e.cm)),ki(e,"cursorActivity",e))}function Ae(e){_e(e,Pe(e,e.sel,null,!1),Fa)}function Pe(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=Ne(e,a.anchor,s&&s.anchor,n,r),l=Ne(e,a.head,s&&s.head,n,r);(i||u!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new fe(u,l))}return i?he(i,t.primIndex):t}function De(e,t,n,r,i){var o=Zr(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker;if((null==s.from||(u.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Oa(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(n){var l,c=u.find(0>r?1:-1);if((0>r?u.inclusiveRight:u.inclusiveLeft)&&(c=Oe(e,c,-r,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(l=Wo(c,n))&&(0>r?0>l:l>0))return De(e,c,t,r,i)}var f=u.find(0>r?-1:1);return(0>r?u.inclusiveLeft:u.inclusiveRight)&&(f=Oe(e,f,r,f.line==t.line?o:null)),f?De(e,f,t,r,i):null}}return t}function Ne(e,t,n,r,i){var o=r||1,a=De(e,t,n,o,i)||!i&&De(e,t,n,o,!0)||De(e,t,n,-o,i)||!i&&De(e,t,n,-o,!0);return a?a:(e.cantEdit=!0,jo(e.first,0))}function Oe(e,t,n,r){return 0>n&&0==t.ch?t.line>e.first?me(e,jo(t.line-1)):null:n>0&&t.ch==(r||Zr(e,t.line)).text.length?t.line<e.first+e.size-1?jo(t.line+1,0):null:new jo(t.line,t.ch+n)}function Le(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Re(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t!==!1||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var u=s.empty();(u||e.options.showCursorWhenSelecting)&&Ie(e,s.head,i),u||Fe(e,s,o)}}return r}function Ie(e,t,n){var r=pt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(Bi("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(Bi("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Fe(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(Bi("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function o(n,r){return ht(e,jo(t,n),"div",f,r)}var s,u,f=Zr(a,t),h=f.text.length;return eo(ii(f),n||0,null==i?h:i,function(e,t,a){var f,p,d,m=o(e,"left");if(e==t)f=m,p=d=m.left;else{if(f=o(t-1,"right"),"rtl"==a){var v=m;m=f,f=v}p=m.left,d=f.right}null==n&&0==e&&(p=l),f.top-m.top>3&&(r(p,m.top,null,m.bottom),p=l,m.bottom<f.top&&r(p,m.bottom,null,f.top)),null==i&&t==h&&(d=c),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!u||f.bottom>u.bottom||f.bottom==u.bottom&&f.right>u.right)&&(u=f),l+1>p&&(p=l),r(p,f.top,d-p,f.bottom)}),{start:s,end:u}}var o=e.display,a=e.doc,s=document.createDocumentFragment(),u=qe(e.display),l=u.left,c=Math.max(o.sizerWidth,Xe(e)-o.sizer.offsetLeft)-u.right,f=t.from(),h=t.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var p=Zr(a,f.line),d=Zr(a,h.line),m=yr(p)==yr(d),v=i(f.line,f.ch,m?p.text.length+1:null).end,g=i(h.line,m?0:null,h.ch).start;m&&(v.top<g.top-2?(r(v.right,v.top,null,v.bottom),r(l,g.top,g.left,g.bottom)):r(v.right,v.top,g.left-v.right,v.bottom)),v.bottom<g.top&&r(l,v.bottom,null,g.top)}n.appendChild(s)}function je(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function We(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,ji(Ue,e))}function Ue(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=ua(t.mode,Be(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength,u=Lr(e,o,s?ua(t.mode,r):r,!0);o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(t.frontier),o.stateAfter=s?r:ua(t.mode,r)}else o.text.length<=e.options.maxHighlightLength&&Ir(e,o.text,r),o.stateAfter=t.frontier%5==0?ua(t.mode,r):null;return++t.frontier,+new Date>n?(We(e,e.options.workDelay),!0):void 0}),i.length&&At(e,function(){for(var t=0;t<i.length;t++)It(e,i[t],"text")})}}function He(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var u=Zr(o,s-1);if(u.stateAfter&&(!n||s<=o.frontier))return s;var l=Ua(u.text,null,e.options.tabSize);(null==i||r>l)&&(i=s-1,r=l)}return i}function Be(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=He(e,t,n),a=o>r.first&&Zr(r,o-1).stateAfter;return a=a?ua(r.mode,a):la(r.mode),r.iter(o,t,function(n){Ir(e,n.text,a);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=s?ua(r.mode,a):null,++o}),n&&(r.frontier=o),a}function Ve(e){return e.lineSpace.offsetTop}function ze(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function qe(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=zi(e.measure,Bi("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Ke(e){return Ra-e.display.nativeBarWidth}function Xe(e){return e.display.scroller.clientWidth-Ke(e)-e.display.barWidth}function Ge(e){return e.display.scroller.clientHeight-Ke(e)-e.display.barHeight}function Ye(e,t,n){var r=e.options.lineWrapping,i=r&&Xe(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Qe(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(ti(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Ze(e,t){t=yr(t);var n=ti(t),r=e.display.externalMeasured=new Ot(e.doc,t,n);r.lineN=n;var i=r.built=jr(e,r);return r.text=i.pre,zi(e.display.lineMeasure,i.pre),r}function Je(e,t,n,r){return tt(e,et(e,t),n,r)}function $e(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[jt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function et(e,t){var n=ti(t),r=$e(e,n);r&&!r.text?r=null:r&&r.changes&&(R(e,r,n,O(e)),e.curOp.forceUpdate=!0),r||(r=Ze(e,t));var i=Qe(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function tt(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ye(e,t.view,t.rect),t.hasHeights=!0),o=rt(e,t,n,r),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function nt(e,t,n){for(var r,i,o,a,s=0;s<e.length;s+=3){var u=e[s],l=e[s+1];if(u>t?(i=0,o=1,a="left"):l>t?(i=t-u,o=i+1):(s==e.length-3||t==l&&e[s+3]>t)&&(o=l-u,i=o-1,t>=l&&(a="right")),null!=i){if(r=e[s+2],u==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[(s-=3)+2],a="left";if("right"==n&&i==l-u)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:u,coverEnd:l}}function rt(e,t,n,r){var i,o=nt(t.map,n,r),a=o.node,s=o.start,u=o.end,l=o.collapse;if(3==a.nodeType){for(var c=0;4>c;c++){for(;s&&Hi(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+u<o.coverEnd&&Hi(t.line.text.charAt(o.coverStart+u));)++u;if(bo&&9>wo&&0==s&&u==o.coverEnd-o.coverStart)i=a.parentNode.getBoundingClientRect();else if(bo&&e.options.lineWrapping){var f=za(a,s,u).getClientRects();i=f.length?f["right"==r?f.length-1:0]:zo}else i=za(a,s,u).getBoundingClientRect()||zo;if(i.left||i.right||0==s)break;u=s,s-=1,l="right"}bo&&11>wo&&(i=it(e.display.measure,i))}else{s>0&&(l=r="right");var f;i=e.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(bo&&9>wo&&!s&&(!i||!i.left&&!i.right)){var h=a.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+bt(e.display),top:h.top,bottom:h.bottom}:zo}for(var p=i.top-t.rect.top,d=i.bottom-t.rect.top,m=(p+d)/2,v=t.view.measure.heights,c=0;c<v.length-1&&!(m<v[c]);c++);var g=c?v[c-1]:0,y=v[c],b={left:("right"==l?i.right:i.left)-t.rect.left,right:("left"==l?i.left:i.right)-t.rect.left,top:g,bottom:y};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=d),b}function it(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!$i(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function ot(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function at(e){e.display.externalMeasure=null,Vi(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ot(e.display.view[t])}function st(e){at(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ut(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function lt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ct(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=Sr(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=ri(t);if("local"==r?a+=Ve(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:lt());var u=s.left+("window"==r?0:ut());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function ft(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=ut(),i-=lt();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function ht(e,t,n,r,i){return r||(r=Zr(e.doc,t.line)),ct(e,r,Je(e,r,t.ch,i),n)}function pt(e,t,n,r,i,o){function a(t,a){var s=tt(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,ct(e,r,s,n)}function s(e,t){var n=u[t],r=n.level%2;return e==to(n)&&t&&n.level<u[t-1].level?(n=u[--t],e=no(n)-(n.level%2?0:1),r=!0):e==no(n)&&t<u.length-1&&n.level<u[t+1].level&&(n=u[++t],e=to(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?a(e-1):a(e,r)}r=r||Zr(e.doc,t.line),i||(i=et(e,r));var u=ii(r),l=t.ch;if(!u)return a(l);var c=lo(u,l),f=s(l,c);return null!=as&&(f.other=s(l,as)),f}function dt(e,t){var n=0,t=me(e.doc,t);e.options.lineWrapping||(n=bt(e.display)*t.ch);var r=Zr(e.doc,t.line),i=ri(r)+Ve(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function mt(e,t,n,r){var i=jo(e,t);return i.xRel=r,n&&(i.outside=!0),i}function vt(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return mt(r.first,0,!0,-1);var i=ni(r,n),o=r.first+r.size-1;if(i>o)return mt(r.first+r.size-1,Zr(r,o).text.length,!0,1);0>t&&(t=0);for(var a=Zr(r,i);;){var s=gt(e,a,i,t,n),u=vr(a),l=u&&u.find(0,!0);if(!u||!(s.ch>l.from.ch||s.ch==l.from.ch&&s.xRel>0))return s;i=ti(a=l.to.line)}}function gt(e,t,n,r,i){function o(r){var i=pt(e,jo(n,r),"line",t,l);return s=!0,a>i.bottom?i.left-u:a<i.top?i.left+u:(s=!1,i.left)}var a=i-ri(t),s=!1,u=2*e.display.wrapper.clientWidth,l=et(e,t),c=ii(t),f=t.text.length,h=ro(t),p=io(t),d=o(h),m=s,v=o(p),g=s;if(r>v)return mt(n,p,g,1);for(;;){if(c?p==h||p==fo(t,h,1):1>=p-h){for(var y=d>r||v-r>=r-d?h:p,b=r-(y==h?d:v);Hi(t.text.charAt(y));)++y;var w=mt(n,y,y==h?m:g,-1>b?-1:b>1?1:0);return w}var x=Math.ceil(f/2),C=h+x;if(c){C=h;for(var M=0;x>M;++M)C=fo(t,C,1)}var k=o(C);k>r?(p=C,v=k,(g=s)&&(v+=1e3),f=x):(h=C,d=k,m=s,f-=x)}}function yt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ho){Ho=Bi("pre");for(var t=0;49>t;++t)Ho.appendChild(document.createTextNode("x")),Ho.appendChild(Bi("br"));Ho.appendChild(document.createTextNode("x"))}zi(e.measure,Ho);var n=Ho.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Vi(e.measure),n||1}function bt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Bi("span","xxxxxxxxxx"),n=Bi("pre",[t]);zi(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function wt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ko},qo?qo.ops.push(e.curOp):e.curOp.ownsGroup=qo={ops:[e.curOp],delayedCallbacks:[]}}function xt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Ct(e){var t=e.curOp,n=t.ownsGroup;if(n)try{xt(n)}finally{qo=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;Mt(n)}}function Mt(e){for(var t=e.ops,n=0;n<t.length;n++)kt(t[n]);for(var n=0;n<t.length;n++)St(t[n]);for(var n=0;n<t.length;n++)Et(t[n]);for(var n=0;n<t.length;n++)Tt(t[n]);for(var n=0;n<t.length;n++)_t(t[n])}function kt(e){var t=e.cm,n=t.display;E(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,
e.update=e.mustUpdate&&new S(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function St(e){e.updatedDisplay=e.mustUpdate&&T(e.cm,e.update)}function Et(e){var t=e.cm,n=t.display;e.updatedDisplay&&D(t),e.barMeasure=d(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Je(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ke(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Xe(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Tt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&on(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.updatedDisplay&&P(t,e.barMeasure),e.selectionChanged&&je(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),!e.focus||e.focus!=qi()||document.hasFocus&&!document.hasFocus()||Q(e.cm)}function _t(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&_(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,x(t)),e.scrollToPos){var i=Ln(t,me(r,e.scrollToPos.from),me(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&On(t,i)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Oa(o[s],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&Oa(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Oa(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function At(e,t){if(e.curOp)return t();wt(e);try{return t()}finally{Ct(e)}}function Pt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wt(e);try{return t.apply(e,arguments)}finally{Ct(e)}}}function Dt(e){return function(){if(this.curOp)return e.apply(this,arguments);wt(this);try{return e.apply(this,arguments)}finally{Ct(this)}}}function Nt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);wt(t);try{return e.apply(this,arguments)}finally{Ct(t)}}}function Ot(e,t,n){this.line=t,this.rest=br(t),this.size=this.rest?ti(Ni(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Cr(e,t)}function Lt(e,t,n){for(var r,i=[],o=t;n>o;o=r){var a=new Ot(e.doc,Zr(e.doc,o),o);r=o+a.size,i.push(a)}return i}function Rt(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Fo&&wr(e.doc,t)<i.viewTo&&Ft(e);else if(n<=i.viewFrom)Fo&&xr(e.doc,n+r)>i.viewFrom?Ft(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Ft(e);else if(t<=i.viewFrom){var o=Wt(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Ft(e)}else if(n>=i.viewTo){var o=Wt(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Ft(e)}else{var a=Wt(e,t,t,-1),s=Wt(e,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(Lt(e,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):Ft(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function It(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[jt(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==Oi(a,n)&&a.push(n)}}}function Ft(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function jt(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function Wt(e,t,n,r){var i,o=jt(e,t),a=e.display.view;if(!Fo||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=0,u=e.display.viewFrom;o>s;s++)u+=a[s].size;if(u!=t){if(r>0){if(o==a.length-1)return null;i=u+a[o].size-t,o++}else i=u-t;t+=i,n+=i}for(;wr(e.doc,n)!=n;){if(o==(0>r?0:a.length-1))return null;n+=r*a[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function Ut(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Lt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Lt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(jt(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Lt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,jt(e,n)))),r.viewTo=n}function Ht(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Bt(e){function t(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;Pa(i.scroller,"mousedown",Pt(e,Xt)),bo&&11>wo?Pa(i.scroller,"dblclick",Pt(e,function(t){if(!Ei(e,t)){var n=Kt(e,t);if(n&&!Jt(e,t)&&!qt(e.display,t)){Ta(t);var r=e.findWordAt(n);we(e.doc,r.anchor,r.head)}}})):Pa(i.scroller,"dblclick",function(t){Ei(e,t)||Ta(t)}),Ro||Pa(i.scroller,"contextmenu",function(t){bn(e,t)});var o,a={end:0};Pa(i.scroller,"touchstart",function(t){if(!Ei(e,t)&&!n(t)){clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),Pa(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Pa(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!qt(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new fe(s,s):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(s):new fe(jo(s.line,0),me(e.doc,jo(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),Ta(n)}t()}),Pa(i.scroller,"touchcancel",t),Pa(i.scroller,"scroll",function(){i.scroller.clientHeight&&(rn(e,i.scroller.scrollTop),on(e,i.scroller.scrollLeft,!0),Oa(e,"scroll",e))}),Pa(i.scroller,"mousewheel",function(t){an(e,t)}),Pa(i.scroller,"DOMMouseScroll",function(t){an(e,t)}),Pa(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ei(e,t)||Aa(t)},over:function(t){Ei(e,t)||(tn(e,t),Aa(t))},start:function(t){en(e,t)},drop:Pt(e,$t),leave:function(t){Ei(e,t)||nn(e)}};var s=i.input.getField();Pa(s,"keyup",function(t){dn.call(e,t)}),Pa(s,"keydown",Pt(e,hn)),Pa(s,"keypress",Pt(e,mn)),Pa(s,"focus",ji(gn,e)),Pa(s,"blur",ji(yn,e))}function Vt(t,n,r){var i=r&&r!=e.Init;if(!n!=!i){var o=t.display.dragFunctions,a=n?Pa:Na;a(t.display.scroller,"dragstart",o.start),a(t.display.scroller,"dragenter",o.enter),a(t.display.scroller,"dragover",o.over),a(t.display.scroller,"dragleave",o.leave),a(t.display.scroller,"drop",o.drop)}}function zt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function qt(e,t){for(var n=xi(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Kt(e,t,n,r){var i=e.display;if(!n&&"true"==xi(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var u,l=vt(e,o,a);if(r&&1==l.xRel&&(u=Zr(e.doc,l.line).text).length==l.ch){var c=Ua(u,u.length,e.options.tabSize)-u.length;l=jo(l.line,Math.max(0,Math.round((o-qe(e.display).left)/bt(e.display))-c))}return l}function Xt(e){var t=this,n=t.display;if(!(Ei(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,qt(n,e))return void(xo||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Jt(t,e)){var r=Kt(t,e);switch(window.focus(),Ci(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?Gt(t,e,r):xi(e)==n.scroller&&Ta(e);break;case 2:xo&&(t.state.lastMiddleDown=+new Date),r&&we(t.doc,r),setTimeout(function(){n.input.focus()},20),Ta(e);break;case 3:Ro?bn(t,e):vn(t)}}}}function Gt(e,t,n){bo?setTimeout(ji(Q,e),0):e.curOp.focus=qi();var r,i=+new Date;Vo&&Vo.time>i-400&&0==Wo(Vo.pos,n)?r="triple":Bo&&Bo.time>i-400&&0==Wo(Bo.pos,n)?(r="double",Vo={time:i,pos:n}):(r="single",Bo={time:i,pos:n});var o,a=e.doc.sel,s=Po?t.metaKey:t.ctrlKey;e.options.dragDrop&&es&&!e.isReadOnly()&&"single"==r&&(o=a.contains(n))>-1&&(Wo((o=a.ranges[o]).from(),n)<0||n.xRel>0)&&(Wo(o.to(),n)>0||n.xRel<0)?Yt(e,t,n,s):Qt(e,t,n,r,s)}function Yt(e,t,n,r){var i=e.display,o=+new Date,a=Pt(e,function(s){xo&&(i.scroller.draggable=!1),e.state.draggingText=!1,Na(document,"mouseup",a),Na(i.scroller,"drop",a),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(Ta(s),!r&&+new Date-200<o&&we(e.doc,n),xo||bo&&9==wo?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});xo&&(i.scroller.draggable=!0),e.state.draggingText=a,i.scroller.dragDrop&&i.scroller.dragDrop(),Pa(document,"mouseup",a),Pa(i.scroller,"drop",a)}function Qt(e,t,n,r,i){function o(t){if(0!=Wo(v,t))if(v=t,"rect"==r){for(var i=[],o=e.options.tabSize,a=Ua(Zr(l,n.line).text,n.ch,o),s=Ua(Zr(l,t.line).text,t.ch,o),u=Math.min(a,s),p=Math.max(a,s),d=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=d;d++){var g=Zr(l,d).text,y=Ha(g,u,o);u==p?i.push(new fe(jo(d,y),jo(d,y))):g.length>y&&i.push(new fe(jo(d,y),jo(d,Ha(g,p,o))))}i.length||i.push(new fe(n,n)),Ee(l,he(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,w=b.anchor,x=t;if("single"!=r){if("double"==r)var C=e.findWordAt(t);else var C=new fe(jo(t.line,0),me(l,jo(t.line+1,0)));Wo(C.anchor,w)>0?(x=C.head,w=Y(b.from(),C.anchor)):(x=C.anchor,w=G(b.to(),C.head))}var i=h.ranges.slice(0);i[f]=new fe(me(l,w),x),Ee(l,he(i,f),ja)}}function a(t){var n=++y,i=Kt(e,t,!0,"rect"==r);if(i)if(0!=Wo(i,v)){e.curOp.focus=qi(),o(i);var s=w(u,l);(i.line>=s.to||i.line<s.from)&&setTimeout(Pt(e,function(){y==n&&a(t)}),150)}else{var c=t.clientY<g.top?-20:t.clientY>g.bottom?20:0;c&&setTimeout(Pt(e,function(){y==n&&(u.scroller.scrollTop+=c,a(t))}),50)}}function s(t){e.state.selectingText=!1,y=1/0,Ta(t),u.input.focus(),Na(document,"mousemove",b),Na(document,"mouseup",x),l.history.lastSelOrigin=null}var u=e.display,l=e.doc;Ta(t);var c,f,h=l.sel,p=h.ranges;if(i&&!t.shiftKey?(f=l.sel.contains(n),c=f>-1?p[f]:new fe(n,n)):(c=l.sel.primary(),f=l.sel.primIndex),Do?t.shiftKey&&t.metaKey:t.altKey)r="rect",i||(c=new fe(n,n)),n=Kt(e,t,!0,!0),f=-1;else if("double"==r){var d=e.findWordAt(n);c=e.display.shift||l.extend?be(l,c,d.anchor,d.head):d}else if("triple"==r){var m=new fe(jo(n.line,0),me(l,jo(n.line+1,0)));c=e.display.shift||l.extend?be(l,c,m.anchor,m.head):m}else c=be(l,c,n);i?-1==f?(f=p.length,Ee(l,he(p.concat([c]),f),{scroll:!1,origin:"*mouse"})):p.length>1&&p[f].empty()&&"single"==r&&!t.shiftKey?(Ee(l,he(p.slice(0,f).concat(p.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=l.sel):Ce(l,f,c,ja):(f=0,Ee(l,new ce([c],0),ja),h=l.sel);var v=n,g=u.wrapper.getBoundingClientRect(),y=0,b=Pt(e,function(e){Ci(e)?a(e):s(e)}),x=Pt(e,s);e.state.selectingText=x,Pa(document,"mousemove",b),Pa(document,"mouseup",x)}function Zt(e,t,n,r){try{var i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ta(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!_i(e,n))return wi(t);o-=s.top-a.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i){var c=ni(e.doc,o),f=e.options.gutters[u];return Oa(e,n,e,c,f,t),wi(t)}}}function Jt(e,t){return Zt(e,t,"gutterClick",!0)}function $t(e){var t=this;if(nn(t),!Ei(t,e)&&!qt(t.display,e)){Ta(e),bo&&(Xo=+new Date);var n=Kt(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(e,r){if(!t.options.allowDropFileTypes||-1!=Oi(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=Pt(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++a==i){n=me(t.doc,n);var u={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};En(t.doc,u),Se(t.doc,pe(n,$o(u)))}}),s.readAsText(e)}},u=0;i>u;++u)s(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(Po?e.altKey:e.ctrlKey))var l=t.listSelections();if(Te(t.doc,pe(n,n)),l)for(var u=0;u<l.length;++u)Nn(t.doc,"",l[u].anchor,l[u].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function en(e,t){if(bo&&(!e.state.draggingText||+new Date-Xo<100))return void Aa(t);if(!Ei(e,t)&&!qt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!So)){var n=Bi("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ko&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),ko&&n.parentNode.removeChild(n)}}function tn(e,t){var n=Kt(e,t);if(n){var r=document.createDocumentFragment();Ie(e,n,r),e.display.dragCursor||(e.display.dragCursor=Bi("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),zi(e.display.dragCursor,r)}}function nn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function rn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,vo||A(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),vo&&A(e),We(e,100))}function on(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function an(e,t){var n=Qo(t),r=n.x,i=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(r&&s||i&&u){if(i&&Po&&xo)e:for(var l=t.target,c=o.view;l!=a;l=l.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==l){e.display.currentWheelTarget=l;break e}if(r&&!vo&&!ko&&null!=Yo)return i&&u&&rn(e,Math.max(0,Math.min(a.scrollTop+i*Yo,a.scrollHeight-a.clientHeight))),on(e,Math.max(0,Math.min(a.scrollLeft+r*Yo,a.scrollWidth-a.clientWidth))),(!i||i&&u)&&Ta(t),void(o.wheelStartX=null);if(i&&null!=Yo){var h=i*Yo,p=e.doc.scrollTop,d=p+o.wrapper.clientHeight;0>h?p=Math.max(0,p+h-50):d=Math.min(e.doc.height,d+h+50),A(e,{top:p,bottom:d})}20>Go&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Yo=(Yo*Go+n)/(Go+1),++Go)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function sn(e,t,n){if("string"==typeof t&&(t=ca[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Ia}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function un(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=ha(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&ha(t,e.options.extraKeys,n,e)||ha(t,e.options.keyMap,n,e)}function ln(e,t,n,r){var i=e.state.keySeq;if(i){if(pa(t))return"handled";Zo.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=un(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&ki(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Ta(n),je(e)),i&&!o&&/\'$/.test(t)?(Ta(n),!0):!!o}function cn(e,t){var n=da(t,!0);return n?t.shiftKey&&!e.state.keySeq?ln(e,"Shift-"+n,t,function(t){return sn(e,t,!0)})||ln(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?sn(e,t):void 0}):ln(e,n,t,function(t){return sn(e,t)}):!1}function fn(e,t,n){return ln(e,"'"+n+"'",t,function(t){return sn(e,t,!0)})}function hn(e){var t=this;if(t.curOp.focus=qi(),!Ei(t,e)){bo&&11>wo&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=cn(t,e);ko&&(Jo=r?n:null,!r&&88==n&&!rs&&(Po?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||pn(t)}}function pn(e){function t(e){18!=e.keyCode&&e.altKey||(Za(n,"CodeMirror-crosshair"),Na(document,"keyup",t),Na(document,"mouseover",t))}var n=e.display.lineDiv;Ja(n,"CodeMirror-crosshair"),Pa(document,"keyup",t),Pa(document,"mouseover",t)}function dn(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ei(this,e)}function mn(e){var t=this;if(!(qt(t.display,e)||Ei(t,e)||e.ctrlKey&&!e.altKey||Po&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(ko&&n==Jo)return Jo=null,void Ta(e);if(!ko||e.which&&!(e.which<10)||!cn(t,e)){var i=String.fromCharCode(null==r?n:r);fn(t,e,i)||t.display.input.onKeyPress(e)}}}function vn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yn(e))},100)}function gn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Oa(e,"focus",e),e.state.focused=!0,Ja(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xo&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),je(e))}function yn(e){e.state.delayingBlurEvent||(e.state.focused&&(Oa(e,"blur",e),e.state.focused=!1,Za(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function bn(e,t){qt(e.display,t)||wn(e,t)||Ei(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function wn(e,t){return _i(e,"gutterContextMenu")?Zt(e,t,"gutterContextMenu",!1):!1}function xn(e,t){if(Wo(e,t.from)<0)return e;if(Wo(e,t.to)<=0)return $o(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=$o(t).ch-t.to.ch),jo(n,r)}function Cn(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new fe(xn(i.anchor,t),xn(i.head,t)))}return he(n,e.sel.primIndex)}function Mn(e,t,n){return e.line==t.line?jo(n.line,e.ch-t.ch+n.ch):jo(n.line+(e.line-t.line),e.ch)}function kn(e,t,n){for(var r=[],i=jo(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],u=Mn(s.from,i,o),l=Mn($o(s),i,o);if(i=s.to,o=l,"around"==n){var c=e.sel.ranges[a],f=Wo(c.head,c.anchor)<0;r[a]=new fe(f?l:u,f?u:l)}else r[a]=new fe(u,u)}return new ce(r,e.sel.primIndex)}function Sn(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=me(e,t)),n&&(this.to=me(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),Oa(e,"beforeChange",e,r),e.cm&&Oa(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function En(e,t,n){if(e.cm){if(!e.cm.curOp)return Pt(e.cm,En)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(_i(e,"beforeChange")||e.cm&&_i(e.cm,"beforeChange"))||(t=Sn(e,t,!0))){var r=Io&&!n&&ur(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Tn(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Tn(e,t)}}function Tn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Wo(t.from,t.to)){var n=Cn(e,t);li(e,t,n,e.cm?e.cm.curOp.id:NaN),Pn(e,t,n,or(e,t));var r=[];Yr(e,function(e,n){n||-1!=Oi(r,e.history)||(bi(e.history,t),r.push(e.history)),Pn(e,t,null,or(e,t))})}}function _n(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,u=0;u<a.length&&(r=a[u],n?!r.ranges||r.equals(e.sel):r.ranges);u++);if(u!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(hi(r,s),n&&!r.equals(e.sel))return void Ee(e,r,{clearRedo:!1});o=r}var l=[];hi(o,s),s.push({changes:l,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=_i(e,"beforeChange")||e.cm&&_i(e.cm,"beforeChange"),u=r.changes.length-1;u>=0;--u){var f=r.changes[u];if(f.origin=t,c&&!Sn(e,f,!1))return void(a.length=0);l.push(ai(e,f));var h=u?Cn(e,f):Ni(a);Pn(e,f,h,sr(e,f)),!u&&e.cm&&e.cm.scrollIntoView({from:f.from,to:$o(f)});var p=[];Yr(e,function(e,t){t||-1!=Oi(p,e.history)||(bi(e.history,f),p.push(e.history)),Pn(e,f,null,sr(e,f))})}}}}function An(e,t){if(0!=t&&(e.first+=t,e.sel=new ce(Li(e.sel.ranges,function(e){return new fe(jo(e.anchor.line+t,e.anchor.ch),jo(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Rt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)It(e.cm,r,"gutter")}}function Pn(e,t,n,r){if(e.cm&&!e.cm.curOp)return Pt(e.cm,Pn)(e,t,n,r);if(t.to.line<e.first)return void An(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);An(e,i),t={from:jo(e.first,0),to:jo(t.to.line+i,t.to.ch),text:[Ni(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:jo(o,Zr(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Jr(e,t.from,t.to),n||(n=Cn(e,t)),e.cm?Dn(e.cm,t,r):Kr(e,t,r),Te(e,n,Fa)}}function Dn(e,t,n){var r=e.doc,i=e.display,a=t.from,s=t.to,u=!1,l=a.line;e.options.lineWrapping||(l=ti(yr(Zr(r,a.line))),r.iter(l,s.line+1,function(e){return e==i.maxLine?(u=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&Ti(e),Kr(r,t,n,o(e)),e.options.lineWrapping||(r.iter(l,a.line+t.text.length,function(e){var t=f(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,u=!1)}),u&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),We(e,400);var c=t.text.length-(s.line-a.line)-1;t.full?Rt(e):a.line!=s.line||1!=t.text.length||qr(e.doc,t)?Rt(e,a.line,s.line+1,c):It(e,a.line,"text");var h=_i(e,"changes"),p=_i(e,"change");if(p||h){var d={from:a,to:s,text:t.text,removed:t.removed,origin:t.origin};p&&ki(e,"change",e,d),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function Nn(e,t,n,r,i){if(r||(r=n),Wo(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),En(e,{from:n,to:r,text:t,origin:i})}function On(e,t){if(!Ei(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!To){var o=Bi("div","",null,"position: absolute; top: "+(t.top-n.viewOffset-Ve(e.display))+"px; height: "+(t.bottom-t.top+Ke(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function Ln(e,t,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var o=!1,a=pt(e,t),s=n&&n!=t?pt(e,n):a,u=In(e,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),l=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=u.scrollTop&&(rn(e,u.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(o=!0)),null!=u.scrollLeft&&(on(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}function Rn(e,t,n,r,i){var o=In(e,t,n,r,i);null!=o.scrollTop&&rn(e,o.scrollTop),null!=o.scrollLeft&&on(e,o.scrollLeft)}function In(e,t,n,r,i){var o=e.display,a=yt(e.display);0>n&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,u=Ge(e),l={};i-n>u&&(i=n+u);var c=e.doc.height+ze(o),f=a>n,h=i>c-a;if(s>n)l.scrollTop=f?0:n;else if(i>s+u){var p=Math.min(n,(h?c:i)-u);p!=s&&(l.scrollTop=p)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=Xe(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),v=r-t>m;return v&&(r=t+m),10>t?l.scrollLeft=0:d>t?l.scrollLeft=Math.max(0,t-(v?0:10)):r>m+d-3&&(l.scrollLeft=r+(v?0:10)-m),l}function Fn(e,t,n){null==t&&null==n||Wn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function jn(e){Wn(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?jo(t.line,t.ch-1):t,r=jo(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Wn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=dt(e,t.from),r=dt(e,t.to),i=In(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function Un(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Be(e,t):n="prev");var a=e.options.tabSize,s=Zr(o,t),u=Ua(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(l=o.mode.indent(i,s.text.slice(c.length),s.text),l==Ia||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=t>o.first?Ua(Zr(o,t-1).text,null,a):0:"add"==n?l=u+e.options.indentUnit:"subtract"==n?l=u-e.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var f="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(l/a);p;--p)h+=a,f+="	";if(l>h&&(f+=Di(l-h)),f!=c)return Nn(o,f,jo(t,0),jo(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var d=o.sel.ranges[p];if(d.head.line==t&&d.head.ch<c.length){var h=jo(t,c.length);Ce(o,p,new fe(h,h));break}}}function Hn(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Zr(e,de(e,t)):i=ti(t),null==i?null:(r(o,i)&&e.cm&&It(e.cm,i,n),o)}function Bn(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&Wo(o.from,Ni(r).to)<=0;){var a=r.pop();if(Wo(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}At(e,function(){for(var t=r.length-1;t>=0;t--)Nn(e.doc,"",r[t].from,r[t].to,"+delete");jn(e)})}function Vn(e,t,n,r,i){function o(){var t=s+n;return t<e.first||t>=e.first+e.size?!1:(s=t,c=Zr(e,t))}function a(e){var t=(i?fo:ho)(c,u,n,!0);if(null==t){if(e||!o())return!1;u=i?(0>n?io:ro)(c):0>n?c.text.length:0}else u=t;return!0}var s=t.line,u=t.ch,l=n,c=Zr(e,s);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var f=null,h="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(0>n)||a(!d);d=!1){var m=c.text.charAt(u)||"\n",v=Wi(m,p)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||d||v||(v="s"),f&&f!=v){0>n&&(n=1,a());break}if(v&&(f=v),n>0&&!a(!d))break}var g=Ne(e,jo(s,u),t,l,!0);return Wo(t,g)||(g.hitSide=!0),g}function zn(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(0>n?1.5:.5)*yt(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var u=vt(e,a,i);if(!u.outside)break;if(0>n?0>=i:i>=o.height){u.hitSide=!0;break}i+=5*n}return u}function qn(t,n,r,i){e.defaults[t]=n,r&&(ta[t]=i?function(e,t,n){n!=na&&r(e,t,n)}:r)}function Kn(e){for(var t,n,r,i,o=e.split(/-(?!$)/),e=o[o.length-1],a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Xn(e){return"string"==typeof e?fa[e]:e}function Gn(e,t,n,r,i){if(r&&r.shared)return Yn(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Pt(e.cm,Gn)(e,t,n,r,i);var o=new ga(e,i),a=Wo(t,n);if(r&&Fi(r,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Bi("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(gr(e,t.line,t,n,o)||t.line!=n.line&&gr(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Fo=!0}o.addToHistory&&li(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,u=t.line,l=e.cm;if(e.iter(u,n.line+1,function(e){l&&o.collapsed&&!l.options.lineWrapping&&yr(e)==l.display.maxLine&&(s=!0),o.collapsed&&u!=t.line&&ei(e,0),nr(e,new $n(o,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Cr(e,t)&&ei(t,0)}),o.clearOnEnter&&Pa(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Io=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++va,o.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),o.collapsed)Rt(l,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=n.line;c++)It(l,c,"text");o.atomic&&Ae(l.doc),ki(l,"markerAdded",l,o)}return o}function Yn(e,t,n,r,i){r=Fi(r),r.shared=!1;var o=[Gn(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Yr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Gn(e,me(e,t),me(e,n),r,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;a=Ni(o)}),new ya(o,a)}function Qn(e){return e.findMarks(jo(e.first,0),e.clipPos(jo(e.lastLine())),function(e){return e.parent})}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(Wo(o,a)){var s=Gn(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Jn(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Yr(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==Oi(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function $n(e,t,n){this.marker=e,this.from=t,this.to=n}function er(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function tr(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function nr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function rr(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var u=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new $n(a,o.from,u?null:o.to))}}return r}function ir(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var u=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new $n(a,u?null:o.from-t,null==o.to?null:o.to-t))}}return r}function or(e,t){if(t.full)return null;var n=ge(e,t.from.line)&&Zr(e,t.from.line).markedSpans,r=ge(e,t.to.line)&&Zr(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==Wo(t.from,t.to),s=rr(n,i,a),u=ir(r,o,a),l=1==t.text.length,c=Ni(t.text).length+(l?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var p=er(u,h.marker);p?l&&(h.to=null==p.to?null:p.to+c):h.to=i}}if(u)for(var f=0;f<u.length;++f){
var h=u[f];if(null!=h.to&&(h.to+=c),null==h.from){var p=er(s,h.marker);p||(h.from=c,l&&(s||(s=[])).push(h))}else h.from+=c,l&&(s||(s=[])).push(h)}s&&(s=ar(s)),u&&u!=s&&(u=ar(u));var d=[s];if(!l){var m,v=t.text.length-2;if(v>0&&s)for(var f=0;f<s.length;++f)null==s[f].to&&(m||(m=[])).push(new $n(s[f].marker,null,null));for(var f=0;v>f;++f)d.push(m);d.push(u)}return d}function ar(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function sr(e,t){var n=mi(e,t),r=or(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else a&&(n[i]=a)}return n}function ur(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=Oi(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(Wo(l.to,s.from)<0||Wo(l.from,s.to)>0)){var c=[u,1],f=Wo(l.from,s.from),h=Wo(l.to,s.to);(0>f||!a.inclusiveLeft&&!f)&&c.push({from:l.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-1}}return i}function lr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function cr(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function fr(e){return e.inclusiveLeft?-1:0}function hr(e){return e.inclusiveRight?1:0}function pr(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=Wo(r.from,i.from)||fr(e)-fr(t);if(o)return-o;var a=Wo(r.to,i.to)||hr(e)-hr(t);return a?a:t.id-e.id}function dr(e,t){var n,r=Fo&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||pr(n,i.marker)<0)&&(n=i.marker);return n}function mr(e){return dr(e,!0)}function vr(e){return dr(e,!1)}function gr(e,t,n,r,i){var o=Zr(e,t),a=Fo&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=Wo(l.from,n)||fr(u.marker)-fr(i),f=Wo(l.to,r)||hr(u.marker)-hr(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(Wo(l.to,n)>0||u.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Wo(l.from,r)<0||u.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function yr(e){for(var t;t=mr(e);)e=t.find(-1,!0).line;return e}function br(e){for(var t,n;t=vr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function wr(e,t){var n=Zr(e,t),r=yr(n);return n==r?t:ti(r)}function xr(e,t){if(t>e.lastLine())return t;var n,r=Zr(e,t);if(!Cr(e,r))return t;for(;n=vr(r);)r=n.find(1,!0).line;return ti(r)+1}function Cr(e,t){var n=Fo&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Mr(e,t,r))return!0}}function Mr(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Mr(e,r.line,er(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Mr(e,t,i))return!0}function kr(e,t,n){ri(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Fn(e,null,n)}function Sr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ga(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),zi(t.display.measure,Bi("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Er(e,t,n,r){var i=new ba(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Hn(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Cr(e,t)){var r=ri(t)<e.scrollTop;ei(t,t.height+Sr(i)),r&&Fn(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Tr(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),lr(e),cr(e,n);var i=r?r(e):1;i!=e.height&&ei(e,i)}function _r(e){e.parent=null,lr(e)}function Ar(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Pr(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Dr(t,n,r,i){for(var o=0;10>o;o++){i&&(i[0]=e.innerMode(t,r).mode);var a=t.token(n,r);if(n.pos>n.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}function Nr(e,t,n,r){function i(e){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:e?ua(a.mode,c):c}}var o,a=e.doc,s=a.mode;t=me(a,t);var u,l=Zr(a,t.line),c=Be(e,t.line,n),f=new ma(l.text,e.options.tabSize);for(r&&(u=[]);(r||f.pos<t.ch)&&!f.eol();)f.start=f.pos,o=Dr(s,f,c),r&&u.push(i(!0));return r?u:i()}function Or(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var u,l=0,c=null,f=new ma(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Ar(Pr(n,r),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&Ir(e,t,r,f.pos),f.pos=t.length,u=null):u=Ar(Dr(n,f,r,h),o),h){var p=h[0].name;p&&(u="m-"+(u?p+" "+u:p))}if(!s||c!=u){for(;l<f.start;)l=Math.min(f.start,l+5e4),i(l,c);c=u}f.start=f.pos}for(;l<f.pos;){var d=Math.min(f.pos,l+5e4);i(d,c),l=d}}function Lr(e,t,n,r){var i=[e.state.modeGen],o={};Or(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},o,r);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],u=1,l=0;Or(e,t.text,s.mode,!0,function(e,t){for(var n=u;e>l;){var r=i[u];r>e&&i.splice(u,1,e,i[u+1],r),u+=2,l=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,u-n,e,"cm-overlay "+t),u=n+2;else for(;u>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Rr(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Be(e,ti(t)),i=Lr(e,t,t.text.length>e.options.maxHighlightLength?ua(e.doc.mode,r):r);t.stateAfter=r,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ir(e,t,n,r){var i=e.doc.mode,o=new ma(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&Pr(i,n);!o.eol();)Dr(i,o,n),o.start=o.pos}function Fr(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Ca:xa;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function jr(e,t){var n=Bi("span",null,null,xo?"padding-right: .1px":null),r={pre:Bi("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(bo||xo)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,a=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=Ur,Ji(e.display.measure)&&(o=ii(a))&&(r.addToken=Br(r.addToken,o)),r.map=[];var s=t!=e.display.externalMeasured&&ti(a);zr(a,r,Rr(e,a,s)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=Xi(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=Xi(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Zi(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return xo&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),Oa(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Xi(r.pre.className,r.textClass||"")),r}function Wr(e){var t=Bi("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Ur(e,t,n,r,i,o,a){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Hr):t,u=e.cm.state.specialChars,l=!1;if(u.test(t))for(var c=document.createDocumentFragment(),f=0;;){u.lastIndex=f;var h=u.exec(t),p=h?h.index-f:t.length-f;if(p){var d=document.createTextNode(s.slice(f,f+p));bo&&9>wo?c.appendChild(Bi("span",[d])):c.appendChild(d),e.map.push(e.pos,e.pos+p,d),e.col+=p,e.pos+=p}if(!h)break;if(f+=p+1,"	"==h[0]){var m=e.cm.options.tabSize,v=m-e.col%m,d=c.appendChild(Bi("span",Di(v),"cm-tab"));d.setAttribute("role","presentation"),d.setAttribute("cm-text","	"),e.col+=v}else if("\r"==h[0]||"\n"==h[0]){var d=c.appendChild(Bi("span","\r"==h[0]?"":"","cm-invalidchar"));d.setAttribute("cm-text",h[0]),e.col+=1}else{var d=e.cm.options.specialCharPlaceholder(h[0]);d.setAttribute("cm-text",h[0]),bo&&9>wo?c.appendChild(Bi("span",[d])):c.appendChild(d),e.col+=1}e.map.push(e.pos,e.pos+1,d),e.pos++}else{e.col+=t.length;var c=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,c),bo&&9>wo&&(l=!0),e.pos+=t.length}if(n||r||i||l||a){var g=n||"";r&&(g+=r),i&&(g+=i);var y=Bi("span",[c],g,a);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(c)}}function Hr(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"";return t+=" "}function Br(e,t){return function(n,r,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var f=0;f<t.length;f++){var h=t[f];if(h.to>l&&h.from<=l)break}if(h.to>=c)return e(n,r,i,o,a,s,u);e(n,r.slice(0,h.to-l),i,o,null,s,u),o=null,r=r.slice(h.to-l),l=h.to}}}function Vr(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function zr(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,u,l,c,f,h,p=i.length,d=0,m=1,v="",g=0;;){if(g==d){u=l=c=f=s="",h=null,g=1/0;for(var y,b=[],w=0;w<r.length;++w){var x=r[w],C=x.marker;"bookmark"==C.type&&x.from==d&&C.widgetNode?b.push(C):x.from<=d&&(null==x.to||x.to>d||C.collapsed&&x.to==d&&x.from==d)?(null!=x.to&&x.to!=d&&g>x.to&&(g=x.to,l=""),C.className&&(u+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==d&&(c+=" "+C.startStyle),C.endStyle&&x.to==g&&(y||(y=[])).push(C.endStyle,x.to),C.title&&!f&&(f=C.title),C.collapsed&&(!h||pr(h.marker,C)<0)&&(h=x)):x.from>d&&g>x.from&&(g=x.from)}if(y)for(var w=0;w<y.length;w+=2)y[w+1]==g&&(l+=" "+y[w]);if(!h||h.from==d)for(var w=0;w<b.length;++w)Vr(t,0,b[w]);if(h&&(h.from||0)==d){if(Vr(t,(null==h.to?p+1:h.to)-d,h.marker,null==h.from),null==h.to)return;h.to==d&&(h=!1)}}if(d>=p)break;for(var M=Math.min(p,g);;){if(v){var k=d+v.length;if(!h){var S=k>M?v.slice(0,M-d):v;t.addToken(t,S,a?a+u:u,c,d+S.length==g?l:"",f,s)}if(k>=M){v=v.slice(M-d),d=M;break}d=k,c=""}v=i.slice(o,o=n[m++]),a=Fr(n[m++],t.cm.options)}}else for(var m=1;m<n.length;m+=2)t.addToken(t,i.slice(o,o=n[m]),Fr(n[m+1],t.cm.options))}function qr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Ni(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Kr(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){Tr(e,n,i,r),ki(e,"change",e,t)}function a(e,t){for(var n=e,o=[];t>n;++n)o.push(new wa(l[n],i(n),r));return o}var s=t.from,u=t.to,l=t.text,c=Zr(e,s.line),f=Zr(e,u.line),h=Ni(l),p=i(l.length-1),d=u.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(qr(e,t)){var m=a(0,l.length-1);o(f,f.text,p),d&&e.remove(s.line,d),m.length&&e.insert(s.line,m)}else if(c==f)if(1==l.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(u.ch),p);else{var m=a(1,l.length-1);m.push(new wa(h+c.text.slice(u.ch),p,r)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,m)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+f.text.slice(u.ch),i(0)),e.remove(s.line+1,d);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(f,h+f.text.slice(u.ch),p);var m=a(1,l.length-1);d>1&&e.remove(s.line+1,d-1),e.insert(s.line+1,m)}ki(e,"change",e,t)}function Xr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Gr(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Yr(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;n&&!u||(t(s.doc,u),r(s.doc,e,u))}}}r(e,null,!0)}function Qr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,a(e),n(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,Rt(e)}function Zr(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>t){n=i;break}t-=o}return n.lines[t]}function Jr(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function $r(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function ei(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function ti(e){if(null==e.parent)return null;for(var t=e.parent,n=Oi(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function ni(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(o>t){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var a=e.lines[r],s=a.height;if(s>t)break;t-=s}return n+r}function ri(e){e=yr(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;t+=a.height}return t}function ii(e){var t=e.order;return null==t&&(t=e.order=ss(e.text)),t}function oi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ai(e,t){var n={from:X(t.from),to:$o(t),text:Jr(e,t.from,t.to)};return pi(e,n,t.from.line,t.to.line+1),Yr(e,function(e){pi(e,n,t.from.line,t.to.line+1)},!0),n}function si(e){for(;e.length;){var t=Ni(e);if(!t.ranges)break;e.pop()}}function ui(e,t){return t?(si(e.done),Ni(e.done)):e.done.length&&!Ni(e.done).ranges?Ni(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Ni(e.done)):void 0}function li(e,t,n,r){var i=e.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ui(i,i.lastOp==r))){var s=Ni(o.changes);0==Wo(t.from,t.to)&&0==Wo(t.from,s.to)?s.to=$o(t):o.changes.push(ai(e,t))}else{var u=Ni(i.done);for(u&&u.ranges||hi(e.sel,i.done),o={changes:[ai(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||Oa(e,"historyAdded")}function ci(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function fi(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ci(e,o,Ni(i.done),t))?i.done[i.done.length-1]=t:hi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&si(i.undone)}function hi(e,t){var n=Ni(t);n&&n.ranges&&n.equals(e)||t.push(e)}function pi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function di(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function mi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(di(n[r]));return i}function vi(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?ce.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var u=0;u<a.length;++u){var l,c=a[u];if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(l=f.match(/^spans_(\d+)$/))&&Oi(t,Number(l[1]))>-1&&(Ni(s)[f]=c[f],delete c[f])}}}return i}function gi(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function yi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)gi(o.ranges[s].anchor,t,n,r),gi(o.ranges[s].head,t,n,r)}else{for(var s=0;s<o.changes.length;++s){var u=o.changes[s];if(n<u.from.line)u.from=jo(u.from.line+r,u.from.ch),u.to=jo(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function bi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;yi(e.done,n,r,i),yi(e.undone,n,r,i)}function wi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xi(e){return e.target||e.srcElement}function Ci(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Po&&e.ctrlKey&&1==t&&(t=3),t}function Mi(e,t,n){var r=e._handlers&&e._handlers[t];return n?r&&r.length>0?r.slice():Da:r||Da}function ki(e,t){function n(e){return function(){e.apply(null,o)}}var r=Mi(e,t,!1);if(r.length){var i,o=Array.prototype.slice.call(arguments,2);qo?i=qo.delayedCallbacks:La?i=La:(i=La=[],setTimeout(Si,0));for(var a=0;a<r.length;++a)i.push(n(r[a]))}}function Si(){var e=La;La=null;for(var t=0;t<e.length;++t)e[t]()}function Ei(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Oa(e,n||t.type,e,t),wi(t)||t.codemirrorIgnore}function Ti(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==Oi(n,t[r])&&n.push(t[r])}function _i(e,t){return Mi(e,t).length>0}function Ai(e){e.prototype.on=function(e,t){Pa(this,e,t)},e.prototype.off=function(e,t){Na(this,e,t)}}function Pi(){this.id=null}function Di(e){for(;Ba.length<=e;)Ba.push(Ni(Ba)+" ");return Ba[e]}function Ni(e){return e[e.length-1]}function Oi(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Li(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Ri(){}function Ii(e,t){var n;return Object.create?n=Object.create(e):(Ri.prototype=e,n=new Ri),t&&Fi(t,n),n}function Fi(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function ji(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Wi(e,t){return t?t.source.indexOf("\\w")>-1&&Ka(e)?!0:t.test(e):Ka(e)}function Ui(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Hi(e){return e.charCodeAt(0)>=768&&Xa.test(e)}function Bi(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Vi(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function zi(e,t){return Vi(e).appendChild(t)}function qi(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Ki(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Xi(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!Ki(n[r]).test(t)&&(t+=" "+n[r]);return t}function Gi(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Yi(){$a||(Qi(),$a=!0)}function Qi(){var e;Pa(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Gi(zt)},100))}),Pa(window,"blur",function(){Gi(yn)})}function Zi(e){if(null==Ya){var t=Bi("span","");zi(e,Bi("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ya=t.offsetWidth<=1&&t.offsetHeight>2&&!(bo&&8>wo))}var n=Ya?Bi("span",""):Bi("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ji(e){if(null!=Qa)return Qa;var t=zi(e,document.createTextNode("AA")),n=za(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=za(t,1,2).getBoundingClientRect();return Qa=r.right-n.right<3}function $i(e){if(null!=is)return is;var t=zi(e,Bi("span","x")),n=t.getBoundingClientRect(),r=za(t,0,1).getBoundingClientRect();return is=Math.abs(n.left-r.left)>1}function eo(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function to(e){return e.level%2?e.to:e.from}function no(e){return e.level%2?e.from:e.to}function ro(e){var t=ii(e);return t?to(t[0]):0}function io(e){var t=ii(e);return t?no(Ni(t)):e.text.length}function oo(e,t){var n=Zr(e.doc,t),r=yr(n);r!=n&&(t=ti(r));var i=ii(r),o=i?i[0].level%2?io(r):ro(r):0;return jo(t,o)}function ao(e,t){for(var n,r=Zr(e.doc,t);n=vr(r);)r=n.find(1,!0).line,t=null;var i=ii(r),o=i?i[0].level%2?ro(r):io(r):r.text.length;return jo(null==t?ti(r):t,o)}function so(e,t){var n=oo(e,t.line),r=Zr(e.doc,n.line),i=ii(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return jo(n.line,a?0:o)}return n}function uo(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:n>t}function lo(e,t){as=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return uo(e,i.level,e[n].level)?(i.from!=i.to&&(as=n),r):(i.from!=i.to&&(as=r),n);n=r}}return n}function co(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&Hi(e.text.charAt(t)));return t}function fo(e,t,n,r){var i=ii(e);if(!i)return ho(e,t,n,r);for(var o=lo(i,t),a=i[o],s=co(e,t,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return lo(i,s)==o?s:(a=i[o+=n],n>0==a.level%2?a.to:a.from);if(a=i[o+=n],!a)return null;s=n>0==a.level%2?co(e,a.to,-1,r):co(e,a.from,1,r)}}function ho(e,t,n,r){var i=t+n;if(r)for(;i>0&&Hi(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var po=navigator.userAgent,mo=navigator.platform,vo=/gecko\/\d/i.test(po),go=/MSIE \d/.test(po),yo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(po),bo=go||yo,wo=bo&&(go?document.documentMode||6:yo[1]),xo=/WebKit\//.test(po),Co=xo&&/Qt\/\d+\.\d+/.test(po),Mo=/Chrome\//.test(po),ko=/Opera\//.test(po),So=/Apple Computer/.test(navigator.vendor),Eo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(po),To=/PhantomJS/.test(po),_o=/AppleWebKit/.test(po)&&/Mobile\/\w+/.test(po),Ao=_o||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(po),Po=_o||/Mac/.test(mo),Do=/\bCrOS\b/.test(po),No=/win/i.test(mo),Oo=ko&&po.match(/Version\/(\d*\.\d*)/);Oo&&(Oo=Number(Oo[1])),Oo&&Oo>=15&&(ko=!1,xo=!0);var Lo=Po&&(Co||ko&&(null==Oo||12.11>Oo)),Ro=vo||bo&&wo>=9,Io=!1,Fo=!1;m.prototype=Fi({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Po&&!Eo?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Pi,this.disableVert=new Pi},enableZeroWidthBar:function(e,t){function n(){var r=e.getBoundingClientRect(),i=document.elementFromPoint(r.left+1,r.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),v.prototype=Fi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},v.prototype),e.scrollbarModel={"native":m,"null":v},S.prototype.signal=function(e,t){_i(e,t)&&this.events.push(arguments)},S.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Oa.apply(null,this.events[e])};var jo=e.Pos=function(e,t){return this instanceof jo?(this.line=e,void(this.ch=t)):new jo(e,t)},Wo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Uo=null;ne.prototype=Fi({init:function(e){function t(e){if(!Ei(r,e)){if(r.somethingSelected())Uo=r.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Uo.join("\n"),Va(o));else{if(!r.options.lineWiseCopyCut)return;var t=ee(r);Uo=t.text,"cut"==e.type?r.setSelections(t.ranges,null,Fa):(n.prevInput="",o.value=t.text.join("\n"),Va(o))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var n=this,r=this.cm,i=this.wrapper=re(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),_o&&(o.style.width="0px"),Pa(o,"input",function(){bo&&wo>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Pa(o,"paste",function(e){Ei(r,e)||J(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),Pa(o,"cut",t),Pa(o,"copy",t),Pa(e.scroller,"paste",function(t){qt(e,t)||Ei(r,t)||(r.state.pasteIncoming=!0,n.focus())}),Pa(e.lineSpace,"selectstart",function(t){qt(e,t)||Ta(t)}),Pa(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Pa(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=Re(e);if(e.options.moveInputWithCursor){var i=pt(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(e){var t=this.cm,n=t.display;zi(n.cursorDiv,e.cursors),zi(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=rs&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3);var a=t?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&Va(this.textarea),bo&&wo>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",bo&&wo>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ao||qi()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var r=n.poll();r||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||ns(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(bo&&wo>=9&&this.hasSelection===r||Po&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n=""),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,r.length);a>o&&n.charCodeAt(o)==r.charCodeAt(o);)++o;var s=this;return At(e,function(){Z(e,r.slice(o),n.length-o,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bo&&wo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t=""+(e?a.value:"");a.value="",a.value=t,r.prevInput=e?"":"",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=f,a.style.cssText=c,bo&&9>wo&&o.scrollbars.setScrollTop(o.scroller.scrollTop=u),null!=a.selectionStart){(!bo||bo&&9>wo)&&t();var e=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&""==r.prevInput?Pt(i,ca.selectAll)(i):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=Kt(i,e),u=o.scroller.scrollTop;if(s&&!ko){var l=i.options.resetSelectionOnContextMenu;l&&-1==i.doc.sel.contains(s)&&Pt(i,Ee)(i.doc,pe(s),Fa);var c=a.style.cssText,f=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var h=r.wrapper.getBoundingClientRect();if(a.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px; z-index: 1000; background: "+(bo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",xo)var p=window.scrollY;if(o.input.focus(),xo&&window.scrollTo(null,p),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),bo&&wo>=9&&t(),Ro){Aa(e);var d=function(){Na(window,"mouseup",d),setTimeout(n,20)};Pa(window,"mouseup",d)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Ri,needsContentAttribute:!1},ne.prototype),ie.prototype=Fi({init:function(e){function t(e){if(!Ei(r,e)){if(r.somethingSelected())Uo=r.getSelections(),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=ee(r);Uo=t.text,"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Fa),r.replaceSelection("",null,"cut")})}if(e.clipboardData&&!_o)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Uo.join("\n"));else{var n=re(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=Uo.join("\n");var o=document.activeElement;Va(i),setTimeout(function(){r.display.lineSpace.removeChild(n),o.focus()},50)}}}var n=this,r=n.cm,i=n.div=e.lineDiv;
te(i),Pa(i,"paste",function(e){Ei(r,e)||J(e,r)}),Pa(i,"compositionstart",function(e){var t=e.data;if(n.composing={sel:r.doc.sel,data:t,startData:t},t){var i=r.doc.sel.primary(),o=r.getLine(i.head.line),a=o.indexOf(t,Math.max(0,i.head.ch-t.length));a>-1&&a<=i.head.ch&&(n.composing.sel=pe(jo(i.head.line,a),jo(i.head.line,a+t.length)))}}),Pa(i,"compositionupdate",function(e){n.composing.data=e.data}),Pa(i,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Pa(i,"touchstart",function(){n.forceCompositionEnd()}),Pa(i,"input",function(){n.composing||!r.isReadOnly()&&n.pollContent()||At(n.cm,function(){Rt(r)})}),Pa(i,"copy",t),Pa(i,"cut",t)},prepareSelection:function(){var e=Re(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=se(this.cm,e.anchorNode,e.anchorOffset),r=se(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!r||r.bad||0!=Wo(Y(n,r),t.from())||0!=Wo(G(n,r),t.to())){var i=oe(this.cm,t.from()),o=oe(this.cm,t.to());if(i||o){var a=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var u=a[a.length-1].measure,l=u.maps?u.maps[u.maps.length-1]:u.map;o={node:l[l.length-1],offset:l[l.length-2]-l[l.length-3]}}}else i={node:a[0].measure.map[2],offset:0};try{var c=za(i.node,i.offset,o.offset,o.node)}catch(f){}c&&(!vo&&this.cm.state.focused?(e.collapse(i.node,i.offset),c.collapsed||e.addRange(c)):(e.removeAllRanges(),e.addRange(c)),s&&null==e.anchorNode?e.addRange(s):vo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){zi(this.cm.display.cursorDiv,e.cursors),zi(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ga(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():At(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=se(t,e.anchorNode,e.anchorOffset),r=se(t,e.focusNode,e.focusOffset);n&&r&&At(t,function(){Ee(t.doc,pe(n,r),Fa),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o;if(r.line==t.viewFrom||0==(o=jt(e,r.line)))var a=ti(t.view[0].line),s=t.view[0].node;else var a=ti(t.view[o].line),s=t.view[o-1].node.nextSibling;var u=jt(e,i.line);if(u==t.view.length-1)var l=t.viewTo-1,c=t.lineDiv.lastChild;else var l=ti(t.view[u+1].line)-1,c=t.view[u+1].node.previousSibling;for(var f=e.doc.splitLines(le(e,s,c,a,l)),h=Jr(e.doc,jo(a,0),jo(l,Zr(e.doc,l).text.length));f.length>1&&h.length>1;)if(Ni(f)==Ni(h))f.pop(),h.pop(),l--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),a++}for(var p=0,d=0,m=f[0],v=h[0],g=Math.min(m.length,v.length);g>p&&m.charCodeAt(p)==v.charCodeAt(p);)++p;for(var y=Ni(f),b=Ni(h),w=Math.min(y.length-(1==f.length?p:0),b.length-(1==h.length?p:0));w>d&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1);)++d;f[f.length-1]=y.slice(0,y.length-d),f[0]=f[0].slice(p);var x=jo(a,p),C=jo(l,h.length?Ni(h).length-d:0);return f.length>1||f[0]||Wo(x,C)?(Nn(e.doc,f,x,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Pt(this.cm,Rt)(this.cm):e.data&&e.data!=e.startData&&Pt(this.cm,Z)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Pt(this.cm,Z)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Ri,resetPosition:Ri,needsContentAttribute:!0},ie.prototype),e.inputStyles={textarea:ne,contenteditable:ie},ce.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=Wo(n.anchor,r.anchor)||0!=Wo(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new fe(X(this.ranges[t].anchor),X(this.ranges[t].head));return new ce(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Wo(t,r.from())>=0&&Wo(e,r.to())<=0)return n}return-1}},fe.prototype={from:function(){return Y(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ho,Bo,Vo,zo={left:0,right:0,top:0,bottom:0},qo=null,Ko=0,Xo=0,Go=0,Yo=null;bo?Yo=-.53:vo?Yo=15:Mo?Yo=-.7:So&&(Yo=-1/3);var Qo=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Qo(e);return t.x*=Yo,t.y*=Yo,t};var Zo=new Pi,Jo=null,$o=e.changeEnd=function(e){return e.text?jo(e.from.line+e.text.length-1,Ni(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&"mode"!=e||(n[e]=t,ta.hasOwnProperty(e)&&Pt(this,ta[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Xn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Dt(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,Rt(this)}),removeOverlay:Dt(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Rt(this)}}),indentLine:Dt(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ge(this.doc,e)&&Un(this,e,t,n)}),indentSelection:Dt(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Un(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&jn(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;n>u;++u)Un(this,u,e);var l=this.doc.sel.ranges;0==o.ch&&t.length==l.length&&l[r].from().ch>0&&Ce(this.doc,r,new fe(o,l[r].to()),Fa)}}}),getTokenAt:function(e,t){return Nr(this,e,t)},getLineTokens:function(e,t){return Nr(this,jo(e),t,!0)},getTokenTypeAt:function(e){e=me(this.doc,e);var t,n=Rr(this,Zr(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!sa.hasOwnProperty(t))return n;var r=sa[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=r[i[t][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&-1==Oi(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=de(n,null==e?n.first+n.size-1:e),Be(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?me(this.doc,e):e?r.from():r.to(),pt(this,n,t||"page")},charCoords:function(e,t){return ht(this,me(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ft(this,e,t||"page"),vt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ft(this,{top:e,left:0},t||"page").top,ni(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),n=Zr(this.doc,e)}else n=e;return ct(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-ri(n):0)},defaultTextHeight:function(){return yt(this.display)},defaultCharWidth:function(){return bt(this.display)},setGutterMarker:Dt(function(e,t,n){return Hn(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&Ui(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Dt(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,It(t,r,"gutter"),Ui(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(e){if("number"==typeof e){if(!ge(this.doc,e))return null;var t=e;if(e=Zr(this.doc,e),!e)return null}else{var t=ti(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=pt(this,me(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var u=Math.max(o.wrapper.clientHeight,this.doc.height),l=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(a=e.bottom),s+t.offsetWidth>l&&(s=l-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Rn(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:Dt(hn),triggerOnKeyPress:Dt(mn),triggerOnKeyUp:dn,execCommand:function(e){return ca.hasOwnProperty(e)?ca[e].call(null,this):void 0},triggerElectric:Dt(function(e){$(this,e)}),findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var o=0,a=me(this.doc,e);t>o&&(a=Vn(this.doc,a,i,n,r),!a.hitSide);++o);return a},moveH:Dt(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Vn(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},Wa)}),deleteH:Dt(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Bn(this,function(n){var i=Vn(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;0>t&&(i=-1,t=-t);for(var a=0,s=me(this.doc,e);t>a;++a){var u=pt(this,s,"div");if(null==o?o=u.left:u.left=o,s=zn(this,u,i,n),s.hitSide)break}return s},moveV:Dt(function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return 0>e?a.from():a.to();var s=pt(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=zn(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Fn(n,null,ht(n,u,"div").top-s.top),u},Wa),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,n=Zr(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;for(var a=n.charAt(r),s=Wi(a,o)?function(e){return Wi(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Wi(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new fe(jo(e.line,r),jo(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ja(this.display.cursorDiv,"CodeMirror-overwrite"):Za(this.display.cursorDiv,"CodeMirror-overwrite"),Oa(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==qi()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Dt(function(e,t){null==e&&null==t||Wn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ke(this)-this.display.barHeight,width:e.scrollWidth-Ke(this)-this.display.barWidth,clientHeight:Ge(this),clientWidth:Xe(this)}},scrollIntoView:Dt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:jo(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Wn(this),this.curOp.scrollToPos=e;else{var n=In(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Dt(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&at(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){It(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,Oa(r,"refresh",this)}),operation:function(e){return At(this,e)},refresh:Dt(function(){var e=this.display.cachedTextHeight;Rt(this),this.curOp.forceUpdate=!0,st(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-yt(this.display))>.5)&&a(this),Oa(this,"refresh",this)}),swapDoc:Dt(function(e){var t=this.doc;return t.cm=null,Qr(this,e),st(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ki(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ai(e);var ea=e.defaults={},ta=e.optionHandlers={},na=e.Init={toString:function(){return"CodeMirror.Init"}};qn("value","",function(e,t){e.setValue(t)},!0),qn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),qn("indentUnit",2,n,!0),qn("indentWithTabs",!1),qn("smartIndent",!0),qn("tabSize",4,function(e){r(e),st(e),Rt(e)},!0),qn("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(jo(r,o))}r++});for(var i=n.length-1;i>=0;i--)Nn(e.doc,t,n[i],jo(n[i].line,n[i].ch+t.length))}}),qn("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,r){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),r!=e.Init&&t.refresh()}),qn("specialCharPlaceholder",Wr,function(e){e.refresh()},!0),qn("electricChars",!0),qn("inputStyle",Ao?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),qn("rtlMoveVisually",!No),qn("wholeLineUpdateBefore",!0),qn("theme","default",function(e){s(e),u(e)},!0),qn("keyMap","default",function(t,n,r){var i=Xn(n),o=r!=e.Init&&Xn(r);o&&o.detach&&o.detach(t,i),i.attach&&i.attach(t,o||null)}),qn("extraKeys",null),qn("lineWrapping",!1,i,!0),qn("gutters",[],function(e){p(e.options),u(e)},!0),qn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?k(e.display)+"px":"0",e.refresh()},!0),qn("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),qn("scrollbarStyle","native",function(e){g(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),qn("lineNumbers",!1,function(e){p(e.options),u(e)},!0),qn("firstLineNumber",1,u,!0),qn("lineNumberFormatter",function(e){return e},u,!0),qn("showCursorWhenSelecting",!1,Le,!0),qn("resetSelectionOnContextMenu",!0),qn("lineWiseCopyCut",!0),qn("readOnly",!1,function(e,t){"nocursor"==t?(yn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),qn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),qn("dragDrop",!0,Vt),qn("allowDropFileTypes",null),qn("cursorBlinkRate",530),qn("cursorScrollMargin",0),qn("cursorHeight",1,Le,!0),qn("singleCursorHeightPerLine",!0,Le,!0),qn("workTime",100),qn("workDelay",100),qn("flattenSpans",!0,r,!0),qn("addModeClass",!1,r,!0),qn("pollInterval",100),qn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),qn("historyEventDelay",1250),qn("viewportMargin",10,function(e){e.refresh()},!0),qn("maxHighlightLength",1e4,r,!0),qn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),qn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),qn("autofocus",null);var ra=e.modes={},ia=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),ra[t]=n},e.defineMIME=function(e,t){ia[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ia.hasOwnProperty(t))t=ia[t];else if(t&&"string"==typeof t.name&&ia.hasOwnProperty(t.name)){var n=ia[t.name];"string"==typeof n&&(n={name:n}),t=Ii(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=ra[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(oa.hasOwnProperty(n.name)){var o=oa[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)i[a]=n.modeProps[a];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var oa=e.modeExtensions={};e.extendMode=function(e,t){var n=oa.hasOwnProperty(e)?oa[e]:oa[e]={};Fi(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){ka.prototype[e]=t},e.defineOption=qn;var aa=[];e.defineInitHook=function(e){aa.push(e)};var sa=e.helpers={};e.registerHelper=function(t,n,r){sa.hasOwnProperty(t)||(sa[t]=e[t]={_global:[]}),sa[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),sa[t]._global.push({pred:r,val:i})};var ua=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},la=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var ca=e.commands={selectAll:function(e){e.setSelection(jo(e.firstLine(),0),jo(e.lastLine()),Fa)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Fa)},killLine:function(e){Bn(e,function(t){if(t.empty()){var n=Zr(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:jo(t.head.line+1,0)}:{from:t.head,to:jo(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Bn(e,function(t){return{from:jo(t.from().line,0),to:me(e.doc,jo(t.to().line+1,0))}})},delLineLeft:function(e){Bn(e,function(e){return{from:jo(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Bn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){Bn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(jo(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(jo(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return oo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return so(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ao(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Wa)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Wa)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?so(e,t.head):r},Wa)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=Ua(e.getLine(o.line),o.ch,r);t.push(new Array(r-a%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){At(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=Zr(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new jo(i.line,i.ch-1)),i.ch>0)i=new jo(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),jo(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Zr(e.doc,i.line-1).text;a&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),jo(i.line-1,a.length-1),jo(i.line,1),"+transpose")}n.push(new fe(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){At(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0)}jn(e)})},toggleOverwrite:function(e){e.toggleOverwrite()}},fa=e.keyMap={};fa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},fa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},fa["default"]=Po?fa.macDefault:fa.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Li(n.split(" "),Kn),o=0;o<i.length;o++){var a,s;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var u=t[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var l in t)e[l]=t[l];return e};var ha=e.lookupKey=function(e,t,n,r){t=Xn(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ha(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=ha(e,t.fallthrough[o],n,r);if(a)return a}}},pa=e.isModifierKey=function(e){var t="string"==typeof e?e:os[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},da=e.keyName=function(e,t){if(ko&&34==e.keyCode&&e["char"])return!1;var n=os[e.keyCode],r=n;return null==r||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(Lo?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Lo?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};e.fromTextArea=function(t,n){function r(){t.value=l.getValue()}if(n=n?Fi(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=qi();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Pa(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=t.form,a=o.submit;try{var s=o.submit=function(){r(),o.submit=a,o.submit(),o.submit=s}}catch(u){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Na(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=a))}},t.style.display="none";var l=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return l};var ma=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ma.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ua(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ua(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ua(this.string,null,this.tabSize)-(this.lineStart?Ua(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var va=0,ga=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++va};Ai(ga),ga.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wt(e),_i(this,"clear")){var n=this.find();n&&ki(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=er(a.markedSpans,this);e&&!this.collapsed?It(e,ti(a),"text"):e&&(null!=s.to&&(i=ti(a)),null!=s.from&&(r=ti(a))),a.markedSpans=tr(a.markedSpans,s),null==s.from&&this.collapsed&&!Cr(this.doc,a)&&e&&ei(a,yt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var u=yr(this.lines[o]),l=f(u);l>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=l,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Rt(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,
e&&Ae(e.doc)),e&&ki(e,"markerCleared",e,this),t&&Ct(e),this.parent&&this.parent.clear()}},ga.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=er(o.markedSpans,this);if(null!=a.from&&(n=jo(t?o:ti(o),a.from),-1==e))return n;if(null!=a.to&&(r=jo(t?o:ti(o),a.to),1==e))return r}return n&&{from:n,to:r}},ga.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&At(n,function(){var r=e.line,i=ti(e.line),o=$e(n,i);if(o&&(ot(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Cr(t.doc,r)&&null!=t.height){var a=t.height;t.height=null;var s=Sr(t)-a;s&&ei(r,r.height+s)}})},ga.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Oi(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ga.prototype.detachLine=function(e){if(this.lines.splice(Oi(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var va=0,ya=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Ai(ya),ya.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ki(this,"clear")}},ya.prototype.find=function(e,t){return this.primary.find(e,t)};var ba=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Ai(ba),ba.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=ti(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Sr(this);ei(n,Math.max(0,n.height-o)),e&&At(e,function(){kr(e,n,-o),It(e,r,"widget")})}},ba.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=Sr(this)-e;r&&(ei(n,n.height+r),t&&At(t,function(){t.curOp.forceUpdate=!0,kr(t,n,r)}))};var wa=e.Line=function(e,t,n){this.text=e,cr(this,t),this.height=n?n(this):1};Ai(wa),wa.prototype.lineNo=function(){return ti(this)};var xa={},Ca={};Xr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,_r(i),ki(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},Gr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Xr))){var s=[];this.collapse(s),this.children=[new Xr(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var a=i.lines.splice(i.lines.length-25,25),s=new Xr(a);i.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Gr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=Oi(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Gr(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>e){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var Ma=0,ka=e.Doc=function(e,t,n,r){if(!(this instanceof ka))return new ka(e,t,n,r);null==n&&(n=0),Gr.call(this,[new Xr([new wa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=jo(n,0);this.sel=pe(i),this.history=new oi(null),this.id=++Ma,this.modeOption=t,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Kr(this,{from:i,to:i,text:e}),Ee(this,pe(i),Fa)};ka.prototype=Ii(Gr.prototype,{constructor:ka,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=$r(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Nt(function(e){var t=jo(this.first,0),n=this.first+this.size-1;En(this,{from:t,to:jo(n,Zr(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Ee(this,pe(t))}),replaceRange:function(e,t,n,r){t=me(this,t),n=n?me(this,n):t,Nn(this,e,t,n,r)},getRange:function(e,t,n){var r=Jr(this,me(this,e),me(this,t));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ge(this,e)?Zr(this,e):void 0},getLineNumber:function(e){return ti(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Zr(this,e)),yr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return me(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Nt(function(e,t,n){Me(this,me(this,"number"==typeof e?jo(e,t||0):e),null,n)}),setSelection:Nt(function(e,t,n){Me(this,me(this,e),me(this,t||e),n)}),extendSelection:Nt(function(e,t,n){we(this,me(this,e),t&&me(this,t),n)}),extendSelections:Nt(function(e,t){xe(this,ye(this,e),t)}),extendSelectionsBy:Nt(function(e,t){var n=Li(this.sel.ranges,e);xe(this,ye(this,n),t)}),setSelections:Nt(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new fe(me(this,e[r].anchor),me(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ee(this,he(i,t),n)}}),addSelection:Nt(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new fe(me(this,e),me(this,t||e))),Ee(this,he(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Jr(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Jr(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Nt(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&kn(this,r,t),o=r.length-1;o>=0;o--)En(this,r[o]);s?Se(this,s):this.cm&&jn(this.cm)}),undo:Nt(function(){_n(this,"undo")}),redo:Nt(function(){_n(this,"redo")}),undoSelection:Nt(function(){_n(this,"undo",!0)}),redoSelection:Nt(function(){_n(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new oi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vi(this.history.done),undone:vi(this.history.undone)}},setHistory:function(e){var t=this.history=new oi(this.history.maxGeneration);t.done=vi(e.done.slice(0),null,!0),t.undone=vi(e.undone.slice(0),null,!0)},addLineClass:Nt(function(e,t,n){return Hn(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(Ki(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Nt(function(e,t,n){return Hn(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(Ki(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Nt(function(e,t,n){return Er(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Gn(this,me(this,e),me(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=me(this,e),Gn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=me(this,e);var t=[],n=Zr(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=me(this,e),t=me(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;return o>e?(t=e,!0):(e-=o,void++n)}),me(this,jo(n,t))},indexFromPos:function(e){e=me(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new ka($r(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ka($r(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Zn(r,Qn(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Jn(Qn(this));break}}if(t.history==this.history){var i=[t.id];Yr(t,function(e){i.push(e.id)},!0),t.history=new oi(null),t.history.done=vi(this.history.done,i),t.history.undone=vi(this.history.undone,i)}},iterLinkedDocs:function(e){Yr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ts(e)},lineSeparator:function(){return this.lineSep||"\n"}}),ka.prototype.eachLine=ka.prototype.iter;var Sa="iter insert remove copy getEditor constructor".split(" ");for(var Ea in ka.prototype)ka.prototype.hasOwnProperty(Ea)&&Oi(Sa,Ea)<0&&(e.prototype[Ea]=function(e){return function(){return e.apply(this.doc,arguments)}}(ka.prototype[Ea]));Ai(ka);var Ta=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},_a=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Aa=e.e_stop=function(e){Ta(e),_a(e)},Pa=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},Da=[],Na=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var r=Mi(e,t,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},Oa=e.signal=function(e,t){var n=Mi(e,t,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},La=null,Ra=30,Ia=e.Pass={toString:function(){return"CodeMirror.Pass"}},Fa={scroll:!1},ja={origin:"*mouse"},Wa={origin:"+move"};Pi.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ua=e.countColumn=function(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=r||0,a=i||0;;){var s=e.indexOf("	",o);if(0>s||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}},Ha=e.findColumn=function(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("	",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}},Ba=[""],Va=function(e){e.select()};_o?Va=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:bo&&(Va=function(e){try{e.select()}catch(t){}});var za,qa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ka=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||qa.test(e))},Xa=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;za=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ga=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};bo&&11>wo&&(qi=function(){try{return document.activeElement}catch(e){return document.body}});var Ya,Qa,Za=e.rmClass=function(e,t){var n=e.className,r=Ki(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},Ja=e.addClass=function(e,t){var n=e.className;Ki(t).test(n)||(e.className+=(n?" ":"")+t)},$a=!1,es=function(){if(bo&&9>wo)return!1;var e=Bi("div");return"draggable"in e||"dragDrop"in e}(),ts=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},ns=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},rs=function(){var e=Bi("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),is=null,os=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)os[e+48]=os[e+96]=String(e);for(var e=65;90>=e;e++)os[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)os[e+111]=os[e+63235]="F"+e}();var as,ss=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,u=/[1n]/,l="L";return function(n){if(!i.test(n))return!1;for(var r,c=n.length,f=[],h=0;c>h;++h)f.push(r=e(n.charCodeAt(h)));for(var h=0,p=l;c>h;++h){var r=f[h];"m"==r?f[h]=p:p=r}for(var h=0,d=l;c>h;++h){var r=f[h];"1"==r&&"r"==d?f[h]="n":a.test(r)&&(d=r,"r"==r&&(f[h]="R"))}for(var h=1,p=f[0];c-1>h;++h){var r=f[h];"+"==r&&"1"==p&&"1"==f[h+1]?f[h]="1":","!=r||p!=f[h+1]||"1"!=p&&"n"!=p||(f[h]=p),p=r}for(var h=0;c>h;++h){var r=f[h];if(","==r)f[h]="N";else if("%"==r){for(var m=h+1;c>m&&"%"==f[m];++m);for(var v=h&&"!"==f[h-1]||c>m&&"1"==f[m]?"1":"N",g=h;m>g;++g)f[g]=v;h=m-1}}for(var h=0,d=l;c>h;++h){var r=f[h];"L"==d&&"1"==r?f[h]="L":a.test(r)&&(d=r)}for(var h=0;c>h;++h)if(o.test(f[h])){for(var m=h+1;c>m&&o.test(f[m]);++m);for(var y="L"==(h?f[h-1]:l),b="L"==(c>m?f[m]:l),v=y||b?"L":"R",g=h;m>g;++g)f[g]=v;h=m-1}for(var w,x=[],h=0;c>h;)if(s.test(f[h])){var C=h;for(++h;c>h&&s.test(f[h]);++h);x.push(new t(0,C,h))}else{var M=h,k=x.length;for(++h;c>h&&"L"!=f[h];++h);for(var g=M;h>g;)if(u.test(f[g])){g>M&&x.splice(k,0,new t(1,M,g));var S=g;for(++g;h>g&&u.test(f[g]);++g);x.splice(k,0,new t(2,S,g)),M=g}else++g;h>M&&x.splice(k,0,new t(1,M,h))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Ni(x).level&&(w=n.match(/\s+$/))&&(Ni(x).to-=w[0].length,x.push(new t(0,c-w[0].length,c))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Ni(x).level&&x.push(new t(x[0].level,c,c)),x}}();return e.version="5.14.2",e})},function(e,t,n){var r,i;i=n(28),e.exports=r=i.createVariant({label:"Link",setTarget:function(e){this._target=e},target:function(){var e,t,n,r,i,o;for(n=[],e=this;!e.hasOwnProperty("_target");)n.unshift(e.head()),e=e.master();for(e=this._target,r=0,i=n.length;i>r&&(t=n[r],o=e.findVariantWithHead(t),null!=o);r++)e=o;return e}})},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){!function(t){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function r(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function i(e){for(w in C)C[w]=e[_[w]]}function o(e){var t,r,o,a,s,l;if(t=e.keyCode,-1==n(T,t)&&T.push(t),93!=t&&224!=t||(t=91),t in C){C[t]=!0;for(o in k)k[o]==t&&(u[o]=!0)}else if(i(e),u.filter.call(this,e)&&t in x)for(l=d(),a=0;a<x[t].length;a++)if(r=x[t][a],r.scope==l||"all"==r.scope){s=r.mods.length>0;for(o in C)(!C[o]&&n(r.mods,+o)>-1||C[o]&&-1==n(r.mods,+o))&&(s=!1);(0!=r.mods.length||C[16]||C[18]||C[17]||C[91])&&!s||r.method(e,r)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function a(e){var t,r=e.keyCode,i=n(T,r);if(i>=0&&T.splice(i,1),93!=r&&224!=r||(r=91),r in C){C[r]=!1;for(t in k)k[t]==r&&(u[t]=!1)}}function s(){for(w in C)C[w]=!1;for(w in k)u[w]=!1}function u(e,t,n){var r,i;r=v(e),void 0===n&&(n=t,t="all");for(var o=0;o<r.length;o++)i=[],e=r[o].split("+"),e.length>1&&(i=g(e),e=[e[e.length-1]]),e=e[0],e=E(e),e in x||(x[e]=[]),x[e].push({shortcut:r[o],scope:t,method:n,key:r[o],mods:i})}function l(e,t){var n,i,o,a,s,u=[];for(n=v(e),a=0;a<n.length;a++){if(i=n[a].split("+"),i.length>1&&(u=g(i),e=i[i.length-1]),e=E(e),void 0===t&&(t=d()),!x[e])return;for(o=0;o<x[e].length;o++)s=x[e][o],s.scope===t&&r(s.mods,u)&&(x[e][o]={})}}function c(e){return"string"==typeof e&&(e=E(e)),-1!=n(T,e)}function f(){return T.slice(0)}function h(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)}function p(e){M=e||"all"}function d(){return M||"all"}function m(e){var t,n,r;for(t in x)for(n=x[t],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++}function v(e){var t;return e=e.replace(/\s/g,""),t=e.split(","),""==t[t.length-1]&&(t[t.length-2]+=","),t}function g(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=k[t[n]];return t}function y(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}function b(){var e=t.key;return t.key=A,e}var w,x={},C={16:!1,18:!1,17:!1,91:!1},M="all",k={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},S={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},E=function(e){return S[e]||e.toUpperCase().charCodeAt(0)},T=[];for(w=1;20>w;w++)S["f"+w]=111+w;var _={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(w in k)u[w]=!1;y(document,"keydown",function(e){o(e)}),y(document,"keyup",a),y(window,"focus",s);var A=t.key;t.key=u,t.key.setScope=p,t.key.getScope=d,t.key.deleteScope=m,t.key.filter=h,t.key.isPressed=c,t.key.getPressedKeyCodes=f,t.key.noConflict=b,t.key.unbind=l,e.exports=u}(this)},function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=n(18),o=n(3),a=n(1);o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e){return c.hasOwnProperty(e)?!0:l.hasOwnProperty(e)?!1:u.test(e)?(c[e]=!0,!0):(l[e]=!0,!1)}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var o=n(21),a=n(11),s=n(212),u=(n(2),/^[a-zA-Z_][\w\.\-]*$/),l={},c={},f={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+s(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else if(i(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute){var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}else{var l=r.propertyName;r.hasSideEffects&&""+e[l]==""+n||(e[l]=n)}}else o.isCustomAttribute(t)&&f.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var i=n.propertyName,a=o.getDefaultValueForProperty(e.nodeName,i);n.hasSideEffects&&""+e[i]===a||(e[i]=a)}}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};a.measureMethods(f,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),e.exports=f},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?l(!1):void 0}function i(e){r(e),null!=e.value||null!=e.onChange?l(!1):void 0}function o(e){r(e),null!=e.checked||null!=e.onChange?l(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(96),u=n(32),l=n(1),c=(n(2),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),f={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},h={},p={checkPropTypes:function(e,t,n){for(var r in f){if(f.hasOwnProperty(r))var i=f[r](t,r,e,u.prop);if(i instanceof Error&&!(i.message in h)){h[i.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=p},function(e,t,n){"use strict";var r=n(47),i=n(8),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};e.exports=o},function(e,t,n){"use strict";var r=n(1),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r(!1):void 0,o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,n){"use strict";var r=n(76),i=n(43),o=n(8),a=n(11),s=n(1),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},l={updatePropertyByID:function(e,t,n){var r=o.getNode(e);u.hasOwnProperty(t)?s(!1):void 0,null!=n?i.setValueForProperty(r,t,n):i.deleteValueForProperty(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=o.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=o.getNode(e[n].parentID);r.processUpdates(e,t)}};a.measureMethods(l,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=l},function(e,t,n){"use strict";function r(e){s.enqueueUpdate(e)}function i(e,t){var n=a.get(e);return n?n:null}var o=(n(16),n(10)),a=n(26),s=n(12),u=n(3),l=n(1),c=(n(2),{isMounted:function(e){var t=a.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t){"function"!=typeof t?l(!1):void 0;var n=i(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?l(!1):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueSetProps:function(e,t){var n=i(e,"setProps");n&&c.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:l(!1);var i=n._pendingElement||n._currentElement,a=i.props,s=u({},a.props,t);n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,s)),r(n)},enqueueReplaceProps:function(e,t){var n=i(e,"replaceProps");n&&c.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:l(!1);var i=n._pendingElement||n._currentElement,a=i.props;n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,t)),r(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});e.exports=c},function(e,t){"use strict";e.exports="0.14.8"},function(e,t,n){"use strict";function r(e){return null==e?null:1===e.nodeType?e:i.has(e)?o.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?a(!1):void 0,
void a(!1))}var i=(n(16),n(26)),o=n(8),a=n(1);n(2);e.exports=r},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return r?!!n[r]:!1}function r(e){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[i]);return"function"==typeof t?t:void 0}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=n},function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e){var t;if(null===e||e===!1)t=new a(i);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?l(!1):void 0,t="string"==typeof n.type?s.createInternalComponent(n):r(n.type)?new n.type(n):new c}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):l(!1);return t.construct(e),t._mountIndex=0,t._mountImage=null,t}var o=n(173),a=n(88),s=n(94),u=n(3),l=n(1),c=(n(2),function(){});u(c.prototype,o.Mixin,{_instantiateReactComponent:i}),e.exports=i},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(7);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t,n){"use strict";var r=n(7),i=n(36),o=n(37),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,i(t))})),e.exports=a},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";function r(e){return m[e]}function i(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function o(e){return(""+e).replace(v,r)}function a(e){return"$"+o(e)}function s(e,t,n,r){var o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||l.isValidElement(e))return n(r,e,""===t?p+i(e,0):t),1;var u,c,m=0,v=""===t?p:t+d;if(Array.isArray(e))for(var g=0;g<e.length;g++)u=e[g],c=v+i(u,g),m+=s(u,c,n,r);else{var y=f(e);if(y){var b,w=y.call(e);if(y!==e.entries)for(var x=0;!(b=w.next()).done;)u=b.value,c=v+i(u,x++),m+=s(u,c,n,r);else for(;!(b=w.next()).done;){var C=b.value;C&&(u=C[1],c=v+a(C[0])+d+i(u,0),m+=s(u,c,n,r))}}else if("object"===o){String(e);h(!1)}}return m}function u(e,t,n){return null==e?0:s(e,"",t,n)}var l=(n(16),n(10)),c=n(22),f=n(54),h=n(1),p=(n(2),c.SEPARATOR),d=":",m={"=":"=0",".":"=1",":":"=2"},v=/[=.:]/g;e.exports=u},function(e,t,n){"use strict";var r=(n(3),n(13)),i=(n(2),r);e.exports=i},function(e,t,n){(function(e,r){function i(e,t){this._id=e,this._clearFn=t}var o=n(73).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},l=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=l++,r=arguments.length<2?!1:s.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(t,n(61).setImmediate,n(61).clearImmediate)},function(e,t,n){var r,i;i=n(4),e.exports=r=function(){function e(e,t){this.items=e,this.origin=t}return e.prototype.toArray=function(){return i.map(this.items,function(t){return t instanceof e?t.toArray():t})},e.prototype.flattenToArray=function(){return i.flatten(this.toArray())},e}()},function(e,t,n){var r,i,o,a;a=n(4),i=n(28),r=n(5),e.exports=o=i.createVariant({label:"Node With Attributes",attributes:function(){return this.childrenOfType(r.Attribute)},getAttributesByName:function(){return a.indexBy(this.attributes(),"name")},getAttributesValuesByName:function(){return a.mapObject(this.getAttributesByName(),function(e){return e.value()})}})},function(e,t,n){var r;e.exports=r={},r.Serializer=n(120),r.saveFile=function(e,t,n){var r,i;return r=document.createElement("a"),i=new Blob([e],{type:n}),r.href=URL.createObjectURL(i),r.download=t,r.click()},r.loadFile=function(e){var t;return t=document.createElement("input"),t.setAttribute("type","file"),t.addEventListener("change",function(n){var r,i,o;return i=t.files,(r=i[0])?(o=new FileReader,o.onload=function(){return e(o.result)},o.readAsText(r)):void 0}),t.click()}},function(e,t,n){"use strict";var r=n(13),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e,t){var n=!0;e:for(;n;){var r=e,o=t;if(n=!1,r&&o){if(r===o)return!0;if(i(r))return!1;if(i(o)){e=r,t=o.parentNode,n=!0;continue e}return r.contains?r.contains(o):r.compareDocumentPosition?!!(16&r.compareDocumentPosition(o)):!1}return!1}}var i=n(152);e.exports=r},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t,n){"use strict";function r(e){return a?void 0:o(!1),h.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?h[e]:null}var i=n(7),o=n(1),a=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(e){h[e]=f,s[e]=!0}),e.exports=r},function(e,t){"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=r.bind(t),a=0;a<n.length;a++)if(!o(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},function(module,exports){/*! @license Firebase v2.4.2
	    License: https://www.firebase.com/terms/terms-of-service.html */
!function(){function p(e){return void 0!==e}function aa(){}function ba(e){e.yb=function(){return e.zf?e.zf:e.zf=new e}}function ca(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function da(e){return"array"==ca(e)}function ea(e){var t=ca(e);return"array"==t||"object"==t&&"number"==typeof e.length}function q(e){return"string"==typeof e}function fa(e){return"number"==typeof e}function r(e){return"function"==ca(e)}function ga(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ha(e,t,n){return e.call.apply(e.bind,arguments)}function ia(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,u.apply(null,arguments)}function ka(e,t){function n(){}n.prototype=t.prototype,e.ph=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.lh=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function la(e){if(Error.captureStackTrace)Error.captureStackTrace(this,la);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function v(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ma(e,t){var n,r={};for(n in e)r[n]=t.call(void 0,e[n],n,e);return r}function na(e,t){for(var n in e)if(!t.call(void 0,e[n],n,e))return!1;return!0}function oa(e){var t,n=0;for(t in e)n++;return n}function pa(e){for(var t in e)return t}function qa(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function ra(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function sa(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function ta(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r}function ua(e,t){var n=ta(e,t,void 0);return n&&e[n]}function va(e){for(var t in e)return!1;return!0}function wa(e){var t,n={};for(t in e)n[t]=e[t];return n}function ya(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<xa.length;o++)n=xa[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function za(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Vd=void 0}function Ba(e,t,n){switch(typeof t){case"string":Ca(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"undefined":n.push("null");break;case"object":if(null==t){n.push("null");break}if(da(t)){var r=t.length;n.push("[");for(var i="",o=0;r>o;o++)n.push(i),i=t[o],Ba(e,e.Vd?e.Vd.call(t,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i=t[o],"function"!=typeof i&&(n.push(r),Ca(o,n),n.push(":"),Ba(e,e.Vd?e.Vd.call(t,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}function Ca(e,t){t.push('"',e.replace(Ea,function(e){if(e in Da)return Da[e];var t=e.charCodeAt(0),n="\\u";return 16>t?n+="000":256>t?n+="00":4096>t&&(n+="0"),Da[e]=n+t.toString(16)}),'"')}function Fa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)}function Ia(){this.Ya=-1}function Ja(){this.Ya=-1,this.Ya=64,this.P=[],this.pe=[],this.eg=[],this.Od=[],this.Od[0]=128;for(var e=1;e<this.Ya;++e)this.Od[e]=0;this.ge=this.ec=0,this.reset()}function Ka(e,t,n){n||(n=0);var r=e.eg;if(q(t))for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}t=e.P[0],n=e.P[1];for(var a,s=e.P[2],u=e.P[3],l=e.P[4],i=0;80>i;i++)40>i?20>i?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>i?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(t<<5|t>>>27)+o+l+a+r[i]&4294967295,l=u,u=s,s=4294967295&(n<<30|n>>>2),n=t,t=o;e.P[0]=e.P[0]+t&4294967295,e.P[1]=e.P[1]+n&4294967295,e.P[2]=e.P[2]+s&4294967295,e.P[3]=e.P[3]+u&4294967295,e.P[4]=e.P[4]+l&4294967295}function Ra(e,t){var n=Sa(e,t,void 0);return 0>n?null:q(e)?e.charAt(n):e[n]}function Sa(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&t.call(n,i[o],o,e))return o;return-1}function Ta(e,t){var n=La(e,t);n>=0&&x.splice.call(e,n,1)}function Ua(e,t,n){return 2>=arguments.length?x.slice.call(e,t):x.slice.call(e,t,n)}function Va(e,t){e.sort(t||Wa)}function Wa(e,t){return e>t?1:t>e?-1:0}function Xa(e){n.setTimeout(function(){throw e},0)}function Za(){var e=n.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==w.indexOf("Presto")&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,e=t.document;e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,e=u(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this);t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!=typeof e&&-1==w.indexOf("Trident")&&-1==w.indexOf("MSIE")){var t=new e,r={},i=r;return t.port1.onmessage=function(){if(p(r.next)){r=r.next;var e=r.hb;r.hb=null,e()}},function(e){i.next={hb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){n.setTimeout(e,0)}}function $a(e,t){ab||bb(),cb||(ab(),cb=!0),db.push(new eb(e,t))}function bb(){if(n.Promise&&n.Promise.resolve){var e=n.Promise.resolve();ab=function(){e.then(fb)}}else ab=function(){var e=fb;!r(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ya||(Ya=Za()),Ya(e)):n.setImmediate(e)}}function fb(){for(;db.length;){var e=db;db=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.yg.call(n.scope)}catch(r){Xa(r)}}}cb=!1}function eb(e,t){this.yg=e,this.scope=t}function nb(e,t){if(!ea(e))throw Error("encodeByteArray takes an array as a parameter");ob();for(var n=t?lb:kb,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|l>>6,l=63&l;u||(l=64,a||(s=64)),r.push(n[c],n[o],n[s],n[l])}return r.join("")}function ob(){if(!kb){kb={},lb={},mb={};for(var e=0;65>e;e++)kb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),lb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),mb[lb[e]]=e,e>=62&&(mb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function pb(e,t){if(this.N=qb,this.Rf=void 0,this.Ba=this.Ha=null,this.yd=this.ye=!1,e==rb)sb(this,tb,t);else try{var n=this;e.call(t,function(e){sb(n,tb,e)},function(e){if(!(e instanceof ub))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}sb(n,vb,e)})}catch(r){sb(this,vb,r)}}function rb(){}function xb(e,t){if(e.N==qb)if(e.Ha){var n=e.Ha;if(n.Ba){for(var r,i=0,o=-1,a=0;(r=n.Ba[a])&&!((r=r.o)&&(i++,r==e&&(o=a),o>=0&&i>1));a++);o>=0&&(n.N==qb&&1==i?xb(n,t):(i=n.Ba.splice(o,1)[0],yb(n,i,vb,t)))}e.Ha=null}else sb(e,vb,t)}function zb(e,t){e.Ba&&e.Ba.length||e.N!=tb&&e.N!=vb||Ab(e),e.Ba||(e.Ba=[]),e.Ba.push(t)}function wb(e,t,n,r){var i={o:null,Hf:null,Jf:null};return i.o=new pb(function(e,o){i.Hf=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.Jf=n?function(t){try{var i=n.call(r,t);!p(i)&&t instanceof ub?o(t):e(i)}catch(a){o(a)}}:o}),i.o.Ha=e,zb(e,i),i.o}function sb(e,t,n){if(e.N==qb){if(e==n)t=vb,n=new TypeError("Promise cannot resolve to itself");else{var i;if(n)try{i=!!n.$goog_Thenable}catch(o){i=!1}else i=!1;if(i)return e.N=1,void n.then(e.Yf,e.Zf,e);if(ga(n))try{var a=n.then;if(r(a))return void Bb(e,n,a)}catch(s){t=vb,n=s}}e.Rf=n,e.N=t,e.Ha=null,Ab(e),t!=vb||n instanceof ub||Cb(e,n)}}function Bb(e,t,n){function r(t){o||(o=!0,e.Zf(t))}function i(t){o||(o=!0,e.Yf(t))}e.N=1;var o=!1;try{n.call(t,i,r)}catch(a){r(a)}}function Ab(e){e.ye||(e.ye=!0,$a(e.wg,e))}function yb(e,t,n,r){if(n==tb)t.Hf(r);else{if(t.o)for(;e&&e.yd;e=e.Ha)e.yd=!1;t.Jf(r)}}function Cb(e,t){e.yd=!0,$a(function(){e.yd&&Db.call(null,t)})}function ub(e){la.call(this,e)}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Fb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gb(e){var t={};return Fb(e,function(e,n){t[e]=n}),t}function Hb(e){return"object"==typeof e&&null!==e}function Ib(e){var t=[];return Fb(e,function(e,n){da(n)?Ma(n,function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""}function Jb(e){var t={};return e=e.replace(/^\?/,"").split("&"),Ma(e,function(e){e&&(e=e.split("="),t[e[0]]=e[1])}),t}function Kb(e,t){if(!e)throw Lb(t)}function Lb(e){return Error("Firebase ("+Eb+") INTERNAL ASSERT FAILED: "+e)}function B(){var e=this;this.reject=this.resolve=null,this.D=new Mb(function(t,n){e.resolve=t,e.reject=n})}function C(e,t){return function(n,i){n?e.reject(n):e.resolve(i),r(t)&&(Nb(e.D),1===t.length?t(n):t(n,i))}}function Nb(e){e.then(void 0,aa)}function Ob(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i>=55296&&56319>=i&&(i-=55296,r++,Kb(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(e.charCodeAt(r)-56320)),128>i?t[n++]=i:(2048>i?t[n++]=i>>6|192:(65536>i?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function Pb(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t++:2048>r?t+=2:r>=55296&&56319>=r?(t+=4,n++):t+=3}return t}function D(e,t,n,r){var i;if(t>r?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e=e+" failed: "+(r+" argument ")}function F(e,t,n,i){if((!i||p(n))&&!r(n))throw Error(E(e,t,i)+"must be a valid function.")}function Qb(e,t,n){if(p(n)&&(!ga(n)||null===n))throw Error(E(e,t,!0)+"must be a valid context object.")}function Rb(e){return"undefined"!=typeof JSON&&p(JSON.parse)?JSON.parse(e):za(e)}function G(e){if("undefined"!=typeof JSON&&p(JSON.stringify))e=JSON.stringify(e);else{var t=[];Ba(new Aa,e,t),e=t.join("")}return e}function Sb(){this.Zd=H}function Tb(){}function Vb(e,t,n){this.bg=e,this.Oa=t,this.Nd=n}function Zb(){this.xb=[]}function $b(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.cc();null===n||o.ea(n.cc())||(e.xb.push(n),n=null),null===n&&(n=new ac(o)),n.add(i)}n&&e.xb.push(n)}function bc(e,t,n){$b(e,n),cc(e,function(e){return e.ea(t)})}function dc(e,t,n){$b(e,n),cc(e,function(e){return e.contains(t)||t.contains(e)})}function cc(e,t){for(var n=!0,r=0;r<e.xb.length;r++){var i=e.xb[r];if(i)if(i=i.cc(),t(i)){for(var i=e.xb[r],o=0;o<i.xd.length;o++){var a=i.xd[o];if(null!==a){i.xd[o]=null;var s=a.Zb();ec&&fc("event: "+a.toString()),gc(s)}}e.xb[r]=null}else n=!1}n&&(e.xb=[])}function ac(e){this.ta=e,this.xd=[]}function J(e,t,n,r){this.type=e,this.Na=t,this.Za=n,this.Oe=r,this.Td=void 0}function hc(e){return new J(ic,e)}function jc(e,t,n,r){this.xe=t,this.be=n,this.Td=r,this.wd=e}function kc(e,t,n){this.xe=e,this.error=t,this.path=n}function Xb(e,t,n){this.A=e,this.ga=t,this.Yb=n}function lc(e){return e.ga}function mc(e){return e.Yb}function nc(e,t){return t.e()?e.ga&&!e.Yb:Wb(e,K(t))}function Wb(e,t){return e.ga&&!e.Yb||e.A.Fa(t)}function oc(e){this.pg=e,this.Gd=null}function pc(e,t){this.Vf={},this.hd=new oc(e),this.da=t;var n=1e4+2e4*Math.random();setTimeout(u(this.Of,this),Math.floor(n))}function qc(){this.Hc={}}function rc(e,t,n){p(n)||(n=1),y(e.Hc,t)||(e.Hc[t]=0),e.Hc[t]+=n}function uc(e){return e=e.toString(),sc[e]||(sc[e]=new qc),sc[e]}function vc(e,t){var n=e.toString();return tc[n]||(tc[n]=t()),tc[n]}function L(e,t){this.name=e,this.U=t}function wc(e,t){return new L(e,t)}function xc(e,t){return yc(e.name,t.name)}function zc(e,t){return yc(e,t)}function Ac(e,t,n){this.type=Bc,this.source=e,this.path=t,this.Ja=n}function Cc(e,t){this.type=Dc,this.source=e,this.path=t}function Ec(e,t){this.Pa=e,this.xa=t?t:Fc}function Gc(e,t){for(var n,r=e.xa,i=null;!r.e();){if(n=e.Pa(t,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Hc(e,t,n,r,i){for(this.Xd=i||null,this.Je=r,this.Ta=[],i=1;!e.e();)if(i=t?n(e.key,t):1,r&&(i*=-1),0>i)e=this.Je?e.left:e.right;else{if(0===i){this.Ta.push(e);break}this.Ta.push(e),e=this.Je?e.right:e.left}}function Ic(e){if(0===e.Ta.length)return null;var t,n=e.Ta.pop();if(t=e.Xd?e.Xd(n.key,n.value):{key:n.key,value:n.value},e.Je)for(n=n.left;!n.e();)e.Ta.push(n),n=n.right;else for(n=n.right;!n.e();)e.Ta.push(n),n=n.left;return t}function Jc(e){if(0===e.Ta.length)return null;var t;return t=e.Ta,t=t[t.length-1],e.Xd?e.Xd(t.key,t.value):{key:t.key,value:t.value}}function Kc(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:!0,this.left=null!=r?r:Fc,this.right=null!=i?i:Fc}function Lc(e){return e.left.e()?e:Lc(e.left)}function Nc(e){return e.left.e()?Fc:(e.left.ha()||e.left.left.ha()||(e=Oc(e)),e=e.$(null,null,null,Nc(e.left),null),Mc(e))}function Mc(e){return e.right.ha()&&!e.left.ha()&&(e=Rc(e)),e.left.ha()&&e.left.left.ha()&&(e=Pc(e)),e.left.ha()&&e.right.ha()&&(e=Qc(e)),e}function Oc(e){return e=Qc(e),e.right.left.ha()&&(e=e.$(null,null,null,null,Pc(e.right)),e=Rc(e),e=Qc(e)),e}function Rc(e){return e.right.$(null,null,e.color,e.$(null,null,!0,null,e.right.left),null)}function Pc(e){return e.left.$(null,null,e.color,null,e.$(null,null,!0,e.left.right,null))}function Qc(e){return e.$(null,null,!e.color,e.left.$(null,null,!e.left.color,null,null),e.right.$(null,null,!e.right.color,null,null))}function Sc(){}function Tc(e,t){return e&&"object"==typeof e?(O(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function Uc(e,t){var n=new Vc;return Wc(e,new P(""),function(e,r){n.rc(e,Xc(r,t))}),n}function Xc(e,t){var n,r=e.C().J(),r=Tc(r,t);if(e.L()){var i=Tc(e.Ea(),t);return i!==e.Ea()||r!==e.C().J()?new Yc(i,Q(r)):e}return n=e,r!==e.C().J()&&(n=n.ia(new Yc(r))),e.R(R,function(e,r){var i=Xc(r,t);i!==r&&(n=n.W(e,i))}),n}function Zc(){this.Ac={}}function $c(e){this.Ic=e,this.Sd="firebase:"}function ad(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $c(t)}}catch(n){}return new Zc}function dd(e,t,n,r,i){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.ob=t,this.lc=n,this.jh=r,this.Rd=i||"",this.ab=bd.get("host:"+e)||this.host}function ed(e,t){t!==e.ab&&(e.ab=t,"s-"===e.ab.substr(0,2)&&bd.set("host:"+e.host,e.ab))}function fd(e,t,n){if(O("string"==typeof t,"typeof type must == string"),O("object"==typeof n,"typeof params must == object"),t===gd)t=(e.ob?"wss://":"ws://")+e.ab+"/.ws?";else{if(t!==hd)throw Error("Unknown connection type: "+t);t=(e.ob?"https://":"http://")+e.ab+"/.lp?"}e.host!==e.ab&&(n.ns=e.lc);var r=[];return v(n,function(e,t){r.push(t+"="+e)}),t+r.join("&")}function kd(e){try{var t;if("undefined"!=typeof atob)t=atob(e);else{ob();for(var n=mb,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;var s=i<e.length?n[e.charAt(i)]:64;++i;var u=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}if(8192>r.length)t=String.fromCharCode.apply(null,r);else{for(e="",n=0;n<r.length;n+=8192)e+=String.fromCharCode.apply(null,Ua(r,n,n+8192));t=e}}return t}catch(l){fc("base64Decode failed: ",l)}return null}function ld(e){var t=Ob(e);e=new Ja,e.update(t);var t=[],n=8*e.ge;56>e.ec?e.update(e.Od,56-e.ec):e.update(e.Od,e.Ya-(e.ec-56));for(var r=e.Ya-1;r>=56;r--)e.pe[r]=255&n,n/=256;for(Ka(e,e.pe),r=n=0;5>r;r++)for(var i=24;i>=0;i-=8)t[n]=e.P[r]>>i&255,++n;return nb(t)}function md(e){for(var t="",n=0;n<arguments.length;n++)t=ea(arguments[n])?t+md.apply(null,arguments[n]):"object"==typeof arguments[n]?t+G(arguments[n]):t+arguments[n],t+=" ";return t}function od(e,t){Kb(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?ec=u(console.log,console):"object"==typeof console.log&&(ec=function(e){console.log(e)})),t&&cd.set("logging_enabled",!0)):r(e)?ec=e:(ec=null,cd.remove("logging_enabled"))}function fc(e){if(!0===nd&&(nd=!1,null===ec&&!0===cd.get("logging_enabled")&&od(!0)),ec){var t=md.apply(null,arguments);ec(t)}}function pd(e){return function(){fc(e,arguments)}}function qd(e){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+md.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function rd(e){var t=md.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function S(e){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+md.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function sd(e){var t="",n="",r="",i="",o=!0,a="https",s=443;if(q(e)){var u=e.indexOf("//");for(u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2)),u=e.indexOf("/"),-1===u&&(u=e.length),t=e.substring(0,u),i="",e=e.substring(u).split("/"),u=0;u<e.length;u++)if(0<e[u].length){var l=e[u];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(c){}i+="/"+l}e=t.split("."),3===e.length?(n=e[1],r=e[0].toLowerCase()):2===e.length&&(n=e[0]),u=t.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=t.substring(u+1),isFinite(s)&&(s=String(s)),s=q(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:t,port:s,domain:n,fh:r,ob:o,scheme:a,bd:i}}function td(e){return fa(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function ud(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function yc(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var n=vd(e),r=vd(t);return null!==n?null!==r?0==n-r?e.length-t.length:n-r:-1:null!==r?1:t>e?-1:1}function wd(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+G(t))}function xd(e){if("object"!=typeof e||null===e)return G(e);var t,n=[];for(t in e)n.push(t);n.sort(),t="{";for(var r=0;r<n.length;r++)0!==r&&(t+=","),t+=G(n[r]),t+=":",t+=xd(e[n[r]]);return t+"}"}function yd(e,t){if(e.length<=t)return[e];for(var n=[],r=0;r<e.length;r+=t)r+t>e?n.push(e.substring(r,e.length)):n.push(e.substring(r,r+t));return n}function zd(e,t){if(da(e))for(var n=0;n<e.length;++n)t(n,e[n]);else v(e,t)}function Ad(e){O(!td(e),"Invalid JSON number");var t,n,r,i;for(0===e?(r=n=0,t=-(1/0)===1/e?1:0):(t=0>e,e=Math.abs(e),e>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=r+1023,r=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),i=[],e=52;e;--e)i.push(r%2?1:0),r=Math.floor(r/2);for(e=11;e;--e)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(t?1:0),i.reverse(),t=i.join(""),n="",e=0;64>e;e+=8)r=parseInt(t.substr(e,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function vd(e){return Bd.test(e)&&(e=Number(e),e>=-2147483648&&2147483647>=e)?e:null}function gc(e){try{e()}catch(t){setTimeout(function(){throw S("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function T(e,t){if(r(e)){var n=Array.prototype.slice.call(arguments,1).slice();gc(function(){e.apply(null,n)})}}function Cd(e){var t={},n={},r={},i="";try{var o=e.split("."),t=Rb(kd(o[0])||""),n=Rb(kd(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{mh:t,Ec:n,data:r,bh:i}}function Dd(e){return e=Cd(e).Ec,"object"==typeof e&&e.hasOwnProperty("iat")?z(e,"iat"):null}function Ed(e){e=Cd(e);var t=e.Ec;return!!e.bh&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function Fd(e){this.Y=e,this.g=e.n.g}function Gd(e,t,n,r){var i=[],o=[];return Ma(t,function(t){"child_changed"===t.type&&e.g.Dd(t.Oe,t.Na)&&o.push(new J("child_moved",t.Na,t.Za))}),Hd(e,i,"child_removed",t,r,n),Hd(e,i,"child_added",t,r,n),Hd(e,i,"child_moved",o,r,n),Hd(e,i,"child_changed",t,r,n),Hd(e,i,ic,t,r,n),i}function Hd(e,t,n,r,i,o){r=Na(r,function(e){return e.type===n}),Va(r,u(e.qg,e)),Ma(r,function(n){var r=Id(e,n,o);Ma(i,function(i){i.Qf(n.type)&&t.push(i.createEvent(r,e.Y))})})}function Id(e,t,n){return"value"!==t.type&&"child_removed"!==t.type&&(t.Td=n.wf(t.Za,t.Na,e.g)),t}function Jd(){this.ib={}}function Kd(e,t){var n=t.type,r=t.Za;O("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),O(".priority"!==r,"Only non-priority child changes can be tracked.");var i=z(e.ib,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)e.ib[r]=new J("child_changed",t.Na,r,i.Na);else if("child_removed"==n&&"child_added"==o)delete e.ib[r];else if("child_removed"==n&&"child_changed"==o)e.ib[r]=new J("child_removed",i.Oe,r);else if("child_changed"==n&&"child_added"==o)e.ib[r]=new J("child_added",t.Na,r);else{if("child_changed"!=n||"child_changed"!=o)throw jd("Illegal combination of changes: "+t+" occurred after "+i);e.ib[r]=new J("child_changed",t.Na,r,i.Oe)}}else e.ib[r]=t}function Ld(e){this.g=e}function Md(e){this.Fe=new Ld(e.g),this.g=e.g;var t;e.oa?(t=Nd(e),t=e.g.Sc(Od(e),t)):t=e.g.Wc(),this.gd=t,e.ra?(t=Pd(e),e=e.g.Sc(Rd(e),t)):e=e.g.Tc(),this.Jc=e}function Sd(e){this.ua=new Md(e),this.g=e.g,O(e.la,"Only valid if limit has been set"),this.ma=e.ma,this.Nb=!Td(e)}function Ud(e,t,n,r,i,o){var a;if(e.Nb){var s=Vd(e.g);a=function(e,t){return s(t,e)}}else a=Vd(e.g);O(t.Hb()==e.ma,"");var u=new L(n,r),l=e.Nb?Wd(t,e.g):Xd(t,e.g),c=e.ua.matches(u);if(t.Fa(n)){for(var f=t.T(n),l=i.Ce(e.g,l,e.Nb);null!=l&&(l.name==n||t.Fa(l.name));)l=i.Ce(e.g,l,e.Nb);return i=null==l?1:a(l,u),c&&!r.e()&&i>=0?(null!=o&&Kd(o,new J("child_changed",r,n,f)),t.W(n,r)):(null!=o&&Kd(o,new J("child_removed",f,n)),t=t.W(n,H),null!=l&&e.ua.matches(l)?(null!=o&&Kd(o,new J("child_added",l.U,l.name)),t.W(l.name,l.U)):t)}return r.e()?t:c&&0<=a(l,u)?(null!=o&&(Kd(o,new J("child_removed",l.U,l.name)),Kd(o,new J("child_added",r,n))),t.W(n,r).W(l.name,H)):t}function Yd(e,t){this.me=e,this.og=t}function Zd(e){this.X=e}function ie(e,t,n,r,i,o){var a=t.Q;if(null!=r.xc(n))return t;var s;if(n.e())O(lc(t.w()),"If change path is empty, we must have complete server data"),mc(t.w())?(i=Yb(t),r=r.Cc(i instanceof fe?i:H)):r=r.Aa(Yb(t)),o=e.X.ya(t.Q.j(),r,o);else{var u=K(n);if(".priority"==u)O(1==le(n),"Can't have a priority with additional path components"),o=a.j(),s=t.w().j(),r=r.nd(n,o,s),o=null!=r?e.X.ia(o,r):a.j();else{var l=N(n);Wb(a,u)?(s=t.w().j(),r=r.nd(n,a.j(),s),r=null!=r?a.j().T(u).H(l,r):a.j().T(u)):r=r.Bc(u,t.w()),o=null!=r?e.X.H(a.j(),u,r,l,i,o):a.j()}}return ge(t,o,a.ga||n.e(),e.X.Ra())}function ae(e,t,n,r,i,o,a,s){var u=t.w();if(a=a?e.X:e.X.$b(),n.e())r=a.ya(u.j(),r,null);else if(a.Ra()&&!u.Yb)r=u.j().H(n,r),r=a.ya(u.j(),r,null);else{var l=K(n);if(!nc(u,n)&&1<le(n))return t;var c=N(n);r=u.j().T(l).H(c,r),r=".priority"==l?a.ia(u.j(),r):a.H(u.j(),l,r,c,Ub,null)}return u=u.ga||n.e(),t=new je(t.Q,new Xb(r,u,a.Ra())),ie(e,t,n,i,new Vb(i,t,o),s)}function $d(e,t,n,r,i,o,a){var s=t.Q;if(i=new Vb(i,t,o),n.e())a=e.X.ya(t.Q.j(),r,a),e=ge(t,a,!0,e.X.Ra());else if(o=K(n),".priority"===o)a=e.X.ia(t.Q.j(),r),e=ge(t,a,s.ga,s.Yb);else{n=N(n);var u=s.j().T(o);if(!n.e()){var l=i.uf(o);r=null!=l?".priority"===me(n)&&l.S(n.parent()).e()?l:l.H(n,r):H}u.ea(r)?e=t:(a=e.X.H(s.j(),o,r,n,i,a),e=ge(t,a,s.ga,e.X.Ra()))}return e}function ce(e,t,n,r,i,o,a){var s=t;return ne(r,function(r,u){var l=n.o(r);Wb(t.Q,K(l))&&(s=$d(e,s,l,u,i,o,a))}),ne(r,function(r,u){var l=n.o(r);Wb(t.Q,K(l))||(s=$d(e,s,l,u,i,o,a))}),s}function oe(e,t){return ne(t,function(t,n){e=e.H(t,n)}),e}function de(e,t,n,r,i,o,a,s){if(t.w().j().e()&&!lc(t.w()))return t;var u=t;n=n.e()?r:pe(qe,n,r);var l=t.w().j();return n.children.ka(function(n,r){if(l.Fa(n)){var c=t.w().j().T(n),c=oe(c,r);u=ae(e,u,new P(n),c,i,o,a,s)}}),n.children.ka(function(n,r){var c=!Wb(t.w(),n)&&null==r.value;l.Fa(n)||c||(c=t.w().j().T(n),c=oe(c,r),u=ae(e,u,new P(n),c,i,o,a,s))}),u}function he(e,t,n,r,i,o,a){if(null!=i.xc(n))return t;var s=mc(t.w()),u=t.w();if(null!=r.value){if(n.e()&&u.ga||nc(u,n))return ae(e,t,n,u.j().S(n),i,o,s,a);if(n.e()){var l=qe;return u.j().R(re,function(e,t){l=l.set(new P(e),t)}),de(e,t,n,l,i,o,s,a)}return t}return l=qe,ne(r,function(e){var t=n.o(e);nc(u,t)&&(l=l.set(e,u.j().S(t)))}),de(e,t,n,l,i,o,s,a)}function se(){}function Vd(e){return u(e.compare,e)}function ve(e){O(!e.e()&&".priority"!==K(e),"Can't create PathIndex with empty path or .priority key"),this.gc=e}function xe(){}function ye(){}function ze(){}function Ce(){this.Xb=this.ra=this.Pb=this.oa=this.la=!1,this.ma=0,this.Rb="",this.ic=null,this.Bb="",this.fc=null,this.zb="",this.g=R}function Td(e){return""===e.Rb?e.oa:"l"===e.Rb}function Od(e){return O(e.oa,"Only valid if start has been set"),e.ic}function Nd(e){return O(e.oa,"Only valid if start has been set"),e.Pb?e.Bb:"[MIN_NAME]"}function Rd(e){return O(e.ra,"Only valid if end has been set"),e.fc}function Pd(e){return O(e.ra,"Only valid if end has been set"),e.Xb?e.zb:"[MAX_NAME]"}function Ee(e){var t=new Ce;return t.la=e.la,t.ma=e.ma,t.oa=e.oa,t.ic=e.ic,t.Pb=e.Pb,t.Bb=e.Bb,t.ra=e.ra,t.fc=e.fc,t.Xb=e.Xb,t.zb=e.zb,t.g=e.g,t}function Fe(e,t){var n=Ee(e);return n.g=t,n}function Ge(e){var t={};if(e.oa&&(t.sp=e.ic,e.Pb&&(t.sn=e.Bb)),e.ra&&(t.ep=e.fc,e.Xb&&(t.en=e.zb)),e.la){t.l=e.ma;var n=e.Rb;""===n&&(n=Td(e)?"l":"r"),t.vf=n}return e.g!==R&&(t.i=e.g.toString()),t}function He(e){return!(e.oa||e.ra||e.la)}function Ie(e){return He(e)&&e.g==R}function Je(e){var t={};if(Ie(e))return t;var n;return e.g===R?n="$priority":e.g===Be?n="$value":e.g===re?n="$key":(O(e.g instanceof ve,"Unrecognized index type!"),n=e.g.toString()),t.orderBy=G(n),e.oa&&(t.startAt=G(e.ic),e.Pb&&(t.startAt+=","+G(e.Bb))),e.ra&&(t.endAt=G(e.fc),e.Xb&&(t.endAt+=","+G(e.zb))),e.la&&(Td(e)?t.limitToFirst=e.ma:t.limitToLast=e.ma),t}function Ke(e,t){this.Ed=e,this.hc=t}function Le(e,t,n){var r=ma(e.Ed,function(r,i){var o=z(e.hc,i);if(O(o,"Missing index implementation for "+i),r===te){if(o.Lc(t.U)){for(var a=[],s=n.ac(wc),u=Ic(s);u;)u.name!=t.name&&a.push(u),u=Ic(s);return a.push(t),Me(a,Vd(o))}return te}return o=n.get(t.name),a=r,o&&(a=a.remove(new L(t.name,o))),a.Sa(t,t.U)});return new Ke(r,e.hc)}function Ne(e,t,n){var r=ma(e.Ed,function(e){if(e===te)return e;var r=n.get(t.name);return r?e.remove(new L(t.name,r)):e});return new Ke(r,e.hc)}function Yc(e,t){this.B=e,O(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.ca=t||H,Pe(this.ca),this.Gb=null}function fe(e,t,n){this.m=e,(this.ca=t)&&Pe(this.ca),e.e()&&O(!this.ca||this.ca.e(),"An empty node cannot have a priority"),this.Ab=n,this.Gb=null}function Wd(e,t){var n;return n=(n=Te(e,t))?(n=n.Vc())&&n.name:e.m.Vc(),n?new L(n,e.m.get(n)):null}function Xd(e,t){var n;return n=(n=Te(e,t))?(n=n.jc())&&n.name:e.m.jc(),n?new L(n,e.m.get(n)):null}function Te(e,t){return t===re?null:e.Ab.get(t.toString())}function Q(e,t){if(null===e)return H;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:"undefined"!=typeof t&&(n=t),O(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Yc(e,Q(n));if(e instanceof Array){var r=H,i=e;return v(i,function(e,t){if(y(i,t)&&"."!==t.substring(0,1)){var n=Q(e);!n.L()&&n.e()||(r=r.W(t,n))}}),r.ia(Q(n))}var o=[],a=!1,s=e;if(Fb(s,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=Q(s[e]);t.e()||(a=a||!t.C().e(),o.push(new L(e,t)))}}),0==o.length)return H;var u=Me(o,xc,function(e){return e.name},zc);if(a){var l=Me(o,Vd(R));return new fe(u,Q(n),new Ke({".priority":l},{".priority":R}))}return new fe(u,Q(n),Oe)}function Ve(e){this.count=parseInt(Math.log(e+1)/Ue,10),this.nf=this.count-1,this.ng=e+1&parseInt(Array(this.count+1).join("1"),2)}function We(e){var t=!(e.ng&1<<e.nf);return e.nf--,t}function Me(e,t,n,r){function i(t,r){var o=r-t;if(0==o)return null;if(1==o){var a=e[t],s=n?n(a):a;return new Kc(s,a.U,!1,null,null)}var a=parseInt(o/2,10)+t,o=i(t,a),u=i(a+1,r),a=e[a],s=n?n(a):a;return new Kc(s,a.U,!1,o,u)}e.sort(t);var o=function(t){function r(t,r){var u=s-t,l=s;s-=t;var l=i(u+1,l),u=e[u],c=n?n(u):u,l=new Kc(c,u.U,r,null,l);o?o.left=l:a=l,o=l}for(var o=null,a=null,s=e.length,u=0;u<t.count;++u){var l=We(t),c=Math.pow(2,t.count-(u+1));l?r(c,!1):(r(c,!1),r(c,!0))}return a}(new Ve(e.length));return null!==o?new Ec(r||t,o):new Ec(r||t)}function Re(e){return"number"==typeof e?"number:"+Ad(e):"string:"+e}function Pe(e){if(e.L()){var t=e.J();O("string"==typeof t||"number"==typeof t||"object"==typeof t&&y(t,".sv"),"Priority must be a string or number.")}else O(e===we||e.e(),"priority of unexpected type.");O(e===we||e.C().e(),"Priority nodes can't have a priority of their own.")}function Xe(){fe.call(this,new Ec(zc),H,Oe)}function je(e,t){this.Q=e,this.ae=t}function ge(e,t,n,r){return new je(new Xb(t,n,r),e.ae)}function ke(e){return e.Q.ga?e.Q.j():null}function Yb(e){return e.ae.ga?e.ae.j():null}function Ye(e,t){this.Y=e;var n=e.n,r=new Ld(n.g),n=He(n)?new Ld(n.g):n.la?new Sd(n):new Md(n);this.Nf=new Zd(n);var i=t.w(),o=t.Q,a=r.ya(H,i.j(),null),s=n.ya(H,o.j(),null);this.Oa=new je(new Xb(s,o.ga,n.Ra()),new Xb(a,i.ga,r.Ra())),this.$a=[],this.ug=new Fd(e)}function Ze(e){return e.Y}function af(e,t){var n=e.Oa.Q,r=[];return n.j().L()||n.j().R(R,function(e,t){r.push(new J("child_added",t,e))}),n.ga&&r.push(hc(n.j())),$e(e,r,n.j(),t)}function $e(e,t,n,r){return Gd(e.ug,t,n,r?[r]:e.$a)}function bf(e,t,n){this.type=be,this.source=e,this.path=t,this.children=n}function cf(e,t){this.f=pd("p:rest:"),this.G=e,this.Kb=t,this.Ca=null,this.ba={}}function df(e,t){return p(t)?"tag$"+t:(O(Ie(e.n),"should have a tag if it's not a default query."),
e.path.toString())}function ef(e,t,n,r){n=n||{},n.format="export",e.Ca&&(n.auth=e.Ca);var i=(e.G.ob?"https://":"http://")+e.G.host+t+"?"+Ib(n);e.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){e.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var t=null;if(200<=o.status&&300>o.status){try{t=Rb(o.responseText)}catch(n){S("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,t)}else 401!==o.status&&404!==o.status&&S("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function ff(e){O(da(e)&&0<e.length,"Requires a non-empty array"),this.fg=e,this.Rc={}}function gf(e,t){O(Ra(e.fg,function(e){return e===t}),"Unknown event: "+t)}function jf(){if(ff.call(this,["online"]),this.oc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var e=this;window.addEventListener("online",function(){e.oc||(e.oc=!0,e.ie("online",!0))},!1),window.addEventListener("offline",function(){e.oc&&(e.oc=!1,e.ie("online",!1))},!1)}}function kf(){ff.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.Sb=!0,t){var n=this;document.addEventListener(t,function(){var t=!document[e];t!==n.Sb&&(n.Sb=t,n.ie("visible",t))},!1)}}function P(e,t){if(1==arguments.length){this.u=e.split("/");for(var n=0,r=0;r<this.u.length;r++)0<this.u[r].length&&(this.u[n]=this.u[r],n++);this.u.length=n,this.aa=0}else this.u=e,this.aa=t}function lf(e,t){var n=K(e);if(null===n)return t;if(n===K(t))return lf(N(e),N(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function mf(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=yc(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function K(e){return e.aa>=e.u.length?null:e.u[e.aa]}function le(e){return e.u.length-e.aa}function N(e){var t=e.aa;return t<e.u.length&&t++,new P(e.u,t)}function me(e){return e.aa<e.u.length?e.u[e.u.length-1]:null}function nf(e,t){this.Ua=e.slice(),this.Ka=Math.max(1,this.Ua.length),this.pf=t;for(var n=0;n<this.Ua.length;n++)this.Ka+=Pb(this.Ua[n]);of(this)}function of(e){if(768<e.Ka)throw Error(e.pf+"has a key path longer than 768 bytes ("+e.Ka+").");if(32<e.Ua.length)throw Error(e.pf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pf(e))}function pf(e){return 0==e.Ua.length?"":"in property '"+e.Ua.join(".")+"'"}function qf(e,t){this.value=e,this.children=t||rf}function sf(e){var t=qe;return v(e,function(e,n){t=t.set(new P(n),e)}),t}function tf(e,t,n){if(null!=e.value&&n(e.value))return{path:M,value:e.value};if(t.e())return null;var r=K(t);return e=e.children.get(r),null!==e?(t=tf(e,N(t),n),null!=t?{path:new P(r).o(t.path),value:t.value}:null):null}function uf(e,t){return tf(e,t,function(){return!0})}function pe(e,t,n){if(t.e())return n;var r=K(t);return t=pe(e.children.get(r)||qe,N(t),n),r=t.e()?e.children.remove(r):e.children.Sa(r,t),new qf(e.value,r)}function vf(e,t){return wf(e,M,t)}function wf(e,t,n){var r={};return e.children.ka(function(e,i){r[e]=wf(i,t.o(e),n)}),n(t,e.value,r)}function xf(e,t,n){return yf(e,t,M,n)}function yf(e,t,n,r){var i=e.value?r(n,e.value):!1;return i?i:t.e()?null:(i=K(t),(e=e.children.get(i))?yf(e,N(t),n.o(i),r):null)}function zf(e,t,n){Af(e,t,M,n)}function Af(e,t,n,r){if(t.e())return e;e.value&&r(n,e.value);var i=K(t);return(e=e.children.get(i))?Af(e,N(t),n.o(i),r):qe}function ne(e,t){Bf(e,M,t)}function Bf(e,t,n){e.children.ka(function(e,r){Bf(r,t.o(e),n)}),e.value&&n(t,e.value)}function Cf(e,t){e.children.ka(function(e,n){n.value&&t(e,n.value)})}function Df(e,t,n){this.type=ee,this.source=Ef,this.path=e,this.Ub=t,this.Yd=n}function Ff(e,t,n,r){this.Ae=e,this.tf=t,this.Lb=n,this.ef=r,O(!r||t,"Tagged queries must be from server.")}function Hf(e){this.Z=e}function Jf(e,t,n){if(t.e())return new Hf(new qf(n));var r=uf(e.Z,t);if(null!=r){var i=r.path,r=r.value;return t=lf(i,t),r=r.H(t,n),new Hf(e.Z.set(i,r))}return e=pe(e.Z,t,new qf(n)),new Hf(e)}function Kf(e,t,n){var r=e;return Fb(n,function(e,n){r=Jf(r,t.o(e),n)}),r}function Lf(e,t){var n=uf(e.Z,t);return null!=n?e.Z.get(n.path).S(lf(n.path,t)):null}function Mf(e){var t=[],n=e.Z.value;return null!=n?n.L()||n.R(R,function(e,n){t.push(new L(e,n))}):e.Z.children.ka(function(e,n){null!=n.value&&t.push(new L(e,n.value))}),t}function Nf(e,t){if(t.e())return e;var n=Lf(e,t);return new Hf(null!=n?new qf(n):e.Z.subtree(t))}function Of(e,t,n){if(null!=t.value)return n.H(e,t.value);var r=null;return t.children.ka(function(t,i){".priority"===t?(O(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Of(e.o(t),i,n)}),n.S(e).e()||null===r||(n=n.H(e.o(".priority"),r)),n}function Pf(){this.V=If,this.pa=[],this.Pc=-1}function Qf(e,t){for(var n=0;n<e.pa.length;n++){var r=e.pa[n];if(r.md===t)return r}return null}function Rf(e,t){return e.Ja?e.path.contains(t):!!ta(e.children,function(n,r){return e.path.o(r).contains(t)})}function Tf(e){return e.visible}function Sf(e,t,n){for(var r=If,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path;if(o.Ja)n.contains(a)?(a=lf(n,a),r=Jf(r,a,o.Ja)):a.contains(n)&&(a=lf(a,n),r=Jf(r,M,o.Ja.S(a)));else{if(!o.children)throw jd("WriteRecord should have .snap or .children");n.contains(a)?(a=lf(n,a),r=Kf(r,a,o.children)):a.contains(n)&&(a=lf(a,n),a.e()?r=Kf(r,M,o.children):(o=z(o.children,K(a)))&&(o=o.S(N(a)),r=Jf(r,M,o)))}}}return r}function Uf(e,t){this.Qb=e,this.Z=t}function Vf(){this.children={},this.pd=0,this.value=null}function Wf(e,t,n){this.Jd=e?e:"",this.Ha=t?t:null,this.A=n?n:new Vf}function Xf(e,t){for(var n,r=t instanceof P?t:new P(t),i=e;null!==(n=K(r));)i=new Wf(n,i,z(i.A.children,n)||new Vf),r=N(r);return i}function Yf(e,t){O("undefined"!=typeof t,"Cannot set value to undefined"),e.A.value=t,Zf(e)}function $f(e,t,n,r){n&&!r&&t(e),e.R(function(e){$f(e,t,!0,r)}),n&&r&&t(e)}function ag(e,t){for(var n=e.parent();null!==n&&!t(n);)n=n.parent()}function Zf(e){if(null!==e.Ha){var t=e.Ha,n=e.Jd,r=e.e(),i=y(t.A.children,n);r&&i?(delete t.A.children[n],t.A.pd--,Zf(t)):r||i||(t.A.children[n]=e.A,t.A.pd++,Zf(t))}}function eg(e){return q(e)&&0!==e.length&&!bg.test(e)}function fg(e){return null===e||q(e)||fa(e)&&!td(e)||ga(e)&&y(e,".sv")}function gg(e,t,n,r){r&&!p(t)||hg(E(e,1,r),t,n)}function hg(e,t,n){if(n instanceof P&&(n=new nf(n,e)),!p(t))throw Error(e+"contains undefined "+pf(n));if(r(t))throw Error(e+"contains a function "+pf(n)+" with contents: "+t.toString());if(td(t))throw Error(e+"contains "+t.toString()+" "+pf(n));if(q(t)&&t.length>10485760/3&&10485760<Pb(t))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+pf(n)+" ('"+t.substring(0,50)+"...')");if(ga(t)){var i=!1,o=!1;if(Fb(t,function(t,r){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!eg(t)))throw Error(e+" contains an invalid key ("+t+") "+pf(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.push(t),hg(e,r,n),n.pop()}),i&&o)throw Error(e+' contains ".value" child '+pf(n)+" in addition to actual children.")}}function ig(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!eg(i[o]))throw Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(t.sort(mf),i=null,n=0;n<t.length;n++){if(r=t[n],null!==i&&i.contains(r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function jg(e,t,n){var r=E(e,1,!1);if(!ga(t)||da(t))throw Error(r+" must be an object containing the children to replace.");var i=[];Fb(t,function(e,t){var o=new P(e);if(hg(r,t,n.o(o)),".priority"===me(o)&&!fg(t))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),ig(r,i)}function kg(e,t,n){if(td(n))throw Error(E(e,t,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fg(n))throw Error(E(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function lg(e,t,n){if(!n||p(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(E(e,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function mg(e,t){if(p(t)&&!eg(t))throw Error(E(e,2,!0)+'was an invalid key: "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ng(e,t){if(!q(t)||0===t.length||cg.test(t))throw Error(E(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function og(e,t){if(".info"===K(t))throw Error(e+" failed: Can't modify data under /.info/")}function pg(e,t){if(!q(t))throw Error(E(e,1,!1)+"must be a valid credential (a string).")}function qg(e,t,n){if(!q(n))throw Error(E(e,t,!1)+"must be a valid string.")}function rg(e,t){if(qg(e,1,t),!dg.test(t))throw Error(E(e,1,!1)+"'"+t+"' is not a valid authentication provider.")}function sg(e,t,n,r){if((!r||p(n))&&(!ga(n)||null===n))throw Error(E(e,t,r)+"must be a valid object.")}function tg(e,t,n){if(!ga(t)||!y(t,n))throw Error(E(e,1,!1)+'must contain the key "'+n+'"');if(!q(z(t,n)))throw Error(E(e,1,!1)+'must contain the key "'+n+'" with type "string"')}function ug(){this.set={}}function vg(e,t){v(e.set,function(e,n){t(n,e)})}function Vc(){this.m=this.B=null}function wg(e,t){if(t.e())return e.B=null,e.m=null,!0;if(null!==e.B){if(e.B.L())return!1;var n=e.B;return e.B=null,n.R(R,function(t,n){e.rc(new P(t),n)}),wg(e,t)}return null!==e.m?(n=K(t),t=N(t),e.m.contains(n)&&wg(e.m.get(n),t)&&e.m.remove(n),e.m.e()?(e.m=null,!0):!1):!0}function Wc(e,t,n){null!==e.B?n(t,e.B):e.R(function(e,r){var i=new P(t.toString()+"/"+e);Wc(r,i,n)})}function yg(e,t,n){this.qd=e||{},this.he=t||{},this.fb=n||{},this.qd.remember||(this.qd.remember="default")}function Ag(e){var t={},n={};return Fb(e||{},function(e,r){0<=La(zg,e)?t[e]=r:n[e]=r}),new yg(t,{},n)}function Bg(e,t){this.Ue=["session",e.Rd,e.lc].join(":"),this.ee=t}function Cg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cg())}function Eg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Fg(e){var t=Cg();if(""===t)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e;return!1}function Gg(){var e,t=window.opener.frames;for(e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(n){}return null}function Hg(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)}function Ig(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}function Jg(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e}function Kg(e){var t="";try{e=e.replace(/.*\?/,"");var n=Jb(e);n&&y(n,"__firebase_request_key")&&(t=z(n,"__firebase_request_key"))}catch(r){}return t}function Lg(){try{var e=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,""),e=e.replace(/\?$/,""),e=e.replace(/^#+$/,"");document.location.hash=e}catch(t){}}function Mg(){var e=sd(xg);return e.scheme+"://"+e.host+"/v2"}function Ng(e){return Mg()+"/"+e+"/auth/channel"}function Og(e){var t=this;if(this.hb=e,this.fe="*",Fg(8)?this.Uc=this.Cd=Gg():(this.Uc=window.opener,this.Cd=window),!t.Uc)throw"Unable to find relay frame";Hg(this.Cd,"message",u(this.nc,this)),Hg(this.Cd,"message",u(this.Ff,this));try{Pg(this,{a:"ready"})}catch(n){Hg(this.Uc,"load",function(){Pg(t,{a:"ready"})})}Hg(window,"unload",u(this.Ng,this))}function Pg(e,t){t=G(t),Fg(8)?e.Uc.doPost(t,e.fe):e.Uc.postMessage(t,e.fe)}function Qg(e){this.tc=Fa()+Fa()+Fa(),this.Kf=e}function Sg(e){var t=Error(z(Rg,e),e);return t.code=e,t}function Tg(e){var t;(t=!e.window_features)||(t=Cg(),t=-1!==t.indexOf("Fennec/")||-1!==t.indexOf("Firefox/")&&-1!==t.indexOf("Android")),t&&(e.window_features=void 0),e.window_name||(e.window_name="_blank"),this.options=e}function Ug(e){e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e}function Vg(e){this.tc=Fa()+Fa()+Fa(),this.Kf=e}function Wg(e){e.callback_parameter||(e.callback_parameter="callback"),this.options=e,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Xg(e,t,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=e,r.async=!0,r.src=t,r.onerror=function(){var t=document.getElementById(e);null!==t&&t.parentNode.removeChild(t),n&&n(Sg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(r)}catch(o){n&&n(Sg("NETWORK_ERROR"))}},0)}function Yg(e,t,n,r){ff.call(this,["auth_status"]),this.G=e,this.hf=t,this.ih=n,this.Pe=r,this.wc=new Bg(e,[bd,cd]),this.qb=null,this.We=!1,Zg(this)}function Zg(e){cd.get("redirect_request_id")&&$g(e);var t=e.wc.get();t&&t.token?(ah(e,t),e.hf(t.token,function(n,r){bh(e,n,r,!1,t.token,t)},function(t,n){ch(e,"resumeSession()",t,n)})):ah(e,null)}function dh(e,t,n,r,i,o){"firebaseio-demo.com"===e.G.domain&&S("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),e.hf(t,function(o,a){bh(e,o,a,!0,t,n,r||{},i)},function(t,n){ch(e,"auth()",t,n,o)})}function eh(e,t){e.wc.clear(),ah(e,null),e.ih(function(e,n){if("ok"===e)T(t,null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,T(t,i)}})}function bh(e,t,n,r,i,o,a,s){"ok"===t?(r&&(t=n.auth,o.auth=t,o.expires=n.expires,o.token=Ed(i)?i:"",n=null,t&&y(t,"uid")?n=z(t,"uid"):y(o,"uid")&&(n=z(o,"uid")),o.uid=n,n="custom",t&&y(t,"provider")?n=z(t,"provider"):y(o,"provider")&&(n=z(o,"provider")),o.provider=n,e.wc.clear(),Ed(i)&&(a=a||{},n=bd,"sessionOnly"===a.remember&&(n=cd),"none"!==a.remember&&e.wc.set(o,n)),ah(e,o)),T(s,null,o)):(e.wc.clear(),ah(e,null),o=e=(t||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=e,T(s,o))}function ch(e,t,n,r,i){S(t+" was canceled: "+r),e.wc.clear(),ah(e,null),e=Error(r),e.code=n.toUpperCase(),T(i,e)}function fh(e,t,n,r,i){gh(e),n=new yg(r||{},{},n||{}),hh(e,[Ug,Wg],"/auth/"+t,n,i)}function ih(e,t,n,r){gh(e);var i=[Tg,Vg];n=Ag(n);var o=625;"anonymous"===t||"password"===t?setTimeout(function(){T(r,Sg("TRANSPORT_UNAVAILABLE"))},0):("github"===t&&(o=1025),n.he.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width="+o+",top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-o):0),n.he.relay_url=Ng(e.G.lc),n.he.requestWithCredential=u(e.uc,e),hh(e,i,"/auth/"+t,n,r))}function $g(e){var t=cd.get("redirect_request_id");if(t){var n=cd.get("redirect_client_options");cd.remove("redirect_request_id"),cd.remove("redirect_client_options");var r=[Ug,Wg],t={requestId:t,requestKey:Kg(document.location.hash)},n=new yg(n,{},t);e.We=!0,Lg(),hh(e,r,"/auth/session",n,function(){this.We=!1}.bind(e))}}function hh(e,t,n,r,i){jh(e,t,n,r,function(t,n){!t&&n&&n.token&&n.uid?dh(e,n.token,n,r.qd,function(e,t){e?T(i,e):T(i,null,t)}):T(i,t||Sg("UNKNOWN_ERROR"))})}function jh(e,t,n,r,i){t=Na(t,function(e){return"function"==typeof e.isAvailable&&e.isAvailable()}),0===t.length?setTimeout(function(){T(i,Sg("TRANSPORT_UNAVAILABLE"))},0):(t=new(t.shift())(r.he),r=Gb(r.fb),r.v="js-"+Eb,r.transport=t.Fc(),r.suppress_status_codes=!0,e=Mg()+"/"+e.G.lc+n,t.open(e,r,function(e,t){if(e)T(i,e);else if(t&&t.error){var n=Error(t.error.message);n.code=t.error.code,n.details=t.error.details,T(i,n)}else T(i,null,t)}))}function ah(e,t){var n=null!==e.qb||null!==t;e.qb=t,n&&e.ie("auth_status",t),e.Pe(null!==t)}function gh(e){var t=e.G;if("firebaseio.com"!==t.domain&&"firebaseio-demo.com"!==t.domain&&"auth.firebase.com"===xg)throw Error("This custom Firebase server ('"+e.G.domain+"') does not support delegated login.")}function kh(e){this.nc=e,this.Qd=[],this.Wb=0,this.te=-1,this.Jb=null}function lh(e,t,n){e.te=t,e.Jb=n,e.te<e.Wb&&(e.Jb(),e.Jb=null)}function mh(e,t,n){for(e.Qd[t]=n;e.Qd[e.Wb];){var r=e.Qd[e.Wb];delete e.Qd[e.Wb];for(var i=0;i<r.length;++i)if(r[i]){var o=e;gc(function(){o.nc(r[i])})}if(e.Wb===e.te){e.Jb&&(clearTimeout(e.Jb),e.Jb(),e.Jb=null);break}e.Wb++}}function nh(e,t,n,r){this.ue=e,this.f=pd(e),this.rb=this.sb=0,this.Xa=uc(t),this.Xf=n,this.Kc=!1,this.Fb=r,this.ld=function(e){return fd(t,hd,e)}}function rh(e,t){var n=G(t).length;e.rb+=n,rc(e.Xa,"bytes_received",n)}function qh(e,t,n,r){if(this.ld=r,this.lb=n,this.Te=new ug,this.cd=[],this.we=Math.floor(1e8*Math.random()),this.$d=!0,this.ke=id(),window["pLPCommand"+this.ke]=e,window["pRTLPCB"+this.ke]=t,e=document.createElement("iframe"),e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||fc("No IE domain setting required")}catch(i){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.jb=e.contentDocument:e.contentWindow?e.jb=e.contentWindow.document:e.document&&(e.jb=e.document),this.Ga=e,e="",this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";</script>'),e="<html><body>"+e+"</body></html>";try{this.Ga.jb.open(),this.Ga.jb.write(e),this.Ga.jb.close()}catch(o){fc("frame writing exception"),o.stack&&fc(o.stack),fc(o)}}function th(e){if(e.oe&&e.$d&&e.Te.count()<(0<e.cd.length?2:1)){e.we++;var t={};t.id=e.Gg,t.pw=e.Hg,t.ser=e.we;for(var t=e.ld(t),n="",r=0;0<e.cd.length&&1870>=e.cd[0].of.length+30+n.length;){var i=e.cd.shift(),n=n+"&seg"+r+"="+i.Yg+"&ts"+r+"="+i.hh+"&d"+r+"="+i.of;r++}return uh(e,t+n,e.we),!0}return!1}function uh(e,t,n){function r(){e.Te.remove(n),th(e)}e.Te.add(n,1);var i=setTimeout(r,Math.floor(25e3));sh(e,t,function(){clearTimeout(i),r()})}function sh(e,t,n){setTimeout(function(){try{if(e.$d){var r=e.Ga.jb.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){fc("Long-poll script failed to load: "+t),e.$d=!1,e.close()},e.Ga.jb.body.appendChild(r)}}catch(i){}},Math.floor(1))}function wh(e,t,n,r){this.ue=e,this.f=pd(this.ue),this.frames=this.Nc=null,this.rb=this.sb=this.ff=0,this.Xa=uc(t),e={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),n&&(e.s=n),r&&(e.ls=r),this.jf=fd(t,gd,e)}function zh(e,t){if(e.frames.push(t),e.frames.length==e.ff){var n=e.frames.join("");e.frames=null,n=Rb(n),e.Lg(n)}}function yh(e){clearInterval(e.Nc),e.Nc=setInterval(function(){e.La&&Ah(e,"0"),yh(e)},Math.floor(45e3))}function Ah(e,t){try{e.La.send(t)}catch(n){e.f("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(u(e.bb,e),0)}}function Bh(e){Ch(this,e)}function Ch(e,t){var n=wh&&wh.isAvailable(),r=n&&!(bd.Af||!0===bd.get("previous_websocket_failure"));if(t.jh&&(n||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)e.jd=[wh];else{var i=e.jd=[];zd(Dh,function(e,t){t&&t.isAvailable()&&i.push(t)})}}function Eh(e){if(0<e.jd.length)return e.jd[0];throw Error("No transports available")}function Fh(e,t,n,r,i,o,a){this.id=e,this.f=pd("c:"+this.id+":"),this.nc=n,this.Zc=r,this.na=i,this.Re=o,this.G=t,this.Pd=[],this.kf=0,this.Wf=new Bh(t),this.N=0,this.Fb=a,this.f("Connection created"),Gh(this)}function Gh(e){var t=Eh(e.Wf);e.K=new t("c:"+e.id+":"+e.kf++,e.G,void 0,e.Fb),e.Ve=t.responsesRequiredToBeHealthy||0;var n=Hh(e,e.K),r=Ih(e,e.K);e.kd=e.K,e.ed=e.K,e.F=null,e.Eb=!1,setTimeout(function(){e.K&&e.K.open(n,r)},Math.floor(0)),t=t.healthyTimeout||0,t>0&&(e.Bd=setTimeout(function(){e.Bd=null,e.Eb||(e.K&&102400<e.K.rb?(e.f("Connection exceeded healthy timeout but has received "+e.K.rb+" bytes.  Marking connection healthy."),e.Eb=!0,e.K.Hd()):e.K&&10240<e.K.sb?e.f("Connection exceeded healthy timeout but has sent "+e.K.sb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function Ih(e,t){return function(n){t===e.K?(e.K=null,n||0!==e.N?1===e.N&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.G.ab.substr(0,2)&&(bd.remove("host:"+e.G.host),e.G.ab=e.G.host)),e.close()):t===e.F?(e.f("Secondary connection lost."),n=e.F,e.F=null,e.kd!==n&&e.ed!==n||e.close()):e.f("closing an old connection")}}function Hh(e,t){return function(n){if(2!=e.N)if(t===e.ed){var r=wd("t",n);if(n=wd("d",n),"c"==r){if(r=wd("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;e.Uf=n.s,ed(e.G,o),0==e.N&&(e.K.start(),Jh(e,e.K,r),"5"!==i&&S("Protocol version mismatch detected"),n=e.Wf,(n=1<n.jd.length?n.jd[1]:null)&&Kh(e,n))}else if("n"===r){for(e.f("recvd end transmission on primary"),e.ed=e.F,n=0;n<e.Pd.length;++n)e.Ld(e.Pd[n]);e.Pd=[],Lh(e)}else"s"===r?(e.f("Connection shutdown command received. Shutting down..."),e.Re&&(e.Re(n),e.Re=null),e.na=null,e.close()):"r"===r?(e.f("Reset packet received.  New host: "+n),ed(e.G,n),1===e.N?e.close():(Mh(e),Gh(e))):"e"===r?qd("Server Error: "+n):"o"===r?(e.f("got pong on primary."),Nh(e),Oh(e)):qd("Unknown control packet command: "+r)}else"d"==r&&e.Ld(n)}else if(t===e.F)if(r=wd("t",n),n=wd("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Ph(e):"r"===n?(e.f("Got a reset on secondary, closing it"),e.F.close(),e.kd!==e.F&&e.ed!==e.F||e.close()):"o"===n&&(e.f("got pong on secondary."),e.Tf--,Ph(e)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);e.Pd.push(n)}else e.f("message on old connection")}}function Lh(e){e.kd===e.F&&e.ed===e.F&&(e.f("cleaning up and promoting a connection: "+e.F.ue),e.K=e.F,e.F=null)}function Ph(e){0>=e.Tf?(e.f("Secondary connection is healthy."),e.Eb=!0,e.F.Hd(),e.F.start(),e.f("sending client ack on secondary"),e.F.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.K.send({t:"c",d:{t:"n",d:{}}}),e.kd=e.F,Lh(e)):(e.f("sending ping on secondary."),e.F.send({t:"c",d:{t:"p",d:{}}}))}function Nh(e){e.Eb||(e.Ve--,0>=e.Ve&&(e.f("Primary connection is healthy."),e.Eb=!0,e.K.Hd()))}function Kh(e,t){e.F=new t("c:"+e.id+":"+e.kf++,e.G,e.Uf),e.Tf=t.responsesRequiredToBeHealthy||0,e.F.open(Hh(e,e.F),Ih(e,e.F)),setTimeout(function(){e.F&&(e.f("Timed out trying to upgrade."),e.F.close())},Math.floor(6e4))}function Jh(e,t,n){e.f("Realtime connection established."),e.K=t,e.N=1,e.Zc&&(e.Zc(n,e.Uf),e.Zc=null),0===e.Ve?(e.f("Primary connection is healthy."),e.Eb=!0):setTimeout(function(){Oh(e)},Math.floor(5e3))}function Oh(e){e.Eb||1!==e.N||(e.f("sending ping on primary."),Qh(e,{t:"c",d:{t:"p",d:{}}}))}function Qh(e,t){if(1!==e.N)throw"Connection is not connected";e.kd.send(t)}function Mh(e){e.f("Shutting down all connections"),e.K&&(e.K.close(),e.K=null),e.F&&(e.F.close(),e.F=null),e.Bd&&(clearTimeout(e.Bd),e.Bd=null)}function Rh(e,t,n,r){this.id=Sh++,this.f=pd("p:"+this.id+":"),this.Bf=this.Ie=!1,this.ba={},this.sa=[],this.ad=0,this.Yc=[],this.qa=!1,this.eb=1e3,this.Id=3e5,this.Kb=t,this.Xc=n,this.Se=r,this.G=e,this.wb=this.Ca=this.Ma=this.Fb=this.$e=null,this.Sb=!1,this.Wd={},this.Xg=0,this.rf=!0,this.Oc=this.Ke=null,Th(this,0),kf.yb().Ib("visible",this.Og,this),-1===e.host.indexOf("fblocal")&&jf.yb().Ib("online",this.Mg,this)}function Vh(e,t){var n=t.Ug,r=n.path.toString(),i=n.wa();e.f("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=Ge(n.n),o.t=t.tag),o.h=t.Ad(),e.Ia("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&y(a,"w")){var u=z(a,"w");da(u)&&0<=La(u,"no_index")&&S("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(e.ba[r]&&e.ba[r][i])===t&&(e.f("listen response",o),"ok"!==s&&Wh(e,r,i),t.I&&t.I(s,a))})}function Xh(e){var t=e.Ca;e.qa&&t&&e.Ia("auth",{cred:t.rg},function(n){var r=n.s;n=n.d||"error","ok"!==r&&e.Ca===t&&(e.Ca=null),t.sf?"ok"!==r&&t.od&&t.od(r,n):(t.sf=!0,t.Dc&&t.Dc(r,n))})}function Yh(e,t,n,r,i){n={p:n,d:r},e.f("onDisconnect "+t,n),e.Ia(t,n,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})}function Zh(e,t,n,r,i,o){r={p:n,d:r},p(o)&&(r.h=o),e.sa.push({action:t,Pf:r,I:i}),e.ad++,t=e.sa.length-1,e.qa?$h(e,t):e.f("Buffering put: "+n)}function $h(e,t){var n=e.sa[t].action,r=e.sa[t].Pf,i=e.sa[t].I;e.sa[t].Vg=e.qa,e.Ia(n,r,function(r){e.f(n+" response",r),delete e.sa[t],e.ad--,0===e.ad&&(e.sa=[]),i&&i(r.s,r.d)})}function Th(e,t){O(!e.Ma,"Scheduling a connect when we're already connected/ing?"),e.wb&&clearTimeout(e.wb),e.wb=setTimeout(function(){e.wb=null,ci(e)},Math.floor(t))}function ci(e){if(di(e)){e.f("Making a connection attempt"),e.Ke=(new Date).getTime(),e.Oc=null;var t=u(e.Ld,e),n=u(e.Zc,e),r=u(e.If,e),i=e.id+":"+Uh++;e.Ma=new Fh(i,e.G,t,n,r,function(t){S(t+" ("+e.G.toString()+")"),e.Bf=!0},e.Fb)}}function ai(e,t,n){n=n?Oa(n,function(e){return xd(e)}).join("$"):"default",(e=Wh(e,t,n))&&e.I&&e.I("permission_denied")}function Wh(e,t,n){t=new P(t).toString();var r;return p(e.ba[t])?(r=e.ba[t][n],delete e.ba[t][n],0===oa(e.ba[t])&&delete e.ba[t]):r=void 0,r}function bi(e){Xh(e),v(e.ba,function(t){v(t,function(t){Vh(e,t)})});for(var t=0;t<e.sa.length;t++)e.sa[t]&&$h(e,t);for(;e.Yc.length;)t=e.Yc.shift(),Yh(e,t.action,t.bd,t.data,t.I)}function di(e){var t;return t=jf.yb().oc,!e.Bf&&!e.Ie&&t}function ei(e,t){this.committed=e,this.snapshot=t}function V(e,t){this.dd=e,this.ta=t}function W(e,t,n){this.A=e,this.Y=t,this.g=n}function ii(e,t,n){this.Vb=e,this.tb=t,this.vb=n||null}function ji(e,t,n){this.ja=e,this.tb=t,this.vb=n}function ki(){this.za={}}function mi(e){return Na(qa(e.za),function(e){return!He(e.Y.n)})}function ni(e,t){if(He(t.n))return li(e);var n=t.wa();return z(e.za,n)}function li(e){return ua(e.za,function(e){return He(e.Y.n)})||null}function oi(e){this.va=qe,this.mb=new Pf,this.df={},this.qc={},this.Qc=e}function pi(e,t,n,r,i){var o=e.mb,a=i;return O(r>o.Pc,"Stacking an older write on top of newer ones"),p(a)||(a=!0),o.pa.push({path:t,Ja:n,md:r,visible:a}),a&&(o.V=Jf(o.V,t,n)),o.Pc=r,i?qi(e,new Ac(Ef,t,n)):[]}function ri(e,t,n,r){var i=e.mb;return O(r>i.Pc,"Stacking an older merge on top of newer ones"),i.pa.push({path:t,children:n,md:r,visible:!0}),i.V=Kf(i.V,t,n),i.Pc=r,n=sf(n),qi(e,new bf(Ef,t,n))}function si(e,t,n){n=n||!1;var r=Qf(e.mb,t);if(e.mb.Ud(t)){var i=qe;return null!=r.Ja?i=i.set(M,!0):Fb(r.children,function(e,t){i=i.set(new P(e),t)}),qi(e,new Df(r.path,i,n))}return[]}function ti(e,t,n){return n=sf(n),qi(e,new bf(Gf,t,n))}function ui(e,t,n,r){if(r=vi(e,r),null!=r){var i=wi(r);return r=i.path,i=i.Lb,t=lf(r,t),n=new Ac(new Ff(!1,!0,i,!0),t,n),xi(e,r,n)}return[]}function yi(e,t,n,r){if(r=vi(e,r)){var i=wi(r);return r=i.path,i=i.Lb,t=lf(r,t),n=sf(n),n=new bf(new Ff(!1,!0,i,!0),t,n),xi(e,r,n)}return[]}function Ci(e){return vf(e,function(e,t,n){if(t&&null!=li(t))return[li(t)];var r=[];return t&&(r=mi(t)),v(n,function(e){r=r.concat(e)}),r})}function Gi(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!He(r.n)){var r=zi(r),i=e.qc[r];delete e.qc[r],delete e.df["_"+i]}}}function Ei(e){return He(e.n)&&!Ie(e.n)?e.Mb():e}function Bi(e,t,n){var r=t.path,i=Fi(e,t);if(n=Di(e,n),t=e.Qc.af(Ei(t),i,n.Ad,n.I),r=e.va.subtree(r),i)O(null==li(r.value),"If we're adding a query, it shouldn't be shadowed");else for(i=vf(r,function(e,t,n){if(!e.e()&&t&&null!=li(t))return[Ze(li(t))];var r=[];return t&&(r=r.concat(Oa(mi(t),function(e){return e.Y}))),v(n,function(e){r=r.concat(e)}),r}),r=0;r<i.length;++r)n=i[r],e.Qc.de(Ei(n),Fi(e,n));return t}function Di(e,t){var n=t.Y,r=Fi(e,n);return{Ad:function(){return(t.w()||H).hash()},I:function(t){if("ok"===t){if(r){var i=n.path;if(t=vi(e,r)){var o=wi(t);t=o.path,o=o.Lb,i=lf(t,i),i=new Cc(new Ff(!1,!0,o,!0),i),t=xi(e,t,i)}else t=[]}else t=qi(e,new Cc(Gf,n.path));return t}return i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?i="Client doesn't have permission to access the desired data.":"unavailable"==t&&(i="The service is unavailable"),i=Error(t+" at "+n.path.toString()+": "+i),i.code=t.toUpperCase(),e.nb(n,null,i)}}}function zi(e){return e.path.toString()+"$"+e.wa()}function wi(e){var t=e.indexOf("$");return O(-1!==t&&t<e.length-1,"Bad queryKey."),{Lb:e.substr(t+1),path:new P(e.substr(0,t))}}function vi(e,t){var n=e.df,r="_"+t;return r in n?n[r]:void 0}function Fi(e,t){var n=zi(t);return z(e.qc,n)}function xi(e,t,n){var r=e.va.get(t);return O(r,"Missing sync point for query tag that we're tracking"),r.gb(n,new Uf(t,e.mb),null)}function qi(e,t){return Hi(e,t,e.va,null,new Uf(M,e.mb))}function Hi(e,t,n,r,i){if(t.path.e())return Ii(e,t,n,r,i);var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[],s=K(t.path),u=t.$c(s);if((n=n.children.get(s))&&u)var l=r?r.T(s):null,s=i.o(s),a=a.concat(Hi(e,u,n,l,s));return o&&(a=a.concat(o.gb(t,i,r))),a}function Ii(e,t,n,r,i){var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[];return n.children.ka(function(n,o){var s=r?r.T(n):null,u=i.o(n),l=t.$c(n);l&&(a=a.concat(Ii(e,l,o,s,u)))}),o&&(a=a.concat(o.gb(t,i,r))),a}function Ji(e,t){this.G=e,this.Xa=uc(e),this.hd=null,this.fa=new Zb,this.Kd=1,this.Va=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.da=new cf(this.G,u(this.Kb,this)),setTimeout(u(this.Xc,this,!0),0)):this.da=this.Va=new Rh(this.G,u(this.Kb,this),u(this.Xc,this),u(this.Se,this)),this.eh=vc(e,u(function(){return new pc(this.Xa,this.da)},this)),this.yc=new Wf,this.Ge=new Sb;var n=this;this.Fd=new oi({af:function(e,t,r,i){return t=[],r=n.Ge.j(e.path),r.e()||(t=qi(n.Fd,new Ac(Gf,e.path,r)),setTimeout(function(){i("ok")},0)),t},de:aa}),Ki(this,"connected",!1),this.na=new Vc,this.O=new Yg(e,u(this.da.O,this.da),u(this.da.je,this.da),u(this.Pe,this)),this.ud=0,this.He=null,this.M=new oi({af:function(e,t,r,i){return n.da.Cf(e,r,t,function(t,r){var o=i(t,r);dc(n.fa,e.path,o)}),[]},de:function(e,t){n.da.$f(e,t)}})}function Li(e){return e=e.Ge.j(new P(".info/serverTimeOffset")).J()||0,(new Date).getTime()+e}function Mi(e){return e=e={timestamp:Li(e)},e.timestamp=e.timestamp||(new Date).getTime(),e}function Ki(e,t,n){t=new P("/.info/"+t),n=Q(n);var r=e.Ge;r.Zd=r.Zd.H(t,n),n=qi(e.Fd,new Ac(Gf,t,n)),dc(e.fa,t,n)}function Oi(e){e.f("onDisconnectEvents");var t=Mi(e),n=[];Wc(Uc(e.na,t),M,function(t,r){n=n.concat(qi(e.M,new Ac(Gf,t,r)));var i=Qi(e,t);Ni(e,i);
}),e.na=new Vc,dc(e.fa,M,n)}function fi(e,t,n,r){var i=Q(n);e.da.Qe(t.toString(),i.J(!0),function(n,o){"ok"===n&&e.na.rc(t,i),Pi(r,n,o)})}function gi(e,t,n,r,i){var o=Q(n,r);e.da.Qe(t.toString(),o.J(!0),function(n,r){"ok"===n&&e.na.rc(t,o),Pi(i,n,r)})}function hi(e,t,n,r){var i,o=!0;for(i in n)o=!1;o?(fc("onDisconnect().update() called with empty data.  Don't do anything."),Pi(r,"ok")):e.da.Gf(t.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=Q(n[a]);e.na.rc(t.o(a),s)}Pi(r,i,o)})}function Ri(e,t,n){n=".info"===K(t.path)?e.Fd.Tb(t,n):e.M.Tb(t,n),bc(e.fa,t.path,n)}function Pi(e,t,n){e&&gc(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,e(i)}})}function Si(e,t,n,r,i){function o(){}e.f("transaction on "+t);var a=new X(e,t);if(a.Ib("value",o),n={path:t,update:n,I:r,status:null,Lf:id(),gf:i,Sf:0,le:function(){a.mc("value",o)},ne:null,Da:null,rd:null,sd:null,td:null},r=e.M.Aa(t,void 0)||H,n.rd=r,r=n.update(r.J()),p(r)){hg("transaction failed: Data returned ",r,n.path),n.status=1,i=Xf(e.yc,t);var s=i.Ea()||[];s.push(n),Yf(i,s),"object"==typeof r&&null!==r&&y(r,".priority")?(s=z(r,".priority"),O(fg(s),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):s=(e.M.Aa(t)||H).C().J(),i=Mi(e),r=Q(r,s),i=Xc(r,i),n.sd=r,n.td=i,n.Da=e.Kd++,n=pi(e.M,t,i,n.Da,n.gf),dc(e.fa,t,n),Ti(e)}else n.le(),n.sd=null,n.td=null,n.I&&(e=new W(n.rd,new X(e,n.path),R),n.I(null,!1,e))}function Ti(e,t){var n=t||e.yc;if(t||Ui(e,n),null!==n.Ea()){var r=Vi(e,n);O(0<r.length,"Sending zero length transaction queue"),Qa(r,function(e){return 1===e.status})&&Wi(e,n.path(),r)}else n.zd()&&n.R(function(t){Ti(e,t)})}function Wi(e,t,n){for(var r=Oa(n,function(e){return e.Da}),i=e.M.Aa(t,r)||H,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];O(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Sf++;var s=lf(t,a.path),r=r.H(s,a.sd)}r=r.J(!0),e.da.put(t.toString(),r,function(r){e.f("transaction put response",{path:t.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(si(e.M,n[o].Da)),n[o].I){var a=n[o].td,s=new X(e,n[o].path);r.push(u(n[o].I,null,null,!0,new W(a,s,R)))}n[o].le()}for(Ui(e,Xf(e.yc,t)),Ti(e),dc(e.fa,t,i),o=0;o<r.length;o++)gc(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(S("transaction at "+t.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].ne=r;Ni(e,t)}},i)}function Ni(e,t){var n=Xi(e,t),r=n.path(),n=Vi(e,n);return Yi(e,n,r),r}function Yi(e,t,n){if(0!==t.length){for(var r=[],i=[],o=Na(t,function(e){return 1===e.status}),o=Oa(o,function(e){return e.Da}),a=0;a<t.length;a++){var s,l=t[a],c=lf(n,l.path),f=!1;if(O(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),5===l.status)f=!0,s=l.ne,i=i.concat(si(e.M,l.Da,!0));else if(1===l.status)if(25<=l.Sf)f=!0,s="maxretry",i=i.concat(si(e.M,l.Da,!0));else{var h=e.M.Aa(l.path,o)||H;l.rd=h;var d=t[a].update(h.J());p(d)?(hg("transaction failed: Data returned ",d,l.path),c=Q(d),"object"==typeof d&&null!=d&&y(d,".priority")||(c=c.ia(h.C())),h=l.Da,d=Mi(e),d=Xc(c,d),l.sd=c,l.td=d,l.Da=e.Kd++,Ta(o,h),i=i.concat(pi(e.M,l.path,d,l.Da,l.gf)),i=i.concat(si(e.M,h,!0))):(f=!0,s="nodata",i=i.concat(si(e.M,l.Da,!0)))}dc(e.fa,n,i),i=[],f&&(t[a].status=3,setTimeout(t[a].le,Math.floor(0)),t[a].I&&("nodata"===s?(l=new X(e,t[a].path),r.push(u(t[a].I,null,null,!1,new W(t[a].rd,l,R)))):r.push(u(t[a].I,null,Error(s),!1,null))))}for(Ui(e,e.yc),a=0;a<r.length;a++)gc(r[a]);Ti(e)}}function Xi(e,t){for(var n,r=e.yc;null!==(n=K(t))&&null===r.Ea();)r=Xf(r,n),t=N(t);return r}function Vi(e,t){var n=[];return Zi(e,t,n),n.sort(function(e,t){return e.Lf-t.Lf}),n}function Zi(e,t,n){var r=t.Ea();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);t.R(function(t){Zi(e,t,n)})}function Ui(e,t){var n=t.Ea();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Yf(t,0<n.length?n:null)}t.R(function(t){Ui(e,t)})}function Qi(e,t){var n=Xi(e,t).path(),r=Xf(e.yc,t);return ag(r,function(t){$i(e,t)}),$i(e,r),$f(r,function(t){$i(e,t)}),n}function $i(e,t){var n=t.Ea();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(O(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].ne="set"):(O(1===n[a].status,"Unexpected transaction status in abort"),n[a].le(),i=i.concat(si(e.M,n[a].Da,!0)),n[a].I&&r.push(u(n[a].I,null,Error("set"),!1,null))));for(-1===o?Yf(t,null):n.length=o+1,dc(e.fa,t.path(),i),a=0;a<r.length;a++)gc(r[a])}}function aj(){this.sc={},this.ag=!1}function Y(e,t,n,r){this.k=e,this.path=t,this.n=n,this.pc=r}function bj(e){var t=null,n=null;if(e.oa&&(t=Od(e)),e.ra&&(n=Rd(e)),e.g===re){if(e.oa){if("[MIN_NAME]"!=Nd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.ra){if("[MAX_NAME]"!=Pd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===R){if(null!=t&&!fg(t)||null!=n&&!fg(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(e.g instanceof ve||e.g===Be,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function cj(e){if(e.oa&&e.ra&&e.la&&(!e.la||""===e.Rb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function dj(e,t){if(!0===e.pc)throw Error(t+": You can't combine multiple orderBy calls.")}function ej(e,t,n){var r={cancel:null,Qa:null};if(t&&n)r.cancel=t,F(e,3,r.cancel,!0),r.Qa=n,Qb(e,4,r.Qa);else if(t)if("object"==typeof t&&null!==t)r.Qa=t;else{if("function"!=typeof t)throw Error(E(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r}function X(e,t){var n,r,i;if(e instanceof Ji)n=e,r=t;else{D("new Firebase",1,2,arguments.length),r=sd(arguments[0]),n=r.fh,"firebase"===r.domain&&rd(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.ob||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new dd(r.host,r.ob,n,"ws"===r.scheme||"wss"===r.scheme),r=new P(r.bd),i=r.toString();var o;if(!(o=!q(n.host)||0===n.host.length||!eg(n.lc))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(q(i)&&0!==i.length&&!cg.test(i))),o)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(t)if(t instanceof aj)i=t;else{if(!q(t))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=aj.yb(),n.Rd=t}else i=aj.yb();o=n.toString();var a=z(i.sc,o);a||(a=new Ji(n,i.ag),i.sc[o]=a),n=a}Y.call(this,n,r,De,!1),this.then=void 0,this["catch"]=void 0}var h,n=this,ja=Date.now||function(){return+new Date};ka(la,Error),la.prototype.name="CustomError";var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,w;e:{var Ga=n.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){w=Ha;break e}}w=""}ka(Ja,Ia),Ja.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ge=this.ec=0},Ja.prototype.update=function(e,t){if(null!=e){p(t)||(t=e.length);for(var n=t-this.Ya,r=0,i=this.pe,o=this.ec;t>r;){if(0==o)for(;n>=r;)Ka(this,e,r),r+=this.Ya;if(q(e)){for(;t>r;)if(i[o]=e.charCodeAt(r),++o,++r,o==this.Ya){Ka(this,i),o=0;break}}else for(;t>r;)if(i[o]=e[r],++o,++r,o==this.Ya){Ka(this,i),o=0;break}}this.ec=o,this.ge+=t}};var x=Array.prototype,La=x.indexOf?function(e,t,n){return x.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,q(e))return q(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ma=x.forEach?function(e,t,n){x.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;r>o;o++)o in i&&t.call(n,i[o],o,e)},Na=x.filter?function(e,t,n){return x.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=[],o=0,a=q(e)?e.split(""):e,s=0;r>s;s++)if(s in a){var u=a[s];t.call(n,u,s,e)&&(i[o++]=u)}return i},Oa=x.map?function(e,t,n){return x.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),o=q(e)?e.split(""):e,a=0;r>a;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},Pa=x.reduce?function(e,t,n,r){for(var i=[],o=1,a=arguments.length;a>o;o++)i.push(arguments[o]);return r&&(i[0]=u(t,r)),x.reduce.apply(e,i)}:function(e,t,n,r){var i=n;return Ma(e,function(n,o){i=t.call(r,i,n,o,e)}),i},Qa=x.every?function(e,t,n){return x.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&!t.call(n,i[o],o,e))return!1;return!0},Ya,ab,cb=!1,db=[];[].push(function(){cb=!1,db=[]});var gb=-1!=w.indexOf("Opera")||-1!=w.indexOf("OPR"),hb=-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"),ib=-1!=w.indexOf("Gecko")&&-1==w.toLowerCase().indexOf("webkit")&&!(-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE")),jb=-1!=w.toLowerCase().indexOf("webkit");!function(){var e,t="";return gb&&n.opera?(t=n.opera.version,r(t)?t():t):(ib?e=/rv\:([^\);]+)(\)|;)/:hb?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jb&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(w))?t[1]:""),hb&&(e=(e=n.document)?e.documentMode:void 0,e>parseFloat(t))?String(e):t)}();var kb=null,lb=null,mb=null,qb=0,tb=2,vb=3;pb.prototype.then=function(e,t,n){return wb(this,r(e)?e:null,r(t)?t:null,n)},pb.prototype.then=pb.prototype.then,pb.prototype.$goog_Thenable=!0,h=pb.prototype,h.gh=function(e,t){return wb(this,null,e,t)},h.cancel=function(e){this.N==qb&&$a(function(){var t=new ub(e);xb(this,t)},this)},h.Yf=function(e){this.N=qb,sb(this,tb,e)},h.Zf=function(e){this.N=qb,sb(this,vb,e)},h.wg=function(){for(;this.Ba&&this.Ba.length;){var e=this.Ba;this.Ba=null;for(var t=0;t<e.length;t++)yb(this,e[t],this.N,this.Rf)}this.ye=!1};var Db=Xa;ka(ub,la),ub.prototype.name="cancel";var Eb=Eb||"2.4.2",Mb=n.Promise||pb;pb.prototype["catch"]=pb.prototype.gh,Sb.prototype.j=function(e){return this.Zd.S(e)},Sb.prototype.toString=function(){return this.Zd.toString()},Tb.prototype.uf=function(){return null},Tb.prototype.Ce=function(){return null};var Ub=new Tb;Vb.prototype.uf=function(e){var t=this.Oa.Q;return Wb(t,e)?t.j().T(e):(t=null!=this.Nd?new Xb(this.Nd,!0,!1):this.Oa.w(),this.bg.Bc(e,t))},Vb.prototype.Ce=function(e,t,n){var r=null!=this.Nd?this.Nd:Yb(this.Oa);return e=this.bg.qe(r,t,1,n,e),0===e.length?null:e[0]},ac.prototype.add=function(e){this.xd.push(e)},ac.prototype.cc=function(){return this.ta};var ic="value";jc.prototype.cc=function(){var e=this.be.Mb();return"value"===this.wd?e.path:e.parent().path},jc.prototype.De=function(){return this.wd},jc.prototype.Zb=function(){return this.xe.Zb(this)},jc.prototype.toString=function(){return this.cc().toString()+":"+this.wd+":"+G(this.be.qf())},kc.prototype.cc=function(){return this.path},kc.prototype.De=function(){return"cancel"},kc.prototype.Zb=function(){return this.xe.Zb(this)},kc.prototype.toString=function(){return this.path.toString()+":cancel"},Xb.prototype.j=function(){return this.A},oc.prototype.get=function(){var e=this.pg.get(),t=wa(e);if(this.Gd)for(var n in this.Gd)t[n]-=this.Gd[n];return this.Gd=e,t},pc.prototype.Of=function(){var e,t=this.hd.get(),n={},r=!1;for(e in t)0<t[e]&&y(this.Vf,e)&&(n[e]=t[e],r=!0);r&&this.da.Ye(n),setTimeout(u(this.Of,this),Math.floor(6e5*Math.random()))},qc.prototype.get=function(){return wa(this.Hc)};var sc={},tc={};Ac.prototype.$c=function(e){return this.path.e()?new Ac(this.source,M,this.Ja.T(e)):new Ac(this.source,N(this.path),this.Ja)},Ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"},Cc.prototype.$c=function(){return this.path.e()?new Cc(this.source,M):new Cc(this.source,N(this.path))},Cc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=Ec.prototype,h.Sa=function(e,t){return new Ec(this.Pa,this.xa.Sa(e,t,this.Pa).$(null,null,!1,null,null))},h.remove=function(e){return new Ec(this.Pa,this.xa.remove(e,this.Pa).$(null,null,!1,null,null))},h.get=function(e){for(var t,n=this.xa;!n.e();){if(t=this.Pa(e,n.key),0===t)return n.value;0>t?n=n.left:t>0&&(n=n.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Vc=function(){return this.xa.Vc()},h.jc=function(){return this.xa.jc()},h.ka=function(e){return this.xa.ka(e)},h.ac=function(e){return new Hc(this.xa,null,this.Pa,!1,e)},h.bc=function(e,t){return new Hc(this.xa,e,this.Pa,!1,t)},h.dc=function(e,t){return new Hc(this.xa,e,this.Pa,!0,t)},h.xf=function(e){return new Hc(this.xa,null,this.Pa,!0,e)},h=Kc.prototype,h.$=function(e,t,n,r,i){return new Kc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ka=function(e){return this.left.ka(e)||e(this.key,this.value)||this.right.ka(e)},h.Vc=function(){return Lc(this).key},h.jc=function(){return this.right.e()?this.key:this.right.jc()},h.Sa=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=0>r?i.$(null,null,null,i.left.Sa(e,t,n),null):0===r?i.$(null,t,null,null,null):i.$(null,null,null,null,i.right.Sa(e,t,n)),Mc(i)},h.remove=function(e,t){var n,r;if(n=this,0>t(e,n.key))n.left.e()||n.left.ha()||n.left.left.ha()||(n=Oc(n)),n=n.$(null,null,null,n.left.remove(e,t),null);else{if(n.left.ha()&&(n=Pc(n)),n.right.e()||n.right.ha()||n.right.left.ha()||(n=Qc(n),n.left.left.ha()&&(n=Pc(n),n=Qc(n))),0===t(e,n.key)){if(n.right.e())return Fc;r=Lc(n.right),n=n.$(r.key,r.value,null,null,Nc(n.right))}n=n.$(null,null,null,null,n.right.remove(e,t))}return Mc(n)},h.ha=function(){return this.color},h=Sc.prototype,h.$=function(){return this},h.Sa=function(e,t){return new Kc(e,t,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ka=function(){return!1},h.Vc=function(){return null},h.jc=function(){return null},h.ha=function(){return!1};var Fc=new Sc;Zc.prototype.set=function(e,t){null==t?delete this.Ac[e]:this.Ac[e]=t},Zc.prototype.get=function(e){return y(this.Ac,e)?this.Ac[e]:null},Zc.prototype.remove=function(e){delete this.Ac[e]},Zc.prototype.Af=!0,h=$c.prototype,h.set=function(e,t){null==t?this.Ic.removeItem(this.Sd+e):this.Ic.setItem(this.Sd+e,G(t))},h.get=function(e){return e=this.Ic.getItem(this.Sd+e),null==e?null:Rb(e)},h.remove=function(e){this.Ic.removeItem(this.Sd+e)},h.Af=!1,h.toString=function(){return this.Ic.toString()};var bd=ad("localStorage"),cd=ad("sessionStorage");dd.prototype.toString=function(){var e=(this.ob?"https://":"http://")+this.host;return this.Rd&&(e+="<"+this.Rd+">"),e};var id=function(){var e=1;return function(){return e++}}(),O=Kb,jd=Lb,ec=null,nd=!0,Bd=/^-?\d{1,10}$/;Fd.prototype.qg=function(e,t){if(null==e.Za||null==t.Za)throw jd("Should only compare child_ events.");return this.g.compare(new L(e.Za,e.Na),new L(t.Za,t.Na))},h=Ld.prototype,h.H=function(e,t,n,r,i,o){return O(e.Mc(this.g),"A node must be indexed if only a child is updated"),i=e.T(t),i.S(r).ea(n.S(r))&&i.e()==n.e()?e:(null!=o&&(n.e()?e.Fa(t)?Kd(o,new J("child_removed",i,t)):O(e.L(),"A child remove without an old child only makes sense on a leaf node"):i.e()?Kd(o,new J("child_added",n,t)):Kd(o,new J("child_changed",n,t,i))),e.L()&&n.e()?e:e.W(t,n).pb(this.g))},h.ya=function(e,t,n){return null!=n&&(e.L()||e.R(R,function(e,r){t.Fa(e)||Kd(n,new J("child_removed",r,e))}),t.L()||t.R(R,function(t,r){if(e.Fa(t)){var i=e.T(t);i.ea(r)||Kd(n,new J("child_changed",r,t,i))}else Kd(n,new J("child_added",r,t))})),t.pb(this.g)},h.ia=function(e,t){return e.e()?H:e.ia(t)},h.Ra=function(){return!1},h.$b=function(){return this},h=Md.prototype,h.matches=function(e){return 0>=this.g.compare(this.gd,e)&&0>=this.g.compare(e,this.Jc)},h.H=function(e,t,n,r,i,o){return this.matches(new L(t,n))||(n=H),this.Fe.H(e,t,n,r,i,o)},h.ya=function(e,t,n){t.L()&&(t=H);var r=t.pb(this.g),r=r.ia(H),i=this;return t.R(R,function(e,t){i.matches(new L(e,t))||(r=r.W(e,H))}),this.Fe.ya(e,r,n)},h.ia=function(e){return e},h.Ra=function(){return!0},h.$b=function(){return this.Fe},h=Sd.prototype,h.H=function(e,t,n,r,i,o){return this.ua.matches(new L(t,n))||(n=H),e.T(t).ea(n)?e:e.Hb()<this.ma?this.ua.$b().H(e,t,n,r,i,o):Ud(this,e,t,n,i,o)},h.ya=function(e,t,n){var r;if(t.L()||t.e())r=H.pb(this.g);else if(2*this.ma<t.Hb()&&t.Mc(this.g)){r=H.pb(this.g),t=this.Nb?t.dc(this.ua.Jc,this.g):t.bc(this.ua.gd,this.g);for(var i=0;0<t.Ta.length&&i<this.ma;){var o,a=Ic(t);if(!(o=this.Nb?0>=this.g.compare(this.ua.gd,a):0>=this.g.compare(a,this.ua.Jc)))break;r=r.W(a.name,a.U),i++}}else{r=t.pb(this.g),r=r.ia(H);var s,u,l;if(this.Nb){t=r.xf(this.g),s=this.ua.Jc,u=this.ua.gd;var c=Vd(this.g);l=function(e,t){return c(t,e)}}else t=r.ac(this.g),s=this.ua.gd,u=this.ua.Jc,l=Vd(this.g);for(var i=0,f=!1;0<t.Ta.length;)a=Ic(t),!f&&0>=l(s,a)&&(f=!0),(o=f&&i<this.ma&&0>=l(a,u))?i++:r=r.W(a.name,H)}return this.ua.$b().ya(e,r,n)},h.ia=function(e){return e},h.Ra=function(){return!0},h.$b=function(){return this.ua.$b()},Zd.prototype.gb=function(e,t,n,r){var i,o=new Jd;if(t.type===Bc)t.source.Ae?n=$d(this,e,t.path,t.Ja,n,r,o):(O(t.source.tf,"Unknown source."),i=t.source.ef||mc(e.w())&&!t.path.e(),n=ae(this,e,t.path,t.Ja,n,r,i,o));else if(t.type===be)t.source.Ae?n=ce(this,e,t.path,t.children,n,r,o):(O(t.source.tf,"Unknown source."),i=t.source.ef||mc(e.w()),n=de(this,e,t.path,t.children,n,r,i,o));else if(t.type===ee)if(t.Yd)if(t=t.path,null!=n.xc(t))n=e;else{if(i=new Vb(n,e,r),r=e.Q.j(),t.e()||".priority"===K(t))lc(e.w())?t=n.Aa(Yb(e)):(t=e.w().j(),O(t instanceof fe,"serverChildren would be complete if leaf node"),t=n.Cc(t)),t=this.X.ya(r,t,o);else{var a=K(t),s=n.Bc(a,e.w());null==s&&Wb(e.w(),a)&&(s=r.T(a)),t=null!=s?this.X.H(r,a,s,N(t),i,o):e.Q.j().Fa(a)?this.X.H(r,a,H,N(t),i,o):r,t.e()&&lc(e.w())&&(r=n.Aa(Yb(e)),r.L()&&(t=this.X.ya(t,r,o)))}r=lc(e.w())||null!=n.xc(M),n=ge(e,t,r,this.X.Ra())}else n=he(this,e,t.path,t.Ub,n,r,o);else{if(t.type!==Dc)throw jd("Unknown operation type: "+t.type);r=t.path,t=e.w(),i=t.j(),a=t.ga||r.e(),n=ie(this,new je(e.Q,new Xb(i,a,t.Yb)),r,n,Ub,o)}return o=qa(o.ib),r=n,t=r.Q,t.ga&&(i=t.j().L()||t.j().e(),a=ke(e),(0<o.length||!e.Q.ga||i&&!t.j().ea(a)||!t.j().C().ea(a.C()))&&o.push(hc(ke(r)))),new Yd(n,o)};var te={};se.prototype.Dd=function(e,t){return 0!==this.compare(new L("[MIN_NAME]",e),new L("[MIN_NAME]",t))},se.prototype.Wc=function(){return ue},ka(ve,se),h=ve.prototype,h.Lc=function(e){return!e.S(this.gc).e()},h.compare=function(e,t){var n=e.U.S(this.gc),r=t.U.S(this.gc),n=n.Gc(r);return 0===n?yc(e.name,t.name):n},h.Sc=function(e,t){var n=Q(e),n=H.H(this.gc,n);return new L(t,n)},h.Tc=function(){var e=H.H(this.gc,we);return new L("[MAX_NAME]",e)},h.toString=function(){return this.gc.slice().join("/")},ka(xe,se),h=xe.prototype,h.compare=function(e,t){var n=e.U.C(),r=t.U.C(),n=n.Gc(r);return 0===n?yc(e.name,t.name):n},h.Lc=function(e){return!e.C().e()},h.Dd=function(e,t){return!e.C().ea(t.C())},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",new Yc("[PRIORITY-POST]",we))},h.Sc=function(e,t){var n=Q(e);return new L(t,new Yc("[PRIORITY-POST]",n))},h.toString=function(){return".priority"};var R=new xe;ka(ye,se),h=ye.prototype,h.compare=function(e,t){return yc(e.name,t.name)},h.Lc=function(){throw jd("KeyIndex.isDefinedOn not expected to be called.")},h.Dd=function(){return!1},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",H)},h.Sc=function(e){return O(q(e),"KeyIndex indexValue must always be a string."),new L(e,H)},h.toString=function(){return".key"};var re=new ye;ka(ze,se),h=ze.prototype,h.compare=function(e,t){var n=e.U.Gc(t.U);return 0===n?yc(e.name,t.name):n},h.Lc=function(){return!0},h.Dd=function(e,t){return!e.ea(t)},h.Wc=function(){return ue},h.Tc=function(){return Ae},h.Sc=function(e,t){var n=Q(e);return new L(t,n)},h.toString=function(){return".value"};var Be=new ze,De=new Ce;h=Ce.prototype,h.Le=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="",t},h.Me=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="l",t},h.Ne=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="r",t},h.ce=function(e,t){var n=Ee(this);return n.oa=!0,p(e)||(e=null),n.ic=e,null!=t?(n.Pb=!0,n.Bb=t):(n.Pb=!1,n.Bb=""),n},h.vd=function(e,t){var n=Ee(this);return n.ra=!0,p(e)||(e=null),n.fc=e,p(t)?(n.Xb=!0,n.zb=t):(n.oh=!1,n.zb=""),n},h.toString=function(){return G(Ge(this))},Ke.prototype.get=function(e){var t=z(this.Ed,e);if(!t)throw Error("No index defined for "+e);return t===te?null:t};var Oe=new Ke({".priority":te},{".priority":R}),Qe=["object","boolean","number","string"];h=Yc.prototype,h.L=function(){return!0},h.C=function(){return this.ca},h.ia=function(e){return new Yc(this.B,e)},h.T=function(e){return".priority"===e?this.ca:H},h.S=function(e){return e.e()?this:".priority"===K(e)?this.ca:H},h.Fa=function(){return!1},h.wf=function(){return null},h.W=function(e,t){return".priority"===e?this.ia(t):t.e()&&".priority"!==e?this:H.W(e,t).ia(this.ca)},h.H=function(e,t){var n=K(e);return null===n?t:t.e()&&".priority"!==n?this:(O(".priority"!==n||1===le(e),".priority must be the last token in a path"),this.W(n,H.H(N(e),t)))},h.e=function(){return!1},h.Hb=function(){return 0},h.R=function(){return!1},h.J=function(e){return e&&!this.C().e()?{".value":this.Ea(),".priority":this.C().J()}:this.Ea()},h.hash=function(){if(null===this.Gb){var e="";this.ca.e()||(e+="priority:"+Re(this.ca.J())+":");var t=typeof this.B,e=e+(t+":"),e="number"===t?e+Ad(this.B):e+this.B;this.Gb=ld(e)}return this.Gb},h.Ea=function(){return this.B},h.Gc=function(e){if(e===H)return 1;if(e instanceof fe)return-1;O(e.L(),"Unknown node type");var t=typeof e.B,n=typeof this.B,r=La(Qe,t),i=La(Qe,n);return O(r>=0,"Unknown leaf type: "+t),O(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<e.B?-1:this.B===e.B?0:1:i-r},h.pb=function(){return this},h.Mc=function(){return!0},h.ea=function(e){return e===this?!0:e.L()?this.B===e.B&&this.ca.ea(e.ca):!1},h.toString=function(){return G(this.J(!0))},h=fe.prototype,h.L=function(){return!1},h.C=function(){return this.ca||H},h.ia=function(e){return this.m.e()?this:new fe(this.m,e,this.Ab)},h.T=function(e){return".priority"===e?this.C():(e=this.m.get(e),null===e?H:e)},h.S=function(e){var t=K(e);return null===t?this:this.T(t).S(N(e))},h.Fa=function(e){return null!==this.m.get(e)},h.W=function(e,t){if(O(t,"We should always be passing snapshot nodes"),".priority"===e)return this.ia(t);var n,r,i=new L(e,t);return t.e()?(n=this.m.remove(e),i=Ne(this.Ab,i,this.m)):(n=this.m.Sa(e,t),i=Le(this.Ab,i,this.m)),r=n.e()?H:this.ca,new fe(n,r,i)},h.H=function(e,t){var n=K(e);if(null===n)return t;O(".priority"!==K(e)||1===le(e),".priority must be the last token in a path");var r=this.T(n).H(N(e),t);return this.W(n,r)},h.e=function(){return this.m.e()},h.Hb=function(){return this.m.count()};var Se=/^(0|[1-9]\d*)$/;h=fe.prototype,h.J=function(e){if(this.e())return null;var t={},n=0,r=0,i=!0;if(this.R(R,function(o,a){t[o]=a.J(e),n++,i&&Se.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&2*n>r){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.C().e()&&(t[".priority"]=this.C().J()),t},h.hash=function(){if(null===this.Gb){var e="";this.C().e()||(e+="priority:"+Re(this.C().J())+":"),this.R(R,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.Gb=""===e?"":ld(e)}return this.Gb},h.wf=function(e,t,n){return(n=Te(this,n))?(e=Gc(n,new L(e,t)))?e.name:null:Gc(this.m,e)},h.R=function(e,t){var n=Te(this,e);return n?n.ka(function(e){return t(e.name,e.U)}):this.m.ka(t)},h.ac=function(e){return this.bc(e.Wc(),e)},h.bc=function(e,t){var n=Te(this,t);if(n)return n.bc(e,function(e){return e});for(var n=this.m.bc(e.name,wc),r=Jc(n);null!=r&&0>t.compare(r,e);)Ic(n),r=Jc(n);return n},h.xf=function(e){return this.dc(e.Tc(),e)},h.dc=function(e,t){var n=Te(this,t);if(n)return n.dc(e,function(e){return e});for(var n=this.m.dc(e.name,wc),r=Jc(n);null!=r&&0<t.compare(r,e);)Ic(n),r=Jc(n);return n},h.Gc=function(e){return this.e()?e.e()?0:-1:e.L()||e.e()?1:e===we?-1:0},h.pb=function(e){if(e===re||sa(this.Ab.hc,e.toString()))return this;var t=this.Ab,n=this.m;O(e!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.ac(wc),o=Ic(n);o;)i=i||e.Lc(o.U),r.push(o),o=Ic(n);return r=i?Me(r,Vd(e)):te,i=e.toString(),n=wa(t.hc),n[i]=e,e=wa(t.Ed),e[i]=r,new fe(this.m,this.ca,new Ke(e,n))},h.Mc=function(e){return e===re||sa(this.Ab.hc,e.toString())},h.ea=function(e){if(e===this)return!0;if(e.L())return!1;if(this.C().ea(e.C())&&this.m.count()===e.m.count()){var t=this.ac(R);e=e.ac(R);for(var n=Ic(t),r=Ic(e);n&&r;){if(n.name!==r.name||!n.U.ea(r.U))return!1;n=Ic(t),r=Ic(e)}return null===n&&null===r}return!1},h.toString=function(){return G(this.J(!0))};var Ue=Math.log(2),H=new fe(new Ec(zc),null,Oe);ka(Xe,fe),h=Xe.prototype,h.Gc=function(e){return e===this?0:1},h.ea=function(e){return e===this},h.C=function(){return this},h.T=function(){return H},h.e=function(){return!1};var we=new Xe,ue=new L("[MIN_NAME]",H),Ae=new L("[MAX_NAME]",we);je.prototype.w=function(){return this.ae},h=Ye.prototype,h.w=function(){return this.Oa.w().j()},h.kb=function(e){var t=Yb(this.Oa);return t&&(He(this.Y.n)||!e.e()&&!t.T(K(e)).e())?t.S(e):null},h.e=function(){return 0===this.$a.length},h.Tb=function(e){this.$a.push(e)},h.nb=function(e,t){var n=[];if(t){O(null==e,"A cancel should cancel all event registrations.");var r=this.Y.path;Ma(this.$a,function(e){(e=e.lf(t,r))&&n.push(e)})}if(e){for(var i=[],o=0;o<this.$a.length;++o){var a=this.$a[o];if(a.matches(e)){if(e.yf()){i=i.concat(this.$a.slice(o+1));break}}else i.push(a)}this.$a=i}else this.$a=[];return n},h.gb=function(e,t,n){e.type===be&&null!==e.source.Lb&&(O(Yb(this.Oa),"We should always have a full cache before handling merges"),O(ke(this.Oa),"Missing event cache, even though we have a server cache"));var r=this.Oa;return e=this.Nf.gb(r,e,t,n),t=this.Nf,n=e.me,O(n.Q.j().Mc(t.X.g),"Event snap not indexed"),O(n.w().j().Mc(t.X.g),"Server snap not indexed"),O(lc(e.me.w())||!lc(r.w()),"Once a server snap is complete, it should never go back"),this.Oa=e.me,$e(this,e.og,e.me.Q.j(),null)},bf.prototype.$c=function(e){return this.path.e()?(e=this.children.subtree(new P(e)),e.e()?null:e.value?new Ac(this.source,M,e.value):new bf(this.source,M,e)):(O(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bf(this.source,N(this.path),this.children))},bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},h=cf.prototype,h.Cf=function(e,t,n,r){var i=e.path.toString();this.f("Listen called for "+i+" "+e.wa());var o=df(e,n),a={};this.ba[o]=a,e=Je(e.n);var s=this;ef(this,i+".json",e,function(e,t){var u=t;404===e&&(e=u=null),null===e&&s.Kb(i,u,!1,n),z(s.ba,o)===a&&r(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},h.$f=function(e,t){var n=df(e,t);delete this.ba[n]},h.O=function(e,t){this.Ca=e;var n=Cd(e),r=n.data,n=n.Ec&&n.Ec.exp;t&&t("ok",{auth:r,expires:n})},h.je=function(e){this.Ca=null,e("ok",null)},h.Qe=function(){},h.Gf=function(){},h.Md=function(){},h.put=function(){},h.Df=function(){},h.Ye=function(){},ff.prototype.ie=function(e,t){var n;n=this.Rc[e]||[];var r=n.length;if(r>0){for(var i=Array(r),o=0;r>o;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].Dc.apply(n[r].Qa,Array.prototype.slice.call(arguments,1))},ff.prototype.Ib=function(e,t,n){gf(this,e),this.Rc[e]=this.Rc[e]||[],this.Rc[e].push({Dc:t,Qa:n}),(e=this.Ee(e))&&t.apply(n,e)},ff.prototype.mc=function(e,t,n){gf(this,e),e=this.Rc[e]||[];for(var r=0;r<e.length;r++)if(e[r].Dc===t&&(!n||n===e[r].Qa)){e.splice(r,1);break}};var hf=function(){var e=0,t=[];return function(n){var r=n===e;e=n;for(var i=Array(8),o=7;o>=0;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(O(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;12>o;o++)t[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t[o]);return O(20===n.length,"nextPushId: Length should be 20."),n}}();ka(jf,ff),jf.prototype.Ee=function(e){return O("online"===e,"Unknown event type: "+e),[this.oc]},ba(jf),ka(kf,ff),kf.prototype.Ee=function(e){return O("visible"===e,"Unknown event type: "+e),[this.Sb]},ba(kf),h=P.prototype,h.toString=function(){for(var e="",t=this.aa;t<this.u.length;t++)""!==this.u[t]&&(e+="/"+this.u[t]);return e||"/"},h.slice=function(e){return this.u.slice(this.aa+(e||0))},h.parent=function(){if(this.aa>=this.u.length)return null;for(var e=[],t=this.aa;t<this.u.length-1;t++)e.push(this.u[t]);return new P(e,0)},h.o=function(e){for(var t=[],n=this.aa;n<this.u.length;n++)t.push(this.u[n]);if(e instanceof P)for(n=e.aa;n<e.u.length;n++)t.push(e.u[n]);else for(e=e.split("/"),n=0;n<e.length;n++)0<e[n].length&&t.push(e[n]);return new P(t,0)},h.e=function(){return this.aa>=this.u.length},h.ea=function(e){if(le(this)!==le(e))return!1;for(var t=this.aa,n=e.aa;t<=this.u.length;t++,n++)if(this.u[t]!==e.u[n])return!1;return!0},h.contains=function(e){var t=this.aa,n=e.aa;if(le(this)>le(e))return!1;for(;t<this.u.length;){if(this.u[t]!==e.u[n])return!1;++t,++n}return!0};var M=new P("");nf.prototype.push=function(e){0<this.Ua.length&&(this.Ka+=1),this.Ua.push(e),this.Ka+=Pb(e),of(this)},nf.prototype.pop=function(){var e=this.Ua.pop();this.Ka-=Pb(e),0<this.Ua.length&&--this.Ka};var rf=new Ec(function(e,t){return e===t?0:t>e?-1:1});h=qf.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(e){if(e.e())return this;var t=this.children.get(K(e));return null!==t?t.subtree(N(e)):qe},h.set=function(e,t){if(e.e())return new qf(t,this.children);var n=K(e),r=(this.children.get(n)||qe).set(N(e),t),n=this.children.Sa(n,r);return new qf(this.value,n)},h.remove=function(e){if(e.e())return this.children.e()?qe:new qf(null,this.children);var t=K(e),n=this.children.get(t);return n?(e=n.remove(N(e)),t=e.e()?this.children.remove(t):this.children.Sa(t,e),null===this.value&&t.e()?qe:new qf(this.value,t)):this},h.get=function(e){if(e.e())return this.value;var t=this.children.get(K(e));return t?t.get(N(e)):null};var qe=new qf(null);qf.prototype.toString=function(){var e={};return ne(this,function(t,n){e[t.toString()]=n.toString()}),G(e)},Df.prototype.$c=function(e){return this.path.e()?null!=this.Ub.value?(O(this.Ub.children.e(),"affectedTree should not have overlapping affected paths."),this):(e=this.Ub.subtree(new P(e)),new Df(M,e,this.Yd)):(O(K(this.path)===e,"operationForChild called for unrelated child."),new Df(N(this.path),this.Ub,this.Yd))},Df.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yd+" affectedTree="+this.Ub+")"};var Bc=0,be=1,ee=2,Dc=3,Ef=new Ff(!0,!1,null,!1),Gf=new Ff(!1,!0,null,!1);
Ff.prototype.toString=function(){return this.Ae?"user":this.ef?"server(queryID="+this.Lb+")":"server"};var If=new Hf(new qf(null));Hf.prototype.Ud=function(e){return e.e()?If:(e=pe(this.Z,e,qe),new Hf(e))},Hf.prototype.e=function(){return this.Z.e()},Hf.prototype.apply=function(e){return Of(M,this.Z,e)},h=Pf.prototype,h.Ud=function(e){var t=Sa(this.pa,function(t){return t.md===e});O(t>=0,"removeWrite called with nonexistent writeId.");var n=this.pa[t];this.pa.splice(t,1);for(var r=n.visible,i=!1,o=this.pa.length-1;r&&o>=0;){var a=this.pa[o];a.visible&&(o>=t&&Rf(a,n.path)?r=!1:n.path.contains(a.path)&&(i=!0)),o--}if(r){if(i)this.V=Sf(this.pa,Tf,M),this.Pc=0<this.pa.length?this.pa[this.pa.length-1].md:-1;else if(n.Ja)this.V=this.V.Ud(n.path);else{var s=this;v(n.children,function(e,t){s.V=s.V.Ud(n.path.o(t))})}return!0}return!1},h.Aa=function(e,t,n,r){if(n||r){var i=Nf(this.V,e);return!r&&i.e()?t:r||null!=t||null!=Lf(i,M)?(i=Sf(this.pa,function(t){return(t.visible||r)&&(!n||!(0<=La(n,t.md)))&&(t.path.contains(e)||e.contains(t.path))},e),t=t||H,i.apply(t)):null}return i=Lf(this.V,e),null!=i?i:(i=Nf(this.V,e),i.e()?t:null!=t||null!=Lf(i,M)?(t=t||H,i.apply(t)):null)},h.Cc=function(e,t){var n=H,r=Lf(this.V,e);if(r)r.L()||r.R(R,function(e,t){n=n.W(e,t)});else if(t){var i=Nf(this.V,e);t.R(R,function(e,t){var r=Nf(i,new P(e)).apply(t);n=n.W(e,r)}),Ma(Mf(i),function(e){n=n.W(e.name,e.U)})}else i=Nf(this.V,e),Ma(Mf(i),function(e){n=n.W(e.name,e.U)});return n},h.nd=function(e,t,n,r){return O(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=e.o(t),null!=Lf(this.V,e)?null:(e=Nf(this.V,e),e.e()?r.S(t):e.apply(r.S(t)))},h.Bc=function(e,t,n){e=e.o(t);var r=Lf(this.V,e);return null!=r?r:Wb(n,t)?Nf(this.V,e).apply(n.j().T(t)):null},h.xc=function(e){return Lf(this.V,e)},h.qe=function(e,t,n,r,i,o){var a;if(e=Nf(this.V,e),a=Lf(e,M),null==a){if(null==t)return[];a=e.apply(t)}if(a=a.pb(o),a.e()||a.L())return[];for(t=[],e=Vd(o),i=i?a.dc(n,o):a.bc(n,o),o=Ic(i);o&&t.length<r;)0!==e(o,n)&&t.push(o),o=Ic(i);return t},h=Uf.prototype,h.Aa=function(e,t,n){return this.Z.Aa(this.Qb,e,t,n)},h.Cc=function(e){return this.Z.Cc(this.Qb,e)},h.nd=function(e,t,n){return this.Z.nd(this.Qb,e,t,n)},h.xc=function(e){return this.Z.xc(this.Qb.o(e))},h.qe=function(e,t,n,r,i){return this.Z.qe(this.Qb,e,t,n,r,i)},h.Bc=function(e,t){return this.Z.Bc(this.Qb,e,t)},h.o=function(e){return new Uf(this.Qb.o(e),this.Z)},h=Wf.prototype,h.Ea=function(){return this.A.value},h.clear=function(){this.A.value=null,this.A.children={},this.A.pd=0,Zf(this)},h.zd=function(){return 0<this.A.pd},h.e=function(){return null===this.Ea()&&!this.zd()},h.R=function(e){var t=this;v(this.A.children,function(n,r){e(new Wf(r,t,n))})},h.path=function(){return new P(null===this.Ha?this.Jd:this.Ha.path()+"/"+this.Jd)},h.name=function(){return this.Jd},h.parent=function(){return this.Ha};var bg=/[\[\].#$\/\u0000-\u001F\u007F]/,cg=/[\[\].#$\u0000-\u001F\u007F]/,dg=/^[a-zA-Z][a-zA-Z._\-+]+$/;h=ug.prototype,h.add=function(e,t){this.set[e]=null!==t?t:!0},h.contains=function(e){return y(this.set,e)},h.get=function(e){return this.contains(e)?this.set[e]:void 0},h.remove=function(e){delete this.set[e]},h.clear=function(){this.set={}},h.e=function(){return va(this.set)},h.count=function(){return oa(this.set)},h.keys=function(){var e=[];return v(this.set,function(t,n){e.push(n)}),e},Vc.prototype.find=function(e){if(null!=this.B)return this.B.S(e);if(e.e()||null==this.m)return null;var t=K(e);return e=N(e),this.m.contains(t)?this.m.get(t).find(e):null},Vc.prototype.rc=function(e,t){if(e.e())this.B=t,this.m=null;else if(null!==this.B)this.B=this.B.H(e,t);else{null==this.m&&(this.m=new ug);var n=K(e);this.m.contains(n)||this.m.add(n,new Vc),n=this.m.get(n),e=N(e),n.rc(e,t)}},Vc.prototype.R=function(e){null!==this.m&&vg(this.m,function(t,n){e(t,n)})};var xg="auth.firebase.com",zg=["remember","redirectTo"];Bg.prototype.set=function(e,t){if(!t){if(!this.ee.length)throw Error("fb.login.SessionManager : No storage options available!");t=this.ee[0]}t.set(this.Ue,e)},Bg.prototype.get=function(){var e=Oa(this.ee,u(this.Bg,this)),e=Na(e,function(e){return null!==e});return Va(e,function(e,t){return Dd(t.token)-Dd(e.token)}),0<e.length?e.shift():null},Bg.prototype.Bg=function(e){try{var t=e.get(this.Ue);if(t&&t.token)return t}catch(n){}return null},Bg.prototype.clear=function(){var e=this;Ma(this.ee,function(t){t.remove(e.Ue)})},Og.prototype.nc=function(e){var t,n=this;try{t=Rb(e.data)}catch(r){}t&&"request"===t.a&&(Ig(window,"message",this.nc),this.fe=e.origin,this.hb&&setTimeout(function(){n.hb(n.fe,t.d,function(e,t){n.mg=!t,n.hb=void 0,Pg(n,{a:"response",d:e,forceKeepWindowOpen:t})})},0))},Og.prototype.Ng=function(){try{Ig(this.Cd,"message",this.Ff)}catch(e){}this.hb&&(Pg(this,{a:"error",d:"unknown closed window"}),this.hb=void 0);try{window.close()}catch(t){}},Og.prototype.Ff=function(e){if(this.mg&&"die"===e.data)try{window.close()}catch(t){}},Qg.prototype.open=function(e,t){cd.set("redirect_request_id",this.tc),cd.set("redirect_request_id",this.tc),t.requestId=this.tc,t.redirectTo=t.redirectTo||window.location.href,e+=(/\?/.test(e)?"":"?")+Ib(t),window.location=e},Qg.isAvailable=function(){return!Eg()&&!Dg()},Qg.prototype.Fc=function(){return"redirect"};var Rg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Tg.prototype.open=function(e,t,n){function r(e){if(o&&(document.body.removeChild(o),o=void 0),c&&(c=clearInterval(c)),Ig(window,"message",i),Ig(window,"unload",r),l&&!e)try{l.close()}catch(t){a.postMessage("die",u)}l=a=void 0}function i(e){if(e.origin===u)try{var t=Rb(e.data);"ready"===t.a?a.postMessage(f,u):"error"===t.a?(r(!1),n&&(n(t.d),n=null)):"response"===t.a&&(r(t.forceKeepWindowOpen),n&&(n(null,t.d),n=null))}catch(i){}}var o,a,s=Fg(8);if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=Jg(e);if(u!==Jg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),e+=(/\?/.test(e)?"":"?")+Ib(t);var l=window.open(e,this.options.window_name,this.options.window_features);a||(a=l);var c=setInterval(function(){l&&l.closed&&(r(!1),n&&(n(Sg("USER_CANCELLED")),n=null))},500),f=G({a:"request",d:t});Hg(window,"unload",r),Hg(window,"message",i)}},Tg.isAvailable=function(){var e;return(e="postMessage"in window&&!Eg())&&((e=Dg()||"undefined"!=typeof navigator&&(!!Cg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(e=Cg(),e="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||e.match(/CriOS/)||e.match(/Twitter for iPhone/)||e.match(/FBAN\/FBIOS/)||window.navigator.standalone)),e=!e),e&&!Cg().match(/PhantomJS/)},Tg.prototype.Fc=function(){return"popup"},Ug.prototype.open=function(e,t,n){function r(){n&&(n(Sg("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(Hg(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var e;if(200<=o.status&&300>o.status){try{e=Rb(o.responseText)}catch(t){}n(null,e)}else n(500<=o.status&&600>o.status?Sg("SERVER_ERROR"):Sg("NETWORK_ERROR"));n=null,Ig(window,"beforeunload",r)}},"GET"===a)e+=(/\?/.test(e)?"":"?")+Ib(t),i=null;else{var s=this.options.headers.content_type;"application/json"===s&&(i=G(t)),"application/x-www-form-urlencoded"===s&&(i=Ib(t))}o.open(a,e,!0),e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},ya(e,this.options.headers);for(var u in e)o.setRequestHeader(u,e[u]);o.send(i)},Ug.isAvailable=function(){var e;return(e=!!window.XMLHttpRequest)&&(e=Cg(),e=!(e.match(/MSIE/)||e.match(/Trident/))||Fg(10)),e},Ug.prototype.Fc=function(){return"json"},Vg.prototype.open=function(e,t,n){function i(){n&&(n(Sg("USER_CANCELLED")),n=null)}var o,a=this,s=sd(xg);t.requestId=this.tc,t.redirectTo=s.scheme+"://"+s.host+"/blank/page.html",e+=/\?/.test(e)?"":"?",e+=Ib(t),(o=window.open(e,"_blank","location=no"))&&r(o.addEventListener)?(o.addEventListener("loadstart",function(e){var t;if(t=e&&e.url)e:{try{var r=document.createElement("a");r.href=e.url,t=r.host===s.host&&"/blank/page.html"===r.pathname;break e}catch(u){}t=!1}t&&(e=Kg(e.url),o.removeEventListener("exit",i),o.close(),e=new yg(null,null,{requestId:a.tc,requestKey:e}),a.Kf.requestWithCredential("/auth/session",e,n),n=null)}),o.addEventListener("exit",i)):n(Sg("TRANSPORT_UNAVAILABLE"))},Vg.isAvailable=function(){return Dg()},Vg.prototype.Fc=function(){return"redirect"},Wg.prototype.open=function(e,t,n){function r(){n&&(n(Sg("REQUEST_INTERRUPTED")),n=null)}function i(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,va(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var e=document.getElementById(o);e&&e.parentNode.removeChild(e)}catch(t){}},1),Ig(window,"beforeunload",r)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());t[this.options.callback_parameter]="__firebase_auth_jsonp."+o,e+=(/\?/.test(e)?"":"?")+Ib(t),Hg(window,"beforeunload",r),window.__firebase_auth_jsonp[o]=function(e){n&&(n(null,e),n=null),i()},Xg(o,e,n)},Wg.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Wg.prototype.Fc=function(){return"json"},ka(Yg,ff),h=Yg.prototype,h.Be=function(){return this.qb||null},h.ve=function(e,t){gh(this);var n=Ag(e);n.fb._method="POST",this.uc("/users",n,function(e,n){e?T(t,e):T(t,e,n)})},h.Xe=function(e,t){var n=this;gh(this);var r="/users/"+encodeURIComponent(e.email),i=Ag(e);i.fb._method="DELETE",this.uc(r,i,function(e,r){!e&&r&&r.uid&&n.qb&&n.qb.uid&&n.qb.uid===r.uid&&eh(n),T(t,e)})},h.se=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=Ag(e);r.fb._method="PUT",r.fb.password=e.newPassword,this.uc(n,r,function(e){T(t,e)})},h.re=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.oldEmail)+"/email",r=Ag(e);r.fb._method="PUT",r.fb.email=e.newEmail,r.fb.password=e.password,this.uc(n,r,function(e){T(t,e)})},h.Ze=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=Ag(e);r.fb._method="POST",this.uc(n,r,function(e){T(t,e)})},h.uc=function(e,t,n){jh(this,[Ug,Wg],e,t,n)},h.Ee=function(e){return O("auth_status"===e,'initial event must be of type "auth_status"'),this.We?null:[this.qb]};var gd="websocket",hd="long_polling",oh,ph;nh.prototype.open=function(e,t){this.mf=0,this.na=t,this.Ef=new kh(e),this.Db=!1;var n=this;this.ub=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.ub=null},Math.floor(3e4)),ud(function(){if(!n.Db){n.Wa=new qh(function(e,t,r,i,o){if(rh(n,arguments),n.Wa)if(n.ub&&(clearTimeout(n.ub),n.ub=null),n.Kc=!0,"start"==e)n.id=t,n.Mf=r;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(n.Wa.$d=!1,lh(n.Ef,t,function(){n.bb()})):n.bb()}},function(e,t){rh(n,arguments),mh(n.Ef,e,t)},function(){n.bb()},n.ld);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.Wa.ke&&(e.cb=n.Wa.ke),e.v="5",n.Xf&&(e.s=n.Xf),n.Fb&&(e.ls=n.Fb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=n.ld(e),n.f("Connecting via long-poll to "+e),sh(n.Wa,e,function(){})}})},nh.prototype.start=function(){var e=this.Wa,t=this.Mf;for(e.Gg=this.id,e.Hg=t,e.oe=!0;th(e););e=this.id,t=this.Mf,this.kc=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.kc.src=this.ld(n),this.kc.style.display="none",document.body.appendChild(this.kc)},nh.isAvailable=function(){return oh||!ph&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.kh)&&!0},h=nh.prototype,h.Hd=function(){},h.fd=function(){this.Db=!0,this.Wa&&(this.Wa.close(),this.Wa=null),this.kc&&(document.body.removeChild(this.kc),this.kc=null),this.ub&&(clearTimeout(this.ub),this.ub=null)},h.bb=function(){this.Db||(this.f("Longpoll is closing itself"),this.fd(),this.na&&(this.na(this.Kc),this.na=null))},h.close=function(){this.Db||(this.f("Longpoll is being closed."),this.fd())},h.send=function(e){e=G(e),this.sb+=e.length,rc(this.Xa,"bytes_sent",e.length),e=Ob(e),e=nb(e,!0),e=yd(e,1840);for(var t=0;t<e.length;t++){var n=this.Wa;n.cd.push({Yg:this.mf,hh:e.length,of:e[t]}),n.oe&&th(n),this.mf++}},qh.prototype.close=function(){if(this.oe=!1,this.Ga){this.Ga.jb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ga&&(document.body.removeChild(e.Ga),e.Ga=null)},Math.floor(0))}var t=this.lb;t&&(this.lb=null,t())};var vh=null;"undefined"!=typeof MozWebSocket?vh=MozWebSocket:"undefined"!=typeof WebSocket&&(vh=WebSocket);var xh;wh.prototype.open=function(e,t){this.lb=t,this.Lg=e,this.f("Websocket connecting to "+this.jf),this.Kc=!1,bd.set("previous_websocket_failure",!0);try{this.La=new vh(this.jf)}catch(n){this.f("Error instantiating WebSocket.");var r=n.message||n.data;return r&&this.f(r),void this.bb()}var i=this;this.La.onopen=function(){i.f("Websocket connected."),i.Kc=!0},this.La.onclose=function(){i.f("Websocket connection was disconnected."),i.La=null,i.bb()},this.La.onmessage=function(e){if(null!==i.La)if(e=e.data,i.rb+=e.length,rc(i.Xa,"bytes_received",e.length),yh(i),null!==i.frames)zh(i,e);else{e:{if(O(null===i.frames,"We already have a frame buffer"),6>=e.length){var t=Number(e);if(!isNaN(t)){i.ff=t,i.frames=[],e=null;break e}}i.ff=1,i.frames=[]}null!==e&&zh(i,e)}},this.La.onerror=function(e){i.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&i.f(e),i.bb()}},wh.prototype.start=function(){},wh.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==vh&&!xh},wh.responsesRequiredToBeHealthy=2,wh.healthyTimeout=3e4,h=wh.prototype,h.Hd=function(){bd.remove("previous_websocket_failure")},h.send=function(e){yh(this),e=G(e),this.sb+=e.length,rc(this.Xa,"bytes_sent",e.length),e=yd(e,16384),1<e.length&&Ah(this,String(e.length));for(var t=0;t<e.length;t++)Ah(this,e[t])},h.fd=function(){this.Db=!0,this.Nc&&(clearInterval(this.Nc),this.Nc=null),this.La&&(this.La.close(),this.La=null)},h.bb=function(){this.Db||(this.f("WebSocket is closing itself"),this.fd(),this.lb&&(this.lb(this.Kc),this.lb=null))},h.close=function(){this.Db||(this.f("WebSocket is being closed"),this.fd())};var Dh=[nh,wh];Fh.prototype.Ia=function(e){Qh(this,{t:"d",d:e})},Fh.prototype.Ld=function(e){Nh(this),this.nc(e)},Fh.prototype.close=function(){2!==this.N&&(this.f("Closing realtime connection."),this.N=2,Mh(this),this.na&&(this.na(),this.na=null))};var Sh=0,Uh=0;h=Rh.prototype,h.Ia=function(e,t,n){var r=++this.Xg;e={r:r,a:e,b:t},this.f(G(e)),O(this.qa,"sendRequest call when we're not connected not allowed."),this.Ma.Ia(e),n&&(this.Wd[r]=n)},h.Cf=function(e,t,n,r){var i=e.wa(),o=e.path.toString();this.f("Listen called for "+o+" "+i),this.ba[o]=this.ba[o]||{},O(Ie(e.n)||!He(e.n),"listen() called for non-default but complete query"),O(!this.ba[o][i],"listen() called twice for same path/queryId."),e={I:r,Ad:t,Ug:e,tag:n},this.ba[o][i]=e,this.qa&&Vh(this,e)},h.O=function(e,t,n){this.Ca={rg:e,sf:!1,Dc:t,od:n},this.f("Authenticating using credential: "+e),Xh(this),(t=40==e.length)||(e=Cd(e).Ec,t="object"==typeof e&&!0===z(e,"admin")),t&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Id=3e4)},h.je=function(e){this.Ca=null,this.qa&&this.Ia("unauth",{},function(t){e(t.s,t.d)})},h.$f=function(e,t){var n=e.path.toString(),r=e.wa();if(this.f("Unlisten called for "+n+" "+r),O(Ie(e.n)||!He(e.n),"unlisten() called for non-default but complete query"),Wh(this,n,r)&&this.qa){var i=Ge(e.n);this.f("Unlisten on "+n+" for "+r),n={p:n},t&&(n.q=i,n.t=t),this.Ia("n",n)}},h.Qe=function(e,t,n){this.qa?Yh(this,"o",e,t,n):this.Yc.push({bd:e,action:"o",data:t,I:n})},h.Gf=function(e,t,n){this.qa?Yh(this,"om",e,t,n):this.Yc.push({bd:e,action:"om",data:t,I:n})},h.Md=function(e,t){this.qa?Yh(this,"oc",e,null,t):this.Yc.push({bd:e,action:"oc",data:null,I:t})},h.put=function(e,t,n,r){Zh(this,"p",e,t,n,r)},h.Df=function(e,t,n,r){Zh(this,"m",e,t,n,r)},h.Ye=function(e){this.qa&&(e={c:e},this.f("reportStats",e),this.Ia("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},h.Ld=function(e){if("r"in e){this.f("from server: "+G(e));var t=e.r,n=this.Wd[t];n&&(delete this.Wd[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,n=e.b,this.f("handleServerMessage",t,n),"d"===t?this.Kb(n.p,n.d,!1,n.t):"m"===t?this.Kb(n.p,n.d,!0,n.t):"c"===t?ai(this,n.p,n.q):"ac"===t?(e=n.s,t=n.d,n=this.Ca,this.Ca=null,n&&n.od&&n.od(e,t)):"sd"===t?this.$e?this.$e(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):qd("Unrecognized action received from server: "+G(t)+"\nAre you using the latest client?"))}},h.Zc=function(e,t){if(this.f("connection ready"),this.qa=!0,this.Oc=(new Date).getTime(),this.Se({serverTimeOffset:e-(new Date).getTime()}),this.Fb=t,this.rf){var n={};n["sdk.js."+Eb.replace(/\./g,"-")]=1,Dg()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.Ye(n)}bi(this),this.rf=!1,this.Xc(!0)},h.Og=function(e){e&&!this.Sb&&this.eb===this.Id&&(this.f("Window became visible.  Reducing delay."),this.eb=1e3,this.Ma||Th(this,0)),this.Sb=e},h.Mg=function(e){e?(this.f("Browser went online."),this.eb=1e3,this.Ma||Th(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close())},h.If=function(){this.f("data client disconnected"),this.qa=!1,this.Ma=null;for(var e=0;e<this.sa.length;e++){var t=this.sa[e];t&&"h"in t.Pf&&t.Vg&&(t.I&&t.I("disconnect"),delete this.sa[e],this.ad--)}0===this.ad&&(this.sa=[]),this.Wd={},di(this)&&(this.Sb?this.Oc&&(3e4<(new Date).getTime()-this.Oc&&(this.eb=1e3),this.Oc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.eb=this.Id,this.Ke=(new Date).getTime()),e=Math.max(0,this.eb-((new Date).getTime()-this.Ke)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),Th(this,e),this.eb=Math.min(this.Id,1.3*this.eb)),this.Xc(!1)},h.Cb=function(){this.Ie=!0,this.Ma?this.Ma.close():(this.wb&&(clearTimeout(this.wb),this.wb=null),this.qa&&this.If())},h.vc=function(){this.Ie=!1,this.eb=1e3,this.Ma||Th(this,0)};var U={zg:function(){oh=xh=!0}};U.forceLongPolling=U.zg,U.Ag=function(){ph=!0},U.forceWebSockets=U.Ag,U.Eg=function(){return wh.isAvailable()},U.isWebSocketsAvailable=U.Eg,U.ah=function(e,t){e.k.Va.$e=t},U.setSecurityDebugCallback=U.ah,U.bf=function(e,t){e.k.bf(t)},U.stats=U.bf,U.cf=function(e,t){e.k.cf(t)},U.statsIncrementCounter=U.cf,U.ud=function(e){return e.k.ud},U.dataUpdateCount=U.ud,U.Dg=function(e,t){e.k.He=t},U.interceptServerData=U.Dg,U.Kg=function(e){new Og(e)},U.onPopupOpen=U.Kg,U.Zg=function(e){xg=e},U.setAuthenticationServer=U.Zg,V.prototype.cancel=function(e){D("Firebase.onDisconnect().cancel",0,1,arguments.length),F("Firebase.onDisconnect().cancel",1,e,!0);var t=new B;return this.dd.Md(this.ta,C(t,e)),t.D},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(e){D("Firebase.onDisconnect().remove",0,1,arguments.length),og("Firebase.onDisconnect().remove",this.ta),F("Firebase.onDisconnect().remove",1,e,!0);var t=new B;return fi(this.dd,this.ta,null,C(t,e)),t.D},V.prototype.remove=V.prototype.remove,V.prototype.set=function(e,t){D("Firebase.onDisconnect().set",1,2,arguments.length),og("Firebase.onDisconnect().set",this.ta),gg("Firebase.onDisconnect().set",e,this.ta,!1),F("Firebase.onDisconnect().set",2,t,!0);var n=new B;return fi(this.dd,this.ta,e,C(n,t)),n.D},V.prototype.set=V.prototype.set,V.prototype.Ob=function(e,t,n){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),og("Firebase.onDisconnect().setWithPriority",this.ta),gg("Firebase.onDisconnect().setWithPriority",e,this.ta,!1),kg("Firebase.onDisconnect().setWithPriority",2,t),F("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new B;return gi(this.dd,this.ta,e,t,C(r,n)),r.D},V.prototype.setWithPriority=V.prototype.Ob,V.prototype.update=function(e,t){if(D("Firebase.onDisconnect().update",1,2,arguments.length),og("Firebase.onDisconnect().update",this.ta),da(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.onDisconnect().update",e,this.ta),F("Firebase.onDisconnect().update",2,t,!0),n=new B,hi(this.dd,this.ta,e,C(n,t)),n.D},V.prototype.update=V.prototype.update,W.prototype.J=function(){return D("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.J()},W.prototype.val=W.prototype.J,W.prototype.qf=function(){return D("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.J(!0)},W.prototype.exportVal=W.prototype.qf,W.prototype.xg=function(){return D("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.xg,W.prototype.o=function(e){D("Firebase.DataSnapshot.child",0,1,arguments.length),fa(e)&&(e=String(e)),ng("Firebase.DataSnapshot.child",e);var t=new P(e),n=this.Y.o(t);return new W(this.A.S(t),n,R)},W.prototype.child=W.prototype.o,W.prototype.Fa=function(e){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ng("Firebase.DataSnapshot.hasChild",e);var t=new P(e);return!this.A.S(t).e()},W.prototype.hasChild=W.prototype.Fa,W.prototype.C=function(){return D("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().J()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(e){if(D("Firebase.DataSnapshot.forEach",1,1,arguments.length),F("Firebase.DataSnapshot.forEach",1,e,!1),this.A.L())return!1;var t=this;return!!this.A.R(this.g,function(n,r){return e(new W(r,t.Y.o(n),R))})},W.prototype.forEach=W.prototype.forEach,W.prototype.zd=function(){return D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.A.L()?!1:!this.A.e()},W.prototype.hasChildren=W.prototype.zd,W.prototype.name=function(){return S("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),D("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},W.prototype.name=W.prototype.name,W.prototype.key=function(){return D("Firebase.DataSnapshot.key",0,0,arguments.length),this.Y.key()},W.prototype.key=W.prototype.key,W.prototype.Hb=function(){return D("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Hb()},W.prototype.numChildren=W.prototype.Hb,W.prototype.Mb=function(){return D("Firebase.DataSnapshot.ref",0,0,arguments.length),this.Y},W.prototype.ref=W.prototype.Mb,h=ii.prototype,h.Qf=function(e){return"value"===e},h.createEvent=function(e,t){var n=t.n.g;return new jc("value",this,new W(e.Na,t.Mb(),n))},h.Zb=function(e){var t=this.vb;if("cancel"===e.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(t,e.error)}}var r=this.Vb;return function(){r.call(t,e.be)}},h.lf=function(e,t){return this.tb?new kc(this,e,t):null},h.matches=function(e){return e instanceof ii?e.Vb&&this.Vb?e.Vb===this.Vb&&e.vb===this.vb:!0:!1},h.yf=function(){return null!==this.Vb},h=ji.prototype,h.Qf=function(e){return e="children_added"===e?"child_added":e,("children_removed"===e?"child_removed":e)in this.ja},h.lf=function(e,t){return this.tb?new kc(this,e,t):null},h.createEvent=function(e,t){O(null!=e.Za,"Child events should have a childName.");var n=t.Mb().o(e.Za);return new jc(e.type,this,new W(e.Na,n,t.n.g),e.Td)},h.Zb=function(e){var t=this.vb;if("cancel"===e.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(t,e.error)}}var r=this.ja[e.wd];return function(){r.call(t,e.be,e.Td)}},h.matches=function(e){if(e instanceof ji){if(!this.ja||!e.ja)return!0;if(this.vb===e.vb){var t=oa(e.ja);if(t===oa(this.ja)){if(1===t){var t=pa(e.ja),n=pa(this.ja);return!(n!==t||e.ja[t]&&this.ja[n]&&e.ja[t]!==this.ja[n])}return na(this.ja,function(t,n){return e.ja[n]===t})}}}return!1},h.yf=function(){return null!==this.ja},h=ki.prototype,h.e=function(){return va(this.za)},h.gb=function(e,t,n){var r=e.source.Lb;if(null!==r)return r=z(this.za,r),O(null!=r,"SyncTree gave us an op for an invalid query."),r.gb(e,t,n);var i=[];return v(this.za,function(r){i=i.concat(r.gb(e,t,n))}),i},h.Tb=function(e,t,n,r,i){var o=e.wa(),a=z(this.za,o);if(!a){var a=n.Aa(i?r:null),s=!1;a?s=!0:(a=r instanceof fe?n.Cc(r):H,s=!1),a=new Ye(e,new je(new Xb(a,s,!1),new Xb(r,i,!1))),this.za[o]=a}return a.Tb(t),af(a,t)},h.nb=function(e,t,n){var r=e.wa(),i=[],o=[],a=null!=li(this);if("default"===r){var s=this;v(this.za,function(e,r){o=o.concat(e.nb(t,n)),e.e()&&(delete s.za[r],He(e.Y.n)||i.push(e.Y))})}else{var u=z(this.za,r);u&&(o=o.concat(u.nb(t,n)),u.e()&&(delete this.za[r],He(u.Y.n)||i.push(u.Y)))}return a&&null==li(this)&&i.push(new X(e.k,e.path)),{Wg:i,vg:o}},h.kb=function(e){var t=null;return v(this.za,function(n){t=t||n.kb(e)}),t},oi.prototype.Tb=function(e,t){var n=e.path,r=null,i=!1;zf(this.va,n,function(e,t){var o=lf(e,n);r=r||t.kb(o),i=i||null!=li(t)});var o=this.va.get(n);o?(i=i||null!=li(o),r=r||o.kb(M)):(o=new ki,this.va=this.va.set(n,o));var a;null!=r?a=!0:(a=!1,r=H,Cf(this.va.subtree(n),function(e,t){var n=t.kb(M);n&&(r=r.W(e,n))}));var s=null!=ni(o,e);if(!s&&!He(e.n)){var u=zi(e);O(!(u in this.qc),"View does not exist, but we have a tag");var l=Ai++;this.qc[u]=l,this.df["_"+l]=u}return a=o.Tb(e,t,new Uf(n,this.mb),r,a),s||i||(o=ni(o,e),a=a.concat(Bi(this,e,o))),a},oi.prototype.nb=function(e,t,n){var r=e.path,i=this.va.get(r),o=[];if(i&&("default"===e.wa()||null!=ni(i,e))){o=i.nb(e,t,n),i.e()&&(this.va=this.va.remove(r)),i=o.Wg,o=o.vg,t=-1!==Sa(i,function(e){return He(e.n)});var a=xf(this.va,r,function(e,t){return null!=li(t)});if(t&&!a&&(r=this.va.subtree(r),!r.e()))for(var r=Ci(r),s=0;s<r.length;++s){var u=r[s],l=u.Y,u=Di(this,u);this.Qc.af(Ei(l),Fi(this,l),u.Ad,u.I)}if(!a&&0<i.length&&!n)if(t)this.Qc.de(Ei(e),null);else{var c=this;Ma(i,function(e){e.wa();var t=c.qc[zi(e)];c.Qc.de(Ei(e),t)})}Gi(this,i)}return o},oi.prototype.Aa=function(e,t){var n=this.mb,r=xf(this.va,e,function(t,n){var r=lf(t,e);return(r=n.kb(r))?r:void 0});return n.Aa(e,r,t,!0)};var Ai=1;h=Ji.prototype,h.toString=function(){return(this.G.ob?"https://":"http://")+this.G.host},h.name=function(){return this.G.lc},h.Kb=function(e,t,n,r){this.ud++;var i=new P(e);t=this.He?this.He(e,t):t,e=[],r?n?(t=ma(t,function(e){return Q(e)}),e=yi(this.M,i,t,r)):(t=Q(t),e=ui(this.M,i,t,r)):n?(r=ma(t,function(e){return Q(e)}),e=ti(this.M,i,r)):(r=Q(t),e=qi(this.M,new Ac(Gf,i,r))),r=i,0<e.length&&(r=Ni(this,i)),dc(this.fa,r,e)},h.Xc=function(e){Ki(this,"connected",e),!1===e&&Oi(this)},h.Se=function(e){var t=this;zd(e,function(e,n){Ki(t,n,e)})},h.Pe=function(e){Ki(this,"authenticated",e)},h.Ob=function(e,t,n,r){this.f("set",{path:e.toString(),value:t,nh:n});var i=Mi(this);t=Q(t,n);var i=Xc(t,i),o=this.Kd++,i=pi(this.M,e,i,o,!0);$b(this.fa,i);var a=this;this.da.put(e.toString(),t.J(!0),function(t,n){var i="ok"===t;i||S("set at "+e+" failed: "+t),i=si(a.M,o,!i),dc(a.fa,e,i),Pi(r,t,n)}),i=Qi(this,e),Ni(this,i),dc(this.fa,i,[])},h.update=function(e,t,n){this.f("update",{path:e.toString(),value:t});var r=!0,i=Mi(this),o={};if(v(t,function(e,t){r=!1;var n=Q(e);o[t]=Xc(n,i)}),r)fc("update() called with empty data.  Don't do anything."),Pi(n,"ok");else{var a=this.Kd++,s=ri(this.M,e,o,a);$b(this.fa,s);var u=this;this.da.Df(e.toString(),t,function(t,r){var i="ok"===t;i||S("update at "+e+" failed: "+t);var i=si(u.M,a,!i),o=e;0<i.length&&(o=Ni(u,e)),dc(u.fa,o,i),Pi(n,t,r)}),t=Qi(this,e),Ni(this,t),dc(this.fa,e,[])}},h.Md=function(e,t){var n=this;this.da.Md(e.toString(),function(r,i){"ok"===r&&wg(n.na,e),Pi(t,r,i)})},h.Cb=function(){this.Va&&this.Va.Cb()},h.vc=function(){this.Va&&this.Va.vc()},h.bf=function(e){if("undefined"!=typeof console){e?(this.hd||(this.hd=new oc(this.Xa)),e=this.hd.get()):e=this.Xa.get();var t,n=Pa(ra(e),function(e,t){return Math.max(t.length,e)},0);for(t in e){for(var r=e[t],i=t.length;n+2>i;i++)t+=" ";console.log(t+r)}}},h.cf=function(e){rc(this.Xa,e),this.eh.Vf[e]=!0},h.f=function(e){var t="";this.Va&&(t=this.Va.id+":"),fc(t,arguments)},aj.prototype.Cb=function(){for(var e in this.sc)this.sc[e].Cb()},aj.prototype.vc=function(){for(var e in this.sc)this.sc[e].vc()},aj.prototype.ze=function(){this.ag=!0},ba(aj),aj.prototype.interrupt=aj.prototype.Cb,aj.prototype.resume=aj.prototype.vc,h=Y.prototype,h.Mb=function(){return D("Query.ref",0,0,arguments.length),new X(this.k,this.path)},h.Ib=function(e,t,n,r){D("Query.on",2,4,arguments.length),lg("Query.on",e,!1),F("Query.on",2,t,!1);var i=ej("Query.on",n,r);if("value"===e)Ri(this.k,this,new ii(t,i.cancel||null,i.Qa||null));else{var o={};o[e]=t,Ri(this.k,this,new ji(o,i.cancel,i.Qa))}return t},h.mc=function(e,t,n){D("Query.off",0,3,arguments.length),lg("Query.off",e,!0),F("Query.off",2,t,!0),Qb("Query.off",3,n);var r=null,i=null;"value"===e?r=new ii(t||null,null,n||null):e&&(t&&(i={},i[e]=t),r=new ji(i,null,n||null)),i=this.k,r=".info"===K(this.path)?i.Fd.nb(this,r):i.M.nb(this,r),bc(i.fa,this.path,r)},h.Pg=function(e,t){function n(s){o&&(o=!1,i.mc(e,n),t&&t.call(r.Qa,s),a.resolve(s))}D("Query.once",1,4,arguments.length),lg("Query.once",e,!1),F("Query.once",2,t,!0);var r=ej("Query.once",arguments[2],arguments[3]),i=this,o=!0,a=new B;return Nb(a.D),this.Ib(e,n,function(t){i.mc(e,n),r.cancel&&r.cancel.call(r.Qa,t),a.reject(t)}),a.D},h.Le=function(e){if(S("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),D("Query.limit",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var t=this.n.Le(e);return cj(t),new Y(this.k,this.path,t,this.pc)},h.Me=function(e){if(D("Query.limitToFirst",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Me(e),this.pc)},h.Ne=function(e){if(D("Query.limitToLast",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ne(e),this.pc)},h.Qg=function(e){if(D("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ng("Query.orderByChild",e),dj(this,"Query.orderByChild");var t=new P(e);if(t.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new ve(t),t=Fe(this.n,t),bj(t),new Y(this.k,this.path,t,!0);
},h.Rg=function(){D("Query.orderByKey",0,0,arguments.length),dj(this,"Query.orderByKey");var e=Fe(this.n,re);return bj(e),new Y(this.k,this.path,e,!0)},h.Sg=function(){D("Query.orderByPriority",0,0,arguments.length),dj(this,"Query.orderByPriority");var e=Fe(this.n,R);return bj(e),new Y(this.k,this.path,e,!0)},h.Tg=function(){D("Query.orderByValue",0,0,arguments.length),dj(this,"Query.orderByValue");var e=Fe(this.n,Be);return bj(e),new Y(this.k,this.path,e,!0)},h.ce=function(e,t){D("Query.startAt",0,2,arguments.length),gg("Query.startAt",e,this.path,!0),mg("Query.startAt",t);var n=this.n.ce(e,t);if(cj(n),bj(n),this.n.oa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return p(e)||(t=e=null),new Y(this.k,this.path,n,this.pc)},h.vd=function(e,t){D("Query.endAt",0,2,arguments.length),gg("Query.endAt",e,this.path,!0),mg("Query.endAt",t);var n=this.n.vd(e,t);if(cj(n),bj(n),this.n.ra)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.pc)},h.tg=function(e,t){if(D("Query.equalTo",1,2,arguments.length),gg("Query.equalTo",e,this.path,!1),mg("Query.equalTo",t),this.n.oa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.ra)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ce(e,t).vd(e,t)},h.toString=function(){D("Query.toString",0,0,arguments.length);for(var e=this.path,t="",n=e.aa;n<e.u.length;n++)""!==e.u[n]&&(t+="/"+encodeURIComponent(String(e.u[n])));return this.k.toString()+(t||"/")},h.wa=function(){var e=xd(Ge(this.n));return"{}"===e?"default":e},Y.prototype.ref=Y.prototype.Mb,Y.prototype.on=Y.prototype.Ib,Y.prototype.off=Y.prototype.mc,Y.prototype.once=Y.prototype.Pg,Y.prototype.limit=Y.prototype.Le,Y.prototype.limitToFirst=Y.prototype.Me,Y.prototype.limitToLast=Y.prototype.Ne,Y.prototype.orderByChild=Y.prototype.Qg,Y.prototype.orderByKey=Y.prototype.Rg,Y.prototype.orderByPriority=Y.prototype.Sg,Y.prototype.orderByValue=Y.prototype.Tg,Y.prototype.startAt=Y.prototype.ce,Y.prototype.endAt=Y.prototype.vd,Y.prototype.equalTo=Y.prototype.tg,Y.prototype.toString=Y.prototype.toString;var Z={};Z.zc=Rh,Z.DataConnection=Z.zc,Rh.prototype.dh=function(e,t){this.Ia("q",{p:e},t)},Z.zc.prototype.simpleListen=Z.zc.prototype.dh,Rh.prototype.sg=function(e,t){this.Ia("echo",{d:e},t)},Z.zc.prototype.echo=Z.zc.prototype.sg,Rh.prototype.interrupt=Rh.prototype.Cb,Z.dg=Fh,Z.RealTimeConnection=Z.dg,Fh.prototype.sendRequest=Fh.prototype.Ia,Fh.prototype.close=Fh.prototype.close,Z.Cg=function(e){var t=Rh.prototype.put;return Rh.prototype.put=function(n,r,i,o){p(o)&&(o=e()),t.call(this,n,r,i,o)},function(){Rh.prototype.put=t}},Z.hijackHash=Z.Cg,Z.cg=dd,Z.ConnectionTarget=Z.cg,Z.wa=function(e){return e.wa()},Z.queryIdentifier=Z.wa,Z.Fg=function(e){return e.k.Va.ba},Z.listens=Z.Fg,Z.ze=function(e){e.ze()},Z.forceRestClient=Z.ze,ka(X,Y);var fj=X,gj=["Firebase"],hj=n;gj[0]in hj||!hj.execScript||hj.execScript("var "+gj[0]);for(var ij;gj.length&&(ij=gj.shift());)!gj.length&&p(fj)?hj[ij]=fj:hj=hj[ij]?hj[ij]:hj[ij]={};X.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length),aj.yb().Cb()},X.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length),aj.yb().vc()},X.enableLogging=od,X.ServerValue={TIMESTAMP:{".sv":"timestamp"}},X.SDK_VERSION=Eb,X.INTERNAL=U,X.Context=aj,X.TEST_ACCESS=Z,X.prototype.name=function(){return S("Firebase.name() being deprecated. Please use Firebase.key() instead."),D("Firebase.name",0,0,arguments.length),this.key()},X.prototype.name=X.prototype.name,X.prototype.key=function(){return D("Firebase.key",0,0,arguments.length),this.path.e()?null:me(this.path)},X.prototype.key=X.prototype.key,X.prototype.o=function(e){if(D("Firebase.child",1,1,arguments.length),fa(e))e=String(e);else if(!(e instanceof P))if(null===K(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ng("Firebase.child",t)}else ng("Firebase.child",e);return new X(this.k,this.path.o(e))},X.prototype.child=X.prototype.o,X.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new X(this.k,e)},X.prototype.parent=X.prototype.parent,X.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.parent();)e=e.parent();return e},X.prototype.root=X.prototype.root,X.prototype.set=function(e,t){D("Firebase.set",1,2,arguments.length),og("Firebase.set",this.path),gg("Firebase.set",e,this.path,!1),F("Firebase.set",2,t,!0);var n=new B;return this.k.Ob(this.path,e,null,C(n,t)),n.D},X.prototype.set=X.prototype.set,X.prototype.update=function(e,t){if(D("Firebase.update",1,2,arguments.length),og("Firebase.update",this.path),da(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.update",e,this.path),F("Firebase.update",2,t,!0),n=new B,this.k.update(this.path,e,C(n,t)),n.D},X.prototype.update=X.prototype.update,X.prototype.Ob=function(e,t,n){if(D("Firebase.setWithPriority",2,3,arguments.length),og("Firebase.setWithPriority",this.path),gg("Firebase.setWithPriority",e,this.path,!1),kg("Firebase.setWithPriority",2,t),F("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var r=new B;return this.k.Ob(this.path,e,t,C(r,n)),r.D},X.prototype.setWithPriority=X.prototype.Ob,X.prototype.remove=function(e){return D("Firebase.remove",0,1,arguments.length),og("Firebase.remove",this.path),F("Firebase.remove",1,e,!0),this.set(null,e)},X.prototype.remove=X.prototype.remove,X.prototype.transaction=function(e,t,n){if(D("Firebase.transaction",1,3,arguments.length),og("Firebase.transaction",this.path),F("Firebase.transaction",1,e,!1),F("Firebase.transaction",2,t,!0),p(n)&&"boolean"!=typeof n)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof n&&(n=!0);var i=new B;return r(t)&&Nb(i.D),Si(this.k,this.path,e,function(e,n,o){e?i.reject(e):i.resolve(new ei(n,o)),r(t)&&t(e,n,o)},n),i.D},X.prototype.transaction=X.prototype.transaction,X.prototype.$g=function(e,t){D("Firebase.setPriority",1,2,arguments.length),og("Firebase.setPriority",this.path),kg("Firebase.setPriority",1,e),F("Firebase.setPriority",2,t,!0);var n=new B;return this.k.Ob(this.path.o(".priority"),e,null,C(n,t)),n.D},X.prototype.setPriority=X.prototype.$g,X.prototype.push=function(e,t){D("Firebase.push",0,2,arguments.length),og("Firebase.push",this.path),gg("Firebase.push",e,this.path,!0),F("Firebase.push",2,t,!0);var n=Li(this.k),i=hf(n),n=this.o(i);if(null!=e){var o=this,a=n.set(e,t).then(function(){return o.o(i)});n.then=u(a.then,a),n["catch"]=u(a.then,a,void 0),r(t)&&Nb(a)}return n},X.prototype.push=X.prototype.push,X.prototype.lb=function(){return og("Firebase.onDisconnect",this.path),new V(this.k,this.path)},X.prototype.onDisconnect=X.prototype.lb,X.prototype.O=function(e,t,n){S("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),D("Firebase.auth",1,3,arguments.length),pg("Firebase.auth",e),F("Firebase.auth",2,t,!0),F("Firebase.auth",3,t,!0);var r=new B;return dh(this.k.O,e,{},{remember:"none"},C(r,t),n),r.D},X.prototype.auth=X.prototype.O,X.prototype.je=function(e){D("Firebase.unauth",0,1,arguments.length),F("Firebase.unauth",1,e,!0);var t=new B;return eh(this.k.O,C(t,e)),t.D},X.prototype.unauth=X.prototype.je,X.prototype.Be=function(){return D("Firebase.getAuth",0,0,arguments.length),this.k.O.Be()},X.prototype.getAuth=X.prototype.Be,X.prototype.Jg=function(e,t){D("Firebase.onAuth",1,2,arguments.length),F("Firebase.onAuth",1,e,!1),Qb("Firebase.onAuth",2,t),this.k.O.Ib("auth_status",e,t)},X.prototype.onAuth=X.prototype.Jg,X.prototype.Ig=function(e,t){D("Firebase.offAuth",1,2,arguments.length),F("Firebase.offAuth",1,e,!1),Qb("Firebase.offAuth",2,t),this.k.O.mc("auth_status",e,t)},X.prototype.offAuth=X.prototype.Ig,X.prototype.hg=function(e,t,n){D("Firebase.authWithCustomToken",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),pg("Firebase.authWithCustomToken",e),F("Firebase.authWithCustomToken",2,t,!0),sg("Firebase.authWithCustomToken",3,n,!0);var r=new B;return dh(this.k.O,e,{},n||{},C(r,t)),r.D},X.prototype.authWithCustomToken=X.prototype.hg,X.prototype.ig=function(e,t,n){D("Firebase.authWithOAuthPopup",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),rg("Firebase.authWithOAuthPopup",e),F("Firebase.authWithOAuthPopup",2,t,!0),sg("Firebase.authWithOAuthPopup",3,n,!0);var r=new B;return ih(this.k.O,e,n,C(r,t)),r.D},X.prototype.authWithOAuthPopup=X.prototype.ig,X.prototype.jg=function(e,t,n){D("Firebase.authWithOAuthRedirect",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),rg("Firebase.authWithOAuthRedirect",e),F("Firebase.authWithOAuthRedirect",2,t,!1),sg("Firebase.authWithOAuthRedirect",3,n,!0);var r=new B,i=this.k.O,o=n,a=C(r,t);gh(i);var s=[Qg],o=Ag(o);return"anonymous"===e||"firebase"===e?T(a,Sg("TRANSPORT_UNAVAILABLE")):(cd.set("redirect_client_options",o.qd),hh(i,s,"/auth/"+e,o,a)),r.D},X.prototype.authWithOAuthRedirect=X.prototype.jg,X.prototype.kg=function(e,t,n,r){D("Firebase.authWithOAuthToken",2,4,arguments.length),3===arguments.length&&Hb(n)&&(r=n,n=void 0),rg("Firebase.authWithOAuthToken",e),F("Firebase.authWithOAuthToken",3,n,!0),sg("Firebase.authWithOAuthToken",4,r,!0);var i=new B;return q(t)?(qg("Firebase.authWithOAuthToken",2,t),fh(this.k.O,e+"/token",{access_token:t},r,C(i,n))):(sg("Firebase.authWithOAuthToken",2,t,!1),fh(this.k.O,e+"/token",t,r,C(i,n))),i.D},X.prototype.authWithOAuthToken=X.prototype.kg,X.prototype.gg=function(e,t){D("Firebase.authAnonymously",0,2,arguments.length),1===arguments.length&&Hb(e)&&(t=e,e=void 0),F("Firebase.authAnonymously",1,e,!0),sg("Firebase.authAnonymously",2,t,!0);var n=new B;return fh(this.k.O,"anonymous",{},t,C(n,e)),n.D},X.prototype.authAnonymously=X.prototype.gg,X.prototype.lg=function(e,t,n){D("Firebase.authWithPassword",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),sg("Firebase.authWithPassword",1,e,!1),tg("Firebase.authWithPassword",e,"email"),tg("Firebase.authWithPassword",e,"password"),F("Firebase.authWithPassword",2,t,!0),sg("Firebase.authWithPassword",3,n,!0);var r=new B;return fh(this.k.O,"password",e,n,C(r,t)),r.D},X.prototype.authWithPassword=X.prototype.lg,X.prototype.ve=function(e,t){D("Firebase.createUser",1,2,arguments.length),sg("Firebase.createUser",1,e,!1),tg("Firebase.createUser",e,"email"),tg("Firebase.createUser",e,"password"),F("Firebase.createUser",2,t,!0);var n=new B;return this.k.O.ve(e,C(n,t)),n.D},X.prototype.createUser=X.prototype.ve,X.prototype.Xe=function(e,t){D("Firebase.removeUser",1,2,arguments.length),sg("Firebase.removeUser",1,e,!1),tg("Firebase.removeUser",e,"email"),tg("Firebase.removeUser",e,"password"),F("Firebase.removeUser",2,t,!0);var n=new B;return this.k.O.Xe(e,C(n,t)),n.D},X.prototype.removeUser=X.prototype.Xe,X.prototype.se=function(e,t){D("Firebase.changePassword",1,2,arguments.length),sg("Firebase.changePassword",1,e,!1),tg("Firebase.changePassword",e,"email"),tg("Firebase.changePassword",e,"oldPassword"),tg("Firebase.changePassword",e,"newPassword"),F("Firebase.changePassword",2,t,!0);var n=new B;return this.k.O.se(e,C(n,t)),n.D},X.prototype.changePassword=X.prototype.se,X.prototype.re=function(e,t){D("Firebase.changeEmail",1,2,arguments.length),sg("Firebase.changeEmail",1,e,!1),tg("Firebase.changeEmail",e,"oldEmail"),tg("Firebase.changeEmail",e,"newEmail"),tg("Firebase.changeEmail",e,"password"),F("Firebase.changeEmail",2,t,!0);var n=new B;return this.k.O.re(e,C(n,t)),n.D},X.prototype.changeEmail=X.prototype.re,X.prototype.Ze=function(e,t){D("Firebase.resetPassword",1,2,arguments.length),sg("Firebase.resetPassword",1,e,!1),tg("Firebase.resetPassword",e,"email"),F("Firebase.resetPassword",2,t,!0);var n=new B;return this.k.O.Ze(e,C(n,t)),n.D},X.prototype.resetPassword=X.prototype.Ze}(),module.exports=Firebase},function(module,exports,__webpack_require__){(function(global){"use strict";var numeric=exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(e,t){var n,r,i,o;for("undefined"==typeof t&&(t=15),i=.5,n=new Date;;){for(i*=2,o=i;o>3;o-=4)e(),e(),e(),e();for(;o>0;)e(),o--;if(r=new Date,r-n>t)break}for(o=i;o>3;o-=4)e(),e(),e(),e();for(;o>0;)e(),o--;return r=new Date,1e3*(3*i-1)/(r-n)},numeric._myIndexOf=function(e){var t,n=this.length;for(t=0;n>t;++t)if(this[t]===e)return t;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(e){function t(e){if(0===e)return"0";if(isNaN(e))return"NaN";if(0>e)return"-"+t(-e);if(isFinite(e)){var n=Math.floor(Math.log(e)/Math.log(10)),r=e/Math.pow(10,n),i=r.toPrecision(numeric.precision);return 10===parseFloat(i)&&(n++,r=1,i=r.toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+n.toString()}return"Infinity"}function n(e){var i;if("undefined"==typeof e)return r.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof e)return r.push('"'+e+'"'),!1;if("boolean"==typeof e)return r.push(e.toString()),!1;if("number"==typeof e){var o=t(e),a=e.toPrecision(numeric.precision),s=parseFloat(e.toString()).toString(),u=[o,a,s,parseFloat(a).toString(),parseFloat(s).toString()];for(i=1;i<u.length;i++)u[i].length<o.length&&(o=u[i]);return r.push(Array(numeric.precision+8-o.length).join(" ")+o),!1}if(null===e)return r.push("null"),!1;if("function"==typeof e){r.push(e.toString());var l=!1;for(i in e)e.hasOwnProperty(i)&&(l?r.push(",\n"):r.push("\n{"),l=!0,r.push(i),r.push(": \n"),n(e[i]));return l&&r.push("}\n"),!0}if(e instanceof Array){if(e.length>numeric.largeArray)return r.push("...Large Array..."),!0;var l=!1;for(r.push("["),i=0;i<e.length;i++)i>0&&(r.push(","),l&&r.push("\n ")),l=n(e[i]);return r.push("]"),!0}r.push("{");var l=!1;for(i in e)e.hasOwnProperty(i)&&(l&&r.push(",\n"),l=!0,r.push(i),r.push(": \n"),n(e[i]));return r.push("}"),!0}var r=[];return n(e),r.join("")},numeric.parseDate=function(e){function t(e){if("string"==typeof e)return Date.parse(e.replace(/-/g,"/"));if(!(e instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var n,r=[];for(n=0;n<e.length;n++)r[n]=t(e[n]);return r}return t(e)},numeric.parseFloat=function(e){function t(e){if("string"==typeof e)return parseFloat(e);if(!(e instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var n,r=[];for(n=0;n<e.length;n++)r[n]=t(e[n]);return r}return t(e)},numeric.parseCSV=function(e){var t,n,r=e.split("\n"),i=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,a=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,s=function(e){return e.substr(0,e.length-1)},u=0;for(n=0;n<r.length;n++){var l,c=(r[n]+",").match(o);if(c.length>0){for(i[u]=[],t=0;t<c.length;t++)l=s(c[t]),a.test(l)?i[u][t]=parseFloat(l):i[u][t]=l;u++}}return i},numeric.toCSV=function(e){var t,n,r,i,o,a,s=numeric.dim(e);for(r=s[0],i=s[1],a=[],t=0;r>t;t++){for(o=[],n=0;r>n;n++)o[n]=e[t][n].toString();a[t]=o.join(", ")}return a.join("\n")+"\n"},numeric.getURL=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),t},numeric.imageURL=function(e){function t(e){var t,n,r,i,o,a,s,u,l=e.length,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="";for(t=0;l>t;t+=3)n=e[t],r=e[t+1],i=e[t+2],o=n>>2,a=((3&n)<<4)+(r>>4),s=((15&r)<<2)+(i>>6),u=63&i,t+1>=l?s=u=64:t+2>=l&&(u=64),f+=c.charAt(o)+c.charAt(a)+c.charAt(s)+c.charAt(u);return f}function n(e,t,n){"undefined"==typeof t&&(t=0),"undefined"==typeof n&&(n=e.length);var r,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1,a=0;e.length;for(r=t;n>r;r++)a=255&(o^e[r]),o=o>>>8^i[a];return-1^o}var r,i,o,a,s,u,l,c,f,h,p=e[0].length,d=e[0][0].length,m=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,d>>24&255,d>>16&255,d>>8&255,255&d,p>>24&255,p>>16&255,p>>8&255,255&p,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(h=n(m,12,29),m[29]=h>>24&255,m[30]=h>>16&255,m[31]=h>>8&255,m[32]=255&h,r=1,i=0,l=0;p>l;l++){for(p-1>l?m.push(0):m.push(1),s=3*d+1+(0===l)&255,u=3*d+1+(0===l)>>8&255,m.push(s),m.push(u),m.push(255&~s),m.push(255&~u),0===l&&m.push(0),c=0;d>c;c++)for(o=0;3>o;o++)s=e[o][l][c],s=s>255?255:0>s?0:Math.round(s),r=(r+s)%65521,i=(i+r)%65521,m.push(s);m.push(0)}return f=(i<<16)+r,m.push(f>>24&255),m.push(f>>16&255),m.push(f>>8&255),m.push(255&f),a=m.length-41,m[33]=a>>24&255,m[34]=a>>16&255,m[35]=a>>8&255,m[36]=255&a,h=n(m,37),m.push(h>>24&255),m.push(h>>16&255),m.push(h>>8&255),m.push(255&h),m.push(0),m.push(0),m.push(0),m.push(0),m.push(73),m.push(69),m.push(78),m.push(68),m.push(174),m.push(66),m.push(96),m.push(130),"data:image/png;base64,"+t(m)},numeric._dim=function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t},numeric.dim=function(e){var t,n;return"object"==typeof e?(t=e[0],"object"==typeof t?(n=t[0],"object"==typeof n?numeric._dim(e):[e.length,t.length]):[e.length]):[]},numeric.mapreduce=function(e,t){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+t+';\nif(typeof x === "number") { var xi = x; '+e+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+e+";\n    xi = x[i-1];\n    "+e+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+e+"\n}\nreturn accum;")},numeric.mapreduce2=function(e,t){return Function("x","var n = x.length;\nvar i,xi;\n"+t+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+e+";\n}\nreturn accum;")},numeric.same=function e(t,n){var r,i;if(!(t instanceof Array&&n instanceof Array))return!1;if(i=t.length,i!==n.length)return!1;for(r=0;i>r;r++)if(t[r]!==n[r]){if("object"!=typeof t[r])return!1;if(!e(t[r],n[r]))return!1}return!0},numeric.rep=function(e,t,n){"undefined"==typeof n&&(n=0);var r,i=e[n],o=Array(i);if(n===e.length-1){for(r=i-2;r>=0;r-=2)o[r+1]=t,o[r]=t;return-1===r&&(o[0]=t),o}for(r=i-1;r>=0;r--)o[r]=numeric.rep(e,t,n+1);return o},numeric.dotMMsmall=function(e,t){var n,r,i,o,a,s,u,l,c,f,h;for(o=e.length,a=t.length,s=t[0].length,u=Array(o),n=o-1;n>=0;n--){for(l=Array(s),c=e[n],i=s-1;i>=0;i--){for(f=c[a-1]*t[a-1][i],r=a-2;r>=1;r-=2)h=r-1,f+=c[r]*t[r][i]+c[h]*t[h][i];0===r&&(f+=c[0]*t[0][i]),l[i]=f}u[n]=l}return u},numeric._getCol=function(e,t,n){var r,i=e.length;for(r=i-1;r>0;--r)n[r]=e[r][t],--r,n[r]=e[r][t];0===r&&(n[0]=e[0][t])},numeric.dotMMbig=function(e,t){var n,r,i,o,a=numeric._getCol,s=t.length,u=Array(s),l=e.length,c=t[0].length,f=new Array(l),h=numeric.dotVV;for(--s,--l,r=l;-1!==r;--r)f[r]=Array(c);for(--c,r=c;-1!==r;--r)for(a(t,r,u),i=l;-1!==i;--i)o=0,n=e[i],f[i][r]=h(n,u);return f},numeric.dotMV=function(e,t){var n,r=e.length,i=(t.length,Array(r)),o=numeric.dotVV;for(n=r-1;n>=0;n--)i[n]=o(e[n],t);return i},numeric.dotVM=function(e,t){var n,r,i,o,a,s,u;for(i=e.length,o=t[0].length,a=Array(o),r=o-1;r>=0;r--){for(s=e[i-1]*t[i-1][r],n=i-2;n>=1;n-=2)u=n-1,s+=e[n]*t[n][r]+e[u]*t[u][r];0===n&&(s+=e[0]*t[0][r]),a[r]=s}return a},numeric.dotVV=function(e,t){var n,r,i=e.length,o=e[i-1]*t[i-1];for(n=i-2;n>=1;n-=2)r=n-1,o+=e[n]*t[n]+e[r]*t[r];return 0===n&&(o+=e[0]*t[0]),o},numeric.dot=function(e,t){var n=numeric.dim;switch(1e3*n(e).length+n(t).length){case 2002:return t.length<10?numeric.dotMMsmall(e,t):numeric.dotMMbig(e,t);case 2001:return numeric.dotMV(e,t);case 1002:return numeric.dotVM(e,t);case 1001:return numeric.dotVV(e,t);case 1e3:return numeric.mulVS(e,t);case 1:return numeric.mulSV(e,t);case 0:return e*t;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(e){var t,n,r,i,o=e.length,a=Array(o);for(t=o-1;t>=0;t--){for(i=Array(o),n=t+2,r=o-1;r>=n;r-=2)i[r]=0,i[r-1]=0;for(r>t&&(i[r]=0),i[t]=e[t],r=t-1;r>=1;r-=2)i[r]=0,i[r-1]=0;0===r&&(i[0]=0),a[t]=i}return a},numeric.getDiag=function(e){var t,n=Math.min(e.length,e[0].length),r=Array(n);for(t=n-1;t>=1;--t)r[t]=e[t][t],--t,r[t]=e[t][t];return 0===t&&(r[0]=e[0][0]),r},numeric.identity=function(e){return numeric.diag(numeric.rep([e],1))},numeric.pointwise=function(e,t,n){"undefined"==typeof n&&(n="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<e.length;r++)a.test(e[r])?(i=e[r].substring(0,e[r].length-3),s=i):i=e[r],"ret"===i&&(u=!0),o.push(i);return o[e.length]="_s",o[e.length+1]="_k",o[e.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(u?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+e.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+t+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(e,t,n){"undefined"==typeof n&&(n="");var r,i,o=[],a=/\[i\]$/,s="",u=!1;for(r=0;r<e.length;r++)a.test(e[r])?(i=e[r].substring(0,e[r].length-3),s=i):i=e[r],"ret"===i&&(u=!0),o.push(i);return o[e.length]="var _n = "+s+".length;\nvar i"+(u?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+t+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function t(e,n,r,i,o){if(i===r.length-1)return void o(e,n);var a,s=r[i];for(a=s-1;a>=0;a--)t("object"==typeof e?e[a]:e,"object"==typeof n?n[a]:n,r,i+1,o)},numeric._biforeach2=function n(e,t,r,i,o){if(i===r.length-1)return o(e,t);var a,s=r[i],u=Array(s);for(a=s-1;a>=0;--a)u[a]=n("object"==typeof e?e[a]:e,"object"==typeof t?t[a]:t,r,i+1,o);return u},numeric._foreach=function r(e,t,n,i){if(n===t.length-1)return void i(e);var o,a=t[n];for(o=a-1;o>=0;o--)r(e[o],t,n+1,i)},numeric._foreach2=function i(e,t,n,r){if(n===t.length-1)return r(e);var o,a=t[n],s=Array(a);for(o=a-1;o>=0;o--)s[o]=i(e[o],t,n+1,r);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var e,t;for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],numeric.ops2[t]=t;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){t=numeric.ops2[e];var n,r,i="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,e)?(i="var "+t+" = Math."+t+";\n",n=function(e,n,r){return e+" = "+t+"("+n+","+r+")"},r=function(e,n){return e+" = "+t+"("+e+","+n+")"}):(n=function(e,n,r){return e+" = "+n+" "+t+" "+r},r=numeric.opseq.hasOwnProperty(e+"eq")?function(e,n){return e+" "+t+"= "+n}:function(e,n){return e+" = "+e+" "+t+" "+n}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),i),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),i),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),i),numeric[e]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+r("x","y")+"\n}\nreturn x;\n"),numeric[t]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),i),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),i),numeric[e+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+e+"eqV, S = numeric."+e+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],delete numeric.ops2[t];for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],numeric.ops1[t]=t;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(i="",t=numeric.ops1[e],-1!==numeric.myIndexOf.call(numeric.mathfuns,e)&&Math.hasOwnProperty(t)&&(i="var "+t+" = Math."+t+";\n"),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",i),numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+t+"x\nvar i;\nvar V = numeric."+e+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",i),numeric[e]=Function("x",'if(typeof x !== "object") return '+t+"(x)\nvar i;\nvar V = numeric."+e+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],delete numeric.ops1[t];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(t=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(t[0],t[1]),numeric[e]=Function("x","s","k",t[1]+'if(typeof x !== "object") {    xi = x;\n'+t[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+e+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+t[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(e,t){return"object"==typeof e?"object"==typeof t?numeric.truncVV(e,t):numeric.truncVS(e,t):"object"==typeof t?numeric.truncSV(e,t):Math.round(e/t)*t},numeric.inv=function(e){var t,n,r,i,o,a,s,e,u=numeric.dim(e),l=Math.abs,c=u[0],f=u[1],h=numeric.clone(e),p=numeric.identity(c);for(a=0;f>a;++a){var d=-1,m=-1;for(o=a;o!==c;++o)s=l(h[o][a]),s>m&&(d=o,m=s);for(n=h[d],h[d]=h[a],h[a]=n,i=p[d],p[d]=p[a],p[a]=i,e=n[a],s=a;s!==f;++s)n[s]/=e;for(s=f-1;-1!==s;--s)i[s]/=e;for(o=c-1;-1!==o;--o)if(o!==a){for(t=h[o],r=p[o],e=t[a],s=a+1;s!==f;++s)t[s]-=n[s]*e;for(s=f-1;s>0;--s)r[s]-=i[s]*e,--s,r[s]-=i[s]*e;0===s&&(r[0]-=i[0]*e)}}return p},numeric.det=function(e){var t=numeric.dim(e);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: det() only works on square matrices");var n,r,i,o,a,s,u,l,c=t[0],f=1,h=numeric.clone(e);for(r=0;c-1>r;r++){for(i=r,n=r+1;c>n;n++)Math.abs(h[n][r])>Math.abs(h[i][r])&&(i=n);for(i!==r&&(u=h[i],h[i]=h[r],h[r]=u,f*=-1),o=h[r],n=r+1;c>n;n++){for(a=h[n],s=a[r]/o[r],i=r+1;c-1>i;i+=2)l=i+1,a[i]-=o[i]*s,a[l]-=o[l]*s;i!==c&&(a[i]-=o[i]*s)}if(0===o[r])return 0;f*=o[r]}return f*h[r][r]},numeric.transpose=function(e){var t,n,r,i,o,a=e.length,s=e[0].length,u=Array(s);for(n=0;s>n;n++)u[n]=Array(a);for(t=a-1;t>=1;t-=2){for(i=e[t],r=e[t-1],n=s-1;n>=1;--n)o=u[n],o[t]=i[n],o[t-1]=r[n],--n,o=u[n],o[t]=i[n],o[t-1]=r[n];0===n&&(o=u[0],o[t]=i[0],o[t-1]=r[0])}if(0===t){for(r=e[0],n=s-1;n>=1;--n)u[n][0]=r[n],--n,u[n][0]=r[n];0===n&&(u[0][0]=r[0])}return u},numeric.negtranspose=function(e){var t,n,r,i,o,a=e.length,s=e[0].length,u=Array(s);for(n=0;s>n;n++)u[n]=Array(a);for(t=a-1;t>=1;t-=2){for(i=e[t],r=e[t-1],n=s-1;n>=1;--n)o=u[n],o[t]=-i[n],o[t-1]=-r[n],--n,o=u[n],o[t]=-i[n],o[t-1]=-r[n];0===n&&(o=u[0],o[t]=-i[0],o[t-1]=-r[0])}if(0===t){for(r=e[0],n=s-1;n>=1;--n)u[n][0]=-r[n],--n,u[n][0]=-r[n];0===n&&(u[0][0]=-r[0])}return u},numeric._random=function o(e,t){var n,r,i=e[t],a=Array(i);if(t===e.length-1){for(r=Math.random,n=i-1;n>=1;n-=2)a[n]=r(),a[n-1]=r();return 0===n&&(a[0]=r()),a}for(n=i-1;n>=0;n--)a[n]=o(e,t+1);return a},numeric.random=function(e){return numeric._random(e,0)},numeric.norm2=function(e){return Math.sqrt(numeric.norm2Squared(e))},numeric.linspace=function(e,t,n){if("undefined"==typeof n&&(n=Math.max(Math.round(t-e)+1,1)),2>n)return 1===n?[e]:[];var r,i=Array(n);for(n--,r=n;r>=0;r--)i[r]=(r*t+(n-r)*e)/n;return i},numeric.getBlock=function(e,t,n){
function r(e,o){var a,s=t[o],u=n[o]-s,l=Array(u);if(o===i.length-1){for(a=u;a>=0;a--)l[a]=e[a+s];return l}for(a=u;a>=0;a--)l[a]=r(e[a+s],o+1);return l}var i=numeric.dim(e);return r(e,0)},numeric.setBlock=function(e,t,n,r){function i(e,r,a){var s,u=t[a],l=n[a]-u;if(a===o.length-1)for(s=l;s>=0;s--)e[s+u]=r[s];for(s=l;s>=0;s--)i(e[s+u],r[s],a+1)}var o=numeric.dim(e);return i(e,r,0),e},numeric.getRange=function(e,t,n){var r,i,o,a,s=t.length,u=n.length,l=Array(s);for(r=s-1;-1!==r;--r)for(l[r]=Array(u),o=l[r],a=e[t[r]],i=u-1;-1!==i;--i)o[i]=a[n[i]];return l},numeric.blockMatrix=function(e){var t=numeric.dim(e);if(t.length<4)return numeric.blockMatrix([e]);var n,r,i,o,a,s=t[0],u=t[1];for(n=0,r=0,i=0;s>i;++i)n+=e[i][0].length;for(o=0;u>o;++o)r+=e[0][o][0].length;var l=Array(n);for(i=0;n>i;++i)l[i]=Array(r);var c,f,h,p,d,m=0;for(i=0;s>i;++i){for(c=r,o=u-1;-1!==o;--o)for(a=e[i][o],c-=a[0].length,h=a.length-1;-1!==h;--h)for(d=a[h],f=l[m+h],p=d.length-1;-1!==p;--p)f[c+p]=d[p];m+=e[i][0].length}return l},numeric.tensor=function(e,t){if("number"==typeof e||"number"==typeof t)return numeric.mul(e,t);var n=numeric.dim(e),r=numeric.dim(t);if(1!==n.length||1!==r.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,a,s,u=n[0],l=r[0],c=Array(u);for(o=u-1;o>=0;o--){for(i=Array(l),s=e[o],a=l-1;a>=3;--a)i[a]=s*t[a],--a,i[a]=s*t[a],--a,i[a]=s*t[a],--a,i[a]=s*t[a];for(;a>=0;)i[a]=s*t[a],--a;c[o]=i}return c},numeric.T=function(e,t){this.x=e,this.y=t},numeric.t=function(e,t){return new numeric.T(e,t)},numeric.Tbinop=function(e,t,n,r,i){numeric.indexOf;if("string"!=typeof i){var o;i="";for(o in numeric)numeric.hasOwnProperty(o)&&(e.indexOf(o)>=0||t.indexOf(o)>=0||n.indexOf(o)>=0||r.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+r+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+t+");\n}\nreturn new numeric.T("+e+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var e=numeric.mul,t=numeric.div;if(this.y){var n=numeric.add(e(this.x,this.x),e(this.y,this.y));return new numeric.T(t(this.x,n),t(numeric.neg(this.y),n))}return new T(t(1,this.x))},numeric.T.prototype.div=function a(e){if(e instanceof numeric.T||(e=new numeric.T(e)),e.y)return this.mul(e.reciprocal());var a=numeric.div;return this.y?new numeric.T(a(this.x,e.x),a(this.y,e.x)):new numeric.T(a(this.x,e.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var e=numeric.transpose,t=this.x,n=this.y;return n?new numeric.T(e(t),e(n)):new numeric.T(e(t))},numeric.T.prototype.transjugate=function(){var e=numeric.transpose,t=this.x,n=this.y;return n?new numeric.T(e(t),numeric.negtranspose(n)):new numeric.T(e(t))},numeric.Tunop=function(e,t,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+t+";\n}\n"+e+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var e=this;if("undefined"==typeof e.y)return new numeric.T(numeric.inv(e.x));var t,n,r,i,o,a,s,u,l,c,f,t,n,r,h,p,d,m,v,g,y,b=e.x.length,w=numeric.identity(b),x=numeric.rep([b,b],0),C=numeric.clone(e.x),M=numeric.clone(e.y);for(t=0;b>t;t++){for(d=C[t][t],m=M[t][t],h=d*d+m*m,r=t,n=t+1;b>n;n++)d=C[n][t],m=M[n][t],p=d*d+m*m,p>h&&(r=n,h=p);for(r!==t&&(y=C[t],C[t]=C[r],C[r]=y,y=M[t],M[t]=M[r],M[r]=y,y=w[t],w[t]=w[r],w[r]=y,y=x[t],x[t]=x[r],x[r]=y),i=C[t],o=M[t],u=w[t],l=x[t],d=i[t],m=o[t],n=t+1;b>n;n++)v=i[n],g=o[n],i[n]=(v*d+g*m)/h,o[n]=(g*d-v*m)/h;for(n=0;b>n;n++)v=u[n],g=l[n],u[n]=(v*d+g*m)/h,l[n]=(g*d-v*m)/h;for(n=t+1;b>n;n++){for(a=C[n],s=M[n],c=w[n],f=x[n],d=a[t],m=s[t],r=t+1;b>r;r++)v=i[r],g=o[r],a[r]-=v*d-g*m,s[r]-=g*d+v*m;for(r=0;b>r;r++)v=u[r],g=l[r],c[r]-=v*d-g*m,f[r]-=g*d+v*m}}for(t=b-1;t>0;t--)for(u=w[t],l=x[t],n=t-1;n>=0;n--)for(c=w[n],f=x[n],d=C[n][t],m=M[n][t],r=b-1;r>=0;r--)v=u[r],g=l[r],c[r]-=d*v-m*g,f[r]-=d*g+m*v;return new numeric.T(w,x)},numeric.T.prototype.get=function(e){var t,n=this.x,r=this.y,i=0,o=e.length;if(r){for(;o>i;)t=e[i],n=n[t],r=r[t],i++;return new numeric.T(n,r)}for(;o>i;)t=e[i],n=n[t],i++;return new numeric.T(n)},numeric.T.prototype.set=function(e,t){var n,r=this.x,i=this.y,o=0,a=e.length,s=t.x,u=t.y;if(0===a)return u?this.y=u:i&&(this.y=void 0),this.x=r,this;if(u){for(i||(i=numeric.rep(numeric.dim(r),0),this.y=i);a-1>o;)n=e[o],r=r[n],i=i[n],o++;return n=e[o],r[n]=s,i[n]=u,this}if(i){for(;a-1>o;)n=e[o],r=r[n],i=i[n],o++;return n=e[o],r[n]=s,s instanceof Array?i[n]=numeric.rep(numeric.dim(s),0):i[n]=0,this}for(;a-1>o;)n=e[o],r=r[n],o++;return n=e[o],r[n]=s,this},numeric.T.prototype.getRows=function(e,t){var n,r,i=t-e+1,o=Array(i),a=this.x,s=this.y;for(n=e;t>=n;n++)o[n-e]=a[n];if(s){for(r=Array(i),n=e;t>=n;n++)r[n-e]=s[n];return new numeric.T(o,r)}return new numeric.T(o)},numeric.T.prototype.setRows=function(e,t,n){var r,i=this.x,o=this.y,a=n.x,s=n.y;for(r=e;t>=r;r++)i[r]=a[r-e];if(s)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),r=e;t>=r;r++)o[r]=s[r-e];else if(o)for(r=e;t>=r;r++)o[r]=numeric.rep([a[r-e].length],0);return this},numeric.T.prototype.getRow=function(e){var t=this.x,n=this.y;return n?new numeric.T(t[e],n[e]):new numeric.T(t[e])},numeric.T.prototype.setRow=function(e,t){var n=this.x,r=this.y,i=t.x,o=t.y;return n[e]=i,o?(r||(r=numeric.rep(numeric.dim(n),0),this.y=r),r[e]=o):r&&(r=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(e,t){var n=this.x,r=this.y,i=numeric.getBlock;return r?new numeric.T(i(n,e,t),i(r,e,t)):new numeric.T(i(n,e,t))},numeric.T.prototype.setBlock=function(e,t,n){n instanceof numeric.T||(n=new numeric.T(n));var r=this.x,i=this.y,o=numeric.setBlock,a=n.x,s=n.y;return s?(i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(r,e,t,a),o(i,e,t,s),this):(o(r,e,t,a),void(i&&o(i,e,t,numeric.rep(numeric.dim(a),0))))},numeric.T.rep=function(e,t){var n=numeric.T;t instanceof n||(t=new n(t));var r=t.x,i=t.y,o=numeric.rep;return i?new n(o(e,r),o(e,i)):new n(o(e,r))},numeric.T.diag=function s(e){e instanceof numeric.T||(e=new numeric.T(e));var t=e.x,n=e.y,s=numeric.diag;return n?new numeric.T(s(t),s(n)):new numeric.T(s(t))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(e){return new numeric.T(numeric.identity(e))},numeric.T.prototype.getDiag=function(){var e=numeric,t=this.x,n=this.y;return n?new e.T(e.getDiag(t),e.getDiag(n)):new e.T(e.getDiag(t))},numeric.house=function(e){var t=numeric.clone(e),n=e[0]>=0?1:-1,r=n*numeric.norm2(e);t[0]+=r;var i=numeric.norm2(t);if(0===i)throw new Error("eig: internal error");return numeric.div(t,i)},numeric.toUpperHessenberg=function(e){var t=numeric.dim(e);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,r,i,o,a,s,u,l,c,f,h=t[0],p=numeric.clone(e),d=numeric.identity(h);for(r=0;h-2>r;r++){for(o=Array(h-r-1),n=r+1;h>n;n++)o[n-r-1]=p[n][r];if(numeric.norm2(o)>0){for(a=numeric.house(o),s=numeric.getBlock(p,[r+1,r],[h-1,h-1]),u=numeric.tensor(a,numeric.dot(a,s)),n=r+1;h>n;n++)for(l=p[n],c=u[n-r-1],i=r;h>i;i++)l[i]-=2*c[i-r];for(s=numeric.getBlock(p,[0,r+1],[h-1,h-1]),u=numeric.tensor(numeric.dot(s,a),a),n=0;h>n;n++)for(l=p[n],c=u[n],i=r+1;h>i;i++)l[i]-=2*c[i-r-1];for(s=Array(h-r-1),n=r+1;h>n;n++)s[n-r-1]=d[n];for(u=numeric.tensor(a,numeric.dot(a,s)),n=r+1;h>n;n++)for(f=d[n],c=u[n-r-1],i=0;h>i;i++)f[i]-=2*c[i]}}return{H:p,Q:d}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(e,t){"undefined"==typeof t&&(t=1e4),e=numeric.clone(e);var n,r,i,o,a,s,u,l,c,f,h,p,d,m,v,g,y,b,w=(numeric.clone(e),numeric.dim(e)),x=w[0],C=numeric.identity(x);if(3>x)return{Q:C,B:[[0,x-1]]};var M=numeric.epsilon;for(b=0;t>b;b++){for(g=0;x-1>g;g++)if(Math.abs(e[g+1][g])<M*(Math.abs(e[g][g])+Math.abs(e[g+1][g+1]))){var k=numeric.QRFrancis(numeric.getBlock(e,[0,0],[g,g]),t),S=numeric.QRFrancis(numeric.getBlock(e,[g+1,g+1],[x-1,x-1]),t);for(p=Array(g+1),v=0;g>=v;v++)p[v]=C[v];for(d=numeric.dot(k.Q,p),v=0;g>=v;v++)C[v]=d[v];for(p=Array(x-g-1),v=g+1;x>v;v++)p[v-g-1]=C[v];for(d=numeric.dot(S.Q,p),v=g+1;x>v;v++)C[v]=d[v-g-1];return{Q:C,B:k.B.concat(numeric.add(S.B,g+1))}}if(i=e[x-2][x-2],o=e[x-2][x-1],a=e[x-1][x-2],s=e[x-1][x-1],l=i+s,u=i*s-o*a,c=numeric.getBlock(e,[0,0],[2,2]),l*l>=4*u){var E,T;E=.5*(l+Math.sqrt(l*l-4*u)),T=.5*(l-Math.sqrt(l*l-4*u)),c=numeric.add(numeric.sub(numeric.dot(c,c),numeric.mul(c,E+T)),numeric.diag(numeric.rep([3],E*T)))}else c=numeric.add(numeric.sub(numeric.dot(c,c),numeric.mul(c,l)),numeric.diag(numeric.rep([3],u)));for(n=[c[0][0],c[1][0],c[2][0]],r=numeric.house(n),p=[e[0],e[1],e[2]],d=numeric.tensor(r,numeric.dot(r,p)),v=0;3>v;v++)for(h=e[v],m=d[v],y=0;x>y;y++)h[y]-=2*m[y];for(p=numeric.getBlock(e,[0,0],[x-1,2]),d=numeric.tensor(numeric.dot(p,r),r),v=0;x>v;v++)for(h=e[v],m=d[v],y=0;3>y;y++)h[y]-=2*m[y];for(p=[C[0],C[1],C[2]],d=numeric.tensor(r,numeric.dot(r,p)),v=0;3>v;v++)for(f=C[v],m=d[v],y=0;x>y;y++)f[y]-=2*m[y];var _;for(g=0;x-2>g;g++){for(y=g;g+1>=y;y++)if(Math.abs(e[y+1][y])<M*(Math.abs(e[y][y])+Math.abs(e[y+1][y+1]))){var k=numeric.QRFrancis(numeric.getBlock(e,[0,0],[y,y]),t),S=numeric.QRFrancis(numeric.getBlock(e,[y+1,y+1],[x-1,x-1]),t);for(p=Array(y+1),v=0;y>=v;v++)p[v]=C[v];for(d=numeric.dot(k.Q,p),v=0;y>=v;v++)C[v]=d[v];for(p=Array(x-y-1),v=y+1;x>v;v++)p[v-y-1]=C[v];for(d=numeric.dot(S.Q,p),v=y+1;x>v;v++)C[v]=d[v-y-1];return{Q:C,B:k.B.concat(numeric.add(S.B,y+1))}}for(_=Math.min(x-1,g+3),n=Array(_-g),v=g+1;_>=v;v++)n[v-g-1]=e[v][g];for(r=numeric.house(n),p=numeric.getBlock(e,[g+1,g],[_,x-1]),d=numeric.tensor(r,numeric.dot(r,p)),v=g+1;_>=v;v++)for(h=e[v],m=d[v-g-1],y=g;x>y;y++)h[y]-=2*m[y-g];for(p=numeric.getBlock(e,[0,g+1],[x-1,_]),d=numeric.tensor(numeric.dot(p,r),r),v=0;x>v;v++)for(h=e[v],m=d[v],y=g+1;_>=y;y++)h[y]-=2*m[y-g-1];for(p=Array(_-g),v=g+1;_>=v;v++)p[v-g-1]=C[v];for(d=numeric.tensor(r,numeric.dot(r,p)),v=g+1;_>=v;v++)for(f=C[v],m=d[v-g-1],y=0;x>y;y++)f[y]-=2*m[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(e,t){var n,r,i,o,a,s,u,l,c,f,h,p,d,m,v,g,y,b=numeric.toUpperHessenberg(e),w=numeric.QRFrancis(b.H,t),x=numeric.T,C=e.length,M=w.B,k=numeric.dot(w.Q,numeric.dot(b.H,numeric.transpose(w.Q))),S=new x(numeric.dot(w.Q,b.Q)),E=M.length,T=Math.sqrt;for(r=0;E>r;r++)if(n=M[r][0],n===M[r][1]);else{if(o=n+1,a=k[n][n],s=k[n][o],u=k[o][n],l=k[o][o],0===s&&0===u)continue;c=-a-l,f=a*l-s*u,h=c*c-4*f,h>=0?(p=0>c?-.5*(c-T(h)):-.5*(c+T(h)),g=(a-p)*(a-p)+s*s,y=u*u+(l-p)*(l-p),g>y?(g=T(g),m=(a-p)/g,v=s/g):(y=T(y),m=u/y,v=(l-p)/y),i=new x([[v,-m],[m,v]]),S.setRows(n,o,i.dot(S.getRows(n,o)))):(p=-.5*c,d=.5*T(-h),g=(a-p)*(a-p)+s*s,y=u*u+(l-p)*(l-p),g>y?(g=T(g+d*d),m=(a-p)/g,v=s/g,p=0,d/=g):(y=T(y+d*d),m=u/y,v=(l-p)/y,p=d/y,d=0),i=new x([[v,-m],[m,v]],[[p,d],[d,-p]]),S.setRows(n,o,i.dot(S.getRows(n,o))))}var _=S.dot(e).dot(S.transjugate()),C=e.length,A=numeric.T.identity(C);for(o=0;C>o;o++)if(o>0)for(r=o-1;r>=0;r--){var P=_.get([r,r]),D=_.get([o,o]);numeric.neq(P.x,D.x)||numeric.neq(P.y,D.y)?(p=_.getRow(r).getBlock([r],[o-1]),d=A.getRow(o).getBlock([r],[o-1]),A.set([o,r],_.get([r,o]).neg().sub(p.dot(d)).div(P.sub(D)))):A.setRow(o,A.getRow(r))}for(o=0;C>o;o++)p=A.getRow(o),A.setRow(o,p.div(p.norm2()));return A=A.transpose(),A=S.transjugate().dot(A),{lambda:_.getDiag(),E:A}},numeric.ccsSparse=function(e){var t,n,r,i,o=e.length,a=[];for(r=o-1;-1!==r;--r){n=e[r];for(i in n){for(i=parseInt(i);i>=a.length;)a[a.length]=0;0!==n[i]&&a[i]++}}var t=a.length,s=Array(t+1);for(s[0]=0,r=0;t>r;++r)s[r+1]=s[r]+a[r];var u=Array(s[t]),l=Array(s[t]);for(r=o-1;-1!==r;--r){n=e[r];for(i in n)0!==n[i]&&(a[i]--,u[s[i]+a[i]]=r,l[s[i]+a[i]]=n[i])}return[s,u,l]},numeric.ccsFull=function(e){var t,n,r,i,o=e[0],a=e[1],s=e[2],u=numeric.ccsDim(e),l=u[0],c=u[1],f=numeric.rep([l,c],0);for(t=0;c>t;t++)for(r=o[t],i=o[t+1],n=r;i>n;++n)f[a[n]][t]=s[n];return f},numeric.ccsTSolve=function(e,t,n,r,i){function o(e){var t;if(0===n[e]){for(n[e]=1,t=a[e];t<a[e+1];++t)o(s[t]);i[f]=e,++f}}var a=e[0],s=e[1],u=e[2],l=a.length-1,c=Math.max,f=0;"undefined"==typeof r&&(n=numeric.rep([l],0)),"undefined"==typeof r&&(r=numeric.linspace(0,n.length-1)),"undefined"==typeof i&&(i=[]);var h,p,d,m,v,g,y;for(h=r.length-1;-1!==h;--h)o(r[h]);for(i.length=f,h=i.length-1;-1!==h;--h)n[i[h]]=0;for(h=r.length-1;-1!==h;--h)p=r[h],n[p]=t[p];for(h=i.length-1;-1!==h;--h){for(p=i[h],d=a[p],m=c(a[p+1],d),v=d;v!==m;++v)if(s[v]===p){n[p]/=u[v];break}for(y=n[p],v=d;v!==m;++v)g=s[v],g!==p&&(n[g]-=y*u[v])}return n},numeric.ccsDFS=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS.prototype.dfs=function(e,t,n,r,i,o){var a,s,u,l=0,c=i.length,f=this.k,h=this.k1,p=this.j;if(0===r[e])for(r[e]=1,p[0]=e,f[0]=s=t[e],h[0]=u=t[e+1];;)if(s>=u){if(i[c]=p[l],0===l)return;++c,--l,s=f[l],u=h[l]}else a=o[n[s]],0===r[a]?(r[a]=1,f[l]=s,++l,p[l]=a,s=t[a],h[l]=u=t[a+1]):++s},numeric.ccsLPSolve=function(e,t,n,r,i,o,a){var s,u,l,c,f,h,p,d,m,v=e[0],g=e[1],y=e[2],b=(v.length-1,t[0]),w=t[1],x=t[2];for(u=b[i],l=b[i+1],r.length=0,s=u;l>s;++s)a.dfs(o[w[s]],v,g,n,r,o);for(s=r.length-1;-1!==s;--s)n[r[s]]=0;for(s=u;s!==l;++s)c=o[w[s]],n[c]=x[s];for(s=r.length-1;-1!==s;--s){for(c=r[s],f=v[c],h=v[c+1],p=f;h>p;++p)if(o[g[p]]===c){n[c]/=y[p];break}for(m=n[c],p=f;h>p;++p)d=o[g[p]],d!==c&&(n[d]-=m*y[p])}return n},numeric.ccsLUP1=function(e,t){var n,r,i,o,a,s,u,l=e[0].length-1,c=[numeric.rep([l+1],0),[],[]],f=[numeric.rep([l+1],0),[],[]],h=c[0],p=c[1],d=c[2],m=f[0],v=f[1],g=f[2],y=numeric.rep([l],0),b=numeric.rep([l],0),w=numeric.ccsLPSolve,x=(Math.max,Math.abs),C=numeric.linspace(0,l-1),M=numeric.linspace(0,l-1),k=new numeric.ccsDFS(l);for("undefined"==typeof t&&(t=1),n=0;l>n;++n){for(w(c,e,y,b,n,M,k),o=-1,a=-1,r=b.length-1;-1!==r;--r)i=b[r],n>=i||(s=x(y[i]),s>o&&(a=i,o=s));for(x(y[n])<t*o&&(r=C[n],o=C[a],C[n]=o,M[o]=n,C[a]=r,M[r]=a,o=y[n],y[n]=y[a],y[a]=o),o=h[n],a=m[n],u=y[n],p[o]=C[n],d[o]=1,++o,r=b.length-1;-1!==r;--r)i=b[r],s=y[i],b[r]=0,y[i]=0,n>=i?(v[a]=i,g[a]=s,++a):(p[o]=C[i],d[o]=s/u,++o);h[n+1]=o,m[n+1]=a}for(r=p.length-1;-1!==r;--r)p[r]=M[p[r]];return{L:c,U:f,P:C,Pinv:M}},numeric.ccsDFS0=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS0.prototype.dfs=function(e,t,n,r,i,o,a){var s,u,l,c=0,f=i.length,h=this.k,p=this.k1,d=this.j;if(0===r[e])for(r[e]=1,d[0]=e,h[0]=u=t[o[e]],p[0]=l=t[o[e]+1];;){if(isNaN(u))throw new Error("Ow!");if(u>=l){if(i[f]=o[d[c]],0===c)return;++f,--c,u=h[c],l=p[c]}else s=n[u],0===r[s]?(r[s]=1,h[c]=u,++c,d[c]=s,s=o[s],u=t[s],p[c]=l=t[s+1]):++u}},numeric.ccsLPSolve0=function(e,t,n,r,i,o,a,s){var u,l,c,f,h,p,d,m,v,g=e[0],y=e[1],b=e[2],w=(g.length-1,t[0]),x=t[1],C=t[2];for(l=w[i],c=w[i+1],r.length=0,u=l;c>u;++u)s.dfs(x[u],g,y,n,r,o,a);for(u=r.length-1;-1!==u;--u)f=r[u],n[a[f]]=0;for(u=l;u!==c;++u)f=x[u],n[f]=C[u];for(u=r.length-1;-1!==u;--u){for(f=r[u],m=a[f],h=g[f],p=g[f+1],d=h;p>d;++d)if(y[d]===m){n[m]/=b[d];break}for(v=n[m],d=h;p>d;++d)n[y[d]]-=v*b[d];n[m]=v}},numeric.ccsLUP0=function(e,t){var n,r,i,o,a,s,u,l=e[0].length-1,c=[numeric.rep([l+1],0),[],[]],f=[numeric.rep([l+1],0),[],[]],h=c[0],p=c[1],d=c[2],m=f[0],v=f[1],g=f[2],y=numeric.rep([l],0),b=numeric.rep([l],0),w=numeric.ccsLPSolve0,x=(Math.max,Math.abs),C=numeric.linspace(0,l-1),M=numeric.linspace(0,l-1),k=new numeric.ccsDFS0(l);for("undefined"==typeof t&&(t=1),n=0;l>n;++n){for(w(c,e,y,b,n,M,C,k),o=-1,a=-1,r=b.length-1;-1!==r;--r)i=b[r],n>=i||(s=x(y[C[i]]),s>o&&(a=i,o=s));for(x(y[C[n]])<t*o&&(r=C[n],o=C[a],C[n]=o,M[o]=n,C[a]=r,M[r]=a),o=h[n],a=m[n],u=y[C[n]],p[o]=C[n],d[o]=1,++o,r=b.length-1;-1!==r;--r)i=b[r],s=y[C[i]],b[r]=0,y[C[i]]=0,n>=i?(v[a]=i,g[a]=s,++a):(p[o]=C[i],d[o]=s/u,++o);h[n+1]=o,m[n+1]=a}for(r=p.length-1;-1!==r;--r)p[r]=M[p[r]];return{L:c,U:f,P:C,Pinv:M}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(e){return[numeric.sup(e[1])+1,e[0].length-1]},numeric.ccsGetBlock=function(e,t,n){var r=numeric.ccsDim(e),i=r[0],o=r[1];"undefined"==typeof t?t=numeric.linspace(0,i-1):"number"==typeof t&&(t=[t]),"undefined"==typeof n?n=numeric.linspace(0,o-1):"number"==typeof n&&(n=[n]);var a,s,u,l,c,f=t.length,h=n.length,p=numeric.rep([o],0),d=[],m=[],v=[p,d,m],g=e[0],y=e[1],b=e[2],w=numeric.rep([i],0),x=0,C=numeric.rep([i],0);for(s=0;h>s;++s){l=n[s];var M=g[l],k=g[l+1];for(a=M;k>a;++a)u=y[a],C[u]=1,w[u]=b[a];for(a=0;f>a;++a)c=t[a],C[c]&&(d[x]=a,m[x]=w[t[a]],++x);for(a=M;k>a;++a)u=y[a],C[u]=0;p[s+1]=x}return v},numeric.ccsDot=function(e,t){var n,r,i,o,a,s,u,l,c,f,h,p=e[0],d=e[1],m=e[2],v=t[0],g=t[1],y=t[2],b=numeric.ccsDim(e),w=numeric.ccsDim(t),x=b[0],C=(b[1],w[1]),M=numeric.rep([x],0),k=numeric.rep([x],0),S=Array(x),E=numeric.rep([C],0),T=[],_=[],A=[E,T,_];for(i=0;i!==C;++i){for(o=v[i],a=v[i+1],c=0,r=o;a>r;++r)for(f=g[r],h=y[r],s=p[f],u=p[f+1],n=s;u>n;++n)l=d[n],0===k[l]&&(S[c]=l,k[l]=1,c+=1),M[l]=M[l]+m[n]*h;for(o=E[i],a=o+c,E[i+1]=a,r=c-1;-1!==r;--r)h=o+r,n=S[r],T[h]=n,_[h]=M[n],k[n]=0,M[n]=0;E[i+1]=E[i]+c}return A},numeric.ccsLUPSolve=function(e,t){var n=e.L,r=e.U,i=(e.P,t[0]),o=!1;"object"!=typeof i&&(t=[[0,t.length],numeric.linspace(0,t.length-1),t],i=t[0],o=!0);var a,s,u,l,c,f,h=t[1],p=t[2],d=n[0].length-1,m=i.length-1,v=numeric.rep([d],0),g=Array(d),y=numeric.rep([d],0),b=Array(d),w=numeric.rep([m+1],0),x=[],C=[],M=numeric.ccsTSolve,k=0;for(a=0;m>a;++a){for(c=0,u=i[a],l=i[a+1],s=u;l>s;++s)f=e.Pinv[h[s]],b[c]=f,y[f]=p[s],++c;for(b.length=c,M(n,y,v,b,g),s=b.length-1;-1!==s;--s)y[b[s]]=0;if(M(r,v,y,g,b),o)return y;for(s=g.length-1;-1!==s;--s)v[g[s]]=0;for(s=b.length-1;-1!==s;--s)f=b[s],x[k]=f,C[k]=y[f],y[f]=0,++k;w[a+1]=k}return[w,x,C]},numeric.ccsbinop=function(e,t){return"undefined"==typeof t&&(t=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+t+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+e+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(e){var t,n=e[0],r=e[1],i=e[2],o=numeric.sup(r)+1,a=n.length,s=numeric.rep([o],0),u=Array(a),l=Array(a),c=numeric.rep([o],0);for(t=0;a>t;++t)c[r[t]]++;for(t=0;o>t;++t)s[t+1]=s[t]+c[t];var f,h,p=s.slice(0);for(t=0;a>t;++t)h=r[t],f=p[h],u[f]=n[t],l[f]=i[t],p[h]=p[h]+1;return[s,u,l]},numeric.ccsGather=function(e){var t,n,r,i,o,a=e[0],s=e[1],u=e[2],l=a.length-1,c=s.length,f=Array(c),h=Array(c),p=Array(c);for(o=0,t=0;l>t;++t)for(r=a[t],i=a[t+1],n=r;n!==i;++n)h[o]=t,f[o]=s[n],p[o]=u[n],++o;return[f,h,p]},numeric.sdim=function u(e,t,n){if("undefined"==typeof t&&(t=[]),"object"!=typeof e)return t;"undefined"==typeof n&&(n=0),n in t||(t[n]=0),e.length>t[n]&&(t[n]=e.length);var r;for(r in e)e.hasOwnProperty(r)&&u(e[r],t,n+1);return t},numeric.sclone=function l(e,t,n){"undefined"==typeof t&&(t=0),"undefined"==typeof n&&(n=numeric.sdim(e).length);var r,i=Array(e.length);if(t===n-1){for(r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i}for(r in e)e.hasOwnProperty(r)&&(i[r]=l(e[r],t+1,n));return i},numeric.sdiag=function(e){var t,n,r=e.length,i=Array(r);for(t=r-1;t>=1;t-=2)n=t-1,i[t]=[],i[t][t]=e[t],i[n]=[],i[n][n]=e[n];return 0===t&&(i[0]=[],i[0][0]=e[t]),i},numeric.sidentity=function(e){return numeric.sdiag(numeric.rep([e],1))},numeric.stranspose=function(e){var t,n,r,i=[];e.length;for(t in e)if(e.hasOwnProperty(t)){r=e[t];for(n in r)r.hasOwnProperty(n)&&("object"!=typeof i[n]&&(i[n]=[]),i[n][t]=r[n])}return i},numeric.sLUP=function(e,t){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(e,t){var n,r,i,o,a,s,u,l=e.length,c=(t.length,numeric.stranspose(t)),f=c.length,h=Array(l);for(i=l-1;i>=0;i--){for(u=[],n=e[i],a=f-1;a>=0;a--){s=0,r=c[a];for(o in n)n.hasOwnProperty(o)&&o in r&&(s+=n[o]*r[o]);s&&(u[a]=s)}h[i]=u}return h},numeric.sdotMV=function(e,t){var n,r,i,o,a=e.length,s=Array(a);for(r=a-1;r>=0;r--){n=e[r],o=0;for(i in n)n.hasOwnProperty(i)&&t[i]&&(o+=n[i]*t[i]);o&&(s[r]=o)}return s},numeric.sdotVM=function(e,t){var n,r,i,o,a=[];for(n in e)if(e.hasOwnProperty(n)){i=t[n],o=e[n];for(r in i)i.hasOwnProperty(r)&&(a[r]||(a[r]=0),a[r]+=o*i[r])}return a},numeric.sdotVV=function(e,t){var n,r=0;for(n in e)e[n]&&t[n]&&(r+=e[n]*t[n]);return r},numeric.sdot=function(e,t){var n=numeric.sdim(e).length,r=numeric.sdim(t).length,i=1e3*n+r;switch(i){case 0:return e*t;case 1001:return numeric.sdotVV(e,t);case 2001:return numeric.sdotMV(e,t);case 1002:return numeric.sdotVM(e,t);case 2002:return numeric.sdotMM(e,t);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+r)}},numeric.sscatter=function(e){var t,n,r,i,o=e[0].length,a=e.length,s=[];for(n=o-1;n>=0;--n)if(e[a-1][n]){for(i=s,r=0;a-2>r;r++)t=e[r][n],i[t]||(i[t]=[]),i=i[t];i[e[r][n]]=e[r+1][n]}return s},numeric.sgather=function c(e,t,n){"undefined"==typeof t&&(t=[]),"undefined"==typeof n&&(n=[]);var r,i,o;r=n.length;for(i in e)if(e.hasOwnProperty(i))if(n[r]=parseInt(i),o=e[i],"number"==typeof o){if(o){if(0===t.length)for(i=r+1;i>=0;--i)t[i]=[];for(i=r;i>=0;--i)t[i].push(n[i]);t[r+1].push(o)}}else c(o,t,n);return n.length>r&&n.pop(),t},numeric.cLU=function(e){var t,n,r,i,o,a,s=e[0],u=e[1],l=e[2],c=s.length,f=0;for(t=0;c>t;t++)s[t]>f&&(f=s[t]);f++;var h,p,d,m=Array(f),v=Array(f),g=numeric.rep([f],1/0),y=numeric.rep([f],-(1/0));for(r=0;c>r;r++)t=s[r],n=u[r],n<g[t]&&(g[t]=n),n>y[t]&&(y[t]=n);for(t=0;f-1>t;t++)y[t]>y[t+1]&&(y[t+1]=y[t]);for(t=f-1;t>=1;t--)g[t]<g[t-1]&&(g[t-1]=g[t]);var b=0,w=0;for(t=0;f>t;t++)v[t]=numeric.rep([y[t]-g[t]+1],0),m[t]=numeric.rep([t-g[t]],0),b+=t-g[t]+1,w+=y[t]-t+1;for(r=0;c>r;r++)t=s[r],v[t][u[r]-g[t]]=l[r];for(t=0;f-1>t;t++)for(i=t-g[t],h=v[t],n=t+1;g[n]<=t&&f>n;n++)if(o=t-g[n],a=y[t]-t,p=v[n],d=p[o]/h[i]){for(r=1;a>=r;r++)p[r+o]-=d*h[r+i];m[n][t-g[n]]=d}var c,x,C,h=[],p=[],M=[],k=[],S=[],E=[];for(c=0,x=0,t=0;f>t;t++){for(i=g[t],o=y[t],C=v[t],n=t;o>=n;n++)C[n-i]&&(h[c]=t,p[c]=n,M[c]=C[n-i],c++);for(C=m[t],n=i;t>n;n++)C[n-i]&&(k[x]=t,S[x]=n,E[x]=C[n-i],x++);k[x]=t,S[x]=t,E[x]=1,x++}return{U:[h,p,M],L:[k,S,E]}},numeric.cLUsolve=function(e,t){var n,r,i=e.L,o=e.U,a=numeric.clone(t),s=i[0],u=i[1],l=i[2],c=o[0],f=o[1],h=o[2],p=c.length,d=(s.length,a.length);for(r=0,n=0;d>n;n++){for(;u[r]<n;)a[n]-=l[r]*a[u[r]],r++;r++}for(r=p-1,n=d-1;n>=0;n--){for(;f[r]>n;)a[n]-=h[r]*a[f[r]],r--;a[n]/=h[r],r--}return a},numeric.cgrid=function(e,t){"number"==typeof e&&(e=[e,e]);var n,r,i,o=numeric.rep(e,-1);if("function"!=typeof t)switch(t){case"L":t=function(t,n){return t>=e[0]/2||n<e[1]/2};break;default:t=function(e,t){return!0}}for(i=0,n=1;n<e[0]-1;n++)for(r=1;r<e[1]-1;r++)t(n,r)&&(o[n][r]=i,i++);return o},numeric.cdelsq=function(e){var t,n,r,i,o,a=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(e),u=s[0],l=s[1],c=[],f=[],h=[];for(t=1;u-1>t;t++)for(n=1;l-1>n;n++)if(!(e[t][n]<0)){for(r=0;4>r;r++)i=t+a[r][0],o=n+a[r][1],e[i][o]<0||(c.push(e[t][n]),f.push(e[i][o]),h.push(-1));c.push(e[t][n]),f.push(e[t][n]),h.push(4)}return[c,f,h]},numeric.cdotMV=function(e,t){var n,r,i,o=e[0],a=e[1],s=e[2],u=o.length;for(i=0,r=0;u>r;r++)o[r]>i&&(i=o[r]);for(i++,n=numeric.rep([i],0),r=0;u>r;r++)n[o[r]]+=s[r]*t[a[r]];return n},numeric.Spline=function(e,t,n,r,i){this.x=e,this.yl=t,this.yr=n,this.kl=r,this.kr=i},numeric.Spline.prototype._at=function(e,t){var e,n,r,i,o=this.x,a=this.yl,s=this.yr,u=this.kl,l=this.kr,c=numeric.add,f=numeric.sub,h=numeric.mul;n=f(h(u[t],o[t+1]-o[t]),f(s[t+1],a[t])),r=c(h(l[t+1],o[t]-o[t+1]),f(s[t+1],a[t])),i=(e-o[t])/(o[t+1]-o[t]);var p=i*(1-i);return c(c(c(h(1-i,a[t]),h(i,s[t+1])),h(n,p*(1-i))),h(r,p*i))},numeric.Spline.prototype.at=function(e){if("number"==typeof e){var t,n,r,i=this.x,o=i.length,a=Math.floor;for(t=0,n=o-1;n-t>1;)r=a((t+n)/2),i[r]<=e?t=r:n=r;return this._at(e,t)}var s,o=e.length,u=Array(o);for(s=o-1;-1!==s;--s)u[s]=this.at(e[s]);return u},numeric.Spline.prototype.diff=function(){var e,t,n,r=this.x,i=this.yl,o=this.yr,a=this.kl,s=this.kr,u=i.length,l=a,c=s,f=Array(u),h=Array(u),p=numeric.add,d=numeric.mul,m=numeric.div,v=numeric.sub;for(e=u-1;-1!==e;--e)t=r[e+1]-r[e],n=v(o[e+1],i[e]),f[e]=m(p(d(n,6),d(a[e],-4*t),d(s[e+1],-2*t)),t*t),h[e+1]=m(p(d(n,-6),d(a[e],2*t),d(s[e+1],4*t)),t*t);return new numeric.Spline(r,l,c,f,h)},numeric.Spline.prototype.roots=function(){function e(e){return e*e}var t=[],n=this.x,r=this.yl,i=this.yr,o=this.kl,a=this.kr;"number"==typeof r[0]&&(r=[r],i=[i],o=[o],a=[a]);var s,u,l,c,f,h,p,d,m,v,g,y,b,w,x,C,M,k,S,E,T,_,A,P,D=r.length,N=n.length-1,t=Array(D),O=Math.sqrt;for(s=0;s!==D;++s){for(c=r[s],f=i[s],h=o[s],p=a[s],d=[],u=0;u!==N;u++){for(u>0&&f[u]*c[u]<0&&d.push(n[u]),C=n[u+1]-n[u],M=n[u],g=c[u],y=f[u+1],m=h[u]/C,v=p[u+1]/C,x=e(m-v+3*(g-y))+12*v*g,b=v+3*g+2*m-3*y,w=3*(v+m+2*(g-y)),0>=x?(S=b/w,k=S>n[u]&&S<n[u+1]?[n[u],S,n[u+1]]:[n[u],n[u+1]]):(S=(b-O(x))/w,E=(b+O(x))/w,k=[n[u]],S>n[u]&&S<n[u+1]&&k.push(S),E>n[u]&&E<n[u+1]&&k.push(E),k.push(n[u+1])),_=k[0],S=this._at(_,u),l=0;l<k.length-1;l++)if(A=k[l+1],E=this._at(A,u),0!==S)if(0===E||S*E>0)_=A,S=E;else{for(var L=0;;){if(P=(S*A-E*_)/(S-E),_>=P||P>=A)break;if(T=this._at(P,u),T*E>0)A=P,E=T,-1===L&&(S*=.5),L=-1;else{if(!(T*S>0))break;_=P,S=T,1===L&&(E*=.5),L=1}}d.push(P),_=k[l+1],S=this._at(_,u)}else d.push(_),_=A,S=E;0===E&&d.push(A)}t[s]=d}return"number"==typeof this.yl[0]?t[0]:t},numeric.spline=function(e,t,n,r){var i,o=e.length,a=[],s=[],u=[],l=numeric.sub,c=numeric.mul,f=numeric.add;for(i=o-2;i>=0;i--)s[i]=e[i+1]-e[i],u[i]=l(t[i+1],t[i]);"string"!=typeof n&&"string"!=typeof r||(n=r="periodic");var h=[[],[],[]];switch(typeof n){case"undefined":a[0]=c(3/(s[0]*s[0]),u[0]),h[0].push(0,0),h[1].push(0,1),h[2].push(2/s[0],1/s[0]);break;case"string":a[0]=f(c(3/(s[o-2]*s[o-2]),u[o-2]),c(3/(s[0]*s[0]),u[0])),h[0].push(0,0,0),h[1].push(o-2,0,1),h[2].push(1/s[o-2],2/s[o-2]+2/s[0],1/s[0]);break;default:a[0]=n,h[0].push(0),h[1].push(0),h[2].push(1)}for(i=1;o-1>i;i++)a[i]=f(c(3/(s[i-1]*s[i-1]),u[i-1]),c(3/(s[i]*s[i]),u[i])),h[0].push(i,i,i),h[1].push(i-1,i,i+1),h[2].push(1/s[i-1],2/s[i-1]+2/s[i],1/s[i]);switch(typeof r){case"undefined":a[o-1]=c(3/(s[o-2]*s[o-2]),u[o-2]),h[0].push(o-1,o-1),h[1].push(o-2,o-1),h[2].push(1/s[o-2],2/s[o-2]);break;case"string":h[1][h[1].length-1]=0;break;default:a[o-1]=r,h[0].push(o-1),h[1].push(o-1),h[2].push(1)}a="number"!=typeof a[0]?numeric.transpose(a):[a];var p=Array(a.length);if("string"==typeof n)for(i=p.length-1;-1!==i;--i)p[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(h)),a[i]),p[i][o-1]=p[i][0];else for(i=p.length-1;-1!==i;--i)p[i]=numeric.cLUsolve(numeric.cLU(h),a[i]);return p="number"==typeof t[0]?p[0]:numeric.transpose(p),new numeric.Spline(e,t,t,p,p)},numeric.fftpow2=function f(e,t){var n=e.length;if(1!==n){var r,i,o=Math.cos,a=Math.sin,s=Array(n/2),u=Array(n/2),l=Array(n/2),c=Array(n/2);for(i=n/2,r=n-1;-1!==r;--r)--i,l[i]=e[r],c[i]=t[r],--r,s[i]=e[r],u[i]=t[r];f(s,u),f(l,c),i=n/2;var h,p,d,m=-6.283185307179586/n;for(r=n-1;-1!==r;--r)--i,-1===i&&(i=n/2-1),h=m*r,p=o(h),d=a(h),e[r]=s[i]+p*l[i]-d*c[i],t[r]=u[i]+p*c[i]+d*l[i]}},numeric._ifftpow2=function h(e,t){var n=e.length;if(1!==n){var r,i,o=Math.cos,a=Math.sin,s=Array(n/2),u=Array(n/2),l=Array(n/2),c=Array(n/2);for(i=n/2,r=n-1;-1!==r;--r)--i,l[i]=e[r],c[i]=t[r],--r,s[i]=e[r],u[i]=t[r];h(s,u),h(l,c),i=n/2;var f,p,d,m=6.283185307179586/n;for(r=n-1;-1!==r;--r)--i,-1===i&&(i=n/2-1),f=m*r,p=o(f),d=a(f),e[r]=s[i]+p*l[i]-d*c[i],t[r]=u[i]+p*c[i]+d*l[i]}},numeric.ifftpow2=function(e,t){numeric._ifftpow2(e,t),numeric.diveq(e,e.length),numeric.diveq(t,t.length)},numeric.convpow2=function(e,t,n,r){numeric.fftpow2(e,t),numeric.fftpow2(n,r);var i,o,a,s,u,l=e.length;for(i=l-1;-1!==i;--i)o=e[i],s=t[i],a=n[i],u=r[i],e[i]=o*a-s*u,t[i]=o*u+s*a;numeric.ifftpow2(e,t)},numeric.T.prototype.fft=function(){var e,t,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),l=numeric.rep([u],0),c=numeric.rep([u],0),f=Math.cos,h=Math.sin,p=-3.141592653589793/i,d=numeric.rep([u],0),m=numeric.rep([u],0);Math.floor(i/2);for(e=0;i>e;e++)d[e]=n[e];if("undefined"!=typeof r)for(e=0;i>e;e++)m[e]=r[e];for(l[0]=1,e=1;u/2>=e;e++)t=p*e*e,l[e]=f(t),c[e]=h(t),l[u-e]=f(t),c[u-e]=h(t);var v=new numeric.T(d,m),g=new numeric.T(l,c);return v=v.mul(g),numeric.convpow2(v.x,v.y,numeric.clone(g.x),numeric.neg(g.y)),v=v.mul(g),v.x.length=i,v.y.length=i,v},numeric.T.prototype.ifft=function(){var e,t,n=this.x,r=this.y,i=n.length,o=Math.log,a=o(2),s=Math.ceil(o(2*i-1)/a),u=Math.pow(2,s),l=numeric.rep([u],0),c=numeric.rep([u],0),f=Math.cos,h=Math.sin,p=3.141592653589793/i,d=numeric.rep([u],0),m=numeric.rep([u],0);Math.floor(i/2);for(e=0;i>e;e++)d[e]=n[e];if("undefined"!=typeof r)for(e=0;i>e;e++)m[e]=r[e];for(l[0]=1,e=1;u/2>=e;e++)t=p*e*e,l[e]=f(t),c[e]=h(t),l[u-e]=f(t),c[u-e]=h(t);var v=new numeric.T(d,m),g=new numeric.T(l,c);return v=v.mul(g),numeric.convpow2(v.x,v.y,numeric.clone(g.x),numeric.neg(g.y)),v=v.mul(g),v.x.length=i,v.y.length=i,v.div(i)},numeric.gradient=function(e,t){var n=t.length,r=e(t);if(isNaN(r))throw new Error("gradient: f(x) is a NaN!");
var i,o,a,s,u,l,c,f,h,p,d=Math.max,m=numeric.clone(t),v=Array(n),d=(numeric.div,numeric.sub,Math.max),g=.001,y=Math.abs,b=Math.min,w=0;for(i=0;n>i;i++)for(var x=d(1e-6*r,1e-8);;){if(++w,w>20)throw new Error("Numerical gradient fails");if(m[i]=t[i]+x,o=e(m),m[i]=t[i]-x,a=e(m),m[i]=t[i],isNaN(o)||isNaN(a))x/=16;else{if(v[i]=(o-a)/(2*x),u=t[i]-x,l=t[i],c=t[i]+x,f=(o-r)/x,h=(r-a)/x,p=d(y(v[i]),y(r),y(o),y(a),y(u),y(l),y(c),1e-8),s=b(d(y(f-v[i]),y(h-v[i]),y(f-h))/p,x/p),!(s>g))break;x/=16}}return v},numeric.uncmin=function(e,t,n,r,i,o,a){var s=numeric.gradient;"undefined"==typeof a&&(a={}),"undefined"==typeof n&&(n=1e-8),"undefined"==typeof r&&(r=function(t){return s(e,t)}),"undefined"==typeof i&&(i=1e3),t=numeric.clone(t);var u,l,c=t.length,f=e(t);if(isNaN(f))throw new Error("uncmin: f(x0) is a NaN!");var h=Math.max,p=numeric.norm2;n=h(n,numeric.epsilon);var d,m,v,g,y,b,w,x,C,M,k=a.Hinv||numeric.identity(c),S=numeric.dot,E=(numeric.inv,numeric.sub),T=numeric.add,_=numeric.tensor,A=numeric.div,P=numeric.mul,D=numeric.all,N=numeric.isFinite,O=numeric.neg,L=0,R="";for(m=r(t);i>L;){if("function"==typeof o&&o(L,t,f,m,k)){R="Callback returned true";break}if(!D(N(m))){R="Gradient has Infinity or NaN";break}if(d=O(S(k,m)),!D(N(d))){R="Search direction has Infinity or NaN";break}if(M=p(d),n>M){R="Newton step smaller than tol";break}for(C=1,l=S(m,d),y=t;i>L&&!(n>C*M)&&(g=P(d,C),y=T(t,g),u=e(y),u-f>=.1*C*l||isNaN(u));)C*=.5,++L;if(n>C*M){R="Line search step size smaller than tol";break}if(L===i){R="maxit reached during line search";break}v=r(y),b=E(v,m),x=S(b,g),w=S(k,b),k=E(T(k,P((x+S(b,w))/(x*x),_(g,g))),A(T(_(w,g),_(g,w)),x)),t=y,f=u,m=v,++L}return{solution:t,f:f,gradient:m,invHessian:k,iterations:L,message:R}},numeric.Dopri=function(e,t,n,r,i,o,a){this.x=e,this.y=t,this.f=n,this.ymid=r,this.iterations=i,this.events=a,this.message=o},numeric.Dopri.prototype._at=function(e,t){function n(e){return e*e}var r,i,o,a,s,u,e,l,c,f,h,p=this,d=p.x,m=p.y,v=p.f,g=p.ymid,y=(d.length,Math.floor,.5),b=numeric.add,w=numeric.mul,x=numeric.sub;return r=d[t],i=d[t+1],a=m[t],s=m[t+1],l=i-r,o=r+y*l,u=g[t],c=x(v[t],w(a,1/(r-o)+2/(r-i))),f=x(v[t+1],w(s,1/(i-o)+2/(i-r))),h=[n(e-i)*(e-o)/n(r-i)/(r-o),n(e-r)*n(e-i)/n(r-o)/n(i-o),n(e-r)*(e-o)/n(i-r)/(i-o),(e-r)*n(e-i)*(e-o)/n(r-i)/(r-o),(e-i)*n(e-r)*(e-o)/n(r-i)/(i-o)],b(b(b(b(w(a,h[0]),w(u,h[1])),w(s,h[2])),w(c,h[3])),w(f,h[4]))},numeric.Dopri.prototype.at=function(e){var t,n,r,i=Math.floor;if("number"!=typeof e){var o=e.length,a=Array(o);for(t=o-1;-1!==t;--t)a[t]=this.at(e[t]);return a}var s=this.x;for(t=0,n=s.length-1;n-t>1;)r=i(.5*(t+n)),s[r]<=e?t=r:n=r;return this._at(e,t)},numeric.dopri=function(e,t,n,r,i,o,a){"undefined"==typeof i&&(i=1e-6),"undefined"==typeof o&&(o=1e3);var s,u,l,c,f,h,p,d,m,v,g,y,b,w=[e],x=[n],C=[r(e,n)],M=[],k=.2,S=[.075,.225],E=[44/45,-56/15,32/9],T=[19372/6561,-25360/2187,64448/6561,-212/729],_=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],A=[35/384,0,500/1113,125/192,-2187/6784,11/84],P=[.10013431883002395,0,.3918321794184259,-0.02982460176594817,.05893268337240795,-0.04497888809104361,.023904308236133973],D=[.2,.3,.8,8/9,1,1],N=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],O=0,L=(t-e)/10,R=0,I=numeric.add,F=numeric.mul,j=(Math.max,Math.min),W=Math.abs,U=numeric.norminf,H=Math.pow,B=numeric.any,V=numeric.lt,z=numeric.and,q=(numeric.sub,new numeric.Dopri(w,x,C,M,-1,""));for("function"==typeof a&&(g=a(e,n));t>e&&o>R;)if(++R,e+L>t&&(L=t-e),s=r(e+D[0]*L,I(n,F(k*L,C[O]))),u=r(e+D[1]*L,I(I(n,F(S[0]*L,C[O])),F(S[1]*L,s))),l=r(e+D[2]*L,I(I(I(n,F(E[0]*L,C[O])),F(E[1]*L,s)),F(E[2]*L,u))),c=r(e+D[3]*L,I(I(I(I(n,F(T[0]*L,C[O])),F(T[1]*L,s)),F(T[2]*L,u)),F(T[3]*L,l))),f=r(e+D[4]*L,I(I(I(I(I(n,F(_[0]*L,C[O])),F(_[1]*L,s)),F(_[2]*L,u)),F(_[3]*L,l)),F(_[4]*L,c))),m=I(I(I(I(I(n,F(C[O],L*A[0])),F(u,L*A[2])),F(l,L*A[3])),F(c,L*A[4])),F(f,L*A[5])),h=r(e+L,m),p=I(I(I(I(I(F(C[O],L*N[0]),F(u,L*N[2])),F(l,L*N[3])),F(c,L*N[4])),F(f,L*N[5])),F(h,L*N[6])),v="number"==typeof p?W(p):U(p),v>i){if(L=.2*L*H(i/v,.25),e+L===e){q.msg="Step size became too small";break}}else{if(M[O]=I(I(I(I(I(I(n,F(C[O],L*P[0])),F(u,L*P[2])),F(l,L*P[3])),F(c,L*P[4])),F(f,L*P[5])),F(h,L*P[6])),++O,w[O]=e+L,x[O]=m,C[O]=h,"function"==typeof a){var K,X,G=e,Y=e+.5*L;if(y=a(Y,M[O-1]),b=z(V(g,0),V(0,y)),B(b)||(G=Y,Y=e+L,g=y,y=a(Y,m),b=z(V(g,0),V(0,y))),B(b)){for(var Q,Z,J=0,$=1,ee=1;;){if("number"==typeof g)X=(ee*y*G-$*g*Y)/(ee*y-$*g);else for(X=Y,d=g.length-1;-1!==d;--d)g[d]<0&&y[d]>0&&(X=j(X,(ee*y[d]*G-$*g[d]*Y)/(ee*y[d]-$*g[d])));if(G>=X||X>=Y)break;K=q._at(X,O-1),Z=a(X,K),Q=z(V(g,0),V(0,Z)),B(Q)?(Y=X,y=Z,b=Q,ee=1,-1===J?$*=.5:$=1,J=-1):(G=X,g=Z,$=1,1===J?ee*=.5:ee=1,J=1)}return m=q._at(.5*(e+X),O-1),q.f[O]=r(X,K),q.x[O]=X,q.y[O]=K,q.ymid[O-1]=m,q.events=b,q.iterations=R,q}}e+=L,n=m,g=y,L=j(.8*L*H(i/v,.25),4*L)}return q.iterations=R,q},numeric.LU=function(e,t){t=t||!1;var n,r,i,o,a,s,u,l,c,f=Math.abs,h=e.length,p=h-1,d=new Array(h);for(t||(e=numeric.clone(e)),i=0;h>i;++i){for(u=i,s=e[i],c=f(s[i]),r=i+1;h>r;++r)o=f(e[r][i]),o>c&&(c=o,u=r);for(d[i]=u,u!=i&&(e[i]=e[u],e[u]=s,s=e[i]),a=s[i],n=i+1;h>n;++n)e[n][i]/=a;for(n=i+1;h>n;++n){for(l=e[n],r=i+1;p>r;++r)l[r]-=l[i]*s[r],++r,l[r]-=l[i]*s[r];r===p&&(l[r]-=l[i]*s[r])}}return{LU:e,P:d}},numeric.LUsolve=function(e,t){var n,r,i,o,a,s=e.LU,u=s.length,l=numeric.clone(t),c=e.P;for(n=u-1;-1!==n;--n)l[n]=t[n];for(n=0;u>n;++n)for(i=c[n],c[n]!==n&&(a=l[n],l[n]=l[i],l[i]=a),o=s[n],r=0;n>r;++r)l[n]-=l[r]*o[r];for(n=u-1;n>=0;--n){for(o=s[n],r=n+1;u>r;++r)l[n]-=l[r]*o[r];l[n]/=o[n]}return l},numeric.solve=function(e,t,n){return numeric.LUsolve(numeric.LU(e,n),t)},numeric.echelonize=function(e){var t,n,r,i,o,a,s,u,l=numeric.dim(e),c=l[0],f=l[1],h=numeric.identity(c),p=Array(c),d=Math.abs,m=numeric.diveq;for(e=numeric.clone(e),t=0;c>t;++t){for(r=0,o=e[t],a=h[t],n=1;f>n;++n)d(o[r])<d(o[n])&&(r=n);for(p[t]=r,m(a,o[r]),m(o,o[r]),n=0;c>n;++n)if(n!==t){for(s=e[n],u=s[r],i=f-1;-1!==i;--i)s[i]-=o[i]*u;for(s=h[n],i=c-1;-1!==i;--i)s[i]-=a[i]*u}}return{I:h,A:e,P:p}},numeric.__solveLP=function(e,t,n,r,i,o,a){var s,u,l,c,f=numeric.sum,h=(numeric.log,numeric.mul),p=numeric.sub,d=numeric.dot,m=numeric.div,v=numeric.add,g=e.length,y=n.length,b=!1,w=0,x=1,C=(numeric.transpose(t),numeric.svd,numeric.transpose),M=(numeric.leq,Math.sqrt),k=Math.abs,S=(numeric.muleq,numeric.norminf,numeric.any,Math.min),E=numeric.all,T=numeric.gt,_=Array(g),A=Array(y),P=(numeric.rep([y],1),numeric.solve),D=p(n,d(t,o)),N=d(e,e);for(l=w;i>l;++l){var O,L;for(O=y-1;-1!==O;--O)A[O]=m(t[O],D[O]);var R=C(A);for(O=g-1;-1!==O;--O)_[O]=f(R[O]);x=.25*k(N/d(e,_));var I=100*M(N/d(_,_));for((!isFinite(x)||x>I)&&(x=I),c=v(e,h(x,_)),u=d(R,A),O=g-1;-1!==O;--O)u[O][O]+=1;L=P(u,m(c,x),!0);var F=m(D,d(t,L)),j=1;for(O=y-1;-1!==O;--O)F[O]<0&&(j=S(j,-.999*F[O]));if(s=p(o,h(L,j)),D=p(n,d(t,s)),!E(T(D,0)))return{solution:o,message:"",iterations:l};if(o=s,r>x)return{solution:s,message:"",iterations:l};if(a){var W=d(e,c),U=d(t,c);for(b=!0,O=y-1;-1!==O;--O)if(W*U[O]<0){b=!1;break}}else b=!(o[g-1]>=0);if(b)return{solution:s,message:"Unbounded",iterations:l}}return{solution:o,message:"maximum iteration count exceeded",iterations:l}},numeric._solveLP=function(e,t,n,r,i){var o,a=e.length,s=n.length,u=(numeric.sum,numeric.log,numeric.mul,numeric.sub),l=numeric.dot,c=(numeric.div,numeric.add,numeric.rep([a],0).concat([1])),f=numeric.rep([s,1],-1),h=numeric.blockMatrix([[t,f]]),p=n,o=numeric.rep([a],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),d=numeric.__solveLP(c,h,p,r,i,o,!1),m=numeric.clone(d.solution);m.length=a;var v=numeric.inf(u(n,l(t,m)));if(0>v)return{solution:NaN,message:"Infeasible",iterations:d.iterations};var g=numeric.__solveLP(e,t,n,r,i-d.iterations,m,!0);return g.iterations+=d.iterations,g},numeric.solveLP=function(e,t,n,r,i,o,a){if("undefined"==typeof a&&(a=1e3),"undefined"==typeof o&&(o=numeric.epsilon),"undefined"==typeof r)return numeric._solveLP(e,t,n,o,a);var s,u=r.length,l=r[0].length,c=t.length,f=numeric.echelonize(r),h=numeric.rep([l],0),p=f.P,d=[];for(s=p.length-1;-1!==s;--s)h[p[s]]=1;for(s=l-1;-1!==s;--s)0===h[s]&&d.push(s);var m=numeric.getRange,v=numeric.linspace(0,u-1),g=numeric.linspace(0,c-1),y=m(r,v,d),b=m(t,g,p),w=m(t,g,d),x=numeric.dot,C=numeric.sub,M=x(b,f.I),k=C(w,x(M,y)),S=C(n,x(M,i)),E=Array(p.length),T=Array(d.length);for(s=p.length-1;-1!==s;--s)E[s]=e[p[s]];for(s=d.length-1;-1!==s;--s)T[s]=e[d[s]];var _=C(T,x(E,x(f.I,y))),A=numeric._solveLP(_,k,S,o,a),P=A.solution;if(P!==P)return A;var D=x(f.I,C(i,x(y,P))),N=Array(e.length);for(s=p.length-1;-1!==s;--s)N[p[s]]=D[s];for(s=d.length-1;-1!==s;--s)N[d[s]]=P[s];return{solution:N,message:A.message,iterations:A.iterations}},numeric.MPStoLP=function(e){function t(t){throw new Error("MPStoLP: "+t+"\nLine "+n+": "+e[n]+"\nCurrent state: "+s[a]+"\n")}e instanceof String&&e.split("\n");var n,r,i,o,a=0,s=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],u=e.length,l=0,c={},f=[],h=0,p={},d=0,m=[],v=[],g=[];for(n=0;u>n;++n){i=e[n];var y=i.match(/\S*/g),b=[];for(r=0;r<y.length;++r)""!==y[r]&&b.push(y[r]);if(0!==b.length){for(r=0;r<s.length&&i.substr(0,s[r].length)!==s[r];++r);if(r<s.length){if(a=r,1===r&&(o=b[1]),6===r)return{name:o,c:m,A:numeric.transpose(v),b:g,rows:c,vars:p}}else switch(a){case 0:case 1:t("Unexpected line");case 2:switch(b[0]){case"N":0===l?l=b[1]:t("Two or more N rows");break;case"L":c[b[1]]=h,f[h]=1,g[h]=0,++h;break;case"G":c[b[1]]=h,f[h]=-1,g[h]=0,++h;break;case"E":c[b[1]]=h,f[h]=0,g[h]=0,++h;break;default:t("Parse error "+numeric.prettyPrint(b))}break;case 3:p.hasOwnProperty(b[0])||(p[b[0]]=d,m[d]=0,v[d]=numeric.rep([h],0),++d);var w=p[b[0]];for(r=1;r<b.length;r+=2)if(b[r]!==l){var x=c[b[r]];v[w][x]=(f[x]<0?-1:1)*parseFloat(b[r+1])}else m[w]=parseFloat(b[r+1]);break;case 4:for(r=1;r<b.length;r+=2)g[c[b[r]]]=(f[c[b[r]]]<0?-1:1)*parseFloat(b[r+1]);break;case 5:break;case 6:t("Internal error")}}}t("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(e,t,n,r,i,o,a){function s(e){var t,r,i=this,o=e.length,a=0,s=i.i=i.j=i.m=0;for(i.S=[],i.c=[],o||(e=[o++]);n>a;)i.S[a]=a++;for(a=0;n>a;a++)t=i.S[a],s=c(s+t+e[a%o]),r=i.S[s],i.S[a]=r,i.S[s]=t;i.g=function(e){var t=i.S,r=c(i.i+1),o=t[r],a=c(i.j+o),s=t[a];t[r]=s,t[a]=o;for(var u=t[c(o+s)];--e;)r=c(r+1),o=t[r],a=c(a+o),s=t[a],t[r]=s,t[a]=o,u=u*n+t[c(o+s)];return i.i=r,i.j=a,u},i.g(n)}function u(e,t,n,r,i){if(n=[],i=typeof e,t&&"object"==i)for(r in e)if(r.indexOf("S")<5)try{n.push(u(e[r],t-1))}catch(o){}return n.length?n:e+("string"!=i?"\x00":"")}function l(e,t,n,r){for(e+="",n=0,r=0;r<e.length;r++)t[c(r)]=c((n^=19*t[c(r)])+e.charCodeAt(r));e="";for(r in t)e+=String.fromCharCode(t[r]);return e}function c(e){return e&n-1}t.seedrandom=function(c,f){var h,p=[];return c=l(u(f?[c,e]:arguments.length?c:[(new Date).getTime(),e,window],3),p),h=new s(p),l(h.S,e),t.random=function(){for(var e=h.g(r),t=a,s=0;i>e;)e=(e+s)*n,t*=n,s=h.g(1);for(;e>=o;)e/=2,t/=2,s>>>=1;return(e+s)/t},c},a=t.pow(n,r),i=t.pow(2,i),o=2*i,l(t.random(),e)}([],numeric.seedrandom,256,6,52),function(e){function t(e){if("object"!=typeof e)return e;var n,r=[],i=e.length;for(n=0;i>n;n++)r[n+1]=t(e[n]);return r}function n(e){if("object"!=typeof e)return e;var t,r=[],i=e.length;for(t=1;i>t;t++)r[t-1]=n(e[t]);return r}function r(e,t,n){var r,i,o,a,s;for(o=1;n>=o;o+=1){for(e[o][o]=1/e[o][o],s=-e[o][o],r=1;o>r;r+=1)e[r][o]=s*e[r][o];if(a=o+1,a>n)break;for(i=a;n>=i;i+=1)for(s=e[o][i],e[o][i]=0,r=1;o>=r;r+=1)e[r][i]=e[r][i]+s*e[r][o]}}function i(e,t,n,r){var i,o,a,s;for(o=1;n>=o;o+=1){for(s=0,i=1;o>i;i+=1)s+=e[i][o]*r[i];r[o]=(r[o]-s)/e[o][o]}for(a=1;n>=a;a+=1)for(o=n+1-a,r[o]=r[o]/e[o][o],s=-r[o],i=1;o>i;i+=1)r[i]=r[i]+s*e[i][o]}function o(e,t,n,r){var i,o,a,s,u,l;for(o=1;n>=o;o+=1){if(r[1]=o,l=0,a=o-1,1>a){if(l=e[o][o]-l,0>=l)break;e[o][o]=Math.sqrt(l)}else{for(s=1;a>=s;s+=1){for(u=e[s][o],i=1;s>i;i+=1)u-=e[i][o]*e[i][s];u/=e[s][s],e[s][o]=u,l+=u*u}if(l=e[o][o]-l,0>=l)break;e[o][o]=Math.sqrt(l)}r[1]=0}}function a(e,t,n,a,s,u,l,c,f,h,p,d,m,v,g,y){function b(){for(v[1]=v[1]+1,E=O,k=1;h>=k;k+=1){for(E+=1,W=-c[k],S=1;a>=S;S+=1)W+=l[S][k]*s[S];if(Math.abs(W)<X&&(W=0),k>p)g[E]=W;else if(g[E]=-Math.abs(W),W>0){for(S=1;a>=S;S+=1)l[S][k]=-l[S][k];c[k]=-c[k]}}for(k=1;m>=k;k+=1)g[O+d[k]]=0;for(R=0,j=0,k=1;h>=k;k+=1)g[O+k]<j*g[F+k]&&(R=k,j=g[O+k]/g[F+k]);return 0===R?999:0}function w(){for(k=1;a>=k;k+=1){for(W=0,S=1;a>=S;S+=1)W+=e[S][k]*l[S][R];g[k]=W}for(T=P,k=1;a>=k;k+=1)g[T+k]=0;for(S=m+1;a>=S;S+=1)for(k=1;a>=k;k+=1)g[T+k]=g[T+k]+e[k][S]*g[S];for(q=!0,k=m;k>=1;k-=1){for(W=g[k],E=N+k*(k+3)/2,T=E-k,S=k+1;m>=S;S+=1)W-=g[E]*g[D+S],E+=S;if(W/=g[T],g[D+k]=W,d[k]<p)break;if(0>W)break;q=!1,A=k}if(!q)for(U=g[L+A]/g[D+A],k=1;m>=k&&!(d[k]<p)&&!(g[D+k]<0);k+=1)j=g[L+k]/g[D+k],U>j&&(U=j,A=k);for(W=0,k=P+1;P+a>=k;k+=1)W+=g[k]*g[k];if(Math.abs(W)<=X){if(q)return y[1]=1,999;for(k=1;m>=k;k+=1)g[L+k]=g[L+k]-U*g[D+k];return g[L+m+1]=g[L+m+1]+U,700}for(W=0,k=1;a>=k;k+=1)W+=g[P+k]*l[k][R];for(H=-g[O+R]/W,K=!0,q||H>U&&(H=U,K=!1),k=1;a>=k;k+=1)s[k]=s[k]+H*g[P+k],Math.abs(s[k])<X&&(s[k]=0);for(u[1]=u[1]+H*W*(H/2+g[L+m+1]),k=1;m>=k;k+=1)g[L+k]=g[L+k]-H*g[D+k];if(g[L+m+1]=g[L+m+1]+H,!K){for(W=-c[R],S=1;a>=S;S+=1)W+=s[S]*l[S][R];if(R>p)g[O+R]=W;else if(g[O+R]=-Math.abs(W),W>0){for(S=1;a>=S;S+=1)l[S][R]=-l[S][R];c[R]=-c[R]}return 700}for(m+=1,d[m]=R,E=N+(m-1)*m/2+1,k=1;m-1>=k;k+=1)g[E]=g[k],E+=1;if(m===a)g[E]=g[a];else{for(k=a;k>=m+1&&0!==g[k]&&(B=Math.max(Math.abs(g[k-1]),Math.abs(g[k])),V=Math.min(Math.abs(g[k-1]),Math.abs(g[k])),j=g[k-1]>=0?Math.abs(B*Math.sqrt(1+V*V/(B*B))):-Math.abs(B*Math.sqrt(1+V*V/(B*B))),B=g[k-1]/j,V=g[k]/j,1!==B);k-=1)if(0===B)for(g[k-1]=V*j,S=1;a>=S;S+=1)j=e[S][k-1],e[S][k-1]=e[S][k],e[S][k]=j;else for(g[k-1]=j,z=V/(1+B),S=1;a>=S;S+=1)j=B*e[S][k-1]+V*e[S][k],e[S][k]=z*(e[S][k-1]+j)-e[S][k],e[S][k-1]=j;g[E]=g[m]}return 0}function x(){if(E=N+A*(A+1)/2+1,T=E+A,0===g[T])return 798;if(B=Math.max(Math.abs(g[T-1]),Math.abs(g[T])),V=Math.min(Math.abs(g[T-1]),Math.abs(g[T])),j=g[T-1]>=0?Math.abs(B*Math.sqrt(1+V*V/(B*B))):-Math.abs(B*Math.sqrt(1+V*V/(B*B))),B=g[T-1]/j,V=g[T]/j,1===B)return 798;if(0===B){for(k=A+1;m>=k;k+=1)j=g[T-1],g[T-1]=g[T],g[T]=j,T+=k;for(k=1;a>=k;k+=1)j=e[k][A],e[k][A]=e[k][A+1],e[k][A+1]=j}else{for(z=V/(1+B),k=A+1;m>=k;k+=1)j=B*g[T-1]+V*g[T],g[T]=z*(g[T-1]+j)-g[T],g[T-1]=j,T+=k;for(k=1;a>=k;k+=1)j=B*e[k][A]+V*e[k][A+1],e[k][A+1]=z*(e[k][A]+j)-e[k][A+1],e[k][A]=j}return 0}function C(){for(T=E-A,k=1;A>=k;k+=1)g[T]=g[E],E+=1,T+=1;return g[L+A]=g[L+A+1],d[A]=d[A+1],A+=1,m>A?797:0}function M(){return g[L+m]=g[L+m+1],g[L+m+1]=0,d[m]=0,m-=1,v[2]=v[2]+1,0}var k,S,E,T,_,A,P,D,N,O,L,R,I,F,j,W,U,H,B,V,z,q,K,X,G,Y,Q;I=Math.min(a,h),E=2*a+I*(I+5)/2+2*h+1,X=1e-60;do X+=X,G=1+.1*X,Y=1+.2*X;while(1>=G||1>=Y);for(k=1;a>=k;k+=1)g[k]=t[k];for(k=a+1;E>=k;k+=1)g[k]=0;for(k=1;h>=k;k+=1)d[k]=0;if(_=[],0===y[1]){if(o(e,n,a,_),0!==_[1])return void(y[1]=2);i(e,n,a,t),r(e,n,a)}else{for(S=1;a>=S;S+=1)for(s[S]=0,k=1;S>=k;k+=1)s[S]=s[S]+e[k][S]*t[k];for(S=1;a>=S;S+=1)for(t[S]=0,k=S;a>=k;k+=1)t[S]=t[S]+e[S][k]*s[k]}for(u[1]=0,S=1;a>=S;S+=1)for(s[S]=t[S],u[1]=u[1]+g[S]*s[S],g[S]=0,k=S+1;a>=k;k+=1)e[k][S]=0;for(u[1]=-u[1]/2,y[1]=0,P=a,D=P+a,L=D+I,N=L+I+1,O=N+I*(I+1)/2,F=O+h,k=1;h>=k;k+=1){for(W=0,S=1;a>=S;S+=1)W+=l[S][k]*l[S][k];g[F+k]=Math.sqrt(W)}for(m=0,v[1]=0,v[2]=0,Q=0;;){if(Q=b(),999===Q)return;for(;;){if(Q=w(),0===Q)break;if(999===Q)return;if(700===Q)if(A===m)M();else{for(;;)if(x(),Q=C(),797!==Q)break;M()}}}}function s(e,r,i,o,s,u){e=t(e),r=t(r),i=t(i);var l,c,f,h,p,d,m=[],v=[],g=[],y=[],b=[];if(s=s||0,u=u?t(u):[void 0,0],o=o?t(o):[],c=e.length-1,f=i[1].length-1,!o)for(l=1;f>=l;l+=1)o[l]=0;for(l=1;f>=l;l+=1)v[l]=0;for(h=0,p=Math.min(c,f),l=1;c>=l;l+=1)g[l]=0;for(m[1]=0,l=1;2*c+p*(p+5)/2+2*f+1>=l;l+=1)y[l]=0;for(l=1;2>=l;l+=1)b[l]=0;return a(e,r,c,c,g,m,i,o,c,f,s,v,h,b,y,u),d="",1===u[1]&&(d="constraints are inconsistent, no solution!"),2===u[1]&&(d="matrix D in quadratic function is not positive definite!"),{solution:n(g),value:n(m),unconstrained_solution:n(r),iterations:n(b),iact:n(v),message:d}}e.solveQP=s}(numeric),numeric.svd=function(e){function t(e,t){return e=Math.abs(e),t=Math.abs(t),e>t?e*Math.sqrt(1+t*t/e/e):0==t?e:t*Math.sqrt(1+e*e/t/t)}var n,r=numeric.epsilon,i=1e-64/r,o=50,a=0,s=0,u=0,l=0,c=0,f=numeric.clone(e),h=f.length,p=f[0].length;if(p>h)throw"Need more rows than columns";var d=new Array(p),m=new Array(p);for(s=0;p>s;s++)d[s]=m[s]=0;var v=numeric.rep([p,p],0),g=0,y=0,b=0,w=0,x=0,C=0,M=0;for(s=0;p>s;s++){for(d[s]=y,M=0,c=s+1,u=s;h>u;u++)M+=f[u][s]*f[u][s];if(i>=M)y=0;else for(g=f[s][s],y=Math.sqrt(M),g>=0&&(y=-y),b=g*y-M,f[s][s]=g-y,u=c;p>u;u++){for(M=0,l=s;h>l;l++)M+=f[l][s]*f[l][u];for(g=M/b,l=s;h>l;l++)f[l][u]+=g*f[l][s]}for(m[s]=y,M=0,u=c;p>u;u++)M+=f[s][u]*f[s][u];if(i>=M)y=0;else{for(g=f[s][s+1],y=Math.sqrt(M),g>=0&&(y=-y),b=g*y-M,f[s][s+1]=g-y,u=c;p>u;u++)d[u]=f[s][u]/b;for(u=c;h>u;u++){for(M=0,l=c;p>l;l++)M+=f[u][l]*f[s][l];for(l=c;p>l;l++)f[u][l]+=M*d[l]}}x=Math.abs(m[s])+Math.abs(d[s]),x>w&&(w=x)}for(s=p-1;-1!=s;s+=-1){if(0!=y){for(b=y*f[s][s+1],u=c;p>u;u++)v[u][s]=f[s][u]/b;for(u=c;p>u;u++){for(M=0,l=c;p>l;l++)M+=f[s][l]*v[l][u];for(l=c;p>l;l++)v[l][u]+=M*v[l][s]}}for(u=c;p>u;u++)v[s][u]=0,v[u][s]=0;v[s][s]=1,y=d[s],c=s}for(s=p-1;-1!=s;s+=-1){for(c=s+1,y=m[s],u=c;p>u;u++)f[s][u]=0;if(0!=y){for(b=f[s][s]*y,u=c;p>u;u++){for(M=0,l=c;h>l;l++)M+=f[l][s]*f[l][u];for(g=M/b,l=s;h>l;l++)f[l][u]+=g*f[l][s]}for(u=s;h>u;u++)f[u][s]=f[u][s]/y}else for(u=s;h>u;u++)f[u][s]=0;f[s][s]+=1}for(r*=w,l=p-1;-1!=l;l+=-1)for(var k=0;o>k;k++){var S=!1;for(c=l;-1!=c;c+=-1){if(Math.abs(d[c])<=r){S=!0;break}if(Math.abs(m[c-1])<=r)break}if(!S){a=0,M=1;var E=c-1;for(s=c;l+1>s&&(g=M*d[s],d[s]=a*d[s],!(Math.abs(g)<=r));s++)for(y=m[s],b=t(g,y),m[s]=b,a=y/b,M=-g/b,u=0;h>u;u++)x=f[u][E],C=f[u][s],f[u][E]=x*a+C*M,f[u][s]=-x*M+C*a}if(C=m[l],c==l){if(0>C)for(m[l]=-C,u=0;p>u;u++)v[u][l]=-v[u][l];break}if(k>=o-1)throw"Error: no convergence.";for(w=m[c],x=m[l-1],y=d[l-1],b=d[l],g=((x-C)*(x+C)+(y-b)*(y+b))/(2*b*x),y=t(g,1),g=0>g?((w-C)*(w+C)+b*(x/(g-y)-b))/w:((w-C)*(w+C)+b*(x/(g+y)-b))/w,a=1,M=1,s=c+1;l+1>s;s++){for(y=d[s],x=m[s],b=M*y,y=a*y,C=t(g,b),d[s-1]=C,a=g/C,M=b/C,g=w*a+y*M,y=-w*M+y*a,b=x*M,x*=a,u=0;p>u;u++)w=v[u][s-1],C=v[u][s],v[u][s-1]=w*a+C*M,v[u][s]=-w*M+C*a;for(C=t(g,b),m[s-1]=C,a=g/C,M=b/C,g=a*y+M*x,w=-M*y+a*x,u=0;h>u;u++)x=f[u][s-1],C=f[u][s],f[u][s-1]=x*a+C*M,f[u][s]=-x*M+C*a}d[c]=0,d[l]=g,m[l]=w}for(s=0;s<m.length;s++)m[s]<r&&(m[s]=0);for(s=0;p>s;s++)for(u=s-1;u>=0;u--)if(m[u]<m[s]){for(a=m[u],m[u]=m[s],m[s]=a,l=0;l<f.length;l++)n=f[l][s],f[l][s]=f[l][u],f[l][u]=n;for(l=0;l<v.length;l++)n=v[l][s],v[l][s]=v[l][u],v[l][u]=n;s=u}return{U:f,S:m,V:v}}}).call(exports,function(){return this}())},function(e,t){function n(){l=!1,a.length?u=a.concat(u):c=-1,u.length&&r()}function r(){if(!l){var e=setTimeout(n);l=!0;for(var t=u.length;t;){for(a=u,u=[];++c<t;)a&&a[c].run();c=-1,t=u.length}a=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},u=[],l=!1,c=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new i(e,t)),1!==u.length||l||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){(function(t,n){/*!
	 *
	 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
	 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
	 *
	 * With parts by Tyler Close
	 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
	 * at http://www.opensource.org/licenses/mit-license.html
	 * Forked at ref_send.js version: 2009-05-11
	 *
	 * With parts by Mark Miller
	 * Copyright (C) 2011 Google Inc.
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 *
	 */
!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else{e.exports=t()}}(function(){"use strict";function e(e){return function(){return Q.apply(e,arguments)}}function r(e){return e===Object(e)}function i(e){return"[object StopIteration]"===ie(e)||e instanceof K}function o(e,t){if(V&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(oe)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\n"+oe+"\n");e.stack=a(i)}}function a(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];l(i)||s(i)||!i||n.push(i)}return n.join("\n")}function s(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function u(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function l(e){var t=u(e);if(!t)return!1;var n=t[0],r=t[1];return n===q&&r>=X&&ce>=r}function c(){if(V)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=u(n);if(!r)return;return q=r[0],r[1]}}function f(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function h(e){return e instanceof v?e:w(e)?A(e):_(e)}function p(){function e(e){t=e,o.source=e,J(n,function(t,n){h.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],i=te(p.prototype),o=te(v.prototype);if(o.promiseDispatch=function(e,i,o){var a=Z(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):h.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(n)return o;var e=y(t);return b(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},h.longStackSupport&&V)try{throw new Error}catch(a){o.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(n){t||e(h(n))},i.fulfill=function(n){t||e(_(n))},i.reject=function(n){t||e(T(n))},i.notify=function(e){t||J(r,function(t,n){h.nextTick(function(){n(e)})},void 0)},i}function d(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=p();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function m(e){return d(function(t,n){for(var r=0,i=e.length;i>r;r++)h(e[r]).then(t,n)})}function v(e,t,n){void 0===t&&(t=function(e){return T(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=te(v.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(s){a=T(s)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function g(e,t,n,r){return h(e).then(t,n,r)}function y(e){if(b(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function b(e){return e instanceof v}function w(e){return r(e)&&"function"==typeof e.then}function x(e){return b(e)&&"pending"===e.inspect().state}function C(e){return!b(e)||"fulfilled"===e.inspect().state}function M(e){return b(e)&&"rejected"===e.inspect().state}function k(){ae.length=0,se.length=0,le||(le=!0)}function S(e,n){le&&("object"==typeof t&&"function"==typeof t.emit&&h.nextTick.runAfter(function(){-1!==$(se,e)&&(t.emit("unhandledRejection",n,e),ue.push(e))}),se.push(e),n&&"undefined"!=typeof n.stack?ae.push(n.stack):ae.push("(no stack) "+n))}function E(e){if(le){var n=$(se,e);-1!==n&&("object"==typeof t&&"function"==typeof t.emit&&h.nextTick.runAfter(function(){var r=$(ue,e);-1!==r&&(t.emit("rejectionHandled",ae[n],e),ue.splice(r,1))}),se.splice(n,1),ae.splice(n,1))}}function T(e){var t=v({when:function(t){return t&&E(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return S(t,e),t}function _(e){return v({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return re(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function A(e){var t=p();return h.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function P(e){return v({isDef:function(){}},function(t,n){return I(e,t,n)},function(){return h(e).inspect()})}function D(e,t,n){return h(e).spread(t,n)}function N(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=n[e](t)}catch(s){return T(s)}return a.done?h(a.value):g(a.value,r,o)}try{a=n[e](t)}catch(s){return i(s)?h(s.value):T(s)}return g(a,r,o)}var n=e.apply(this,arguments),r=t.bind(t,"next"),o=t.bind(t,"throw");return r()}}function O(e){h.done(h.async(e)())}function L(e){throw new K(e)}function R(e){return function(){return D([this,F(arguments)],function(t,n){return e.apply(t,n)})}}function I(e,t,n){return h(e).dispatch(t,n)}function F(e){return g(e,function(e){var t=0,n=p();return J(e,function(r,i,o){var a;b(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,g(i,function(r){e[o]=r,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function j(e){if(0===e.length)return h.resolve();var t=h.defer(),n=0;return J(e,function(r,i,o){function a(e){t.resolve(e)}function s(){n--,0===n&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function u(e){t.notify({index:o,value:e})}var l=e[o];n++,g(l,a,s,u)},void 0),t.promise}function W(e){return g(e,function(e){return e=ee(e,h),g(F(ee(e,function(e){return g(e,G,G)})),function(){return e})})}function U(e){return h(e).allSettled()}function H(e,t){return h(e).then(void 0,void 0,t)}function B(e,t){return h(e).nodeify(t)}var V=!1;try{throw new Error}catch(z){V=!!z.stack}var q,K,X=c(),G=function(){},Y=function(){function e(){for(var e,t;i.next;)i=i.next,e=i.task,i.task=void 0,t=i.domain,t&&(i.domain=void 0,t.enter()),r(e,t);for(;l.length;)e=l.pop(),r(e);a=!1}function r(t,n){try{t()}catch(r){if(u)throw n&&n.exit(),setTimeout(e,0),n&&n.enter(),r;setTimeout(function(){throw r},0)}n&&n.exit()}var i={task:void 0,next:null},o=i,a=!1,s=void 0,u=!1,l=[];if(Y=function(e){o=o.next={task:e,domain:u&&t.domain,next:null},a||(a=!0,s())},"object"==typeof t&&"[object process]"===t.toString()&&t.nextTick)u=!0,s=function(){t.nextTick(e)};else if("function"==typeof n)s="undefined"!=typeof window?n.bind(window,e):function(){n(e)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=function(){s=f,c.port1.onmessage=e,e()};var f=function(){c.port2.postMessage(0)};s=function(){setTimeout(e,0),f()}}else s=function(){setTimeout(e,0)};return Y.runAfter=function(e){l.push(e),a||(a=!0,s())},Y}(),Q=Function.call,Z=e(Array.prototype.slice),J=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(t=e(t,this[n],n));return t}),$=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),ee=e(Array.prototype.map||function(e,t){var n=this,r=[];return J(n,function(i,o,a){r.push(e.call(t,o,a,n))},void 0),r}),te=Object.create||function(e){function t(){}return t.prototype=e,new t},ne=e(Object.prototype.hasOwnProperty),re=Object.keys||function(e){var t=[];for(var n in e)ne(e,n)&&t.push(n);return t},ie=e(Object.prototype.toString);K="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var oe="From previous event:";h.resolve=h,h.nextTick=Y,h.longStackSupport=!1,"object"==typeof t&&t&&{NODE_ENV:"production"}.Q_DEBUG&&(h.longStackSupport=!0),h.defer=p,p.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(Z(arguments,1)):e.resolve(n)}},h.Promise=d,h.promise=d,d.race=m,d.all=F,d.reject=T,d.resolve=h,h.passByCopy=function(e){return e},v.prototype.passByCopy=function(){return this},h.join=function(e,t){return h(e).join(t)},v.prototype.join=function(e){return h([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},h.race=m,v.prototype.race=function(){return this.then(h.race)},h.makePromise=v,v.prototype.toString=function(){return"[object Promise]"},v.prototype.then=function(e,t,n){function r(t){try{return"function"==typeof e?e(t):t}catch(n){return T(n)}}function i(e){if("function"==typeof t){o(e,s);try{return t(e)}catch(n){return T(n)}}return T(e)}function a(e){return"function"==typeof n?n(e):e}var s=this,u=p(),l=!1;return h.nextTick(function(){s.promiseDispatch(function(e){l||(l=!0,u.resolve(r(e)))},"when",[function(e){l||(l=!0,u.resolve(i(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=a(e)}catch(r){if(n=!0,!h.onerror)throw r;h.onerror(r)}n||u.notify(t)}]),u.promise},h.tap=function(e,t){return h(e).tap(t)},v.prototype.tap=function(e){return e=h(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},h.when=g,v.prototype.thenResolve=function(e){return this.then(function(){return e})},h.thenResolve=function(e,t){return h(e).thenResolve(t)},v.prototype.thenReject=function(e){return this.then(function(){throw e})},h.thenReject=function(e,t){return h(e).thenReject(t)},h.nearer=y,h.isPromise=b,h.isPromiseAlike=w,h.isPending=x,v.prototype.isPending=function(){return"pending"===this.inspect().state},h.isFulfilled=C,v.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},h.isRejected=M,v.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ae=[],se=[],ue=[],le=!0;h.resetUnhandledRejections=k,h.getUnhandledReasons=function(){return ae.slice()},h.stopUnhandledRejectionTracking=function(){k(),le=!1},k(),h.reject=T,h.fulfill=_,h.master=P,h.spread=D,v.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},h.async=N,h.spawn=O,h["return"]=L,h.promised=R,h.dispatch=I,v.prototype.dispatch=function(e,t){var n=this,r=p();return h.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},h.get=function(e,t){return h(e).dispatch("get",[t])},v.prototype.get=function(e){return this.dispatch("get",[e])},h.set=function(e,t,n){return h(e).dispatch("set",[t,n])},v.prototype.set=function(e,t){return this.dispatch("set",[e,t])},h.del=h["delete"]=function(e,t){return h(e).dispatch("delete",[t])},v.prototype.del=v.prototype["delete"]=function(e){return this.dispatch("delete",[e])},h.mapply=h.post=function(e,t,n){return h(e).dispatch("post",[t,n])},v.prototype.mapply=v.prototype.post=function(e,t){return this.dispatch("post",[e,t])},h.send=h.mcall=h.invoke=function(e,t){return h(e).dispatch("post",[t,Z(arguments,2)])},v.prototype.send=v.prototype.mcall=v.prototype.invoke=function(e){return this.dispatch("post",[e,Z(arguments,1)])},h.fapply=function(e,t){return h(e).dispatch("apply",[void 0,t])},v.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},h["try"]=h.fcall=function(e){return h(e).dispatch("apply",[void 0,Z(arguments,1)])},v.prototype.fcall=function(){return this.dispatch("apply",[void 0,Z(arguments)])},h.fbind=function(e){var t=h(e),n=Z(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(Z(arguments))])}},v.prototype.fbind=function(){var e=this,t=Z(arguments);return function(){return e.dispatch("apply",[this,t.concat(Z(arguments))])}},h.keys=function(e){return h(e).dispatch("keys",[])},v.prototype.keys=function(){return this.dispatch("keys",[])},h.all=F,v.prototype.all=function(){return F(this)},h.any=j,v.prototype.any=function(){return j(this)},h.allResolved=f(W,"allResolved","allSettled"),v.prototype.allResolved=function(){return W(this)},h.allSettled=U,v.prototype.allSettled=function(){return this.then(function(e){return F(ee(e,function(e){function t(){return e.inspect()}return e=h(e),e.then(t,t)}))})},h.fail=h["catch"]=function(e,t){return h(e).then(void 0,t)},v.prototype.fail=v.prototype["catch"]=function(e){return this.then(void 0,e)},h.progress=H,v.prototype.progress=function(e){return this.then(void 0,void 0,e)},h.fin=h["finally"]=function(e,t){return h(e)["finally"](t)},v.prototype.fin=v.prototype["finally"]=function(e){return e=h(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},h.done=function(e,t,n,r){return h(e).done(t,n,r)},v.prototype.done=function(e,n,r){var i=function(e){h.nextTick(function(){if(o(e,a),!h.onerror)throw e;h.onerror(e)})},a=e||n||r?this.then(e,n,r):this;"object"==typeof t&&t&&t.domain&&(i=t.domain.bind(i)),a.then(void 0,i)},h.timeout=function(e,t,n){return h(e).timeout(t,n)},v.prototype.timeout=function(e,t){var n=p(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},h.delay=function(e,t){return void 0===t&&(t=e,e=void 0),h(e).delay(t)},v.prototype.delay=function(e){return this.then(function(t){var n=p();return setTimeout(function(){n.resolve(t)},e),n.promise})},h.nfapply=function(e,t){return h(e).nfapply(t)},v.prototype.nfapply=function(e){var t=p(),n=Z(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},h.nfcall=function(e){var t=Z(arguments,1);return h(e).nfapply(t)},v.prototype.nfcall=function(){var e=Z(arguments),t=p();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},h.nfbind=h.denodeify=function(e){var t=Z(arguments,1);return function(){var n=t.concat(Z(arguments)),r=p();return n.push(r.makeNodeResolver()),h(e).fapply(n).fail(r.reject),r.promise}},v.prototype.nfbind=v.prototype.denodeify=function(){var e=Z(arguments);return e.unshift(this),h.denodeify.apply(void 0,e)},h.nbind=function(e,t){var n=Z(arguments,2);return function(){function r(){return e.apply(t,arguments)}var i=n.concat(Z(arguments)),o=p();return i.push(o.makeNodeResolver()),h(r).fapply(i).fail(o.reject),o.promise}},v.prototype.nbind=function(){var e=Z(arguments,0);return e.unshift(this),h.nbind.apply(void 0,e)},h.nmapply=h.npost=function(e,t,n){return h(e).npost(t,n)},v.prototype.nmapply=v.prototype.npost=function(e,t){var n=Z(t||[]),r=p();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},h.nsend=h.nmcall=h.ninvoke=function(e,t){var n=Z(arguments,2),r=p();return n.push(r.makeNodeResolver()),h(e).dispatch("post",[t,n]).fail(r.reject),r.promise},v.prototype.nsend=v.prototype.nmcall=v.prototype.ninvoke=function(e){var t=Z(arguments,1),n=p();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},h.nodeify=B,v.prototype.nodeify=function(e){return e?void this.then(function(t){h.nextTick(function(){e(null,t)})},function(t){h.nextTick(function(){e(t)})}):this},h.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ce=c();return h})}).call(t,n(73),n(61).setImmediate)},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:o};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var i=n(164),o=n(93),a=n(11),s=n(37),u=n(57),l=n(1),c={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:u,processUpdates:function(e,t){for(var n,a=null,c=null,f=0;f<e.length;f++)if(n=e[f],n.type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var h=n.fromIndex,p=n.parentNode.childNodes[h],d=n.parentID;p?void 0:l(!1),a=a||{},a[d]=a[d]||[],a[d][h]=p,c=c||[],c.push(p)}var m;if(m=t.length&&"string"==typeof t[0]?i.dangerouslyRenderMarkup(t):t,c)for(var v=0;v<c.length;v++)c[v].parentNode.removeChild(c[v]);for(var g=0;g<e.length;g++)switch(n=e[g],n.type){case o.INSERT_MARKUP:r(n.parentNode,m[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:r(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case o.SET_MARKUP:s(n.parentNode,n.content);break;case o.TEXT_CONTENT:u(n.parentNode,n.content);break;case o.REMOVE_NODE:}}};a.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),e.exports=c},function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a(!1),!l.plugins[n]){t.extractEvents?void 0:a(!1),l.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)?void 0:a(!1)}}}function i(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return e.registrationName?(o(e.registrationName,t,n),!0):!1}function o(e,t,n){l.registrationNameModules[e]?a(!1):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(1),s=null,u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s?a(!1):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];u.hasOwnProperty(n)&&u[n]===i||(u[n]?a(!1):void 0,u[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=l},function(e,t,n){"use strict";function r(e){return(""+e).replace(w,"//")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);g(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?l(u,i,n,v.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,o+(u!==t?r(u.key||"")+"/":"")+n)),i.push(u))}function l(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(t,a,i,o);g(e,u,l),s.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function f(e,t,n){return null}function h(e,t){return g(e,f,null)}function p(e){var t=[];return l(e,t,null,v.thatReturnsArgument),t}var d=n(18),m=n(10),v=n(13),g=n(59),y=d.twoArgumentPooler,b=d.fourArgumentPooler,w=/\/(?!\/)/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(s,b);var x={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:h,toArray:p};e.exports=x},function(e,t,n){"use strict";function r(e,t){var n=C.hasOwnProperty(t)?C[t]:null;k.hasOwnProperty(t)&&(n!==w.OVERRIDE_BASE?v(!1):void 0),e.hasOwnProperty(t)&&(n!==w.DEFINE_MANY&&n!==w.DEFINE_MANY_MERGED?v(!1):void 0)}function i(e,t){if(t){"function"==typeof t?v(!1):void 0,h.isValidElement(t)?v(!1):void 0;var n=e.prototype;t.hasOwnProperty(b)&&M.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==b){var o=t[i];if(r(n,i),M.hasOwnProperty(i))M[i](e,o);else{var a=C.hasOwnProperty(i),l=n.hasOwnProperty(i),c="function"==typeof o,f=c&&!a&&!l&&t.autobind!==!1;if(f)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=o,n[i]=o;else if(l){var p=C[i];!a||p!==w.DEFINE_MANY_MERGED&&p!==w.DEFINE_MANY?v(!1):void 0,p===w.DEFINE_MANY_MERGED?n[i]=s(n[i],o):p===w.DEFINE_MANY&&(n[i]=u(n[i],o))}else n[i]=o}}}}function o(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in M;i?v(!1):void 0;var o=n in e;o?v(!1):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:v(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?v(!1):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=l(e,n)}}var f=n(80),h=n(10),p=(n(32),n(31),n(95)),d=n(3),m=n(23),v=n(1),g=n(29),y=n(17),b=(n(2),y({mixins:null})),w=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],C={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},M={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},k={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},S=function(){};d(S.prototype,f.prototype,k);var E={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindMap&&c(this),this.props=e,this.context=t,this.refs=m,this.updater=n||p,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?v(!1):void 0,this.state=r};t.prototype=new S,t.prototype.constructor=t,x.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:v(!1);for(var n in C)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){x.push(e)}}};e.exports=E},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||i}var i=n(95),o=(n(35),n(23)),a=n(1);n(2);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};e.exports=r},function(e,t,n){"use strict";var r=n(16),i=n(84),o=n(86),a=n(22),s=n(8),u=n(11),l=n(19),c=n(12),f=n(49),h=n(50),p=n(213);n(2);o.inject();var d=u.measure("React","render",s.render),m={findDOMNode:h,render:d,unmountComponentAtNode:s.unmountComponentAtNode,version:f,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:a,Mount:s,Reconciler:l,TextComponent:i});e.exports=m},function(e,t){"use strict";var n={useCreateElement:!1};e.exports=n},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=a.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=s.getNode(e._rootNodeID).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,u.asap(r,this),n}var a=n(44),s=n(8),u=n(12),l=n(3),c=(n(2),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),f={valueContextKey:c,getNativeProps:function(e,t,n){return l({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=a.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=l({},n);return r[c]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=a.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=f},function(e,t,n){"use strict";var r=n(76),i=n(43),o=n(45),a=n(8),s=n(3),u=n(36),l=n(57),c=(n(60),function(e){});s(c.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(this._rootNodeID=e,t.useCreateElement){var r=n[a.ownerDocumentContextKey],o=r.createElement("span");return i.setAttributeForID(o,e),a.getID(o),l(o,this._stringText),o}var s=u(this._stringText);return t.renderToStaticMarkup?s:"<span "+i.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var i=a.getNode(this._rootNodeID);r.updateTextContent(i,n)}}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=c},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(12),o=n(34),a=n(3),s=n(13),u={initialize:s,close:function(){h.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,u];a(r.prototype,o.Mixin,{getTransactionWrappers:function(){return c}});var f=new r,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=h.isBatchingUpdates;h.isBatchingUpdates=!0,a?e(t,n,r,i,o):f.perform(e,null,t,n,r,i,o)}};e.exports=h},function(e,t,n){"use strict";function r(){if(!S){S=!0,g.EventEmitter.injectReactEventListener(v),g.EventPluginHub.injectEventPluginOrder(s),g.EventPluginHub.injectInstanceHandle(y),g.EventPluginHub.injectMount(b),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:M,EnterLeaveEventPlugin:u,ChangeEventPlugin:o,SelectEventPlugin:x,BeforeInputEventPlugin:i}),g.NativeComponent.injectGenericComponentClass(d),g.NativeComponent.injectTextComponentClass(m),g.Class.injectMixin(f),g.DOMProperty.injectDOMPropertyConfig(c),g.DOMProperty.injectDOMPropertyConfig(k),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(w),g.Updates.injectBatchingStrategy(p),g.RootIndex.injectCreateReactRootIndex(l.canUseDOM?a.createReactRootIndex:C.createReactRootIndex),g.Component.injectEnvironment(h)}}var i=n(160),o=n(162),a=n(163),s=n(165),u=n(166),l=n(7),c=n(169),f=n(171),h=n(45),p=n(85),d=n(175),m=n(84),v=n(183),g=n(184),y=n(22),b=n(8),w=n(188),x=n(194),C=n(195),M=n(196),k=n(193),S=!1;e.exports={inject:r}},function(e,t,n){"use strict";function r(){if(f.current){var e=f.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;o("uniqueKey",e,t)}}function o(e,t,n){var i=r();if(!i){var o="string"==typeof n?n:n.displayName||n.name;o&&(i=" Check the top-level render call using <"+o+">.")}var a=d[e]||(d[e]={});if(a[i])return null;a[i]=!0;var s={parentOrOwner:i,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==f.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];l.isValidElement(r)&&i(r,t)}else if(l.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=h(e);if(o&&o!==e.entries)for(var a,s=o.call(e);!(a=s.next()).done;)l.isValidElement(a.value)&&i(a.value,t)}}function s(e,t,n,i){for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]?p(!1):void 0,a=t[o](n,o,e,i)}catch(s){a=s}if(a instanceof Error&&!(a.message in m)){m[a.message]=!0;r()}}}function u(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps}}var l=n(10),c=n(32),f=(n(31),n(16)),h=(n(35),n(54)),p=n(1),d=(n(2),{}),m={},v={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,i=l.createElement.apply(this,arguments);if(null==i)return i;if(r)for(var o=2;o<arguments.length;o++)a(arguments[o],e);return u(i),i},createFactory:function(e){var t=v.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=l.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)a(arguments[i],r.type);return u(r),r}};e.exports=v},function(e,t,n){"use strict";function r(){a.registerNullComponentID(this._rootNodeID)}var i,o=n(10),a=n(89),s=n(19),u=n(3),l={injectEmptyComponent:function(e){i=o.createElement(e)}},c=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(i)};u(c.prototype,{construct:function(e){},mountComponent:function(e,t,n){return t.getReactMountReady().enqueue(r,this),this._rootNodeID=e,s.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){s.unmountComponent(this._renderedComponent),a.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),c.injection=l,e.exports=c;
},function(e,t){"use strict";function n(e){return!!o[e]}function r(e){o[e]=!0}function i(e){delete o[e]}var o={},a={isNullComponentID:n,registerNullComponentID:r,deregisterNullComponentID:i};e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(o){return void(null===i&&(i=o))}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(179),o=n(66),a=n(67),s=n(68),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=u},function(e,t,n){"use strict";var r=n(205),i=/\/?>/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(i," "+o.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=o},function(e,t,n){"use strict";var r=n(29),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=i},function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=f[t];return null==n&&(f[t]=n=l(t)),n}function i(e){return c?void 0:u(!1),new c(e.type,e.props)}function o(e){return new h(e)}function a(e){return e instanceof h}var s=n(3),u=n(1),l=null,c=null,f={},h=null,p={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){h=e},injectComponentClasses:function(e){s(f,e)}},d={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:a,injection:p};e.exports=d},function(e,t,n){"use strict";function r(e,t){}var i=(n(2),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")},enqueueSetProps:function(e,t){r(e,"setProps")},enqueueReplaceProps:function(e,t){r(e,"replaceProps")}});e.exports=i},function(e,t,n){"use strict";function r(e){function t(t,n,r,i,o,a){if(i=i||C,a=a||r,null==n[r]){var s=b[o];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,o,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,i,o){var a=t[n],s=m(a);if(s!==e){var u=b[i],l=v(a);return new Error("Invalid "+u+" `"+o+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function o(){return r(w.thatReturns(null))}function a(e){function t(t,n,r,i,o){var a=t[n];if(!Array.isArray(a)){var s=b[i],u=m(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<a.length;l++){var c=e(a,l,r,i,o+"["+l+"]");if(c instanceof Error)return c}return null}return r(t)}function s(){function e(e,t,n,r,i){if(!y.isValidElement(e[t])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function u(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=b[i],s=e.name||C,u=g(t[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return r(t)}function l(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(a===e[s])return null;var u=b[i],l=JSON.stringify(e);return new Error("Invalid "+u+" `"+o+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(e){function t(t,n,r,i,o){var a=t[n],s=m(a);if("object"!==s){var u=b[i];return new Error("Invalid "+u+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var l in a)if(a.hasOwnProperty(l)){var c=e(a,l,r,i,o+"."+l);if(c instanceof Error)return c}return null}return r(t)}function f(e){function t(t,n,r,i,o){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,r,i,o))return null}var u=b[i];return new Error("Invalid "+u+" `"+o+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function h(){function e(e,t,n,r,i){if(!d(e[t])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function p(e){function t(t,n,r,i,o){var a=t[n],s=m(a);if("object"!==s){var u=b[i];return new Error("Invalid "+u+" `"+o+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var f=c(a,l,r,i,o+"."+l);if(f)return f}}return null}return r(t)}function d(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(d);if(null===e||y.isValidElement(e))return!0;var t=x(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!d(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!d(i[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function v(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var y=n(10),b=n(31),w=n(13),x=n(54),C="<<anonymous>>",M={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:o(),arrayOf:a,element:s(),instanceOf:u,node:h(),objectOf:c,oneOf:l,oneOfType:f,shape:p};e.exports=M},function(e,t){"use strict";var n={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:n};e.exports=r},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){"use strict";function r(e,t){if(null==t?i(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var i=n(1);e.exports=r},function(e,t){"use strict";var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=n},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(7),o=null;e.exports=r},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&r[e.type]||"textarea"===t)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";e.exports=n(170)},function(e,t,n){!function(e){e(n(38))}(function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}function n(t,n){var r=e.cmpPos(n.from,t.from);return r>0&&t.to.ch-t.from.ch!=n.to.ch-n.from.ch}function r(e,t,n){var r=e.options.hintOptions,i={};for(var o in m)i[o]=m[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}function i(e){return"string"==typeof e?e:e.text}function o(e,t){function n(e,n){var i;i="string"!=typeof n?function(e){return n(e,t)}:r.hasOwnProperty(n)?r[n]:n,o[e]=i}var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},i=e.options.customKeys,o=i?{}:r;if(i)for(var a in i)i.hasOwnProperty(a)&&n(a,i[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&n(a,s[a]);return o}function a(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function s(t,n){this.completion=t,this.data=n,this.picked=!1;var r=this,s=t.cm,u=this.hints=document.createElement("ul");u.className="CodeMirror-hints",this.selectedHint=n.selectedHint||0;for(var l=n.list,c=0;c<l.length;++c){var p=u.appendChild(document.createElement("li")),d=l[c],m=f+(c!=this.selectedHint?"":" "+h);null!=d.className&&(m=d.className+" "+m),p.className=m,d.render?d.render(p,n,d):p.appendChild(document.createTextNode(d.displayText||i(d))),p.hintId=c}var v=s.cursorCoords(t.options.alignWithWord?n.from:null),g=v.left,y=v.bottom,b=!0;u.style.left=g+"px",u.style.top=y+"px";var w=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),x=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(u);var C=u.getBoundingClientRect(),M=C.bottom-x;if(M>0){var k=C.bottom-C.top,S=v.top-(v.bottom-C.top);if(S-k>0)u.style.top=(y=v.top-k)+"px",b=!1;else if(k>x){u.style.height=x-5+"px",u.style.top=(y=v.bottom-C.top)+"px";var E=s.getCursor();n.from.ch!=E.ch&&(v=s.cursorCoords(E),u.style.left=(g=v.left)+"px",C=u.getBoundingClientRect())}}var T=C.right-w;if(T>0&&(C.right-C.left>w&&(u.style.width=w-5+"px",T-=C.right-C.left-w),u.style.left=(g=v.left-T)+"px"),s.addKeyMap(this.keyMap=o(t,{moveFocus:function(e,t){r.changeActive(r.selectedHint+e,t)},setFocus:function(e){r.changeActive(e)},menuSize:function(){return r.screenAmount()},length:l.length,close:function(){t.close()},pick:function(){r.pick()},data:n})),t.options.closeOnUnfocus){var _;s.on("blur",this.onBlur=function(){_=setTimeout(function(){t.close()},100)}),s.on("focus",this.onFocus=function(){clearTimeout(_)})}var A=s.getScrollInfo();return s.on("scroll",this.onScroll=function(){var e=s.getScrollInfo(),n=s.getWrapperElement().getBoundingClientRect(),r=y+A.top-e.top,i=r-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return b||(i+=u.offsetHeight),i<=n.top||i>=n.bottom?t.close():(u.style.top=r+"px",void(u.style.left=g+A.left-e.left+"px"))}),e.on(u,"dblclick",function(e){var t=a(u,e.target||e.srcElement);t&&null!=t.hintId&&(r.changeActive(t.hintId),r.pick())}),e.on(u,"click",function(e){var n=a(u,e.target||e.srcElement);n&&null!=n.hintId&&(r.changeActive(n.hintId),t.options.completeOnSingleClick&&r.pick())}),e.on(u,"mousedown",function(){setTimeout(function(){s.focus()},20)}),e.signal(n,"select",l[0],u.firstChild),!0}function u(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}function l(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}function c(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var o=function(e,t,n){function r(i){return i==o.length?t(null):void l(o[i],e,n,function(e){e&&e.list.length>0?t(e):r(i+1)})}var o=u(e,i);r(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}var f="CodeMirror-hint",h="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",function(n){n=r(this,this.getCursor("start"),n);var i=this.listSelections();if(!(i.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var o=0;o<i.length;o++)if(i[o].head.line!=i[o].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var a=this.state.completionActive=new t(this,n);a.options.hint&&(e.signal(this,"startCompletion",this),a.update(!0))}});var p=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},d=window.cancelAnimationFrame||clearTimeout;t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(i(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(d(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var n=this;this.debounce=p(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;l(this.options.hint,this.cm,this.options,function(r){t.tick==n&&t.finishUpdate(r,e)})}},finishUpdate:function(t,r){this.data&&e.signal(this.data,"update");var i=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),t&&this.data&&n(this.data,t)||(this.data=t,t&&t.list.length&&(i&&1==t.list.length?this.pick(t,0):(this.widget=new s(this,t),e.signal(t,"shown"))))}},s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:0>t&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+h,""),r=this.hints.childNodes[this.selectedHint=t],r.className+=" "+h,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:c}),e.registerHelper("hint","fromList",function(t,n){var r=t.getCursor(),i=t.getTokenAt(r),o=e.Pos(r.line,i.end);if(i.string&&/\w/.test(i.string[i.string.length-1]))var a=i.string,s=e.Pos(r.line,i.start);else var a="",s=o;for(var u=[],l=0;l<n.words.length;l++){var c=n.words[l];c.slice(0,a.length)==a&&u.push(c)}return u.length?{list:u,from:s,to:o}:void 0}),e.commands.autocomplete=e.showHint;var m={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)})},function(e,t,n){!function(e){e(n(38))}(function(e){"use strict";function t(e,t,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}e.defineMode("javascript",function(n,r){function i(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function o(e,t,n){return we=e,xe=n,t}function a(e,n){var r=e.next();if('"'==r||"'"==r)return n.tokenize=s(r),n.tokenize(e,n);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==r&&e.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return o(r);if("="==r&&e.eat(">"))return o("=>","operator");if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),o("number","number");if("0"==r&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),o("number","number");if("0"==r&&e.eat(/b/i))return e.eatWhile(/[01]/i),o("number","number");if(/\d/.test(r))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==r)return e.eat("*")?(n.tokenize=u,u(e,n)):e.eat("/")?(e.skipToEnd(),o("comment","comment")):t(e,n,1)?(i(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(e.eatWhile(Ae),o("operator","operator",e.current()));if("`"==r)return n.tokenize=l,l(e,n);if("#"==r)return e.skipToEnd(),o("error","error");if(Ae.test(r))return e.eatWhile(Ae),o("operator","operator",e.current());if(Te.test(r)){e.eatWhile(Te);var a=e.current(),c=_e.propertyIsEnumerable(a)&&_e[a];return c&&"."!=n.lastType?o(c.type,c.style,a):o("variable","variable",a)}}function s(e){return function(t,n){var r,i=!1;if(ke&&"@"==t.peek()&&t.match(Pe))return n.tokenize=a,o("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||i);)i=!i&&"\\"==r;return i||(n.tokenize=a),o("string","string")}}function u(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=a;break}r="*"==n}return o("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=a;break}r=!r&&"\\"==n}return o("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var r=0,i=!1,o=n-1;o>=0;--o){var a=e.string.charAt(o),s=De.indexOf(a);if(s>=0&&3>s){if(!r){++o;break}if(0==--r)break}else if(s>=3&&6>s)++r;else if(Te.test(a))i=!0;else{if(/["'\/]/.test(a))return;if(i&&!r){++o;break}}}i&&!r&&(t.fatArrowAt=o)}}function f(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function h(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function p(e,t,n,r,i){var o=e.cc;for(Oe.state=e,Oe.stream=i,Oe.marked=null,Oe.cc=o,Oe.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a=o.length?o.pop():Se?M:C;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Oe.marked?Oe.marked:"variable"==n&&h(e,r)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)Oe.cc.push(arguments[e])}function m(){return d.apply(null,arguments),!0}function v(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=Oe.state;if(Oe.marked="def",n.context){if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function g(){Oe.state.context={prev:Oe.state.context,vars:Oe.state.localVars},Oe.state.localVars=Le}function y(){Oe.state.localVars=Oe.state.context.vars,Oe.state.context=Oe.state.context.prev}function b(e,t){var n=function(){var n=Oe.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new f(r,Oe.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function w(){var e=Oe.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function t(n){return n==e?m():";"==e?d():m(t)}return t}function C(e,t){return"var"==e?m(b("vardef",t.length),G,x(";"),w):"keyword a"==e?m(b("form"),M,C,w):"keyword b"==e?m(b("form"),C,w):"{"==e?m(b("}"),z,w):";"==e?m():"if"==e?("else"==Oe.state.lexical.info&&Oe.state.cc[Oe.state.cc.length-1]==w&&Oe.state.cc.pop()(),m(b("form"),M,C,w,$)):"function"==e?m(oe):"for"==e?m(b("form"),ee,C,w):"variable"==e?m(b("stat"),F):"switch"==e?m(b("form"),M,b("}","switch"),x("{"),z,w,w):"case"==e?m(M,x(":")):"default"==e?m(x(":")):"catch"==e?m(b("form"),g,x("("),ae,x(")"),C,w,y):"class"==e?m(b("form"),se,w):"export"==e?m(b("stat"),fe,w):"import"==e?m(b("stat"),he,w):"module"==e?m(b("form"),Y,b("}"),x("{"),z,w,w):d(b("stat"),M,x(";"),w)}function M(e){return S(e,!1)}function k(e){return S(e,!0)}function S(e,t){if(Oe.state.fatArrowAt==Oe.stream.start){var n=t?O:N;if("("==e)return m(g,b(")"),B(Y,")"),w,x("=>"),n,y);if("variable"==e)return d(g,Y,x("=>"),n,y)}var r=t?A:_;return Ne.hasOwnProperty(e)?m(r):"function"==e?m(oe,r):"keyword c"==e?m(t?T:E):"("==e?m(b(")"),E,ye,x(")"),w,r):"operator"==e||"spread"==e?m(t?k:M):"["==e?m(b("]"),ve,w,r):"{"==e?V(W,"}",null,r):"quasi"==e?d(P,r):"new"==e?m(L(t)):m()}function E(e){return e.match(/[;\}\)\],]/)?d():d(M)}function T(e){return e.match(/[;\}\)\],]/)?d():d(k)}function _(e,t){return","==e?m(M):A(e,t,!1)}function A(e,t,n){var r=0==n?_:A,i=0==n?M:k;return"=>"==e?m(g,n?O:N,y):"operator"==e?/\+\+|--/.test(t)?m(r):"?"==t?m(M,x(":"),i):m(i):"quasi"==e?d(P,r):";"!=e?"("==e?V(k,")","call",r):"."==e?m(j,r):"["==e?m(b("]"),E,x("]"),w,r):void 0:void 0}function P(e,t){return"quasi"!=e?d():"${"!=t.slice(t.length-2)?m(P):m(M,D)}function D(e){return"}"==e?(Oe.marked="string-2",Oe.state.tokenize=l,m(P)):void 0}function N(e){return c(Oe.stream,Oe.state),d("{"==e?C:M)}function O(e){return c(Oe.stream,Oe.state),d("{"==e?C:k)}function L(e){return function(t){return"."==t?m(e?I:R):d(e?k:M)}}function R(e,t){return"target"==t?(Oe.marked="keyword",m(_)):void 0}function I(e,t){return"target"==t?(Oe.marked="keyword",m(A)):void 0}function F(e){return":"==e?m(w,C):d(_,x(";"),w)}function j(e){return"variable"==e?(Oe.marked="property",m()):void 0}function W(e,t){return"variable"==e||"keyword"==Oe.style?(Oe.marked="property",m("get"==t||"set"==t?U:H)):"number"==e||"string"==e?(Oe.marked=ke?"property":Oe.style+" property",m(H)):"jsonld-keyword"==e?m(H):"modifier"==e?m(W):"["==e?m(M,x("]"),H):"spread"==e?m(M):void 0}function U(e){return"variable"!=e?d(H):(Oe.marked="property",m(oe))}function H(e){return":"==e?m(k):"("==e?d(oe):void 0}function B(e,t){function n(r){if(","==r){var i=Oe.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),m(e,n)}return r==t?m():m(x(t))}return function(r){return r==t?m():d(e,n)}}function V(e,t,n){for(var r=3;r<arguments.length;r++)Oe.cc.push(arguments[r]);return m(b(t,n),B(e,t),w)}function z(e){return"}"==e?m():d(C,z)}function q(e){return Ee&&":"==e?m(X):void 0}function K(e,t){return"="==t?m(k):void 0}function X(e){return"variable"==e?(Oe.marked="variable-3",m()):void 0}function G(){return d(Y,q,Z,J)}function Y(e,t){return"modifier"==e?m(Y):"variable"==e?(v(t),m()):"spread"==e?m(Y):"["==e?V(Y,"]"):"{"==e?V(Q,"}"):void 0}function Q(e,t){return"variable"!=e||Oe.stream.match(/^\s*:/,!1)?("variable"==e&&(Oe.marked="property"),"spread"==e?m(Y):"}"==e?d():m(x(":"),Y,Z)):(v(t),m(Z))}function Z(e,t){return"="==t?m(k):void 0}function J(e){return","==e?m(G):void 0}function $(e,t){return"keyword b"==e&&"else"==t?m(b("form","else"),C,w):void 0}function ee(e){return"("==e?m(b(")"),te,x(")"),w):void 0}function te(e){return"var"==e?m(G,x(";"),re):";"==e?m(re):"variable"==e?m(ne):d(M,x(";"),re)}function ne(e,t){return"in"==t||"of"==t?(Oe.marked="keyword",m(M)):m(_,re)}function re(e,t){return";"==e?m(ie):"in"==t||"of"==t?(Oe.marked="keyword",m(M)):d(M,x(";"),ie)}function ie(e){")"!=e&&m(M)}function oe(e,t){return"*"==t?(Oe.marked="keyword",m(oe)):"variable"==e?(v(t),m(oe)):"("==e?m(g,b(")"),B(ae,")"),w,C,y):void 0}function ae(e){return"spread"==e?m(ae):d(Y,q,K)}function se(e,t){return"variable"==e?(v(t),m(ue)):void 0}function ue(e,t){return"extends"==t?m(M,ue):"{"==e?m(b("}"),le,w):void 0}function le(e,t){return"variable"==e||"keyword"==Oe.style?"static"==t?(Oe.marked="keyword",m(le)):(Oe.marked="property","get"==t||"set"==t?m(ce,oe,le):m(oe,le)):"*"==t?(Oe.marked="keyword",m(le)):";"==e?m(le):"}"==e?m():void 0}function ce(e){return"variable"!=e?d():(Oe.marked="property",m())}function fe(e,t){return"*"==t?(Oe.marked="keyword",m(me,x(";"))):"default"==t?(Oe.marked="keyword",m(M,x(";"))):d(C)}function he(e){return"string"==e?m():d(pe,me)}function pe(e,t){return"{"==e?V(pe,"}"):("variable"==e&&v(t),"*"==t&&(Oe.marked="keyword"),m(de))}function de(e,t){return"as"==t?(Oe.marked="keyword",m(pe)):void 0}function me(e,t){return"from"==t?(Oe.marked="keyword",m(M)):void 0}function ve(e){return"]"==e?m():d(k,ge)}function ge(e){return"for"==e?d(ye,x("]")):","==e?m(B(T,"]")):d(B(k,"]"))}function ye(e){return"for"==e?m(ee,ye):"if"==e?m(M,ye):void 0}function be(e,t){return"operator"==e.lastType||","==e.lastType||Ae.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var we,xe,Ce=n.indentUnit,Me=r.statementIndent,ke=r.jsonld,Se=r.json||ke,Ee=r.typescript,Te=r.wordCharacters||/[\w$\xa1-\uffff]/,_e=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},a={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":e("new"),"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),"class":e("class"),"super":e("atom"),"yield":r,"export":e("export"),"import":e("import"),"extends":r};if(Ee){var s={type:"variable",style:"variable-3"},u={"interface":e("class"),"implements":r,namespace:r,module:e("module"),"enum":e("module"),"public":e("modifier"),"private":e("modifier"),"protected":e("modifier"),"abstract":e("modifier"),as:i,string:s,number:s,"boolean":s,any:s};for(var l in u)a[l]=u[l]}return a}(),Ae=/[+\-*&%=<>!?|~^]/,Pe=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,De="([{}])",Ne={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Oe={state:null,column:null,marked:null,cc:null},Le={name:"this",next:{name:"arguments"}};return w.lex=!0,{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new f((e||0)-Ce,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=u&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==we?n:(t.lastType="operator"!=we||"++"!=xe&&"--"!=xe?we:"incdec",p(t,n,we,xe,e))},indent:function(t,n){if(t.tokenize==u)return e.Pass;if(t.tokenize!=a)return 0;var i=n&&n.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(n))for(var s=t.cc.length-1;s>=0;--s){var l=t.cc[s];if(l==w)o=o.prev;else if(l!=$)break}"stat"==o.type&&"}"==i&&(o=o.prev),Me&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,f=i==c;return"vardef"==c?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==c&&"{"==i?o.indented:"form"==c?o.indented+Ce:"stat"==c?o.indented+(be(t,n)?Me||Ce:0):"switch"!=o.info||f||0==r.doubleIndentSwitch?o.align?o.column+(f?0:1):o.indented+(f?0:Ce):o.indented+(/^(?:case|default)\b/.test(n)?Ce:2*Ce)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Se?null:"/*",blockCommentEnd:Se?null:"*/",lineComment:Se?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Se?"json":"javascript",jsonldMode:ke,jsonMode:Se,expressionAllowed:t,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=M&&t!=k||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(e,t){var n;e.exports=n=function(){function e(){this.isRunning=!1,this.counter=0}return e.prototype.run=function(e){if(this.isRunning)return e();this.isRunning=!0,this.counter++;try{return e()}finally{this.isRunning=!1}},e.prototype.memoize=function(e){var t,n;return t=null,n=-1,function(r){return function(){return n!==r.counter&&(t=e(),n=r.counter),t}}(this)},e}()},function(e,t,n){var r,i,o={}.hasOwnProperty;i=n(4),e.exports=r=function(){function e(e){this.context=null!=e?e:{}}return e.prototype["with"]=function(e,t){var n,r;n=this.context,this._updateContext(n,e);try{r=t()}finally{this.context=n}return r},e.prototype._updateContext=function(e,t){var n,r,i;this.context=t,r=[];for(n in e)o.call(e,n)&&(i=e[n],this.context.hasOwnProperty(n)?r.push(void 0):r.push(this.context[n]=i));return r},e}()},function(e,t,n){var r,i;r=n(62),e.exports=i=function(){function e(e,t,n){this.parent=e,this.origin=t,this.index=n}return e.prototype.lookup=function(e){var t;return e.origin===this.origin?this.index:null!=(t=this.parent)?t.lookup(e):void 0},e.prototype.resolve=function(e){var t;return e instanceof r&&(t=this.lookup(e),null!=t)?(e=e.items[t],this.resolve(e)):e},e.prototype.resolveWithDefault=function(e){var t,n;return e instanceof r?(t=null!=(n=this.lookup(e))?n:0,e=e.items[t],this.resolveWithDefault(e)):e},e.prototype.assign=function(t,n){return new e(this,t.origin,n)},e.prototype.isEqualTo=function(e){return null==e?!1:this.origin!==e.origin||this.index!==e.index?!1:this.parent||e.parent?this.parent.isEqualTo(e.parent):!0},e.prototype.contains=function(e){return null==e?!1:this.isEqualTo(e)?!0:this.contains(e.parent)},e}(),i.empty=new i},function(e,t,n){e.exports={evaluate:n(110)}},function(module,exports,__webpack_require__){var E,LN10,LN2,LOG10E,LOG2E,PI,SQRT1_2,SQRT2,TAU,_,abs,acos,asin,atan,atan2,ceil,cos,evaluate,exp,floor,log,max,min,pow,random,rgba,round,sin,spread,sqrt,tan;module.exports=evaluate=function(jsString){return eval(jsString)},E=Math.E,LN2=Math.LN2,LN10=Math.LN10,LOG2E=Math.LOG2E,LOG10E=Math.LOG10E,PI=Math.PI,SQRT1_2=Math.SQRT1_2,SQRT2=Math.SQRT2,TAU=2*Math.PI,abs=Math.abs,acos=Math.acos,asin=Math.asin,atan=Math.atan,atan2=Math.atan2,ceil=Math.ceil,cos=Math.cos,exp=Math.exp,floor=Math.floor,log=Math.log,max=Math.max,min=Math.min,pow=Math.pow,random=Math.random,round=Math.round,sin=Math.sin,sqrt=Math.sqrt,tan=Math.tan,rgba=function(e,t,n,r){return e=Math.round(255*e),t=Math.round(255*t),n=Math.round(255*n),"rgba("+e+", "+t+", "+n+", "+r+")"},spread=__webpack_require__(111),_=__webpack_require__(4)},function(e,t,n){var r,i,o;i=n(4),r=n(14),e.exports=o=function(e,t,n){
var o,a,s;if(null==n&&(n=1),i.isArray(e))return new r.Spread(e);if(null==e||null==t)throw"Spread needs arguments: spread(start, end) or spread(start, end, increment) or spread(array)";if(0===n)throw"Spread increment cannot be 0";if(!i.isFinite(n))throw"Spread increment must be finite";return s=(t-e)/n,o=function(){var t,r,i;for(i=[],a=t=0,r=s;r>=0?r>t:t>r;a=r>=0?++t:--t)i.push(e+n*a);return i}(),new r.Spread(o)}},function(e,t,n){var r,i,o,a,s,u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;o=n(4),i=n(6),e.exports=r={},r.Element=function(){function e(){}return e.prototype.render=function(e){throw"Not implemented"},e.prototype.hitDetect=function(e){throw"Not implemented"},e.prototype.componentOfType=function(e){return o.find(this.components,function(t){return t instanceof e})},e.prototype.componentsOfType=function(e){return o.filter(this.components,function(t){return t instanceof e})},e}(),r.Group=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.render=function(e){var t,n,r,i,o;for(i=this.childGraphics,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(t.render(e));return o},t.prototype.hitDetect=function(e){var t,n,r,i,o,a;for(r=null,o=this.childGraphics,n=0,i=o.length;i>n;n++)t=o[n],r=null!=(a=t.hitDetect(e))?a:r;return r?r.concat(this.particularElement):null},t}(r.Element),r.Anchor=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t}(r.Element),r.Path=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.render=function(e){return this.buildPath(e),this.performPaintOps(e),this.highlightIfNecessary(e)},t.prototype.hitDetect=function(e){var t,n,r,i;return e.ctx=s(),t=e.ctx,r=e.x,i=e.y,this.buildPath(e),t.save(),t.lineWidth=5,n=t.isPointInPath(r,i)||t.isPointInStroke(r,i),t.restore(),n?[this.particularElement]:null},t.prototype.performPaintOps=function(e){var t,n,i,o,a,s;for(n=e.ctx,a=this.componentsOfType(r.PaintOp),s=[],i=0,o=a.length;o>i;i++)t=a[i],s.push(t.paint(n));return s},t.prototype.highlightIfNecessary=function(e){var t,n,r;return n=e.highlight,t=e.ctx,n?(r=n(this),r?(t.save(),t.strokeStyle=r.color,t.lineWidth=r.lineWidth,t.stroke(),t.restore()):void 0):void 0},t.prototype.buildPath=function(e){var t,n,r,i,o,a,s,u,l;for(r=e.ctx,s=e.viewMatrix,r.beginPath(),n=this.collectAnchors(),i=0,o=n.length;o>i;i++)t=n[i],a=s.compose(t.matrix).origin(),u=a[0],l=a[1],r.lineTo(u,l);return this.isClosed()?r.closePath():void 0},t.prototype.collectAnchors=function(){var e,t,n;return e=[],t=function(t){return t instanceof r.Anchor?e.push(t):t instanceof r.Group?n(t):void 0},n=function(e){var n,r,i,o,a;for(o=e.childGraphics,a=[],r=0,i=o.length;i>r;r++)n=o[r],a.push(t(n));return a},n(this),e},t.prototype.isClosed=function(){var e;return e=this.componentOfType(r.PathComponent),e.closed},t}(r.Element),r.Circle=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.buildPath=function(e){var t,n,r;return t=e.ctx,r=e.viewMatrix,t.beginPath(),t.save(),n=r.compose(this.matrix),n.canvasTransform(t),t.arc(0,0,1,0,2*Math.PI,!1),t.restore()},t}(r.Path),r.Text=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.render=function(e){var t;return t=e.ctx,t.save(),this.setupText(e),this.renderText(e),t.restore(),e.highlight?(this.buildPath(e),this.highlightIfNecessary(e)):void 0},t.prototype.textComponent=function(){return this.componentOfType(r.TextComponent)},t.prototype.renderText=function(e){var t,n;return t=e.ctx,n=this.textComponent().text,t.fillText(n,0,0)},t.prototype.textMultiplier=100,t.prototype.setupText=function(e){var t,n,r,i,o,a,s,u,l;return n=e.ctx,l=e.viewMatrix,o=this.textComponent(),a=o.text,r=o.fontFamily,s=o.textAlign,u=o.textBaseline,t=o.color,i=l.compose(this.matrix),i=i.scale(1/this.textMultiplier,-1/this.textMultiplier),i.canvasTransform(n),n.font=this.textMultiplier+"px "+r,n.textAlign=s,n.textBaseline=u,n.fillStyle=t},t.prototype.buildPath=function(e){var t,n,r,i,o,a,s,u,l,c,f,h,p,d,m,v;return r=e.ctx,m=e.viewMatrix,r.save(),this.setupText(e),f=this.textComponent(),h=f.text,i=f.fontFamily,p=f.textAlign,d=f.textBaseline,n=f.color,v=r.measureText(h).width/this.textMultiplier,o=1,r.restore(),"left"===p||"start"===p?(l=0,s=v):"right"===p||"end"===p?(l=-v,s=0):"center"===p&&(l=-v/2,s=v/2),t=.25,"top"===d?(c=-o-t,u=-t):"middle"===d?(c=(-o-t)/2,u=(o+t)/2):"alphabetic"===d?(c=-t,u=o-t):"bottom"===d&&(c=0,u=o),r.save(),a=m.compose(this.matrix),a.canvasTransform(r),r.beginPath(),r.moveTo(l,c),r.lineTo(l,u),r.lineTo(s,u),r.lineTo(s,c),r.closePath(),r.restore()},t}(r.Path),r.Image=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.render=function(e){var t,n;return t=e.imageCache,n=this.imageComponent().url,t.get(n,function(t){return function(n){return t.drawImage(e,n)}}(this))},t.prototype.imageComponent=function(){return this.componentOfType(r.ImageComponent)},t.prototype.fullMatrix=function(e,t){var n,r,o;return o=e.viewMatrix,r=.01,n=o.compose(this.matrix).compose(new i.Matrix(r,0,0,-r,0,r*t.height))},t.prototype.drawImage=function(e,t){var n,r;return n=e.ctx,r=this.fullMatrix(e,t),n.save(),r.canvasTransform(n),n.drawImage(t,0,0),e.highlight&&(n.beginPath(),n.moveTo(0,0),n.lineTo(0,t.height),n.lineTo(t.width,t.height),n.lineTo(t.width,0),n.closePath(),this.highlightIfNecessary(e)),n.restore()},t.prototype.hitDetect=function(e){var t,n,r,i,o,a,u,l,c,f,h;return r=e.imageCache,c=this.imageComponent().url,(n=r.getSync(c))?(a=this.fullMatrix(e,n),f=e.x,h=e.y,l=a.toLocal([f,h]),i=l[0],o=l[1],i>=0&&i<=n.width&&o>=0&&o<=n.height?(t=s(),t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight,e.ctx=t,this.drawImage(e,n),u=t.getImageData(f,h,1,1).data,u[3]>0?[this.particularElement]:null):null):null},t}(r.Path),r.Component=function(){function e(){}return e}(),r.PaintOp=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t}(r.Component),r.Fill=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.paint=function(e){return e.save(),e.fillStyle=this.color,e.fill(),e.restore()},t}(r.PaintOp),r.Stroke=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.paint=function(e){return this.lineWidth<=0?void 0:(e.save(),e.strokeStyle=this.color,e.lineWidth=this.lineWidth,e.stroke(),e.restore())},t}(r.PaintOp),r.PathComponent=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t}(r.Component),r.TextComponent=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t}(r.Component),r.ImageComponent=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t}(r.Component),a=null,s=function(){var e;return a?a:(e=document.createElement("canvas"),a=e.getContext("2d"))}},function(e,t,n){var r,i,o,a,s,u,l,c,f,h,p={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var r in t)p.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};h=n(4),f=n(6),a=n(14),s=n(109),c=n(28),u=n(39),l=n(5),e.exports=r=c.createVariant({label:"Attribute",constructor:function(){return c.constructor.apply(this,arguments),this.value=a.cell(this._value.bind(this))},_value:function(){var e,t,n,r;if(this.isNumber())return parseFloat(this.exprString);if(this._isDirty()&&this._updateCompiledExpression(),null!=(e=this.circularReferencePath()))return new i(e);r=h.mapObject(this.references(),function(e){return e.value()});try{return this.__compiledExpression.evaluate(r)}catch(n){if(t=n,t instanceof a.UnresolvedSpreadError)throw t;return t}},_isDirty:function(){return this.hasOwnProperty("__compiledExpression")?this.__compiledExpression.exprString!==this.exprString:!0},_updateCompiledExpression:function(){var e,t,n;return e=new o(this),e.isSyntaxError&&(e.fn=null!=(t=null!=(n=this.__compiledExpression)?n.fn:void 0)?t:function(){return new Error("Syntax error")}),this.__compiledExpression=e},setExpression:function(e,t){var n,r,i,o,a,s,u;for(null==t&&(t={}),this.exprString=String(e),a=this.childrenOfType(l.ReferenceLink),r=0,o=a.length;o>r;r++)s=a[r],this.removeChild(s);u=[];for(i in t)p.call(t,i)&&(n=t[i],s=l.ReferenceLink.createVariant(),s.key=i,s.setTarget(n),u.push(this.addChild(s)));return u},references:function(){var e,t,n,r,i,o,a;for(a={},i=this.childrenOfType(l.ReferenceLink),t=0,r=i.length;r>t;t++)o=i[t],n=o.key,e=o.target(),a[n]=e;return a},hasReferences:function(){return h.any(this.references(),function(){return!0})},isNumber:function(){return f.isNumberString(this.exprString)},isString:function(){return f.isStringLiteral(this.exprString)},isTrivial:function(){return this.isNumber()||this.isString()},isNovel:function(){return this.hasOwnProperty("exprString")},_analyzeDependencies:function(){var e,t,n,r;return n=[],e=[],t=null,r=function(i){var o,a,s,u;if(e.push(i),e.indexOf(i)!==e.length-1)null==t&&(t=e.slice());else for(s=h.values(i.references()),o=0,a=s.length;a>o;o++)u=s[o],n.push(u),r(u);return e.pop()},r(this),n=h.unique(n),{dependencies:n,circularReferencePath:t}},dependencies:function(){return this._analyzeDependencies().dependencies},circularReferencePath:function(){return this._analyzeDependencies().circularReferencePath},parentElement:function(){var e;for(e=this.parent();!e.isVariantOf(l.Element);)e=e.parent();return e}}),o=function(){function e(e){var t,n,r,i,o,a;if(this.attribute=e,this.exprString=this.attribute.exprString,this.referenceKeys=h.keys(this.attribute.references()),""===this.exprString)return void this._setSyntaxError();if(f.isNumberString(this.exprString))return o=parseFloat(this.exprString),void this._setConstant(o);a=this._wrapped();try{t=s.evaluate(a)}catch(r){return n=r,void this._setSyntaxError()}if(t=this._wrapFunctionInSpreadCheck(t),0===this.referenceKeys.length){try{o=t()}catch(i){return n=i,void this._setConstant(n)}return void this._setConstant(o)}this._setFn(t)}return e.prototype._setSyntaxError=function(){return this.isSyntaxError=!0},e.prototype._setConstant=function(e){return this.isConstant=!0,this.fn=function(){return e}},e.prototype._setFn=function(e){return this.fn=e},e.prototype.evaluate=function(e){return this.fn(e)},e.prototype._wrapped=function(){var e,t,n,r,i;for(i="'use strict';\n",i+="(function ($$$referenceValues) {\n",n=this.referenceKeys,e=0,t=n.length;t>e;e++)r=n[e],i+="  var "+r+" = $$$referenceValues."+r+";\n";return i+=-1===this.exprString.indexOf("return")?"  return "+this.exprString+";\n":"\n\n"+this.exprString+"\n\n",i+="});"},e.prototype._wrapFunctionInSpreadCheck=function(e){return function(t){return function(){var n;return n=e.apply(null,arguments),n instanceof a.Spread&&(n.origin=t.attribute),n}}(this)},e}(),r.CircularReferenceError=i=function(e){function t(e){var t;this.attributePath=e,t=h.pluck(this.attributePath,"label"),this.message="Circular reference: "+t.join(" -> ")}return d(t,e),t}(Error)},function(e,t,n){var r,i,o,a,s,u,l,c,f={}.hasOwnProperty,h=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};l=n(4),c=n(156),r=n(14),a=n(5),u=n(6),s=n(64),o=n(119),e.exports=i=function(){function e(){this._setupLayout(),this._setupSerializer(),this._setupProject(),this._setupRevision(),this._parseQueryString()}return e.prototype._setupLayout=function(){return this.layout=new a.Layout},e.prototype._setupProject=function(){return this.loadFromLocalStorage(),this.project?void 0:this.createNewProject()},e.prototype._setupSerializer=function(){var e,t,n,r;e=[],r=this._builtIn();for(t in r)f.call(r,t)&&(n=r[t],l.isFunction(n)&&(n=n.prototype),u.assignId(n,t),e.push(n));return this.serializer=new s.Serializer(e)},e.prototype._parseQueryString=function(){var e;return e=c.parse(location.search),"1"===e.experimental&&(this.experimental=!0),e.load?this.loadFromURL(e.load):e.loadFirebase?this.loadFromFirebase(e.loadFirebase):void 0},e.prototype._builtIn=function(){var e;return e=l.clone(a),e.SpreadEnv=r.SpreadEnv,e.Matrix=u.Matrix,e},e.prototype.version="0.4.1",e.prototype.loadJsonStringIntoProject=function(e){var t;return t=JSON.parse(e),"Apparatus"===t.type?this.project=this.serializer.dejsonify(t):void 0},e.prototype.loadJsonStringIntoProjectFromExternalSource=function(e){return this.loadJsonStringIntoProject(e),this.checkpoint(),Apparatus.refresh()},e.prototype.mergeJsonStringIntoProject=function(e){var t,n,r,i,o,a,s;if(r=JSON.parse(e),"Apparatus"===r.type){for(o=this.serializer.dejsonify(r),a=o.createPanelElements,s=[],n=0,i=a.length;i>n;n++)t=a[n],h.call(this.project.createPanelElements,t)<0?s.push(this.project.createPanelElements.push(t)):s.push(void 0);return s}},e.prototype.mergeJsonStringIntoProjectFromExternalSource=function(e){return this.mergeJsonStringIntoProject(e),this.checkpoint(),Apparatus.refresh()},e.prototype.getJsonStringOfProject=function(){var e,t;return e=this.serializer.jsonify(this.project),e.type="Apparatus",e.version=this.version,t=JSON.stringify(e)},e.prototype.createNewProject=function(){return this.project=new a.Project},e.prototype.localStorageName="apparatus",e.prototype.saveToLocalStorage=function(){var e;return e=this.getJsonStringOfProject(),window.localStorage[this.localStorageName]=e,e},e.prototype.loadFromLocalStorage=function(){var e;return e=window.localStorage[this.localStorageName],e?this.loadJsonStringIntoProject(e):void 0},e.prototype.resetLocalStorage=function(){return delete window.localStorage[this.localStorageName]},e.prototype.saveToFile=function(){var e,t;return t=this.getJsonStringOfProject(),e=this.project.editingElement.label+".json",s.saveFile(t,e,"application/json;charset=utf-8")},e.prototype.loadFromFile=function(){return s.loadFile(function(e){return function(t){return e.loadJsonStringIntoProjectFromExternalSource(t)}}(this))},e.prototype.mergeFromFile=function(){return s.loadFile(function(e){return function(t){return e.mergeJsonStringIntoProjectFromExternalSource(t)}}(this))},e.prototype.loadFromURL=function(e){var t;return t=new XMLHttpRequest,t.onreadystatechange=function(e){return function(){var n;if(4===t.readyState&&200===t.status)return n=t.responseText,e.loadJsonStringIntoProjectFromExternalSource(n)}}(this),t.open("GET",e,!0),t.send()},e.prototype.loadFromFirebase=function(e){return null==this.firebaseAccess&&(this.firebaseAccess=new o),this.firebaseAccess.loadDrawingPromise(e).then(function(e){return function(t){var n;return n=t.source,e.loadJsonStringIntoProjectFromExternalSource(n)}}(this))["catch"](function(t){return function(t){if(t instanceof o.DrawingNotFoundError)return console.warn("Drawing "+e+" not found in Firebase!");throw t}}(this)).done()},e.prototype.saveToFirebase=function(){var e;return null==this.firebaseAccess&&(this.firebaseAccess=new o),e=this.getJsonStringOfProject(),this.firebaseAccess.saveDrawingPromise(e).then(function(e){return window.prompt("Saved successfully! Copy this link:","http://aprt.us/editor/?experimental=1&loadFirebase="+e)}).done()},e.prototype._setupRevision=function(){return this.current=this.getJsonStringOfProject(),this.undoStack=[],this.redoStack=[],this.maxUndoStackSize=100},e.prototype.checkpoint=function(){var e;return e=this.saveToLocalStorage(),this.current!==e?(this.undoStack.push(this.current),this.undoStack.length>this.maxUndoStackSize&&this.undoStack.shift(),this.redoStack=[],this.current=e):void 0},e.prototype.undo=function(){return this.isUndoable()?(this.redoStack.push(this.current),this.current=this.undoStack.pop(),this.loadJsonStringIntoProject(this.current),this.saveToLocalStorage()):void 0},e.prototype.redo=function(){return this.isRedoable()?(this.undoStack.push(this.current),this.current=this.redoStack.pop(),this.loadJsonStringIntoProject(this.current),this.saveToLocalStorage()):void 0},e.prototype.isUndoable=function(){return this.undoStack.length>0},e.prototype.isRedoable=function(){return this.redoStack.length>0},e}()},function(e,t,n){var r,i,o,a,s,u,l;l=n(4),s=n(63),o=n(39),a=n(5),r=n(14),u=n(6),e.exports=i=s.createVariant({label:"Element",constructor:function(){var e,t,n,i,o;for(s.constructor.apply(this,arguments),this.expanded=!1,i=["graphic","contextMatrix","accumulatedMatrix"],o=[],e=0,t=i.length;t>e;e++)n=i[e],o.push(this[n]=r.cell(this["_"+n].bind(this)));return o},viewMatrix:new u.Matrix(100,0,0,100,0,0),childElements:function(){return this.childrenOfType(i)},variables:function(){return this.childrenOfType(a.Variable)},components:function(){return this.childrenOfType(a.Component)},allAttributes:function(){var e,t,n,r,i,o,a,s,u,l,c,f,h;for(f=[],u=this.variables(),n=0,o=u.length;o>n;n++)h=u[n],f.push(h);for(l=this.components(),r=0,a=l.length;a>r;r++)for(t=l[r],c=t.attributes(),i=0,s=c.length;s>i;i++)e=c[i],f.push(e);return f},addVariable:function(){var e;return e=a.Variable.createVariant(),e.setExpression("0.00"),this.addChild(e),e},controlledAttributes:function(){var e,t,n,r,i,o;for(n=[],o=this.childrenOfType(a.ControlledAttributeLink),r=0,i=o.length;i>r;r++)t=o[r],e=t.target(),n.push(e);return n},addControlledAttribute:function(e){var t;return t=a.ControlledAttributeLink.createVariant(),t.setTarget(e),this.addChild(t)},removeControlledAttribute:function(e){var t,n,r,i,o,s;for(o=this.childrenOfType(a.ControlledAttributeLink),s=[],r=0,i=o.length;i>r;r++)n=o[r],t=n.target(),t===e?s.push(this.removeChild(n)):s.push(void 0);return s},isController:function(){return this.controlledAttributes().length>0},implicitlyControlledAttributes:function(){return this.allDependencies(this.controlledAttributes())},controllableAttributes:function(){return l.unique(this._controllableAttributes())},_controllableAttributes:function(){var e,t,n,r,i,o,a,s,u;for(u=[],a=this.components(),n=0,i=a.length;i>n;n++)if(t=a[n],null!=t.controllableAttributes)for(s=t.controllableAttributes(),r=0,o=s.length;o>r;r++)e=s[r],u.push(e),u.push.apply(u,e.dependencies());return this.parent()&&u.push.apply(u,this.parent()._controllableAttributes()),u},attributesToChange:function(){var e;return e=this.implicitlyControlledAttributes(),0===e.length&&(e=this.defaultAttributesToChange()),e=this.onlyNumbers(e)},defaultAttributesToChange:function(){var e,t,n,r,i;for(i=[],r=this.components(),t=0,n=r.length;n>t;t++)e=r[t],null!=e.defaultAttributesToChange&&i.push.apply(i,e.defaultAttributesToChange());return i},controlPoints:function(){var e,t,n,r,i,o,a,s,u,l;for(l=[],u=this.components(),i=0,a=u.length;a>i;i++)if(t=u[i],null!=t.controlPoints){for(r=t.controlPoints(),o=0,s=r.length;s>o;o++)n=r[o],e=n.attributesToChange,e=this.allDependencies(e),e=this.onlyNumbers(e),n.attributesToChange=e;l.push.apply(l,r)}return l},allDependencies:function(e){var t,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(t),i.push.apply(i,t.dependencies());return l.unique(i)},onlyNumbers:function(e){return l.filter(e,function(e){return e.isNumber()})},matrix:function(){var e,t,n,r,i;for(n=new u.Matrix,r=this.childrenOfType(a.Transform),e=0,t=r.length;t>e;e++)i=r[e],n=n.compose(i.matrix());return n},_contextMatrix:function(){var e;return e=this.parent(),e&&e.isVariantOf(i)?e.accumulatedMatrix():new u.Matrix},_accumulatedMatrix:function(){return this.contextMatrix().compose(this.matrix())},_graphic:function(){var e,t;return e=new this.graphicClass,t=r.currentSpreadEnv(),e.particularElement=new a.ParticularElement(this,t),e.matrix=this.accumulatedMatrix(),e.components=l.map(this.components(),function(e){return e.graphic()}),e.childGraphics=l.flatten(l.map(this.childElements(),function(e){return e.allGraphics()})),e},allGraphics:function(){var e;return this._isBeyondMaxDepth()?[]:(e=this.graphic.asSpread(),e instanceof r.Spread?e.flattenToArray():[e])},_isBeyondMaxDepth:function(){return this.depth()>20}})},function(e,t){var n;e.exports=n=function(){function e(){this.rightPanelWidth=400,this.fullScreen=!1,this._rightPanelMin=100,this._rightPanelMax=600}return e.prototype.constraintRightPanelWidth=function(e){return this.rightPanelWidth=Math.min(this._rightPanelMax,Math.max(this._rightPanelMin,e)),this._refreshLayout()},e.prototype.toggleFullScreen=function(){return this.fullScreen=!this.fullScreen,this._refreshLayout()},e.prototype._refreshLayout=function(){var e;return e=new Event("resize"),window.dispatchEvent(e)},e}()},function(e,t,n){var r,i;r=n(14),e.exports=i=function(){function e(e,t){this.element=e,this.spreadEnv=t,null==this.spreadEnv&&(this.spreadEnv=r.SpreadEnv.empty)}return e.prototype.isEqualTo=function(e){return this.element===e.element&&this.spreadEnv.isEqualTo(e.spreadEnv)},e.prototype.isAncestorOf=function(e){return this.element.isAncestorOf(e.element)&&this.spreadEnv.contains(e.spreadEnv)},e.prototype.accumulatedMatrix=function(){var e;return e=this.element.accumulatedMatrix.asSpread(),e=this.spreadEnv.resolveWithDefault(e)},e.prototype.contextMatrix=function(){var e;return e=this.element.contextMatrix.asSpread(),e=this.spreadEnv.resolveWithDefault(e)},e}()},function(e,t,n){var r,i,o,a,s;s=n(4),i=n(5),r=n(14),o=n(124),e.exports=a=function(){function e(){var e,t,n,o,a;for(t=this.createNewElement(),this.editingElement=t,this.selectedParticularElement=null,this.createPanelElements=[i.Rectangle,i.Circle,i.Text,i.Image,t],a=["controlledAttributes","implicitlyControlledAttributes","controllableAttributes"],e=0,n=a.length;n>e;e++)o=a[e],this[o]=r.memoize(this[o].bind(this))}return e.prototype.setEditing=function(e){return this.editingElement=e,this.selectedParticularElement=null},e.prototype.select=function(e){return e?(this.selectedParticularElement=e,this._expandToElement(e.element)):void(this.selectedParticularElement=null)},e.prototype._expandToElement=function(e){var t;for(t=[];e=e.parent();)t.push(e.expanded=!0);return t},e.prototype.createNewElement=function(){var e;return e=i.Group.createVariant(),e.expanded=!0,e},e.prototype.removeSelectedElement=function(){var e,t;if(this.selectedParticularElement&&(t=this.selectedParticularElement.element,e=t.parent()))return e.removeChild(t),this.select(null)},e.prototype.groupSelectedElement=function(){var e,t,n;if(this.selectedParticularElement&&(n=this.selectedParticularElement.element,t=n.parent()))return e=i.Group.createVariant(),e.expanded=!0,t.replaceChildWith(n,e),e.addChild(n),this.select(new i.ParticularElement(e))},e.prototype.duplicateSelectedElement=function(){var e,t,n,r,o;if(this.selectedParticularElement&&(o=this.selectedParticularElement.element,n=o.parent()))return e=o.createVariant(),r=o.createVariant(),n.replaceChildWith(o,e),t=n.children().indexOf(e),n.addChild(r,t+1),this.select(new i.ParticularElement(r))},e.prototype.createSymbolFromSelectedElement=function(){var e,t,n,r,o;if(this.selectedParticularElement&&(r=this.selectedParticularElement.element,n=r.parent()))return t=r,o=r.createVariant(),n.replaceChildWith(r,o),this.select(new i.ParticularElement(o)),e=this.createPanelElements.indexOf(this.editingElement),this.createPanelElements.splice(e,0,t)},e.prototype.findUnnecessaryNodes=function(){var e,t,n,r,a,s,u,l,c,f,h;f=this.createPanelElements.slice();for(s in i)l=i[s],i.Node.isPrototypeOf(l)&&f.push(l);for(h=[],u=new o({linksToFollow:{master:!0,variants:!1,parent:!1,children:!0}}),t=0,r=f.length;r>t;t++)c=f[t],u.visit(c);for(e=new o({linksToFollow:{master:!0,variants:!0,parent:!0,children:!0},onVisit:function(e){return u.hasVisited(e)?void 0:h.push(e)}}),n=0,a=f.length;a>n;n++)c=f[n],e.visit(c);return e.finish(),u.finish(),h},e.prototype.controlledAttributes=function(){var e,t;return null!=(e=null!=(t=this.selectedParticularElement)?t.element.controlledAttributes():void 0)?e:[]},e.prototype.implicitlyControlledAttributes=function(){var e,t;return null!=(e=null!=(t=this.selectedParticularElement)?t.element.implicitlyControlledAttributes():void 0)?e:[]},e.prototype.controllableAttributes=function(){var e,t;return null!=(e=null!=(t=this.selectedParticularElement)?t.element.controllableAttributes():void 0)?e:[]},e}()},function(e,t,n){var r,i,o,a,s;i=n(71),a=n(121),s=n(74),e.exports=o=function(){function e(){this.ref=new i("https://aprtus.firebaseio.com/"),this.authData=this.ref.getAuth()}return e.prototype.loginPromise=function(){var e;return e={scope:"email"},a.authWithOAuthPopupPromise(this.ref,"google",e).then(function(e){return function(t){var n,r;return e.authData=t,r=e.ref.child("users").child(e.authData.uid),n={date:i.ServerValue.TIMESTAMP,email:e.authData.google.email},a.setPromise(r,n)}}(this))},e.prototype.loginIfNecessaryPromise=function(){return this.authData?s():this.loginPromise()},e.prototype.saveUserInformationPromise=function(){return this.loginIfNecessaryPromise()},e.prototype.saveDrawingPromise=function(e){return this.loginIfNecessaryPromise().then(function(t){return function(){var n,r;return n=t.ref.child("drawings"),r={uid:t.authData.uid,date:i.ServerValue.TIMESTAMP,source:e},a.pushPromise(n,r).then(function(e){return e.key()})}}(this))},e.prototype.loadDrawingPromise=function(e){var t;return t=this.ref.child("drawings").child(e),a.getValuePromise(t).then(function(e){return function(e){var t;if(!e.exists())throw new r;return t=e.val()}}(this))},e}(),o.DrawingNotFoundError=r=function(){function e(){}return e}()},function(e,t,n){var r,i,o,a={}.hasOwnProperty;o=n(4),i=n(6),e.exports=r=function(){function e(e){var t,n,r,o;for(this.builtIn={},t=0,r=e.length;r>t;t++)o=e[t],n=i.getId(o),this.builtIn[n]=o}return e.prototype.shouldSerializeProperty=function(e,t){return o.isFunction(t)?!1:"__"!==e.slice(0,2)},e.prototype.jsonify=function(e){var t,n,r,s,u,l,c,f;for(u={},l=[],r=function(e){return function(e){return o.isArray(e)?t(e):o.isObject(e)?c(e):e}}(this),t=function(e){return function(e){var t;return function(){var n,i,o;for(o=[],n=0,i=e.length;i>n;n++)t=e[n],o.push(r(t));return o}()}}(this),c=function(e){return function(t){var n;return n=i.getId(t),e.builtIn[n]||u[n]||(u[n]="PROCESSING",l.push(t)),{__ref:n}}}(this),n=function(e){return function(t){var n,i,o,s;o={};for(n in t)a.call(t,n)&&(s=t[n],e.shouldSerializeProperty(n,s)&&(o[n]=r(s)));return i=Object.getPrototypeOf(t),i!==Object.prototype&&(o.__proto=r(i)),o}}(this),f=r(e);l.length>0;)s=l.pop(),u[i.getId(s)]=n(s);return{objects:u,root:f}},e.prototype.dejsonify=function(e){var t,n,r,i,s,u,l,c;l=e.objects,c=e.root,r={},n=function(e){return function(t){var i,o,a,s;return null!=r[t]?r[t]:null!=e.builtIn[t]?e.builtIn[t]:(o=l[t],s=o.__proto,s?(a=n(s.__ref),i=Object.create(a),"function"==typeof i.constructor&&i.constructor()):i={},r[t]=i)}}(this);for(s in l)a.call(l,s)&&(u=l[s],n(s));t=function(e){return function(e,t){var n,o,s,u;n=r[e],s=[];for(o in t)a.call(t,o)&&(u=t[o],"__proto"!==o&&s.push(n[o]=i(u)));return s}}(this),i=function(e){return function(t){var n;return o.isArray(t)?o.map(t,i):o.isObject(t)?null!=t.__ref?(s=t.__ref,null!=(n=e.builtIn[s])?n:r[s]):o.mapObject(t,i):t}}(this);for(s in l)a.call(l,s)&&(u=l[s],t(s,u));return i(c)},e}()},function(e,t,n){var r,i,o;r=n(71),o=n(74),e.exports=i={},i.authWithOAuthPopupPromise=function(e,t,n){var r,i;return r=o.defer(),i=r.makeNodeResolver(),e.authWithOAuthPopup(t,i,n),r.promise},i.getValuePromise=function(e){var t,n,r;return t=o.defer(),r=function(e){return t.resolve(e)},n=function(e){return t.reject(e)},e.once("value",r,n),t.promise},i.pushPromise=function(e,t){var n,r,i;return n=o.defer(),r=function(e){return e?n.reject(e):n.resolve(i)},i=e.push(t,r),n.promise},i.setPromise=function(e,t){var n,r;return n=o.defer(),r=function(e){return e?n.reject(e):n.resolve()},e.set(t,r),n.promise}},function(e,t){var n;e.exports=n=function(){function e(){this._images={},this._callbacksToRun={}}return e.prototype.getSync=function(e){return this._images[e]},e.prototype.get=function(e,t){var n;return this._images[e]?t(this._images[e]):this._callbacksToRun[e]?this._callbacksToRun[e].push(t):(this._callbacksToRun[e]=[t],n=new Image,e.startsWith("data:")||(n.crossOrigin="Anonymous"),n.addEventListener("load",function(t){return function(){var r,i,o,a;for(t._images[e]=n,a=t._callbacksToRun[e],i=0,o=a.length;o>i;i++)(r=a[i])(n);return delete t._callbacksToRun[e]}}(this)),n.src=e)},e}()},function(e,t){var n;e.exports=n=function(){function e(e,t,n,r,i,o){this.a=null!=e?e:1,this.b=null!=t?t:0,this.c=null!=n?n:0,this.d=null!=r?r:1,this.e=null!=i?i:0,this.f=null!=o?o:0}return e.prototype.translate=function(e,t){return this.transform(1,0,0,1,e,t)},e.prototype.scale=function(e,t){return this.transform(e,0,0,t,0,0)},e.prototype.rotate=function(e){var t,n;return t=Math.cos(e),n=Math.sin(e),this.transform(t,n,-n,t,0,0)},e.prototype.transform=function(t,n,r,i,o,a){return new e(this.a*t+this.c*n,this.b*t+this.d*n,this.a*r+this.c*i,this.b*r+this.d*i,this.a*o+this.c*a+this.e,this.b*o+this.d*a+this.f)},e.prototype.compose=function(e){return this.transform(e.a,e.b,e.c,e.d,e.e,e.f)},e.prototype.inverse=function(){var t,n;return null!=this._inverse?this._inverse:(t=this.a*this.d-this.b*this.c,n=this.b*this.c-this.a*this.d,this._inverse=new e(this.d/t,this.b/n,this.c/n,this.a/t,(this.d*this.e-this.c*this.f)/n,(this.b*this.e-this.a*this.f)/t))},e.prototype.fromLocal=function(e){var t,n;return t=e[0],n=e[1],[this.a*t+this.c*n+this.e,this.b*t+this.d*n+this.f]},e.prototype.toLocal=function(e){var t,n;return t=e[0],n=e[1],this.inverse().fromLocal([t,n])},e.prototype.origin=function(){return[this.e,this.f]},e.prototype.toSVG=function(){return"matrix("+this.m.join(" ")+")"},e.prototype.canvasSetTransform=function(e){return e.setTransform(this.a,this.b,this.c,this.d,this.e,this.f)},e.prototype.canvasTransform=function(e){return e.transform(this.a,this.b,this.c,this.d,this.e,this.f)},e}(),n.naturalConstruct=function(e,t,r,i,o){var a,s;return a=Math.cos(o),s=Math.sin(o),new n(a*r,s*r,-s*i,a*i,e,t)}},function(e,t){var n;e.exports=n=function(){function e(e){this.onVisit=e.onVisit,this.linksToFollow=e.linksToFollow,this.visitedNodes=[]}return e.prototype.visit=function(e){var t,n,r,i,o,a,s,u,l,c;if(!this.hasVisited(e)){if(e.__visitors.push(this),this.visitedNodes.push(e),this.onVisit&&this.onVisit(e),this.linksToFollow.master&&(a=e.master(),a&&this.visit(a)),this.linksToFollow.variants)for(u=e.variants(),n=0,i=u.length;i>n;n++)c=u[n],this.visit(c);if(this.linksToFollow.parent&&(s=e.parent(),s&&this.visit(s)),this.linksToFollow.children)for(l=e.children(),r=0,o=l.length;o>r;r++)t=l[r],this.visit(t)}},e.prototype.hasVisited=function(e){return e.hasOwnProperty("__visitors")||(e.__visitors=[]),-1!==e.__visitors.indexOf(this)},e.prototype.finish=function(){var e,t,n,r,i,o;for(i=this.visitedNodes,e=0,n=i.length;n>e;e++){if(r=i[e],o=r.__visitors,t=o.indexOf(this),-1===t)throw"visitor list inconsistency";o.splice(t,1)}},e}()},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAH6RJREFUeJztnXvYHdO5wH/7+5JICElQSYQQCaFa91slCKqqEWndStGW3mjR6lFaWlGX9pSqOpSWFnU/VU7QVlRQUeJSlVD3xDWSyEVIIvd8+/zxfltmZq81e2bPWrNmvr1+z/M+D8nOrHdm1pq11rveC3g8Ho/H4/F4DFNxrUDB6Qn0AXp3/ndPoFvg76vAcmAFsBRYCCwCVuarpscWrTpAKsDGwJbAUGBzYJPOP9sI6A9sAPRo8vofAvOAucAc4B1gBvA28DrwWuefrW72Bjz50AoDZC1gO2AXYMfO//44sK5LpZCZ5xXgReB5YGqnvInMTJ4C0BUHyHrAXsAoYASwM83PBFGWdMpSZFnVgXTmNqB7Zzu9kMHX3mQbC4AnO+Vx4DHg/Uxae5qmKwyQCrAtMAY4CNiT9J1zMfAqMA14A1kKzQRmA+8C7yH7i1UpdOoJ9AM2BD4GDECWcZsCmwFbAEOQARVHFXgOeBh4APgH8EFCPTwZKesAqSAzw5HA4UhHS8pbyNf5aWAKsryZgZtlTRsyYLZBln3bd8q2hI0BQTqQmeVvnTIFvyTzdLIJ8GPgZaRTJJEXgd8ARwAD81e5KXoCewCnArexZgCr5G3gCmB/9IPK04VpAz4L3I1YfRoNiOXIl/VEYLADfW1QQWbJ44GbkaWf6t7nIB+DEZR3ddCSdAc+CRwA7AcMRzp+HL2QTp5ktliJDKAvIZv0rk4bsBMymz6O+plMB85F9jqegrIncCtyLhB9gQuAa5H1dpDewBnI5rjRwPgP8F1kE9zKDAJOQjbxqln2AeBoxOTtKQDrAjeRbI/QAVyCfPm/hywT4n6/CvgTYsr1y4h6+gPfQczD0Wc3F7iIdEYNj2E2ZI1lJY10NPj7JcD/IKfenmQMA85DNvLRZz0eOSvyH5kc6Q5MJv3giJOlyAwzIMf76Gq0I2dE46lfgv0b2bt5C1gOnIW5gdEB/AEx7XrMMRj4GTCf8PN+Hfg2YmL2WGBdxCXCxOCYBOyQr/otx9rAN6m3Es5EDB+NTvg9KTkOc7PHgTnr3sq0A19AvAuC7+AdZEYx5cfW8lyHuQFyfs66e2SzfiD11q/piIm40bmVpwEqs2KzcmfOunvWUEE8F/5F+J08BeztUK/S8xzmBsiDOevuqaeCOIK+Qvjd3I43tTeFyRlkfM66e/R0Rw4e57Hm/SwFfoI/mU/FtZgbID/PWXdPY/oBlyKeDLX39DLiW9dlMXmKejRwi6FrfRrxHyoz7YhXwfpAX8Ssuhay2a0iDpbLkSQPCxE3kIWdf1dktkXc60cF/uwG4PvI2UqXwuQAGQ68ZOA60zuvVZaEBgMRz9rtgK2RRBCDO/88reVnOXIO8SaS2KEWs/4sxYpVryCn75eyxlF0DmIWvsOVUkVmfZrzv1LJF3PWPS1DgG8hXspRHyebsgC4H7gAMcf2tn2jCdiAevP+rUh/8HSyLmICNNEJbqOYznOfQM5mnie/AdFIVgGPAuOA3XB7TnEgEspc0+0dJPan9GTtjD2AvyJ7hqzcB3weWGbgWiboAxwDfIP0bi/vIsvNaUjHmYlYgd5H9hzLkT1ILRtKL8Tdvx+yZBmILNM2B7ZCXNgbMRsJGrsdSeyQNMGEKdYDfgV8LfBnlwI/Qu635aggzoS6L9zKmL8LymokRqF7vupr2RR5sYtIpv9y5Nzmp4jH7EYWdFof2AeJl7kZ2Z/E6TQHuAxJbJH3jDyGcEzPM8iessY+iMXzCcTz+3fA7jnrmAunoX9BKxArx16IZesDxW/mA1cjGT2KwADgSkT3RoNiPvJxGAOs40JZJAvkMcD1wCz0uk4BTkZmxLwYgKwIajosRmbiO2L0/A1dyOV+H8L28Kh8OfL7dsTCsy8ycLakOL49PYGzkZfYaKa7BxhL8Rz42pDZ4nxkaafSfzHyARiuuYYNnc4gvp+oBknpGUD8F+sSd6qlZhT1rhRR+RBZcpUlTLWC5Na6GNn7qO7pLuBTOekzIkYPleySk15WaAP+jv7mHqEc02RP4Nc03ltcQrkTQnQDDkEMKaqQ5gfJxwHxz4q2dfLrHPSxxvfQ39h7lCP6bwiSVTHuJY2nPDNGUoYhG3fVUnICdgPUXlC0qZPSOqpujTip6W7sMHeqJWYf6kNNg/IuEjzUlVkfOAf5oAXvvQPZ8G9soc00A2Sihfat0068t+7N7lRLzFHEW6j+hh0TbVFZD0k8F7UwLkI21ybN7reTfICUcon1HfQ3NBdxyisyJxCfVugcimNVy5sNkL1W9OPxH2SDbYKxJB8gexhqMzf6oz7HqMlXnWmWjOPQD45lSFJrj+xR7qZ+2XU52f2+KoihoNHgWEAJ0zvFxXlMpthf3s+ht8MvJuyy7RHGIDVSgs9qOjAy43XXoX4AqmQaJTKQbEf80qTI0+En0buLLCH7C+/K9Eb2AsF3vxo5iMyyN6kAByPeFf9GnFyvQ5wdg6fsMxCjUOGJmxb/5FCvRvRBKkap9F6NzCyexoxEvujB5/co4q9mmnbCvn3vIl7UhWV39INjNcXxoYpSQWISdLqf6k61UtKb+mX2fOAzFtpqQ/IvBw1A21loxwh/Qd/JbnWoVyOORK/3TRQz3qQMHEV4ydoBnIn551lB3OaDg6RwM8m2xG+ktnenWix90ZdPeA33pZ/LznDqg8ZuxHx2kwphV6DZSFxMYfg9+sFR5JPOOP+qUe7USkU7YlofjnyIdkAKfA6iGF7E6yKJ/YLP9hHkPMUkFcT7uNbG2xSkpN76xLuUjHWnWixboD8pv96dWrH0QAbuOMSVfjqN3cNnA/8ErkKi94aT/7KxDUnNFNTrJaS8tel2bgy08TIFcB6NC4SaQXG9da9BrfOHFKu6bQUJJPsj8QewaeRt4LdIHHjaGvFZ+AbheiPvYN54053wfvhJHCasqCApZnQv4gJXijVgEPrZ40KHegWpAKMxl+BCJ+8gIcx5BUYdgngkBDfVpj2D1yZcmOmvOPpQb0/8wy/q4c0v0M8eRfAT25xwCGoSmY245U9EOsR9yBnEK8QvgYNyP5KI2vYSbD/CbvTzgR0Nt/ExwmcyV+HAIhldVwZlSt7KJKQn4byxQbnCoV41DmdNxsQ4eQrZi+xL4/jxNmS9PxapFjWZ+Bry/8L+QBlJ2Aw8D/Pm2a0Iu+l/1/D1Y6mgP32uIsmKi8jh6HWOlpjOmzOJHxRLEWdAE8uhDZFN+wMx7d2PWMRsMZJwye9ZwFDDbezHGkPGamTg58LHiX+ZRS2JpgvnfNKlUsAPiX+eN2InOAnEM/fXqKMHVyL7MluZ2Q9AwpVr7U0jWV6vNJwcuP77SBIQ6/wA/cucRTFPoHsS/mIF5b8c6vVljU5VxKX7kJz02ABZNi9R6PEc9tw4jiTs6PgkstE2RYVwytPnycGyNRH9S73RduNNcgB6nXP5qigYjrpDVpEsiy4MHZsgHrRRfZYBX7fUZjR/wZ2YDY3ohXgE165vNW3tWoRNdVE5wVbDGbkQtb6vO9KngqT9VOk0B1n6uOQzhHPo1uRKzJtNoyfhVeA8w21sQbiy8smGr/8RI9EPjir52dTT8iBqfW9wpM9ojT4dFMfVpR/qGPF7MZ8lsjv1HwzTnhiHBa69HClFYZwz0A+OBRRz/1FBX5fdlUv7wxp9ipaIoAKcTr1p+DHMpyjdCPHAqLXxAfLlN8lVgeu/ioX9SFzWiaJWehqEXud9HeizlUaX98g3L24aDqH+0HEy5r2eRxD2MXsKs46XaxNOLXStwWsD4iSn62yXmm7MEKPQ62zLfBrHWRpdiuLqomNv6kOTJ2Leczj6fP7b8PV3IlxRwFh+s97oO1oVcUgrIl9Bre9y3CSSeEijj+uNeRL2pn4muR6zS+t2YFLg+h2I06ZJfhK4/lwM5TnbmfgBso+JRiygO6V+04Eu7ajPY0zUbMyLsdQn6Pie4TaGEn5O0zB7PtIdcaupXf/PGBjkRxM/QGwE6JtA56D4jANdhmh0uc6BLlmIGmtWYj5zTfR85GLD19+e8FLr8KwX/DH6wbGafOML0nAFap0fdaDL3hpdznCgSxYqSGmE4D1Mx6xVqJ3wV34V5k/0g063sxDTdlO0ER/G+C7FLcesy8+Ud20+0Ft9ZueqRXaqiMPju4E/2wLpcKZYTfhArx1x2DS53zkfSX4Hkqkxk6EkLnvJ1CwXtszvUOv8Twe66A4IM0/vjvgi4fvowHxhm2AobRXx3zLJGML679bshZ5EP0D+kVVLi1yOWuenHeiyl0aXoxzoYoIK9V4KkzD7lR9M2L1pGmZNyxUkY3/t+k/ShHWzjfhsFIuaUi0fFmv+vG+uWgi6pZTpTB95UUW8u4PshdlkcW8hcfQ1hmLWcbIKfJ81W4RdkaOB1OjySFUpdnpRnXu+i0HdA3U2kllIPq5lnX8/D/kSj6Mc5yP3YndFMYDw+csMJITBJEFjziyaMDjo4imqSCbCohIXc+FiFklTRam2Lr6VYpetO4h6vU0nDYx6/H7L8PX7Ew4cG5f2AnFVl/5oTE3zjEKvt+mEAUm4IUafOFmAZDcvIu3UVzS+zHAbQwkfUE7D/NHCeYHrLyLlCXtceYOiBkqBJC3Q6X10zrr0IRy8k1ZWImUBishvCes6G/OuPPdE2jAdcdmXsOf3r9L847gXd5tRNc3Shj5yz6TdvhEV4k3lSWUxxUyrdCj1ujZtMtVwcOT6fzd8fZAye7XrL0O8wRMRl+rybuNqmkWXhO3+HHU4VqNDM/IIxYu92Zh6PX9ouI1uwMxIG6arTPUjnH4pcYyO7itcRTxUi8zVqPVeSD4uMu3Ehwo0IzbqbmShQn2K1P+z0E6w5EEV+KmFNoL+e0tJmG1lAfqXVdRkcTVOQK+76ZNfFfvFtN+sFNG0Hi158IqFNnaLtDEN87NpNEXtz5L8ozfQv6y3DStommHodT8rh/Yvjmm/WfmA4jmIBvPiVpGYG9Odt436ZZYNa2TQ2vg+DaIn25AXoqM/xa5iOx05XFIxOof2bSTTW4+C1MEIEB0MPTAf992BuIYEOdRwGyAuSjX60KCMeRuyxNLRnWIkf9ZRRZI6q/gU9mtu2wrtNRIJZxBVTL3pE2+oz39go9jqU51S4xRiJoE25CAojs0MKGUTnaWtAhxhue0iz66m0IVErLTQ1sOR/98J82lLQYw7NbYEPq37YRtSTyKOohd1vx9xl1FxnOW251m6btysnjfDqA+LXY1YCk0zE3FiDLK3hXZuI9xntO4tSQZIoYonKliKRMGp2BX4pMW2n7NwzSW4ywypYn/Fn81C9gw2iIYrmE7sAHIoe0fg/w9BsxxvQza6cRS1HnqQOJeYkyy2q9v/ZOEB7CxfmuWLij971WJ70SA9W+b6YJ/pBhyj+2GjsgfPWlLQJO2ISVql/2IyxCQ3oAf1znxZJa/M70nYDrWOpnNaBTkq0tYS7Oz1uiGhxQ37eU/iHRZXYsdiYZqgr01UfmSx3W/HtJtWnqZYG/+oE2FN9rPYZvTAsIr5VKU1oq722opYLyuUCsqulhQ0yQD0rvtzMJt/KUg7+py8aWWUJR2bQeWkWEU20jYLaKp8v2xVkYqWz9AWqY3LzVsFvmNJQdNci/4ebBbU6U98+bqkMhXzdf2aYRh6F6RzLbfdQ9GmrX1kD8J+Zi/qfhhM2aiSWywpaJpt0C8X52E3ifQgwvmempXlwNmYz42blEGEq8kG5QPyibOPOtCarisSJDo5KI1SBxL/0t6ieG7YOv4X/X0kck7LwFqIF2qch3RSeQlJXZPnc/84YmLW6ZRXVdn5kXZ/G//zTHwt0pYy2V8/Gr8w09VKbbEN+pLIy7C34QuyEVJ/YxLhmP9VyDR+JZLz+Fgal4iejPiV2dy8twHfRF30syYPk58TZbSs960W29o80tYk3Q9fIv5FnWhRSdPE7UXuId+vcgUJ+dwQdTbIoUjhmiQzymmY9dOqIBvVuNxoVWRjnmdJiWj8yT2W23st0NZKxGG0Dl2mwpqMt6ykSQYRn63lMHeqKWlHcjjF6Ryche5HnOy2prnBvimSRPrZBO3Nx643QpQK4eTTVeq9fE3zx0h7yrOoaLrJqCymHOchNc5Gfy+zgfXdqaZlMPF7KJXMRfJXXYQskw4G9kQc/XZGlnKHI0u+62i8UgjKW8C2Vu+4nnUVetxruc1vRtr7pepH/RWKReUgy4qaZC0k8k13LzbXtVnZHXFjSTNQTMt9uHG7V5WysxHiG2THSHtP6n74tEK5oFxjWVHT7E/8/RzrTrVE7IoM5OiSw6bMR6qKuTrRjx7eVbGfwLA74TzBK5E67HWcr1AuKPPQlx0oKr9Hfz+LkHiAotMfWSI9g92BcS5uslIGOZl63fKoEhzNa7an6kd7KJSLiq1jf1v0QdbSuvuZij03FBsMRQbLg8ihYpZBsRzZAB9HcZ7BNdTraTrNkIroRv1k1Y/aCNe0VsnNOShrmn2Jd8i8hfIchAbpiXzpTkGskA8g+64FhPOdLUNMtU8jdfvOQdILrZO/yg2ZQv37ySNT5o8ibf5B98PLFAoGZQnFrfsdR7Asl0ry+ErlTTvF8g5uRF/Uh7w759D2YZE2tRv1kQoFo1KmQ8Ma3ZHqU3H3VdaKUF0FlQdxB/ks/3aKtLsYzceljXh/nCqyWSzjkmRj5AxEd1/LsBPi6UnG9dS/k+dzansDRdvaCs8XKH4cFeUuvwSMIL7kw/u4KZ/Q6vQknIG9Jtfm1H6FsKm3Skx8juqwJipFPmhrxPHE39scxLPVkx86Tw5trLgF3oy0fULcjx8ivhOtongZANNwIfH3N5tyJKzoKkxCvf+wkRdLR/SgfFzcj6PB8ypJVYikYFSot32rZhLTJcc8YjAZgLiytKOOQ68i5SDyJFrZN9ZzZC3iN7RVxPu0rJVcQV6ULjFBTRYg+xZPNnohoduPEXadWY4+vPeUnHUcH2lfl2/tI8YR33mqiHtKmemFHLDF3eNSYKwrBbsAexNfRUAlK8j/43tbRIfJjf5Bfxq7MyykmK7jaViHxnuuDiTktIzmbZccSnPOljc40DW65NYmcQii8o2Jiu1Y7zxYG6mN1+her0aWn57G7Ei96TSpjHGg7/URHRoldgfE21UX4x3ciww0rm7+9KR+HaqSyaQoAtmiVNDXkEwitoOkVERnkLjaOSGSRLnZzDyRJ92Id5GvyVyKV0+wSOxL84OjJnlX/b010v6ypP/wE8R7w1aRc5GucrhWoXGusJpcjLscVkXmCrIPkLwdSKOrh1Vp/nF0dBVlWrTJ0SRbQ09FEj171hCta9iM5F3QNGrNTDVAtqbxXqSKm82VTXZFnzk+KCuQiDw/mwgmUrE+lLPO0YjNFWkv0Cg1UBXJMaSM5y0xG9H4rKQmLyCZRFodVeBTWsl7RRL9EKauojWQZLmbtFmyS0w7kiO20V6sJjcDmzjRtBikTV+kksvrrmqPdsJRmFWkfkhqxtH4xlZSjCzlNtiHZEuuKhJ9eR4NanF3UaK5ppqRPIsJqcouvNLMhdYmWQd5Art1JFzSF0lFk/RFz0XKLxQlMUIeHES2wfEm+WbQGaHQQRt224gjFRdTyQ8yqVx8xiLJEJK+9DnAmZQzpj8pPZFQgiQGnThR1Ua0yZcVOjSdE7gCTFRcMCrLyD91Zd70Ba4i3cv/AElvuXn+6lrlQOKzWSaVK/JWHEndGtUjU6LErUiWl+kZWsP0uTvpXSs6EJfq0ZR7OboLMIHsA6OKFAh1kYnlXoUuP8l60aSnzRdlbagktANfJd2yqyYzgF+Qbyb1LFQQd5K/kPwe43IBTELc4l1QIVzxtiaZU9P2QE6RkzycVvJbWgdJRKZKQpBEXkDibHameHmtNgROBZ4j3T1NAD6GHDgfj1hDz0E+KK6LM22GWufdTVx8J+rtxyqZQ+t5wPZDzLzRgjBpZCbiZXocMWloLDMIMdveS7J3HZRlSC2Sog30IF9CrbsxY8q5mgai8gjlS35tgj7IjNIohDmJvIUcwp2BZEIfiNkgrm6IYeUriIf2ixl0fQjZqxadq1E/Z2MPtjsSa7xLgt9ehnxRWpG1EAfIU5CZ1xTvA9MRN58ZyKwzF3gPyWC/BDm8rSADoCdSZqwfEjW6MTAEWeoMJ7tRZQYygGshrEWmglT1jdauvAv4vMmGtiS+CGRQil6XwzYVZH37e5I/szLIHCTzfJl88YajvpfMFiwVX9U0plqX7mZDgRLSG/lgTCDfQjkm5TUkXr+I2eIbcTrqe/q0jcYqwI2aBqMyC3ebzqKyAWLhGU8yp1CXsgIpjTaa/MpD20AVt7IS+XBZoTdipkzykKeiKbnroSeyCb8IyfiX1IvYpixCBu9XcF+JygSbo77Px2w3vA3yMJM89PtoTctWWvoBn0P8nO5DNuG2B8RCpOT0OORQsKt5ROgqIY+r/cBmjqdDgTsS/vYm5KvUYU+dLkcFMfFu0ylDkC/iJohlqj+Ny3ZXkTOaWYjl600kEvBVJODpdbruO6kg96k6pNwNcRuyTqOioEH5FT4pm2l6IPuaTZEBtCUyiAYiS6QiH97ZRlVNt4p8KHJ7Lm3AnRpFVPLTvBTztDx3oe6DeUYxAmL6+5dGGZWcmbeCnpZjOHqjx0gXCm1MfXGSODnNhZKeluEPqPvd6zhc5m+LPs29Srp6NKLHDUPQH8haOT1Pw15IKYGkg+RsN2p6ujC6okmrKUgWmjGkc5n+Od665THDduj3Hnc61KuOo0l3MnwN5Q5J9binghx66vqYk815HCeQfIDURnijgy+PR8fh6PvWZAq6SvkW6QbJo0jYpseThr7E5wk42J1qjUk7SKYjdmyPJylxVdKeoKCzR5DjSZdo7D1gfyeaesrGaOL7kpW4DxscSbqAoVVI6G7hR7/HGf1Rp/OpyQR3qjXH55D46TRLruspV4inJx/aibdarUS8oEvHp4B5pBskzwDDXCjrKSwXEN9nSp3McDjiF5NmkCxETHkezxHE95U3sBhSmxcDEAtDmkFSBX5Da5UZ8ITZncbuTAc4084wvWiuUtELwA4O9PW4ZUsk9VCjD2iXog0JpEo7SFYgycvKnHHDk5zByNIprk+8SMrURGUykX4BuIH0a8fHkXOWl4xrlA8VxMt0GBJX0wfxS1uOJMaYjWQGrFX9akUGAQ8TnwR7GbL8ejYXjRyxDdLR084my5BIxbJkTxmEpCe9B5hPsnucD9wNnExrJQkfTLKiPce7UjBv1mNNzte0MhXYI3+VE1FBTn3/TvYcWB1IaqDRdO3EDFuTrF6mi4pVTqkAJyIzQzOd5yokz1RR+AySHC7LoNDJFKQ0WldjBMnOyyZSnpWDcXYgeRbHqMwDTsJtnEl/4Haa0z+t3ImYzrsCx5Cs/N9zdI0MkJlYG5lCm+04z+LG8XF/4v2EbMhcyl3pqxvqYpsqeYPW2os1ZDSSIbDZzjMB2DEnXb9N9jLJzUoHYgAoGwOAf5DsHmfiXY+UrI8+KD+p3IIcONnirIz6mZJzLN6jacaSPBfxLErqhJgnY4B3aL7zrEbOXEyXDzstg0425AzD92eavkiRoaT38zblKPlWCNZDyr1lMZmuBm5GsmFkZWwGPWzKEQbuzQZjSVdO+yWkWq0nJbtixoQ6AdiP5rwPhpCt0q1NWYTdJWVahiEHpGnu4VEkSbenSdqBr2OmpsaUzmsl9RhuAyYZaNemTMa9z1o/xEKVxHwblBvx2W6M0Q+4FHFkzNqpFgCXIKe5cRxvoK085MRkj9A46yBuQGnS0laR5e/plMufsDQMpTk3ep08CnwNWDfSTi/SraNdyhzyDSLqC/yY9NGjVcRSNSpHXVuW3RFXBFOdbAniJzYWqYn+XYPXzkNOz/Y4EzEMMZ4kLdEXlb8AG+WgpyfAKOARzHa2BUgYsOtOn0bews5epAdwGHAvzVsVFyOuQX5J5YgK4v7xAO47qkv5bNYH2UkF2BNxA8pqHJmIWAI9BWEPJLbCdWd1IddleG49kERsl5OuYJJOZgPH4meNwjIcuJL0ubrKLLNJ3iHbge2BU5Gzi8WGdFiBFHVteU/csrABYop8DfcdOA9R5T5uQ5Y5hyI5pyZg5/DzT8SHzuaKn7rS0YakjDkJyQju+nDNFr8Enkdi4Ici5fO2xa4ZeDxwLhL16ekC9EecD5/F/Re/rLIKcQr9RMpn7ykRFWQd/nPSZ4NsVZkHXEhBagJ68qOCHD4mybLRivIAcBRyiOppYVrVRKySKYiBY3CmJ+oIXxjTDqtcK+CQ1cBjiNn3TqQiWGnxA8QOy1wrkDMvAw92ykTgfbfqmMMPEDu861oBi8wF/t0pj3fKHKcaWcQPEDu85lqBjKwEXkWsctOR3L/PI8mfZyN7C4+nafbF/eY4i4wy/kRKij9Jt0NvZB1expP21YgP1GLXihSBrpzY2CWLkTjvMvIEfnB8hB8g9hjvWoEmucu1Ap7WYAByHuJ6P5FGOoBNbTwMj0eFycQQeYifPTy5sjPuO30aGWHnMXg8evKq/5FV/mbrAXg8cWwGfIj7ARAny1FHEXo8uXAK7gdBnPzQ3q17PI2pIAnPXA8ElUyknAeani5GX5orYW1TpgEb2rxpjycNg0lWtjgPmUmBsod4PDWG4D590BsUqyaIxxOiPxJ152JwPA4MtH+LHk82egAXk61EXBrpQOqZ9Mjj5jweU+wBPIPdwTEFf0ruKTHtSJLmFzA7MF4EjsObcT1dhDYkO/qNNJ/3diFwE5Ii1YczZMRHFBaX7kgSupFI5sYtkc11386/W4VELc5CzjOmIqXgJiPZ0T0G+H+5fjjrAh/ysQAAAABJRU5ErkJggg==";
},function(e,t,n){var r,i,o,a,s,u,l;s=n(4),l=n(72),u=n(41),o=n(9),i=n(5),a=n(6),r=n(122),o.create("ApparatusCanvas",{contextTypes:{project:i.Project,hoverManager:o.HoverManager,dragManager:o.DragManager},propTypes:{className:String,element:i.Element,cacheRect:Boolean,screenMatrixScale:Number,hideGrid:Boolean,highlightControllers:Boolean,highlightNonControllers:Boolean,showControlPoints:Boolean,enableGeneralInteraction:Boolean,enableControllerInteraction:Boolean,enablePanAndZoom:Boolean},render:function(){var e,t,n;return n=this.props,t=n.className,e=n.children,o.div({className:t,onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onMouseMove:this._onMouseMove,onWheel:this._onWheel},o.HTMLCanvas({ref:"HTMLCanvas",draw:this._draw}),e)},componentWillMount:function(){return this._imageCache=new r},componentDidMount:function(){return window.addEventListener("resize",this._onResize)},_draw:function(e){var t,n,r,i,o,a,u,l,c,f;for(t=this.props.element,l=this.context,u=l.project,i=l.hoverManager,r=function(e){return function(t){var n,r,o,a;if(n=t.particularElement,e.props.highlightControllers&&(null!=(r=i.controllerParticularElement)?r.isAncestorOf(n):void 0))return{color:"#c00",lineWidth:2.5};if(e.props.highlightNonControllers){if(null!=(o=u.selectedParticularElement)?o.isAncestorOf(n):void 0)return{color:"#09c",lineWidth:2.5};if(null!=(a=i.hoveredParticularElement)?a.isAncestorOf(n):void 0)return{color:"#0c9",lineWidth:2.5}}}}(this),f=s.extend(this._graphicsOpts(),{ctx:e,highlight:r}),this.props.hideGrid||t.isGridHidden||this._drawBackgroundGrid(e),c=this._graphics(),o=0,a=c.length;a>o;o++)n=c[o],n.render(f);return this.props.showControlPoints?this._drawControlPoints(e):void 0},_drawControlPoints:function(e){var t,n,r,i,o,a,u,l,c,f;for(r=this.context.hoverManager,a=this._controlPoints(),l=[],i=0,o=a.length;o>i;i++)n=a[i],e.save(),e.beginPath(),u=n.point,c=u[0],f=u[1],e.arc(c,f,this._controlPointRadius,0,2*Math.PI,!1),t="#09c",n.attributesToChange.length>0&&s.intersection(n.attributesToChange,r.attributesToChange).length>0&&(t="#c00"),e.fillStyle=n.filled?t:"#fff",e.fill(),e.strokeStyle=t,l.push(e.stroke());return l},_drawBackgroundGrid:function(e){var t,n,r,i,o,s,u;for(i=this.context.project,r=null!=(o=i.selectedParticularElement)?o.contextMatrix():void 0,null==r&&(r=new a.Matrix),r=this._viewMatrix().compose(r),e.save(),e.beginPath(),r.canvasTransform(e),s=t=-10;10>=t;s=++t)e.moveTo(s,-10),e.lineTo(s,10);for(u=n=-10;10>=n;u=++n)e.moveTo(-10,u),e.lineTo(10,u);return e.restore(),e.save(),e.strokeStyle="#eee",e.lineWidth=.5,e.stroke(),e.restore(),e.save(),e.beginPath(),r.canvasTransform(e),e.moveTo(-10,0),e.lineTo(10,0),e.moveTo(0,-10),e.lineTo(0,10),e.restore(),e.save(),e.strokeStyle="#ccc",e.lineWidth=1,e.stroke(),e.restore()},_controlPointRadius:5,_controlPoints:function(){var e,t,n,r,i,o,a;if(o=this.context.project,a=o.selectedParticularElement,!a)return[];if(i=a.accumulatedMatrix(),!i)return[];for(i=this._viewMatrix().compose(i),t=a.element.controlPoints(),n=0,r=t.length;r>n;n++)e=t[n],e.point=i.fromLocal(e.point);return t},_hitDetectControlPoint:function(e){var t,n,r,i,o,s;for(o=this._mousePosition(e),n=this._controlPoints(),s=this._controlPointRadius*this._controlPointRadius,r=0,i=n.length;i>r;r++)if(t=n[r],a.quadrance(o,t.point)<=s)return t;return null},_onMouseDown:function(e){var t;return e.preventDefault(),a.clearTextFocus(),t=this._isDoubleClick(),this._updateSelected(e,t),this._updateHoverAndCursor(e),this._startAppropriateDrag(e)},_onMouseMove:function(e){var t;return t=this.context.dragManager,t.drag?void 0:this._updateHoverAndCursor(e)},_onMouseEnter:function(e){var t,n,r;return t=this.context.dragManager,"createElement"===(null!=(r=t.drag)?r.type:void 0)?(n=t.drag.element,this._createElement(e,n)):void 0},_onMouseLeave:function(e){},_onWheel:function(e){return this.props.enablePanAndZoom?(e.preventDefault(),this._zoom(e)):void 0},_isDoubleClick:function(){var e,t,n;return t=400,null==this._lastMouseDownTime&&(this._lastMouseDownTime=0),e=Date.now(),n=e-this._lastMouseDownTime<t,this._lastMouseDownTime=e,n},_onResize:function(){return this.refs.HTMLCanvas.resize(),this._rectCached=null},_intent:function(e){var t,n,r,i,o,a,s,u;return s=this.context.project,u=s.selectedParticularElement,i=this._hitDetect(e),n=this._hitDetectControlPoint(e),r=function(){var e,t,r;if(n)return null;if(!i)return null;for(t=0,r=i.length;r>t;t++)if(e=i[t],e.element.isController())return e;return null}(),o=function(){var e,t,r,o,a,s;if(n)return u;if(!i)return null;if(!u)return null!=(s=i[i.length-2])?s:i[i.length-1];for(r=t=0,o=i.length;o>t;r=++t)if(e=i[r],a=i[r+1],!a||a.isAncestorOf(u))return e}(),a=function(){return o?r||n?u:(null!=u?u.isAncestorOf(o):void 0)?u:o:null}(),t=n?n.attributesToChange:r?r.element.attributesToChange():a?a.element.attributesToChange():[],{controlPoint:n,controller:r,nextSelectDouble:o,nextSelectSingle:a,attributesToChange:t}},_updateHoverAndCursor:function(e){var t,n,r,i,o,a;return i=this.context.hoverManager,a=this._intent(e),n=a.controlPoint,r=a.controller,o=a.nextSelectSingle,t=a.attributesToChange,this.props.enableGeneralInteraction&&(i.hoveredParticularElement=o),this.props.enableControllerInteraction?(i.controllerParticularElement=r,i.attributesToChange=t):void 0},_updateSelected:function(e,t){var n,r,i,o;return this.props.enableGeneralInteraction?(i=this.context.project,o=this._intent(e),n=o.nextSelectDouble,r=o.nextSelectSingle,t?i.select(n):i.select(r)):void 0},_startAppropriateDrag:function(e){var t,n,r,i,o,a,s,u,l,c;return l=this.context.project,c=this._intent(e),r=c.controlPoint,i=c.controller,o=c.nextSelectSingle,n=c.attributesToChange,r&&(u=l.selectedParticularElement),this.props.enableControllerInteraction&&null==u&&(u=i),this.props.enableGeneralInteraction&&null==u&&(u=o),u?(t=u.accumulatedMatrix(),s=this._mousePosition(e),a=this._viewMatrix().compose(t).toLocal(s),this._startDrag(e,u,n,a)):this.props.enablePanAndZoom?this._startPan(e):void 0},_startDrag:function(e,t,n,r,i){var o;return null==i&&(i=!1),o=this.context.dragManager,o.start(e,{onMove:function(e){return function(s){var l,c,f,h,p,d,m,v,g,y,b,w;if(i||o.drag.consummated){for(c=e._mousePosition(s),p=function(){var e,t,r;for(r=[],e=0,t=n.length;t>e;e++)l=n[e],r.push(l.value());return r}(),g=function(){var e,t,r;for(r=[],e=0,t=n.length;t>e;e++)l=n[e],r.push(a.precision(l.exprString));return r}(),m=function(i){var o,s,u,f,h,p,d;for(u=s=0,f=n.length;f>s;u=++s)l=n[u],d=i[u],l.setExpression(d);return h=t.accumulatedMatrix(),p=e._viewMatrix().compose(h).fromLocal(r),o=a.quadrance(p,c)},w=a.solve(m,p),y=[],h=f=0,d=n.length;d>f;h=++f)l=n[h],b=w[h],v=g[h],u.command&&(b=a.roundToPrecision(b,v-1)),b=a.toPrecision(b,v),y.push(l.setExpression(b));return y}}}(this)}),i?o.drag.onMove(e):void 0},_createElement:function(e,t){var n,r,o,a,s,u;return r=this.props.element,u=this.context.project,s=r,o=t.createVariant(),s.addChild(o),a=new i.ParticularElement(o),u.select(a),n=a.element.attributesToChange(),this._startDrag(e,a,n,[0,0],!0)},_startPan:function(e){var t,n,r,i;return n=this.props.element,t=this.context.dragManager,i=this._mousePosition(e),r=this._viewMatrix().toLocal(i),t.start(e,{onMove:function(e){return function(i){var o,a,s,u;if(t.drag.consummated)return a=e._mousePosition(i),o=e._viewMatrix().toLocal(a),s=l.sub(o,r),n.viewMatrix=(u=n.viewMatrix).translate.apply(u,s)}}(this)})},_zoom:function(e){var t,n,r,i,o,a,s;return t=this.props.element,o=Math.pow(1.001,-e.deltaY),r=this._mousePosition(e),i=this._viewMatrix().toLocal(r),a=i[0],s=i[1],n=t.viewMatrix,n=n.translate(a,s),n=n.scale(o,o),n=n.translate(-a,-s),t.viewMatrix=n},_hitDetect:function(e){var t,n,r,i,o,a,u,l,c,f,h;for(c=this._viewMatrix(),a=this._mousePosition(e),f=a[0],h=a[1],n=s.extend(this._graphicsOpts(),{x:f,y:h}),r=null,u=this._graphics(!0),i=0,o=u.length;o>i;i++)t=u[i],r=null!=(l=t.hitDetect(n))?l:r;return r},_mousePosition:function(e){var t,n,r;return t=this._rect(),n=e.clientX-t.left,r=e.clientY-t.top,[n,r]},_rect:function(){var e;return null!=this._rectCached&&this.props.cacheRect?this._rectCached:(e=o.findDOMNode(this),this._rectCached=e.getBoundingClientRect())},_graphics:function(e){var t;return null==e&&(e=!1),e&&this._cachedGraphics?this._cachedGraphics:(t=this.props.element,this._cachedGraphics=t.allGraphics())},_viewMatrix:function(){var e,t,n,r,i,o,s,u;return i=this.props,e=i.element,s=i.screenMatrixScale,r=this._rect(),u=r.width,n=r.height,o=new a.Matrix(s,0,0,-s,u/2,n/2),t=e.viewMatrix,o.compose(t)},_graphicsOpts:function(){var e,t;return t=this._viewMatrix(),e=this._imageCache,{viewMatrix:t,imageCache:e}}}),o.create("EditorCanvas",{contextTypes:{editor:i.Editor,project:i.Project},render:function(){var e,t,n,r,i;return i=this.context,t=i.editor,r=i.project,e=r.editingElement,n=t.layout,o.Dropzone({className:"EditorCanvasDropzone",onDrop:this._onFilesDrop,disableClick:!0,activeClassName:"dropActive",rejectClassName:"dropReject",accept:"image/*",multiple:!1},o.ApparatusCanvas({className:"EditorCanvas",element:e,cacheRect:!0,screenMatrixScale:1,hideGrid:!1,highlightControllers:!0,highlightNonControllers:!0,showControlPoints:!0,enableGeneralInteraction:!0,enableControllerInteraction:!0,enablePanAndZoom:!0},o.div({className:o.cx({LayoutMode:!0,FullScreen:n.fullScreen,"icon-fullscreen":!n.fullScreen,"icon-edit":n.fullScreen}),onClick:this._toggleLayout})))},_toggleLayout:function(){var e;return e=this.context.editor.layout,e.toggleFullScreen()},_onFilesDrop:function(e){var t,n;if(e[0])return t=e[0],n=new FileReader,n.onloadend=function(e){return function(){var t;return t=n.result,e._createImageElement(t)}}(this),n.readAsDataURL(t)},_createImageElement:function(e){var t,n,r,o,a;return o=this.context.project,t=o.editingElement,r=i.Image.createVariant(),n=r.childOfType(i.ImageComponent),a=n.getAttributesByName().url,a.setExpression('"'+e+'"'),t.addChild(r)}}),o.create("ThumbnailCanvas",{render:function(){return o.ApparatusCanvas({className:"ThumbnailCanvas",element:this.props.element,cacheRect:!0,screenMatrixScale:.1,hideGrid:!0,highlightControllers:!0,highlightNonControllers:!0,showControlPoints:!1,enableGeneralInteraction:!1,enableControllerInteraction:!1,enablePanAndZoom:!1})}})},function(e,t,n){var r,i,o,a;a=n(4),i=n(9),r=n(5),o=n(6),i.create("AttributeRow",{propTypes:{attribute:r.Attribute},contextTypes:{project:r.Project,hoverManager:i.HoverManager},render:function(){var e;return e=this.props.attribute,i.div({className:i.cx({AttributeRow:!0,isInherited:!e.isNovel(),isWrapped:this._isWrapped(),isGoingToChange:this._isGoingToChange()})},i.div({className:"AttributeRowControl"},i.div({className:i.cx({AttributeControl:!0,Interactive:!0,isControllable:this._isControllable(),isControlled:this._isControlled(),isImplicitlyControlled:this._isImplicityControlled()}),onClick:this._toggleControl})),i.div({className:"AttributeRowLabel"},i.AttributeLabel({attribute:e})),i.div({className:"AttributeRowExpression"},i.Expression({attribute:e})))},_isWrapped:function(){var e;return e=this.props.attribute,-1!==e.exprString.indexOf("\n")},_isGoingToChange:function(){var e,t;return e=this.props.attribute,t=this.context.hoverManager,a.contains(t.attributesToChange,e)},_selectedElement:function(){var e,t,n;return e=this.context.project,n=null!=(t=e.selectedParticularElement)?t.element:void 0},_isControlled:function(){return a.contains(this.context.project.controlledAttributes(),this.props.attribute)},_isImplicityControlled:function(){return a.contains(this.context.project.implicitlyControlledAttributes(),this.props.attribute)},_isControllable:function(){return a.contains(this.context.project.controllableAttributes(),this.props.attribute)},_toggleControl:function(){var e,t,n,r;return e=this.props.attribute,t=this.context.project,(r=null!=(n=t.selectedParticularElement)?n.element:void 0)?this._isControlled()?r.removeControlledAttribute(e):r.addControlledAttribute(e):void 0}}),i.create("AttributeLabel",{propTypes:{attribute:r.Attribute},contextTypes:{dragManager:i.DragManager,hoverManager:i.HoverManager},mixins:[i.AnnotateMixin],render:function(){var e,t;return e=this.props.attribute,t=this.context.hoverManager,i.div({className:i.cx({AttributeLabel:!0,Interactive:!0,isHovered:t.hoveredAttribute===e,isGoingToChange:a.contains(t.attributesToChange,e)}),onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},i.EditableText({className:"EditableTextInline Interactive",value:e.label,setValue:function(t){return e.label=t}}))},annotation:function(){return{attribute:this.props.attribute}},_onMouseDown:function(e){var t,n,r,i;if(!o.closest(e.target,".EditableTextInline"))return t=this.props.attribute,i=this.context,n=i.dragManager,r=i.hoverManager,e.preventDefault(),n.start(e,{type:"transcludeAttribute",attribute:t,x:e.clientX,y:e.clientY,onMove:function(e){return n.drag.x=e.clientX,n.drag.y=e.clientY},onDrop:function(){return r.hoveredAttribute=null},onCancel:function(e){return function(){return e._transcludeIntoFocusedExpression()}}(this)})},_transcludeIntoFocusedExpression:function(){var e,t,n,r;return e=this.props.attribute,(r=document.querySelector(".CodeMirror-focused"))?(n=o.closest(r,".ExpressionCode"),t=n.annotation.component,t.transcludeAttribute(e)):void 0},_onMouseEnter:function(e){var t,n,r,i;return t=this.props.attribute,i=this.context,n=i.dragManager,r=i.hoverManager,null==n.drag?r.hoveredAttribute=t:void 0},_onMouseLeave:function(e){var t,n,r;return r=this.context,t=r.dragManager,n=r.hoverManager,null==t.drag?n.hoveredAttribute=null:void 0}}),i.create("AttributeToken",{propTypes:{attribute:r.Attribute,contextElement:"any"},contextTypes:{dragManager:i.DragManager,hoverManager:i.HoverManager},render:function(){var e,t;return e=this.props.attribute,t=this.context.hoverManager,i.span({className:i.cx({ReferenceToken:!0,isHovered:t.hoveredAttribute===e,isGoingToChange:a.contains(t.attributesToChange,e)}),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this._label())},_label:function(){var e,t,n,r,i;return i=this.props,e=i.attribute,t=i.contextElement,r=e.parentElement(),n=t?r.isAncestorOf(t):!1,n?e.label:r.label+"s "+e.label},_onMouseEnter:function(e){var t,n,r,i;return t=this.props.attribute,i=this.context,n=i.dragManager,r=i.hoverManager,null==n.drag?r.hoveredAttribute=t:void 0},_onMouseLeave:function(e){var t,n,r;return r=this.context,t=r.dragManager,n=r.hoverManager,null==t.drag?n.hoveredAttribute=null:void 0}})},function(e,t,n){var r,i,o,a;a=n(4),i=n(9),r=n(5),o=n(6),i.create("CreatePanel",{contextTypes:{project:r.Project,editor:r.Editor},render:function(){var e,t,n;return n=this.context.project,t=this.context.editor.layout,t.fullScreen?null:i.div({className:"CreatePanel"},i.div({className:"CreatePanelContainer"},i.div({className:"Header"},"Symbols"),i.div({className:"Scroller"},function(){var t,r,a,s;for(a=n.createPanelElements,s=[],t=0,r=a.length;r>t;t++)e=a[t],s.push(i.CreatePanelItem({element:e,key:o.getId(e)}));return s}(),i.div({className:"CreatePanelAddItem"},i.button({className:"AddButton",onClick:this._createNewElement})))))},_createNewElement:function(){var e,t;return t=this.context.project,e=t.createNewElement(),t.createPanelElements.push(e),t.setEditing(e)}}),i.create("CreatePanelItem",{contextTypes:{project:r.Project,dragManager:i.DragManager},propTypes:{element:r.Element},render:function(){var e;return e=this.props.element,i.div({className:i.cx({CreatePanelItem:!0,isEditing:this._isEditing()})},i.div({className:"CreatePanelThumbnail",onMouseDown:this._onMouseDown},i.ThumbnailCanvas({element:e})),this._isEditable()?i.span({},i.div({className:"CreatePanelItemEditButton icon-pencil",onClick:this._editElement})):void 0,this._isEditable()&&!this._isEditing()?i.div({className:"CreatePanelItemRemoveButton icon-x",onClick:this._remove}):void 0,i.div({className:"CreatePanelLabel"},i.EditableText({value:e.label,setValue:this._setLabelValue})))},_isEditing:function(){var e,t;return e=this.props.element,t=this.context.project,e===t.editingElement},_isEditable:function(){var e,t;return t=this.props.element,e=a.values(r),!a.contains(e,t)},_setLabelValue:function(e){return this.props.element.label=e},_editElement:function(){var e,t;return e=this.props.element,t=this.context.project,t.setEditing(e)},_remove:function(){var e,t;return e=this.props.element,t=this.context.project,t.createPanelElements=a.without(t.createPanelElements,e)},_onMouseDown:function(e){var t,n;return t=this.context.dragManager,n=this.props.element,e.preventDefault(),o.clearTextFocus(),t.start(e,{type:"createElement",element:n,onCancel:function(e){return function(){return e._isEditable()?e._editElement():void 0}}(this)})}})},function(e,t,n){var r,i;i=n(9),r=n(5),i.create("Editor",{propTypes:{editor:r.Editor},childContextTypes:{editor:r.Editor,project:r.Project},getChildContext:function(){var e;return e=this.props.editor,{editor:e,project:e.project}},render:function(){return i.MouseManagersWrapper({},i.div({className:"Editor"},i.DragHint({}),i.CreatePanel({}),i.div({className:"Center"},i.Menubar({}),i.EditorCanvas({})),i.RightPanel({})))}}),i.create("MouseManagersWrapper",{childContextTypes:{dragManager:i.DragManager,hoverManager:i.HoverManager},getChildContext:function(){return{dragManager:this._dragManager,hoverManager:this._hoverManager}},componentWillMount:function(){return this._dragManager=new i.DragManager,this._hoverManager=new i.HoverManager},render:function(){var e,t,n,r,o;return r=this.props,t=r.className,e=r.children,n=null!=(o=this._dragManager.drag)?o.cursor:void 0,i.div({className:i.cx({MouseManagersWrapper:!0,CursorOverride:null!=n}),style:{cursor:null!=n?n:""}},e)}}),i.create("ContextWrapper",{propTypes:{childRender:Function,context:Object},childContextTypes:{editor:r.Editor,project:r.Project,dragManager:i.DragManager,hoverManager:i.HoverManager},getChildContext:function(){return this.props.context},render:function(){return this.props.childRender()}}),i.create("DragHint",{contextTypes:{dragManager:i.DragManager},render:function(){var e,t;return t=this.context.dragManager,e=t.drag,i.div({className:"DragHintContainer"},"transcludeAttribute"===(null!=e?e.type:void 0)&&e.consummated?i.div({className:"DragHint",style:{left:e.x+5,top:e.y+5}},i.AttributeToken({attribute:e.attribute,contextElement:null})):void 0)}})},function(e,t,n){var r,i,o,a,s;s=n(4),o=n(9),i=n(5),r=n(14),a=n(6),o.create("Expression",{propTypes:{attribute:i.Attribute},render:function(){var e;return e=this.props.attribute,o.div({className:"Expression"},o.ExpressionCode({attribute:e}),o.ExpressionValue({attribute:e}))}}),o.create("ExpressionValue",{propTypes:{attribute:i.Attribute},render:function(){var e,t;return e=this.props.attribute,e.isTrivial()?o.span({}):(t=e.value(),o.div({className:"ExpressionValue"},o.Value({value:t})))}}),o.create("Value",{propTypes:{value:"any"},render:function(){var e;return e=this.props.value,o.span({className:"Value"},e instanceof Error?"("+e+")":s.isFunction(e)?"(Function)":e instanceof r.Spread?o.SpreadValue({spread:e}):s.isNumber(e)?a.toMaxPrecision(e,3):JSON.stringify(e))}}),o.create("SpreadValue",{propTypes:{spread:"any"},render:function(){var e,t,n,r;return n=this.props.spread,t=5,o.span({className:"SpreadValue"},function(){var i,a,s;for(s=[],e=i=0,a=Math.min(n.items.length,t);a>=0?a>i:i>a;e=a>=0?++i:--i)r=n.items[e],s.push(o.span({key:e,className:"SpreadValueItem"},o.Value({value:r})));return s}(),n.items.length>t?"...":void 0)}})},function(e,t,n){var r,i,o,a,s,u,l={}.hasOwnProperty,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};n(104),n(105),r=n(38),s=n(4),u=n(41),o=n(9),i=n(5),a=n(6),o.create("ExpressionCode",{propTypes:{attribute:i.Attribute},contextTypes:{editor:i.Editor,project:i.Project,dragManager:o.DragManager,hoverManager:o.HoverManager},mixins:[o.AnnotateMixin],render:function(){var e;return e=this.props.attribute,o.div({className:"ExpressionCode Interactive",onMouseUp:this._onMouseUp})},annotation:function(){return{component:this}},componentDidMount:function(){var e;return e=o.findDOMNode(this),this.mirror=r(e,{mode:"javascript",viewportMargin:1/0,smartIndent:!0,indentUnit:2,tabSize:2,indentWithTabs:!0,lineWrapping:!0,scrollbarStyle:"null",undoDepth:0}),this.mirror.on("change",this._onChange),this.mirror.on("mousedown",this._onMirrorMouseDown),this.mirror.on("dblclick",this._onMirrorDoubleClick),this.componentDidUpdate()},componentDidUpdate:function(){return this._updateMirrorFromAttribute()},_onChange:function(){return this._updateAttributeFromMirror(),this.mirror.hasFocus()?this._showAutocomplete():void 0},_onMirrorMouseDown:function(e,t){var n;return n=t.target,a.matches(n,".cm-number")?(t.preventDefault(),this._startNumberScrub(t)):void 0},_onMirrorDoubleClick:function(e,t){var n;return n=t.target,a.matches(n,".cm-number")?(t.preventDefault(),this._endNumberScrub(t)):void 0},_onMouseUp:function(e){var t,n,r;return t=this.props.attribute,n=this.context.dragManager,"transcludeAttribute"===(null!=(r=n.drag)?r.type:void 0)?this.transcludeAttribute(n.drag.attribute):void 0},_updateMirrorFromAttribute:function(){var e,t,n;return e=this.props.attribute,n=null!=(t=e.exprString)?t:"",this.mirror.getValue()!==n&&this.mirror.setValue(n),this._updateMarks()},_updateAttributeFromMirror:function(){var e,t,n,r,i,o,a;if(e=this.props.attribute,n=this.mirror.getValue(),e.exprString!==n){i=e.references(),r={};for(o in i)l.call(i,o)&&(a=i[o],t=-1!==n.indexOf(o),t&&(r[o]=a));return e.setExpression(n,r)}},transcludeAttribute:function(e){return this.mirror.hasFocus()?this._replaceSelectionWithReference(e):this._replaceAllWithReference(e)},_replaceSelectionWithReference:function(e){var t,n,r,i;return t=this.props.attribute,i=t.references(),r=a.generateId(),i[r]=e,n=t.exprString,t.setExpression(n,i),this.mirror.replaceSelection(r)},_replaceAllWithReference:function(e){var t,n,r,i;return t=this.props.attribute,i={},r=a.generateId(),i[r]=e,n=r,t.setExpression(n,i)},_marks:function(){return this._attributeTokenMarks()},_attributeTokenMarks:function(){var e,t,n,r,i,s,u,c,f;e=this.props.attribute,f=this.mirror.getValue(),r=[],i=e.references(),n=function(n){var i,s,u;return i=a.charToLineCh(f,c),u=a.charToLineCh(f,t),s=function(){return o.AttributeToken({attribute:n,contextElement:e.parentElement()})},r.push({from:i,to:u,render:s})};for(u in i)l.call(i,u)&&(s=i[u],c=f.indexOf(u),-1!==c&&(t=c+u.length,n(s)));return r},_updateMarks:function(){var e,t,n,r,i,o,a,u,l,f,h,p,d,m,v,g,y,b,w,x,C;for(g=this._marks(),null==this._existingMarks&&(this._existingMarks=[]),C=[],i=[],w=this._existingMarks,o=0,h=w.length;h>o;o++){if(n=w[o],l=!1,b=n.find())for(a=0,p=g.length;p>a;a++)v=g[a],e=b.from.line===v.from.line&&b.from.ch===v.from.ch&&b.to.line===v.to.line&&b.to.ch===v.to.ch,e&&(this._renderMark(v,n.el),C.push(v),l=!0);l||i.push(n)}for(u=0,d=i.length;d>u;u++)r=i[u],r.clear(),this._existingMarks=s.without(this._existingMarks,r);for(x=[],f=0,m=g.length;m>f;f++)v=g[f],c.call(C,v)<0?(t=document.createElement("span"),this._renderMark(v,t),y=this.mirror.markText(v.from,v.to,{replacedWith:t,handleMouseEvents:!0}),y.el=t,x.push(this._existingMarks.push(y))):x.push(void 0);return x},_renderMark:function(e,t){var n;return n=o.ContextWrapper({context:this.context,childRender:e.render}),o.render(n,t)},_showAutocomplete:function(){return this.mirror.showHint({hint:this._hint,completeSingle:!1})},_shouldShowHint:function(e){var t,n,r,i,o;if(t=this.props.attribute,"variable"!==e.type)return!1;n=e.string,o=t.references();for(i in o)if(l.call(o,i)&&(r=o[i],-1!==n.indexOf(i)))return!1;return!0},_hint:function(e){var t,n,i,o,a,s;return n=e.getCursor(),s=e.getTokenAt(n),this._shouldShowHint(s)?(i=r.Pos(n.line,s.start),a=r.Pos(n.line,n.ch),o=s.string.toLowerCase(),t=this._completions(o,i,a),{list:t,from:i,to:a}):void 0},_completions:function(e,t,n){var r,i,a,u;return r=this.props.attribute,u=this.context.project,a=this._matchingAttributes(e),i=s.map(a,function(e){return function(i){return{render:function(t){var n;return n=o.ContextWrapper({context:e.context,childRender:function(){return o.AttributeToken({attribute:i,contextElement:r.parentElement()})}}),o.render(n,t)},hint:function(){return e.mirror.setSelection(t,n),e._replaceSelectionWithReference(i)}}}}(this)),i.push({displayText:"Create Variable: "+e,hint:function(r){return function(){var i;return i=u.editingElement.addVariable(),i.label=e,r.mirror.setSelection(t,n),r._replaceSelectionWithReference(i)}}(this)}),i},_matchingAttributes:function(e){var t,n;return t=document.querySelectorAll(".AttributeLabel"),n=s.map(t,function(e){return function(e){return e.annotation.attribute}}(this)),n=s.filter(n,function(t){return function(t){var n,r,i;return i=t.label,n=i.toLowerCase(),r=s.every(e,function(e){return-1!==n.indexOf(e)})}}(this)),n=s.unique(n)},_startNumberScrub:function(e){var t,n,r;return n=this._getTokenPositionFromCursor(e),r=n.start,t=n.end,this.mirror.focus(),this.mirror.setSelection(r,t),this._startScrubbingSelection(e)},_endNumberScrub:function(e){var t;return t=this.mirror.coordsChar({left:e.clientX,top:e.clientY}),this.mirror.setCursor(t)},_getTokenPositionFromCursor:function(e){var t,n,r,i,o;return r=this.mirror.coordsChar({left:e.clientX,top:e.clientY}),this.mirror.cursorCoords(r).left<e.clientX&&r.ch++,o=this.mirror.getTokenAt(r),i={line:r.line,ch:o.start},n={line:r.line,ch:o.end},i.ch>0&&(t={line:i.line,ch:i.ch-1},"-"===this.mirror.getRange(t,i)&&(i=t)),{start:i,end:n}},_startScrubbingSelection:function(e){var t,n,r,i;return t=this.context.dragManager,n=+this.mirror.getSelection(),r=a.precision(this.mirror.getSelection()),i=e.clientX,t.start(e,{cursor:"ew-resize",onMove:function(e){return function(t){var o,s,l;return s=t.clientX-i,s/=3,o=s*Math.pow(10,-r),l=n+o,u.command&&(l=a.roundToPrecision(l,r-1)),l=a.toPrecision(l,r),e.mirror.replaceSelection(""+l,"around")}}(this)})}})},function(e,t,n){var r,i;i=n(4),r=n(9),r.create("EditableText",{propTypes:{value:String,setValue:Function},shouldComponentUpdate:function(e){return this._isDirty||e.value!==this.props.value},render:function(){var e;return e={contentEditable:!0,onInput:this._onInput,onKeyDown:this._onKeyDown},i.defaults(e,this.props),r.div(e)},componentDidMount:function(){return this._refresh(),""!==this.props.value&&this.props.value?void 0:r.findDOMNode(this).focus()},componentDidUpdate:function(){return this._refresh()},_refresh:function(){var e;return e=r.findDOMNode(this),e.textContent!==this.props.value&&(e.textContent=this.props.value),this._isDirty=!1},_onInput:function(){var e,t;return this._isDirty=!0,e=r.findDOMNode(this),t=e.textContent,this.props.setValue(t)},_onKeyDown:function(e){return 13===e.keyCode?e.preventDefault():void 0}})},function(e,t,n){var r,i,o,a;i=n(4),r=n(9),o=window.devicePixelRatio||1,a=function(e){var t;return t=e.getBoundingClientRect(),e.width=t.width*o,e.height=t.height*o},r.create("HTMLCanvas",{propTypes:{draw:Function},render:function(){var e;return e={},i.defaults(e,this.props),r.canvas(e)},componentDidMount:function(){return this._refresh()},componentDidUpdate:function(){return this._refresh()},resize:function(){return this._canvasIsSized=!1},_refresh:function(){var e,t;return e=r.findDOMNode(this),this._canvasIsSized?e.width=e.width:(a(e),this._canvasIsSized=!0),t=e.getContext("2d"),t.setTransform(o,0,0,o,0,0),this.props.draw(t)}})},function(e,t,n){var r,i,o;i=n(9),r=n(5),o=n(6),i.create("Inspector",{contextTypes:{project:r.Project},render:function(){var e,t,n,r;return t=this.context.project,e=null!=(n=t.selectedParticularElement)?n.element:void 0,i.div({className:"Inspector"},i.div({className:"Header"},null!=(r=null!=e?e.label:void 0)?r:""),i.div({className:"Scroller"},e?i.FullAttributesList({element:e}):void 0))}}),i.create("FullAttributesList",{propTypes:{element:r.Element},render:function(){var e,t,n;return n=this.props.element,i.div({className:"InspectorList"},i.div({className:"ComponentSection"},i.div({className:"ComponentSectionTitle"},i.span({},"Variables")),i.div({className:"ComponentSectionContent"},function(){var t,r,a,s;for(a=n.variables(),s=[],t=0,r=a.length;r>t;t++)e=a[t],s.push(i.AttributeRow({attribute:e,key:o.getId(e)}));return s}()),i.div({className:"AddVariableRow"},i.button({className:"AddButton",onClick:this._addVariable}))),function(){var e,r,a,s;for(a=n.components(),s=[],e=0,r=a.length;r>e;e++)t=a[e],s.push(i.ComponentSection({component:t,key:o.getId(t)}));return s}())},_addVariable:function(){var e;return e=this.props.element,e.addVariable()}}),i.create("ComponentSection",{propTypes:{component:r.Component},render:function(){var e,t;return t=this.props.component,i.div({className:"ComponentSection"},i.div({className:"ComponentSectionTitle"},i.span,t.label),i.div({className:"ComponentSectionContent"},function(){var n,r,a,s;for(a=t.attributes(),s=[],n=0,r=a.length;r>n;n++)e=a[n],s.push(i.AttributeRow({attribute:e,key:o.getId(e)}));return s}()))}}),i.create("NovelAttributesList",{propTypes:{element:r.Element},contextTypes:{project:r.Project},render:function(){var e,t,n,o,a;return t=this.props.element,o=this.context.project,i.div({className:"AttributesList"},function(){var o,s,u,l;for(u=t.allAttributes(),l=[],n=o=0,s=u.length;s>o;n=++o)e=u[n],a=e.isNovel()||e.isVariantOf(r.Variable),a?l.push(i.AttributeRow({key:n,attribute:e})):l.push(void 0);return l}(),t===o.editingElement?i.div({className:"AddVariableRow"},i.button({className:"AddButton Interactive",onClick:this._addVariable})):void 0)},_addVariable:function(){var e;return e=this.props.element,e.addVariable()}})},function(e,t,n){var r,i,o,a=function(e,t){return function(){return e.apply(t,arguments)}};o=n(4),e.exports=i=function(){function e(){this._onMouseUp=a(this._onMouseUp,this),this._onMouseMove=a(this._onMouseMove,this),this.drag=null,window.addEventListener("mousemove",this._onMouseMove),window.addEventListener("mouseup",this._onMouseUp)}return e.prototype.start=function(e,t){return this.drag=new r(e,t)},e.prototype._onMouseMove=function(e){var t,n,r,i;if(this.drag)return this.drag.consummated?"function"==typeof(t=this.drag).onMove?t.onMove(e):void 0:(r=e.clientX-this.drag.originalX,i=e.clientY-this.drag.originalY,n=Math.max(Math.abs(r),Math.abs(i)),n>3?this._consummate(e):void 0)},e.prototype._onMouseUp=function(e){var t,n,r;if(this.drag)return this.drag.consummated?"function"==typeof(t=this.drag).onDrop&&t.onDrop(e):"function"==typeof(n=this.drag).onCancel&&n.onCancel(e),"function"==typeof(r=this.drag).onUp&&r.onUp(e),this.drag=null},e.prototype._consummate=function(e){var t;return this.drag.consummated=!0,"function"==typeof(t=this.drag).onConsummate?t.onConsummate(e):void 0},e}(),r=function(){function e(e,t){o.extend(this,t),this.originalX=e.clientX,this.originalY=e.clientY,null==this.consummated&&(this.consummated=!1)}return e}()},function(e,t){var n;e.exports=n=function(){function e(){this.hoveredParticularElement=null,this.controllerParticularElement=null,this.attributesToChange=[],this.hoveredAttribute=null}return e}()},function(e,t,n){var r,i,o,a;a=n(41),i=n(9),r=n(5),o=n(6),i.create("Menubar",{contextTypes:{editor:r.Editor,project:r.Project},render:function(){var e,t,n,r;return r=this.context,e=r.editor,n=r.project,t=null!=n.selectedParticularElement,e.layout.fullScreen?null:i.div({className:"Menubar"},i.MenubarItem({title:"New",isDisabled:!1,fn:this._new}),i.MenubarItem({title:"Load",isDisabled:!1,fn:this._load}),e.experimental?i.MenubarItem({title:"Merge",isDisabled:!1,fn:this._merge}):void 0,i.MenubarItem({title:"Save",isDisabled:!1,fn:this._save}),e.experimental?i.MenubarItem({title:"Share",isDisabled:!1,fn:this._share}):void 0,i.div({className:"MenubarSeparator"}),i.MenubarItem({title:"Undo",isDisabled:!e.isUndoable(),fn:this._undo}),i.MenubarItem({title:"Redo",isDisabled:!e.isRedoable(),fn:this._redo}),i.div({className:"MenubarSeparator"}),i.MenubarItem({title:"Delete",isDisabled:!t,fn:this._removeSelectedElement}),i.MenubarItem({
title:"Group",isDisabled:!t,fn:this._groupSelectedElement}),i.MenubarItem({title:"Create Symbol",isDisabled:!t,fn:this._createSymbolFromSelectedElement}),e.experimental?[i.div({className:"MenubarSeparator"}),i.div({className:"MenubarSeparator"}),i.div({style:{color:"red"}},"Experimental mode is on")]:void 0)},componentDidMount:function(){return a("command+o, ctrl+o",function(e){return function(t){return t.preventDefault(),e._load()}}(this)),a("command+s, ctrl+s",function(e){return function(t){return t.preventDefault(),e._save()}}(this)),a("command+z, ctrl+z",function(e){return function(t){return t.preventDefault(),e._undo()}}(this)),a("command+shift+z, ctrl+y",function(e){return function(t){return t.preventDefault(),e._redo()}}(this)),a("backspace",function(e){return function(t){return o.textFocus()?void 0:(t.preventDefault(),e._removeSelectedElement())}}(this)),a("command+g, ctrl+g",function(e){return function(t){return t.preventDefault(),e._groupSelectedElement()}}(this))},_new:function(){var e;return e=this.context.editor,e.createNewProject()},_load:function(){var e;return e=this.context.editor,e.loadFromFile()},_merge:function(){var e;return e=this.context.editor,e.mergeFromFile()},_save:function(){var e;return e=this.context.editor,e.saveToFile()},_share:function(){var e;return e=this.context.editor,e.saveToFirebase()},_undo:function(){var e;return e=this.context.editor,e.undo()},_redo:function(){var e;return e=this.context.editor,e.redo()},_todo:function(){},_removeSelectedElement:function(){var e;return e=this.context.project,e.removeSelectedElement()},_groupSelectedElement:function(){var e;return e=this.context.project,e.groupSelectedElement()},_duplicateSelectedElement:function(){var e;return e=this.context.project,e.duplicateSelectedElement()},_createSymbolFromSelectedElement:function(){var e;return e=this.context.project,e.createSymbolFromSelectedElement()}}),i.create("MenubarItem",{propTypes:{title:String,isDisabled:Boolean,fn:Function},render:function(){var e,t,n,r;return n=this.props,r=n.title,t=n.isDisabled,e=n.fn,i.div({className:i.cx({MenubarItem:!0,isDisabled:t}),onClick:this._activate},r)},_activate:function(){var e,t,n;return n=this.props,t=n.isDisabled,e=n.fn,t?void 0:e()}})},function(e,t,n){var r,i,o,a;a=n(4),i=n(9),r=n(5),o=n(6),i.create("Outline",{contextTypes:{project:r.Project},render:function(){var e,t;return t=this.context.project,e=t.editingElement,i.div({className:"Outline"},i.div({className:"Header"},"Outline"),i.div({className:"Scroller"},i.OutlineTree({element:e})))}}),i.create("OutlineTree",{propTypes:{element:r.Element},contextTypes:{dragManager:i.DragManager},mixins:[i.AnnotateMixin],render:function(){var e,t,n,r,o,a;return n=this.props.element,t=this.context.dragManager,o=n.expanded,e=t.drag,r="outlineReorder"===(null!=e?e.type:void 0)&&e.consummated&&e.element===n,a=i.div({className:"OutlineTree"},i.OutlineItem({element:n}),o?i.OutlineChildren({element:n}):void 0),r?i.div({},i.div({className:"OutlineDragging",style:{left:e.x,top:e.y,width:e.width}},a),i.div({className:"OutlinePlaceholder",style:{height:e.height}})):a},annotation:function(){return{element:this.props.element}}}),i.create("OutlineChildren",{propTypes:{element:r.Element},mixins:[i.AnnotateMixin],render:function(){var e,t,n;return t=this.props.element,n=t.getAllowedShapeInterpretationContextForChildren().join(" "),i.div({className:"OutlineChildren "+n},function(){var n,r,a,s;for(a=t.childElements(),s=[],n=0,r=a.length;r>n;n++)e=a[n],s.push(i.OutlineTree({element:e,key:o.getId(e)}));return s}())},annotation:function(){return{element:this.props.element}}}),i.create("OutlineItem",{propTypes:{element:r.Element},contextTypes:{project:r.Project,hoverManager:i.HoverManager,dragManager:i.DragManager},render:function(){var e,t,n,r,o,a,s,u,l,c,f;return u=this.context.project,e=this.props.element,t=this.context.hoverManager,s=(null!=(l=u.selectedParticularElement)?l.element:void 0)===e,a=(null!=(c=t.hoveredParticularElement)?c.element:void 0)===e,n=(null!=(f=t.controllerParticularElement)?f.element:void 0)===e,r=e.isController(),o=e.expanded,i.div({className:i.cx({OutlineItem:!0,isSelected:s,isHovered:a,isActiveController:n,isController:r}),onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},i.div({className:"ElementRow"},i.div({className:"ElementRowDisclosure"},i.div({className:i.cx({DisclosureTriangle:!0,Interactive:!0,isExpanded:o}),onClick:this._onClickTriangle})),i.div({className:"ElementRowLabel"},i.EditableText({className:"EditableTextInline Interactive",value:e.label,setValue:this._setLabelValue}))),i.NovelAttributesList({element:e}))},_onMouseDown:function(e){var t;return t=e.target,o.closest(t,".Interactive")?void 0:(e.preventDefault(),o.clearTextFocus(),this._select(),this._startDragToReorder(e))},_onMouseEnter:function(){var e,t,n,i,o;return t=this.props.element,o=this.context,e=o.dragManager,n=o.hoverManager,null==e.drag?(i=new r.ParticularElement(t),n.hoveredParticularElement=i):void 0},_onMouseLeave:function(){var e,t,n;return n=this.context,e=n.dragManager,t=n.hoverManager,null==e.drag?t.hoveredParticularElement=null:void 0},_setLabelValue:function(e){return this.props.element.label=e},_onClickTriangle:function(){var e;e=this.props.element,e.expanded=!e.expanded},_select:function(){var e,t,n;return e=this.props.element,n=this.context.project,t=new r.ParticularElement(e),n.select(t)},_startDragToReorder:function(e){var t,n,r,a,s,u,l,c,f,h;return r=this.props.element,t=this.context.dragManager,n=i.findDOMNode(this),c=o.closest(n,".OutlineTree"),l=o.closest(n,".Outline"),f=c.getBoundingClientRect(),s=e.clientX-f.left,u=e.clientY-f.top,h=f.width,a=f.height,t.start(e,{type:"outlineReorder",element:r,outlineEl:l,width:h,height:a,onMove:function(e){return function(n){var r;return t.drag.x=n.clientX-s,t.drag.y=n.clientY-u,r=e._findDropSpot(t.drag),r?e._reorderItem(r):void 0}}(this)})},_findDropSpot:function(e){var t,n,r,i,s,u,l,c,f,h,p,d,m,v,g,y,b,w,x;for(w=e.x,x=e.y,g=e.outlineEl,c=this.props.element,u=[w,x],y=g.querySelector(".OutlinePlaceholder"),null!=y&&(y.style.display="none"),n={quadrance:1600},r=function(e){return function(e,t,r){var i;return i=o.quadrance(u,e),i<n.quadrance?n={quadrance:i,outlineChildrenEl:t,beforeOutlineTreeEl:r}:void 0}}(this),t=c.getAllowedShapeInterpretationContext().map(function(e){return".OutlineChildren."+e}).join(", "),v=g.querySelectorAll(t),f=0,p=v.length;p>f;f++)if(m=v[f],!o.closest(m,".OutlineDragging")){for(s=a.filter(m.childNodes,function(e){return o.matches(e,".OutlineTree")}),h=0,d=s.length;d>h;h++)i=s[h],b=i.getBoundingClientRect(),l=[b.left,b.top],r(l,m,i);b=m.getBoundingClientRect(),l=[b.left,b.bottom],r(l,m,null)}return null!=y&&(y.style.display=""),n.outlineChildrenEl?n:null},_reorderItem:function(e){var t,n,r,i,o,a;return r=this.props.element,o=e.outlineChildrenEl,n=e.beforeOutlineTreeEl,a=o.annotation.element,n?(t=n.annotation.element,-1!==a.children().indexOf(r)&&a.removeChild(r),i=a.children().indexOf(t),a.addChild(r,i)):a.addChild(r)}})},function(e,t,n){var r,i,o;i=n(9),r=n(5),o=n(6),i.create("RightPanel",{contextTypes:{editor:r.Editor,dragManager:i.DragManager},_onResizeMouseDown:function(e){var t,n,r;return t=this.context.editor.layout,r=e.clientX,n=t.rightPanelWidth,this.context.dragManager.start(e,{cursor:"ew-resize",onMove:function(e){return function(e){var i;return i=e.clientX-r,t.constraintRightPanelWidth(n-i)}}(this)})},render:function(){var e;return e=this.context.editor.layout,e.fullScreen?null:i.div({className:i.cx({RightPanel:!0,FullScreen:e.fullScreen}),style:{width:e.rightPanelWidth}},i.div({className:"RightResize",onMouseDown:this._onResizeMouseDown}),i.div({className:"RightPanelContainer"},i.Outline({}),i.Inspector({})))}})},function(e,t,n){var r,i,o,a,s,u,l,c,f,h,p,d,m,v,g,y,b;for(n(216),l=n(4),a=n(9),o=n(5),i=n(14),s=n(64),u=n(6),r=window.Apparatus={},r.Dataflow=i,r.Model=o,r.Storage=s,r.R=a,r.Util=u,f=new o.Editor,r.editor=f,g=function(){return i.run(function(){return a.render(a.Editor({editor:f}),document.getElementById("apparatus-container"))})},g(),y=!1,document.addEventListener("mouseup",function(){return y=!0}),c=l.debounce(function(){return y=!0},500),document.addEventListener("keydown",function(){return c()}),b=!1,m=r.refresh=function(){return b?void 0:(b=!0,requestAnimationFrame(function(){return g(),y&&(f.checkpoint(),y=!1),b=!1}))},v=["mousedown","mousemove","mouseup","keydown","keyup","scroll","change","wheel","mousewheel"],p=0,d=v.length;d>p;p++)h=v[p],window.addEventListener(h,m)},function(e,t,n){t=e.exports=n(40)(),t.push([e.id,".CodeMirror-hints{position:absolute;z-index:10;overflow:hidden;list-style:none;margin:0;padding:2px;box-shadow:2px 3px 5px rgba(0,0,0,.2);border-radius:3px;border:1px solid silver;background:#fff;font-size:90%;font-family:monospace;max-height:20em;overflow-y:auto}.CodeMirror-hint{margin:0;padding:0 4px;border-radius:2px;max-width:19em;overflow:hidden;white-space:pre;color:#000;cursor:pointer}li.CodeMirror-hint-active{background:#08f;color:#fff}",""])},function(e,t,n){t=e.exports=n(40)(),t.push([e.id,".CodeMirror{font-family:monospace;height:300px;color:#000}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-ruler{border-left:1px solid #ccc;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px;*zoom:1;*display:inline}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper{-webkit-user-select:none;-moz-user-select:none;user-select:none}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:none;font-variant-ligatures:none}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background:#ffa;background:rgba(255,255,0,.4)}.CodeMirror span{*vertical-align:text-bottom}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:''}span.CodeMirror-selectedtext{background:none}",""])},function(e,t,n){t=e.exports=n(40)(),t.i(n(142),""),t.i(n(141),""),t.push([e.id,'body,html{margin:0;overflow:hidden}[contenteditable]:active,[contenteditable]:focus,button:active,button:focus{outline:none}[contenteditable]{cursor:text}body{font-family:Lucida Sans Unicode,Lucida Grande,sans-serif;font-size:12px;color:#333}canvas{width:100%;height:100%}.CursorOverride *{cursor:inherit!important}.DragHintContainer{position:fixed;top:0;left:0;pointer-events:none;z-index:10}.DragHintContainer .DragHint{position:absolute}.Editor{position:absolute;width:100%}.Center,.Editor{display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%}.Center{-webkit-flex-grow:2;-ms-flex-positive:2;flex-grow:2;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.CreatePanel{top:0;left:0;bottom:0;width:120px;background-color:#eee;border-right:1px solid #ccc}.CreatePanel,.RightPanel{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box}.CreatePanelContainer,.RightPanelContainer{position:absolute;width:100%;height:100%}.RightResize{z-index:2;position:absolute;width:10px;margin-left:-5px;height:100%;cursor:ew-resize}.Outline{top:0;bottom:50%}.Inspector,.Outline{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;left:0;right:0;box-sizing:border-box;background-color:#fff;border-left:1px solid #ccc}.Inspector{top:50%;bottom:0}.EditorCanvas{position:relative;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%}.EditorCanvas canvas{position:absolute}.EditorCanvasDropzone{-webkit-flex-grow:2;-ms-flex-positive:2;flex-grow:2;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.EditorCanvasDropzone.dropActive{background-color:#f8fff8}.EditorCanvasDropzone.dropReject{background-color:#fff8f8}.LayoutMode{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;border:1px solid #ccc;width:20px;height:20px;right:3px;top:-22px;box-sizing:border-box;background-color:#eee;background-size:16px 16px;background-position:1px 1px;background-repeat:no-repeat;text-align:center;font-size:16px}.LayoutMode.FullScreen{top:2px}.Menubar{height:24px;border-bottom:1px solid #ccc}.Header,.Menubar{box-sizing:border-box;background-color:#eee}.Header{width:100%;height:18px;line-height:16px;text-align:center;color:#666;text-shadow:0 1px 0 hsla(0,0%,100%,.5);background-image:linear-gradient(180deg,#fff,#ddd);border-top:1px solid #e6e6e6;border-bottom:1px solid #d3d3d3}.Scroller{width:100%;height:calc(100% - 18px);overflow-y:auto;overflow-x:hidden}.Menubar{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:4px;display:-webkit-flex;display:-ms-flexbox;display:flex}.Menubar .MenubarItem{padding:0 8px;cursor:pointer}.Menubar .MenubarItem:hover{color:#09c}.Menubar .MenubarItem.isDisabled{cursor:default;color:#aaa}.Menubar .MenubarItem.isDisabled:hover{color:#aaa}.Menubar .MenubarSeparator{width:24px}.Menubar .ToolbarRight{-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;text-align:right}.ThumbnailCanvas{width:100%;height:100%}.CreatePanelItem{position:relative;padding:6px 6px 18px}.CreatePanelItem .CreatePanelThumbnail{cursor:-webkit-grab;cursor:grab;width:108px;height:108px;background-color:#fff;margin-bottom:6px;box-shadow:0 1px 2px rgba(0,0,0,.5)}.CreatePanelItem .CreatePanelItemEditButton{float:right;color:transparent;cursor:pointer}.CreatePanelItem .CreatePanelItemRemoveButton{position:absolute;top:7px;right:7px;font-size:16px;color:transparent;cursor:pointer}.CreatePanelItem:hover .CreatePanelItemEditButton,.CreatePanelItem:hover .CreatePanelItemRemoveButton{color:rgba(0,0,0,.25)}.CreatePanelItem:hover .CreatePanelItemEditButton:hover,.CreatePanelItem:hover .CreatePanelItemRemoveButton:hover{color:rgba(0,0,0,.6)}.CreatePanelItem.isEditing .CreatePanelThumbnail{outline:2px solid #09c}.CreatePanelItem.isEditing .CreatePanelItemEditButton{color:#09c!important}.CreatePanelAddItem{font-size:18px;text-align:center}.OutlineChildren{margin-left:1.5em}.OutlineItem.isHovered{background-color:#e0f8f2}.OutlineItem.isActiveController{background-color:#f8e0e0}.OutlineItem.isSelected{background-color:#e0f2f8}.OutlineItem.isController .ElementRow{color:#c66}.ElementRow{display:-webkit-flex;display:-ms-flexbox;display:flex;padding:.175em 0}.ElementRow .ElementRowDisclosure{width:1.5em}.ElementRow .ElementRowLabel{-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}.DisclosureTriangle{width:0;height:0;margin-top:.11em;margin-left:.134em;border-top:.5em solid transparent;border-bottom:.5em solid transparent;border-left:.866em solid #ccc;transition:-webkit-transform .05s;transition:transform .05s;transition:transform .05s,-webkit-transform .05s}.DisclosureTriangle.isExpanded{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.DisclosureTriangle.Hidden{display:none}.OutlineDragging{position:fixed;z-index:20;background-color:#fff;pointer-events:none;box-shadow:0 2px 6px rgba(0,0,0,.5);opacity:.7}.OutlinePlaceholder{background-color:#bbb;box-shadow:inset 0 1px 3px rgba(0,0,0,.5)}.InspectorList{padding:.5em}.AttributesList{margin-left:1.5em}.ComponentSection{padding-bottom:1.25em}.ComponentSectionTitle{margin-left:2.25em;color:#999}.AttributeRow{padding:.175em 0;display:-webkit-flex;display:-ms-flexbox;display:flex}.AttributeRow.isInherited{opacity:.5}.AttributeRow.isGoingToChange .cm-number,.AttributeRow.isGoingToChange .cm-operator{color:#c00}.AttributeRow .AttributeRowControl{width:1.5em;min-width:1.5em;max-width:1.5em}.AttributeRow .AttributeRowLabel{width:9em;min-width:9em;max-width:9em}.AttributeRow .AttributeRowExpression{-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}.AttributeRow.isWrapped{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.AttributeRow.isWrapped .AttributeRowExpression{padding-left:3.25em;width:100%}.AttributeRow .AttributeControl{width:1em;height:1em;border-radius:1em;border:1px solid transparent}.AttributeRow .AttributeControl.isControllable{border-color:#c66}.AttributeRow .AttributeControl.isImplicitlyControlled{background-color:hsla(0,50%,60%,.4)}.AttributeRow .AttributeControl.isControlled{background-color:#c66}.AddVariableRow{padding:.05em 0 .175em;margin-left:1.5em}.AttributeLabel{margin-right:.5em;border-radius:20px;padding:0 .75em;cursor:-webkit-grab;cursor:grab}.AttributeLabel.Editing{cursor:text}.AttributeLabel,.ReferenceToken{font-family:Lucida Sans Unicode,Lucida Grande,sans-serif;color:#333;background-image:linear-gradient(180deg,#f4f4f4,#e4e4e4)}.AttributeLabel.isHovered,.ReferenceToken.isHovered{background-image:linear-gradient(180deg,#bff2e5,#66e0c1)}.AttributeLabel.isGoingToChange,.ReferenceToken.isGoingToChange{background-image:linear-gradient(180deg,#f2bfbf,#e06666)}.Expression{font-family:menlo,monospace}.ExpressionValue{color:#ccc;clear:both}.ReferenceToken{border-radius:20px;padding:0 .75em;display:inline-block}.SpreadValue:before{content:"[";opacity:.5}.SpreadValue:after{content:"]";opacity:.5}.SpreadValueItem:not(:last-child):after{content:", ";opacity:.5}.EditableTextInline{display:inline;padding-right:.75em}.CodeMirror{height:auto;float:left;min-width:100px;background-color:transparent;font-family:inherit;font-size:inherit;line-height:inherit;color:inherit}.CodeMirror .CodeMirror-lines,.CodeMirror pre{padding:0}.CodeMirror .CodeMirror-selected{opacity:0}.CodeMirror.CodeMirror-focused .CodeMirror-selected{opacity:1}.CodeMirror .CodeMirror-sizer{padding-right:1px!important}.cm-number{cursor:ew-resize}.CodeMirror-hints{font-family:inherit}.AddButton{width:2em;height:1em;padding:0;line-height:1em;font-size:1em;color:#777;font-family:verdana;font-weight:700;text-shadow:0 1px 0 hsla(0,0%,100%,.5);background-color:#ddd;background-image:linear-gradient(180deg,#eee,#ccc);box-shadow:0 2px 1px rgba(0,0,0,.16),0 0 1px rgba(0,0,0,.5),inset 0 1px 0 hsla(0,0%,100%,.55);border-radius:20px;border:0}.AddButton:before{content:"+"}.AddButton:hover{background-image:linear-gradient(180deg,#f3f3f3,#d3d3d3)}.AddButton:active{background-image:linear-gradient(180deg,#cacaca,#d5d5d5);box-shadow:0 1px 1px hsla(0,0%,100%,.35),inset 0 0 1px rgba(0,0,0,.5),inset 0 1px 4px rgba(0,0,0,.4)}',""])},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(144),o=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return r(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=n(155);e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var n=l;l?void 0:u(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var f=n.getElementsByTagName("script");f.length&&(t?void 0:u(!1),a(f).forEach(t));for(var h=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var o=n(7),a=n(146),s=n(69),u=n(1),l=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=i},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(149),o=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(151);e.exports=r},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?i(!1):void 0,"number"!=typeof t?i(!1):void 0,0===t||t-1 in e?void 0:i(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}var i=n(1);e.exports=r},function(e,t,n){"use strict";var r=n(214);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i,e},{}):{})},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var n=e[t];return Array.isArray(n)?n.sort().map(function(e){return r(t)+"="+r(e)}).join("&"):r(t)+"="+r(n)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){"use strict";e.exports=n(81)},function(e,t,n){!function(t,r){e.exports=r(n(103))}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),f=r(c),h=n(2),p=r(h),d="undefined"!=typeof document&&document&&document.createElement?"multiple"in document.createElement("input"):!0,m=function(e){function t(e,n){o(this,t);var r=a(this,Object.getPrototypeOf(t).call(this,e,n));return r.onClick=r.onClick.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDrop=r.onDrop.bind(r),r.state={isDragActive:!1},r}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.enterCounter=0}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),++this.enterCounter;var t=e.dataTransfer&&e.dataTransfer.items?e.dataTransfer.items:[],n=this.allFilesAccepted(Array.prototype.slice.call(t));this.setState({isDragActive:n,isDragReject:!n}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"onDragLeave",value:function(e){e.preventDefault(),--this.enterCounter>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){e.preventDefault(),this.enterCounter=0,this.setState({isDragActive:!1,isDragReject:!1});for(var t=e.dataTransfer?e.dataTransfer.files:e.target.files,n=this.props.multiple?t.length:Math.min(t.length,1),r=[],i=0;n>i;i++){var o=t[i];this.props.disablePreview||(o.preview=window.URL.createObjectURL(o)),r.push(o)}this.allFilesAccepted(r)?(this.props.onDrop&&this.props.onDrop.call(this,r,e),this.props.onDropAccepted&&this.props.onDropAccepted.call(this,r,e)):this.props.onDropRejected&&this.props.onDropRejected.call(this,r,e)}},{key:"onClick",value:function(){this.props.disableClick||this.open()}},{key:"allFilesAccepted",value:function(e){var t=this;return e.every(function(e){return(0,f["default"])(e,t.props.accept)})}},{key:"open",value:function(){this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this,t=this.props,n=t.accept,r=t.activeClassName,o=t.inputProps,a=t.multiple,s=t.name,l=t.rejectClassName,c=i(t,["accept","activeClassName","inputProps","multiple","name","rejectClassName"]),f=c.activeStyle,h=c.className,m=c.rejectStyle,v=c.style,g=i(c,["activeStyle","className","rejectStyle","style"]),y=this.state,b=y.isDragActive,w=y.isDragReject;h=h||"",b&&r&&(h+=" "+r),w&&l&&(h+=" "+l),h||v||f||m||(v={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},f={borderStyle:"solid",backgroundColor:"#eee"},m={borderStyle:"solid",backgroundColor:"#ffdddd"});var x=void 0;x=f&&b?u({},v,f):m&&w?u({},v,m):u({},v);var C={accept:n,type:"file",style:{display:"none"},multiple:d&&a,ref:function(t){return e.fileInputEl=t},onChange:this.onDrop};s&&s.length&&(C.name=s);var M=["disablePreview","disableClick","onDropAccepted","onDropRejected"],k=u({},g);return M.forEach(function(e){return delete k[e]}),p["default"].createElement("div",u({className:h,style:x},k,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop}),this.props.children,p["default"].createElement("input",u({},o,C)))}}]),t}(p["default"].Component);m.defaultProps={disablePreview:!1,disableClick:!1,multiple:!0},m.propTypes={onDrop:p["default"].PropTypes.func,onDropAccepted:p["default"].PropTypes.func,onDropRejected:p["default"].PropTypes.func,onDragStart:p["default"].PropTypes.func,onDragEnter:p["default"].PropTypes.func,onDragLeave:p["default"].PropTypes.func,children:p["default"].PropTypes.node,style:p["default"].PropTypes.object,activeStyle:p["default"].PropTypes.object,rejectStyle:p["default"].PropTypes.object,className:p["default"].PropTypes.string,activeClassName:p["default"].PropTypes.string,rejectClassName:p["default"].PropTypes.string,disablePreview:p["default"].PropTypes.bool,disableClick:p["default"].PropTypes.bool,inputProps:p["default"].PropTypes.object,multiple:p["default"].PropTypes.bool,accept:p["default"].PropTypes.string,name:p["default"].PropTypes.string},t["default"]=m,e.exports=t["default"]},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,n(8),n(9),t["default"]=function(e,t){if(e&&t){var n=function(){var n=t.split(","),r=e.name||"",i=e.type||"",o=i.replace(/\/.*$/,"");
return{v:n.some(function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?o===t.replace(/\/.*$/,""):i===t})}}();if("object"==typeof n)return n.v}return!0},e.exports=t["default"]},function(e,t){var n=e.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(2),i=n(1),o=n(4),a=n(19),s="prototype",u=function(e,t){return function(){return e.apply(t,arguments)}},l=function(e,t,n){var c,f,h,p,d=e&l.G,m=e&l.P,v=d?r:e&l.S?r[t]||(r[t]={}):(r[t]||{})[s],g=d?i:i[t]||(i[t]={});d&&(n=t);for(c in n)f=!(e&l.F)&&v&&c in v,h=(f?v:n)[c],p=e&l.B&&f?u(h,r):m&&"function"==typeof h?u(Function.call,h):h,v&&!f&&a(v,c,h),g[c]!=h&&o(g,c,p),m&&((g[s]||(g[s]={}))[c]=h)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,e.exports=l},function(e,t,n){var r=n(5),i=n(18);e.exports=n(22)?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(20)("wks"),i=n(2).Symbol;e.exports=function(e){return r[e]||(r[e]=i&&i[e]||(i||n(6))("Symbol."+e))}},function(e,t,n){n(26),e.exports=n(1).Array.some},function(e,t,n){n(25),e.exports=n(1).String.endsWith},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n(7)("match")]=!1,!"/./"[e](t)}catch(i){}}return!0}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(16),i=n(11),o=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2),i=n(4),o=n(6)("src"),a="toString",s=Function[a],u=(""+s).split(a);n(1).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,a){"function"==typeof n&&(i(n,o,e[t]?""+e[t]:u.join(String(t))),"name"in n||(n.name=t)),e===r?e[t]=n:(a||delete e[t],i(e,t,n))})(Function.prototype,a,function(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t,n){var r=n(2),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(17),i=n(13);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(23),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(3),i=n(24),o=n(21),a="endsWith",s=""[a];r(r.P+r.F*n(14)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments,r=n.length>1?n[1]:void 0,u=i(t.length),l=void 0===r?u:Math.min(i(r),u),c=String(e);return s?s.call(t,c,l):t.slice(l-c.length,l)===c}})},function(e,t,n){var r=n(5),i=n(3),o=n(1).Array||Array,a={},s=function(e,t){r.each.call(e.split(","),function(e){void 0==t&&e in o?a[e]=o[e]:e in[]&&(a[e]=n(12)(Function.call,[][e],t))})};s("pop,reverse,shift,keys,values,entries",1),s("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),s("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),i(i.S,"Array",a)}])},function(t,n){t.exports=e}])})},function(e,t,n){"use strict";var r=n(8),i=n(50),o=n(67),a={componentDidMount:function(){this.props.autoFocus&&o(i(this))}},s={Mixin:a,focusDOMComponent:function(){o(r.getNode(this._rootNodeID))}};e.exports=s},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case _.topCompositionStart:return A.compositionStart;case _.topCompositionEnd:return A.compositionEnd;case _.topCompositionUpdate:return A.compositionUpdate}}function a(e,t){return e===_.topKeyDown&&t.keyCode===x}function s(e,t){switch(e){case _.topKeyUp:return-1!==w.indexOf(t.keyCode);case _.topKeyDown:return t.keyCode!==x;case _.topKeyPress:case _.topMouseDown:case _.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r,i){var l,c;if(C?l=o(e):D?s(e,r)&&(l=A.compositionEnd):a(e,r)&&(l=A.compositionStart),!l)return null;S&&(D||l!==A.compositionStart?l===A.compositionEnd&&D&&(c=D.getData()):D=v.getPooled(t));var f=g.getPooled(l,n,r,i);if(c)f.data=c;else{var h=u(r);null!==h&&(f.data=h)}return d.accumulateTwoPhaseDispatches(f),f}function c(e,t){switch(e){case _.topCompositionEnd:return u(t);case _.topKeyPress:var n=t.which;return n!==E?null:(P=!0,T);case _.topTextInput:var r=t.data;return r===T&&P?null:r;default:return null}}function f(e,t){if(D){if(e===_.topCompositionEnd||s(e,t)){var n=D.getData();return v.release(D),D=null,n}return null}switch(e){case _.topPaste:return null;case _.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case _.topCompositionEnd:return S?null:t.data;default:return null}}function h(e,t,n,r,i){var o;if(o=k?c(e,r):f(e,r),!o)return null;var a=y.getPooled(A.beforeInput,n,r,i);return a.data=o,d.accumulateTwoPhaseDispatches(a),a}var p=n(15),d=n(25),m=n(7),v=n(168),g=n(198),y=n(201),b=n(17),w=[9,13,27,32],x=229,C=m.canUseDOM&&"CompositionEvent"in window,M=null;m.canUseDOM&&"documentMode"in document&&(M=document.documentMode);var k=m.canUseDOM&&"TextEvent"in window&&!M&&!r(),S=m.canUseDOM&&(!C||M&&M>8&&11>=M),E=32,T=String.fromCharCode(E),_=p.topLevelTypes,A={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[_.topCompositionEnd,_.topKeyPress,_.topTextInput,_.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[_.topBlur,_.topCompositionEnd,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[_.topBlur,_.topCompositionStart,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[_.topBlur,_.topCompositionUpdate,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]}},P=!1,D=null,N={eventTypes:A,extractEvents:function(e,t,n,r,i){return[l(e,t,n,r,i),h(e,t,n,r,i)]}};e.exports=N},function(e,t,n){"use strict";var r=n(75),i=n(7),o=n(11),a=(n(145),n(206)),s=n(150),u=n(154),l=(n(2),u(function(e){return s(e)})),c=!1,f="cssFloat";if(i.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(p){c=!0}void 0===document.documentElement.style.cssFloat&&(f="styleFloat")}var d={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=l(n)+":",t+=a(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=a(i,t[i]);if("float"===i&&(i=f),o)n[i]=o;else{var s=c&&r.shorthandPropertyExpansions[i];if(s)for(var u in s)n[u]="";else n[i]=""}}}};o.measureMethods(d,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),e.exports=d},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=M.getPooled(A.change,D,e,k(e));w.accumulateTwoPhaseDispatches(t),C.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){P=e,D=t,P.attachEvent("onchange",i)}function s(){P&&(P.detachEvent("onchange",i),P=null,D=null)}function u(e,t,n){return e===_.topChange?n:void 0}function l(e,t,n){e===_.topFocus?(s(),a(t,n)):e===_.topBlur&&s()}function c(e,t){P=e,D=t,N=e.value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(P,"value",I),P.attachEvent("onpropertychange",h)}function f(){P&&(delete P.value,P.detachEvent("onpropertychange",h),P=null,D=null,N=null,O=null)}function h(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==N&&(N=t,i(e))}}function p(e,t,n){return e===_.topInput?n:void 0}function d(e,t,n){e===_.topFocus?(f(),c(t,n)):e===_.topBlur&&f()}function m(e,t,n){return e!==_.topSelectionChange&&e!==_.topKeyUp&&e!==_.topKeyDown||!P||P.value===N?void 0:(N=P.value,D)}function v(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,n){return e===_.topClick?n:void 0}var y=n(15),b=n(24),w=n(25),x=n(7),C=n(12),M=n(20),k=n(53),S=n(56),E=n(102),T=n(17),_=y.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:T({onChange:null}),captured:T({onChangeCapture:null})},dependencies:[_.topBlur,_.topChange,_.topClick,_.topFocus,_.topInput,_.topKeyDown,_.topKeyUp,_.topSelectionChange]}},P=null,D=null,N=null,O=null,L=!1;x.canUseDOM&&(L=S("change")&&(!("documentMode"in document)||document.documentMode>8));var R=!1;x.canUseDOM&&(R=S("input")&&(!("documentMode"in document)||document.documentMode>9));var I={get:function(){return O.get.call(this)},set:function(e){N=""+e,O.set.call(this,e)}},F={eventTypes:A,extractEvents:function(e,t,n,i,o){var a,s;if(r(t)?L?a=u:s=l:E(t)?R?a=p:(a=m,s=d):v(t)&&(a=g),a){var c=a(e,t,n);if(c){var f=M.getPooled(A.change,c,i,o);return f.type="change",w.accumulateTwoPhaseDispatches(f),f}}s&&s(e,t,n)}};e.exports=F},function(e,t){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};e.exports=r},function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var i=n(7),o=n(147),a=n(13),s=n(69),u=n(1),l=/^(<[^ \/>]+)/,c="data-danger-index",f={dangerouslyRenderMarkup:function(e){i.canUseDOM?void 0:u(!1);for(var t,n={},f=0;f<e.length;f++)e[f]?void 0:u(!1),t=r(e[f]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][f]=e[f];var h=[],p=0;for(t in n)if(n.hasOwnProperty(t)){var d,m=n[t];for(d in m)if(m.hasOwnProperty(d)){var v=m[d];m[d]=v.replace(l,"$1 "+c+'="'+d+'" ')}for(var g=o(m.join(""),a),y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(c)&&(d=+b.getAttribute(c),b.removeAttribute(c),h.hasOwnProperty(d)?u(!1):void 0,h[d]=b,p+=1)}}return p!==h.length?u(!1):void 0,h.length!==e.length?u(!1):void 0,h},dangerouslyReplaceNodeWithMarkup:function(e,t){i.canUseDOM?void 0:u(!1),t?void 0:u(!1),"html"===e.tagName.toLowerCase()?u(!1):void 0;var n;n="string"==typeof t?o(t,a)[0]:t,e.parentNode.replaceChild(n,e)}};e.exports=f},function(e,t,n){"use strict";var r=n(17),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=i},function(e,t,n){"use strict";var r=n(15),i=n(25),o=n(33),a=n(8),s=n(17),u=r.topLevelTypes,l=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},f=[null,null],h={eventTypes:c,extractEvents:function(e,t,n,r,s){if(e===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var h;if(t.window===t)h=t;else{var p=t.ownerDocument;h=p?p.defaultView||p.parentWindow:window}var d,m,v="",g="";if(e===u.topMouseOut?(d=t,v=n,m=l(r.relatedTarget||r.toElement),m?g=a.getID(m):m=h,m=m||h):(d=h,m=t,g=n),d===m)return null;var y=o.getPooled(c.mouseLeave,v,r,s);y.type="mouseleave",y.target=d,y.relatedTarget=m;var b=o.getPooled(c.mouseEnter,g,r,s);return b.type="mouseenter",b.target=m,b.relatedTarget=d,i.accumulateEnterLeaveDispatches(y,b,v,g),f[0]=y,f[1]=b,f}};e.exports=h},function(e,t,n){"use strict";function r(e){return e===v.topMouseUp||e===v.topTouchEnd||e===v.topTouchCancel}function i(e){return e===v.topMouseMove||e===v.topTouchMove}function o(e){return e===v.topMouseDown||e===v.topTouchStart}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=m.Mount.getNode(r),t?p.invokeGuardedCallbackWithCatch(i,n,e,r):p.invokeGuardedCallback(i,n,e,r),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchIDs=null}function u(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?d(!1):void 0;var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function f(e){return!!e._dispatchListeners}var h=n(15),p=n(90),d=n(1),m=(n(2),{Mount:null,injectMount:function(e){m.Mount=e}}),v=h.topLevelTypes,g={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:f,getNode:function(e){return m.Mount.getNode(e)},getID:function(e){return m.Mount.getID(e)},injection:m};e.exports=g},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(18),o=n(3),a=n(101);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;r>e&&n[e]===i[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r,i=n(21),o=n(7),a=i.injection.MUST_USE_ATTRIBUTE,s=i.injection.MUST_USE_PROPERTY,u=i.injection.HAS_BOOLEAN_VALUE,l=i.injection.HAS_SIDE_EFFECTS,c=i.injection.HAS_NUMERIC_VALUE,f=i.injection.HAS_POSITIVE_NUMERIC_VALUE,h=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var p=document.implementation;r=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var d={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|u,allowTransparency:a,alt:null,async:u,autoComplete:null,autoPlay:u,capture:a|u,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|u,classID:a,className:r?a:s,cols:a|f,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:a,"default":u,defer:u,dir:null,disabled:a|u,download:h,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:u,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:s|u,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:s|u,muted:s|u,name:null,nonce:a,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,reversed:u,role:a,rows:a|f,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:a|u,selected:s|u,shape:null,size:a|f,sizes:a,span:f,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:a,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|l,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,"typeof":a,vocab:a,autoCapitalize:a,autoCorrect:a,autoSave:null,color:null,itemProp:a,itemScope:a|u,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=d},function(e,t,n){"use strict";var r=n(81),i=n(180),o=n(185),a=n(3),s=n(207),u={};a(u,o),a(u,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:s("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",i,i.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",i,i.renderToStaticMarkup)}),u.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,u.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,e.exports=u},function(e,t,n){"use strict";var r=(n(26),n(50)),i=(n(2),"_getDOMNodeDidWarn"),o={getDOMNode:function(){return this.constructor[i]=!0,r(this)}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=o(t,null))}var i=n(19),o=n(55),a=n(58),s=n(59),u=(n(2),{instantiateChildren:function(e,t,n){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var u=e&&e[s],l=u&&u._currentElement,c=t[s];if(null!=u&&a(l,c))i.receiveComponent(u,c,n,r),t[s]=u;else{u&&i.unmountComponent(u,s);var f=o(c,null);t[s]=f}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||i.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];i.unmountComponent(n)}}});e.exports=u},function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function i(e){}var o=n(46),a=n(16),s=n(10),u=n(26),l=n(11),c=n(32),f=(n(31),n(19)),h=n(48),p=n(3),d=n(23),m=n(1),v=n(58);n(2);i.prototype.render=function(){var e=u.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var g=1,y={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=g++,this._rootNodeID=e;var r,o,a=this._processProps(this._currentElement.props),l=this._processContext(n),c=this._currentElement.type,p="prototype"in c;p&&(r=new c(a,l,h)),p&&null!==r&&r!==!1&&!s.isValidElement(r)||(o=r,r=new i(c)),r.props=a,r.context=l,r.refs=d,r.updater=h,this._instance=r,u.set(r,this);var v=r.state;void 0===v&&(r.state=v=null),"object"!=typeof v||Array.isArray(v)?m(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===o&&(o=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(o);var y=f.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return r.componentDidMount&&t.getReactMountReady().enqueue(r.componentDidMount,r),y},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),f.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,u.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return d;t={};for(var i in r)t[i]=e[i];return t},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?m(!1):void 0;for(var i in r)i in t.childContextTypes?void 0:m(!1);return p({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var i=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]?m(!1):void 0,a=e[o](t,o,i,n)}catch(s){a=s}if(a instanceof Error){r(this);n===c.prop}}},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&f.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,i){var o,a=this._instance,s=this._context===i?a.context:this._processContext(i);t===n?o=n.props:(o=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(o,s));var u=this._processPendingState(o,s),l=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(o,u,s);l?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,o,u,s,e,i)):(this._currentElement=n,this._context=i,a.props=o,a.state=u,a.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=p({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var s=r[a];p(o,"function"==typeof s?s.call(n,o,e,t):s)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(v(r,i))f.receiveComponent(n,i,e,this._processChildContext(t));else{var o=this._rootNodeID,a=n._rootNodeID;f.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i);var s=f.mountComponent(this._renderedComponent,o,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(e,t){o.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===e||e===!1||s.isValidElement(e)?void 0:m(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?m(!1):void 0;var r=t.getPublicInstance(),i=n.refs===d?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof i?null:e},_instantiateReactComponent:null};l.measureMethods(y,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var b={Mixin:y};e.exports=b},function(e,t){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getNativeProps:function(e,t,r){if(!t.disabled)return t;var i={};for(var o in t)t.hasOwnProperty(o)&&!n[o]&&(i[o]=t[o]);return i}};e.exports=r},function(e,t,n){"use strict";function r(){return this}function i(){var e=this._reactInternalComponent;return!!e}function o(){}function a(e,t){var n=this._reactInternalComponent;n&&(N.enqueueSetPropsInternal(n,e),t&&N.enqueueCallbackInternal(n,t))}function s(e,t){var n=this._reactInternalComponent;n&&(N.enqueueReplacePropsInternal(n,e),t&&N.enqueueCallbackInternal(n,t))}function u(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children?I(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&K in t.dangerouslySetInnerHTML?void 0:I(!1)),null!=t.style&&"object"!=typeof t.style?I(!1):void 0)}function l(e,t,n,r){var i=A.findReactContainerForID(e);if(i){var o=i.nodeType===X?i.ownerDocument:i;H(t,o)}r.getReactMountReady().enqueue(c,{id:e,registrationName:t,listener:n})}function c(){var e=this;C.putListener(e.id,e.registrationName,e.listener)}function f(){var e=this;e._rootNodeID?void 0:I(!1);var t=A.getNode(e._rootNodeID);switch(t?void 0:I(!1),e._tag){case"iframe":e._wrapperState.listeners=[C.trapBubbledEvent(x.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&e._wrapperState.listeners.push(C.trapBubbledEvent(x.topLevelTypes[n],G[n],t));break;case"img":e._wrapperState.listeners=[C.trapBubbledEvent(x.topLevelTypes.topError,"error",t),C.trapBubbledEvent(x.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[C.trapBubbledEvent(x.topLevelTypes.topReset,"reset",t),C.trapBubbledEvent(x.topLevelTypes.topSubmit,"submit",t)]}}function h(){S.mountReadyWrapper(this)}function p(){T.postUpdateWrapper(this)}function d(e){$.call(J,e)||(Z.test(e)?void 0:I(!1),J[e]=!0)}function m(e,t){return e.indexOf("-")>=0||null!=t.is}function v(e){d(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var g=n(159),y=n(161),b=n(21),w=n(43),x=n(15),C=n(30),M=n(45),k=n(174),S=n(177),E=n(178),T=n(83),_=n(181),A=n(8),P=n(186),D=n(11),N=n(48),O=n(3),L=n(35),R=n(36),I=n(1),F=(n(56),n(17)),j=n(37),W=n(57),U=(n(70),n(60),n(2),C.deleteListener),H=C.listenTo,B=C.registrationNameModules,V={string:!0,number:!0},z=F({children:null}),q=F({style:null}),K=F({__html:null}),X=1,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Q={listing:!0,pre:!0,textarea:!0},Z=(O({menuitem:!0},Y),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),J={},$={}.hasOwnProperty;v.displayName="ReactDOMComponent",v.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(f,this);break;case"button":r=k.getNativeProps(this,r,n);break;case"input":S.mountWrapper(this,r,n),r=S.getNativeProps(this,r,n);break;case"option":E.mountWrapper(this,r,n),r=E.getNativeProps(this,r,n);break;case"select":T.mountWrapper(this,r,n),r=T.getNativeProps(this,r,n),n=T.processChildContext(this,r,n);break;case"textarea":_.mountWrapper(this,r,n),r=_.getNativeProps(this,r,n)}u(this,r);var i;if(t.useCreateElement){var o=n[A.ownerDocumentContextKey],a=o.createElement(this._currentElement.type);w.setAttributeForID(a,this._rootNodeID),A.getID(a),this._updateDOMProperties({},r,t,a),this._createInitialChildren(t,r,n,a),i=a}else{var s=this._createOpenTagMarkupAndPutListeners(t,r),l=this._createContentMarkup(t,r,n);i=!l&&Y[this._tag]?s+"/>":s+">"+l+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(h,this);case"button":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(g.focusDOMComponent,this)}return i},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(B.hasOwnProperty(r))i&&l(this._rootNodeID,r,i,e);else{r===q&&(i&&(i=this._previousStyleCopy=O({},t.style)),i=y.createMarkupForStyles(i));var o=null;null!=this._tag&&m(this._tag,t)?r!==z&&(o=w.createMarkupForCustomAttribute(r,i)):o=w.createMarkupForProperty(r,i),o&&(n+=" "+o)}}if(e.renderToStaticMarkup)return n;var a=w.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=V[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=R(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return Q[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&j(r,i.__html);else{var o=V[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)W(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)r.appendChild(s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,o=this._currentElement.props;switch(this._tag){case"button":i=k.getNativeProps(this,i),o=k.getNativeProps(this,o);break;case"input":S.updateWrapper(this),i=S.getNativeProps(this,i),o=S.getNativeProps(this,o);break;case"option":i=E.getNativeProps(this,i),o=E.getNativeProps(this,o);break;case"select":i=T.getNativeProps(this,i),o=T.getNativeProps(this,o);break;case"textarea":_.updateWrapper(this),i=_.getNativeProps(this,i),o=_.getNativeProps(this,o)}u(this,o),this._updateDOMProperties(i,o,e,null),this._updateDOMChildren(i,o,e,r),!L&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=o),"select"===this._tag&&e.getReactMountReady().enqueue(p,this)},_updateDOMProperties:function(e,t,n,r){var i,o,a;for(i in e)if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i))if(i===q){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},
a[o]="");this._previousStyleCopy=null}else B.hasOwnProperty(i)?e[i]&&U(this._rootNodeID,i):(b.properties[i]||b.isCustomAttribute(i))&&(r||(r=A.getNode(this._rootNodeID)),w.deleteValueForProperty(r,i));for(i in t){var u=t[i],c=i===q?this._previousStyleCopy:e[i];if(t.hasOwnProperty(i)&&u!==c)if(i===q)if(u?u=this._previousStyleCopy=O({},u):this._previousStyleCopy=null,c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else B.hasOwnProperty(i)?u?l(this._rootNodeID,i,u,n):c&&U(this._rootNodeID,i):m(this._tag,t)?(r||(r=A.getNode(this._rootNodeID)),i===z&&(u=null),w.setValueForAttribute(r,i,u)):(b.properties[i]||b.isCustomAttribute(i))&&(r||(r=A.getNode(this._rootNodeID)),null!=u?w.setValueForProperty(r,i,u):w.deleteValueForProperty(r,i))}a&&(r||(r=A.getNode(this._rootNodeID)),y.setValueForStyles(r,a))},_updateDOMChildren:function(e,t,n,r){var i=V[typeof e.children]?e.children:null,o=V[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=i?null:e.children,l=null!=o?null:t.children,c=null!=i||null!=a,f=null!=o||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!f&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":S.unmountWrapper(this);break;case"html":case"head":case"body":I(!1)}if(this.unmountChildren(),C.deleteAllListeners(this._rootNodeID),M.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=A.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=r,e.isMounted=i,e.setState=o,e.replaceState=o,e.forceUpdate=o,e.setProps=a,e.replaceProps=s,e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},D.measureMethods(v,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),O(v.prototype,v.Mixin,P.Mixin),e.exports=v},function(e,t,n){"use strict";function r(e){return i.createFactory(e)}var i=n(10),o=(n(87),n(153)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);e.exports=a},function(e,t,n){"use strict";function r(){this._rootNodeID&&h.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);u.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=s.getNode(this._rootNodeID),l=o;l.parentNode;)l=l.parentNode;for(var h=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0;p<h.length;p++){var d=h[p];if(d!==o&&d.form===o.form){var m=s.getID(d);m?void 0:c(!1);var v=f[m];v?void 0:c(!1),u.asap(r,v)}}}return n}var o=n(47),a=n(44),s=n(8),u=n(12),l=n(3),c=n(1),f={},h={getNativeProps:function(e,t,n){var r=a.getValue(t),i=a.getChecked(t),o=l({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=i?i:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:i.bind(e)}},mountReadyWrapper:function(e){f[e._rootNodeID]=e},unmountWrapper:function(e){delete f[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&o.updatePropertyByID(e._rootNodeID,"checked",n||!1);var r=a.getValue(t);null!=r&&o.updatePropertyByID(e._rootNodeID,"value",""+r)}};e.exports=h},function(e,t,n){"use strict";var r=n(78),i=n(83),o=n(3),a=(n(2),i.valueContextKey),s={mountWrapper:function(e,t,n){var r=n[a],i=null;if(null!=r)if(i=!1,Array.isArray(r)){for(var o=0;o<r.length;o++)if(""+r[o]==""+t.value){i=!0;break}}else i=""+r==""+t.value;e._wrapperState={selected:i}},getNativeProps:function(e,t,n){var i=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(i.selected=e._wrapperState.selected);var a="";return r.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(a+=e))}),a&&(i.children=a),i}};e.exports=s},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:s.toString().length,f=s.cloneRange();f.selectNodeContents(e),f.setEnd(s.startContainer,s.startOffset);var h=r(f.startContainer,f.startOffset,f.endContainer,f.endOffset),p=h?0:f.toString().length,d=p+c,m=document.createRange();m.setStart(n,i),m.setEnd(o,a);var v=m.collapsed;return{start:v?d:p,end:v?p:d}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),o="undefined"==typeof t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=l(e,i),u=l(e,o);if(s&&u){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(f),n.extend(u.node,u.offset)):(f.setEnd(u.node,u.offset),n.addRange(f))}}}var u=n(7),l=n(210),c=n(101),f=u.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:f?i:o,setOffsets:f?a:s};e.exports=h},function(e,t,n){"use strict";var r=n(86),i=n(191),o=n(49);r.inject();var a={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:o};e.exports=a},function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);return s.asap(r,this),n}var o=n(44),a=n(47),s=n(12),u=n(3),l=n(1),c=(n(2),{getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?l(!1):void 0;var r=u({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?l(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:l(!1),r=r[0]),n=""+r),null==n&&(n="");var a=o.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:n),onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=o.getValue(t);null!=n&&a.updatePropertyByID(e._rootNodeID,"value",""+n)}});e.exports=c},function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(24),o={handleTopLevel:function(e,t,n,o,a){var s=i.extractEvents(e,t,n,o,a);r(s)}};e.exports=o},function(e,t,n){"use strict";function r(e){var t=h.getID(e),n=f.getReactRootIDFromNodeID(t),r=h.findReactContainerForID(n),i=h.getFirstReactDOM(r);return i}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){a(e)}function a(e){for(var t=h.getFirstReactDOM(m(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var i=0;i<e.ancestors.length;i++){t=e.ancestors[i];var o=h.getID(t)||"";g._handleTopLevel(e.topLevelType,t,o,e.nativeEvent,m(e.nativeEvent))}}function s(e){var t=v(window);e(t)}var u=n(65),l=n(7),c=n(18),f=n(22),h=n(8),p=n(12),d=n(3),m=n(53),v=n(148);d(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?u.listen(r,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?u.capture(r,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var n=i.getPooled(e,t);try{p.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=g},function(e,t,n){"use strict";var r=n(21),i=n(24),o=n(46),a=n(79),s=n(88),u=n(30),l=n(94),c=n(11),f=n(97),h=n(12),p={Component:o.injection,Class:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventEmitter:u.injection,NativeComponent:l.injection,Perf:c.injection,RootIndex:f.injection,Updates:h.injection};e.exports=p},function(e,t,n){"use strict";var r=n(78),i=n(80),o=n(79),a=n(176),s=n(10),u=(n(87),n(96)),l=n(49),c=n(3),f=n(211),h=s.createElement,p=s.createFactory,d=s.cloneElement,m={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:f},Component:i,createElement:h,cloneElement:d,isValidElement:s.isValidElement,PropTypes:u,createClass:o.createClass,createFactory:p,createMixin:function(e){return e},DOM:a,version:l,__spread:c};e.exports=m},function(e,t,n){"use strict";function r(e,t,n){v.push({parentID:e,parentNode:null,type:f.INSERT_MARKUP,markupIndex:g.push(t)-1,content:null,fromIndex:null,toIndex:n})}function i(e,t,n){v.push({parentID:e,parentNode:null,type:f.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function o(e,t){v.push({parentID:e,parentNode:null,type:f.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function a(e,t){v.push({parentID:e,parentNode:null,type:f.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(e,t){v.push({parentID:e,parentNode:null,type:f.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function u(){v.length&&(c.processChildrenUpdates(v,g),l())}function l(){v.length=0,g.length=0}var c=n(46),f=n(93),h=(n(16),n(19)),p=n(172),d=n(208),m=0,v=[],g=[],y={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return p.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var i;return i=d(t),p.updateChildren(e,i,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=this._rootNodeID+a,l=h.mountComponent(s,u,t,n);s._mountIndex=o++,i.push(l)}return i},updateTextContent:function(e){m++;var t=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{m--,m||(t?l():u())}},updateMarkup:function(e){m++;var t=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{m--,m||(t?l():u())}},updateChildren:function(e,t,n){m++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{m--,m||(r?l():u())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,i=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=i,i||r){var o,a=0,s=0;for(o in i)if(i.hasOwnProperty(o)){var u=r&&r[o],l=i[o];u===l?(this.moveChild(u,s,a),a=Math.max(u._mountIndex,a),u._mountIndex=s):(u&&(a=Math.max(u._mountIndex,a),this._unmountChild(u)),this._mountChildByNameAtIndex(l,o,s,t,n)),s++}for(o in r)!r.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||this._unmountChild(r[o])}},unmountChildren:function(){var e=this._renderedChildren;p.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},setMarkup:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,i){var o=this._rootNodeID+t,a=h.mountComponent(e,o,r,i);e._mountIndex=n,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};e.exports=y},function(e,t,n){"use strict";var r=n(1),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){i.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i.isValidOwner(n)?void 0:r(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=i},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=!e&&s.useCreateElement}var i=n(42),o=n(18),a=n(30),s=n(82),u=n(91),l=n(34),c=n(3),f={initialize:u.getSelectionInformation,close:u.restoreSelection},h={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[f,h,p],m={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};c(r.prototype,l.Mixin,m),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(187),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e,t){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},function(e,t,n){"use strict";function r(e){a.isValidElement(e)?void 0:d(!1);var t;try{f.injection.injectBatchingStrategy(l);var n=s.createReactRootID();return t=c.getPooled(!1),t.perform(function(){var r=p(e,null),i=r.mountComponent(n,t,h);return u.addChecksumToMarkup(i)},null)}finally{c.release(t),f.injection.injectBatchingStrategy(o)}}function i(e){a.isValidElement(e)?void 0:d(!1);var t;try{f.injection.injectBatchingStrategy(l);var n=s.createReactRootID();return t=c.getPooled(!0),t.perform(function(){var r=p(e,null);return r.mountComponent(n,t,h)},null)}finally{c.release(t),f.injection.injectBatchingStrategy(o)}}var o=n(85),a=n(10),s=n(22),u=n(92),l=n(190),c=n(192),f=n(12),h=n(23),p=n(55),d=n(1);e.exports={renderToString:r,renderToStaticMarkup:i}},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.useCreateElement=!1}var i=n(18),o=n(42),a=n(34),s=n(3),u=n(13),l={initialize:function(){this.reactMountReady.reset()},close:u},c=[l],f={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};s(r.prototype,a.Mixin,f),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(21),i=r.injection.MUST_USE_ATTRIBUTE,o={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,xlinkActuate:i,xlinkArcrole:i,xlinkHref:i,xlinkRole:i,xlinkShow:i,xlinkTitle:i,xlinkType:i,xmlBase:i,xmlLang:i,xmlSpace:i,y1:i,y2:i,y:i},DOMAttributeNamespaces:{xlinkActuate:o.xlink,xlinkArcrole:o.xlink,xlinkHref:o.xlink,xlinkRole:o.xlink,xlinkShow:o.xlink,xlinkTitle:o.xlink,xlinkType:o.xlink,xmlBase:o.xml,xmlLang:o.xml,xmlSpace:o.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};e.exports=a},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(w||null==g||g!==c())return null;var n=r(g);if(!b||!p(b,n)){b=n;var i=l.getPooled(v.select,y,e,t);return i.type="select",i.target=g,a.accumulateTwoPhaseDispatches(i),i}return null}var o=n(15),a=n(25),s=n(7),u=n(91),l=n(20),c=n(68),f=n(102),h=n(17),p=n(70),d=o.topLevelTypes,m=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},g=null,y=null,b=null,w=!1,x=!1,C=h({onSelect:null}),M={eventTypes:v,extractEvents:function(e,t,n,r,o){if(!x)return null;switch(e){case d.topFocus:(f(t)||"true"===t.contentEditable)&&(g=t,y=n,b=null);break;case d.topBlur:g=null,y=null,b=null;break;case d.topMouseDown:w=!0;break;case d.topContextMenu:case d.topMouseUp:return w=!1,i(r,o);case d.topSelectionChange:if(m)break;case d.topKeyDown:case d.topKeyUp:return i(r,o)}return null},didPutListener:function(e,t,n){t===C&&(x=!0)}};e.exports=M},function(e,t){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};e.exports=r},function(e,t,n){"use strict";var r=n(15),i=n(65),o=n(25),a=n(8),s=n(197),u=n(20),l=n(200),c=n(202),f=n(33),h=n(199),p=n(203),d=n(27),m=n(204),v=n(13),g=n(51),y=n(1),b=n(17),w=r.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},C={topAbort:x.abort,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var M in C)C[M].dependencies=[M];var k=b({onClick:null}),S={},E={eventTypes:x,extractEvents:function(e,t,n,r,i){var a=C[e];if(!a)return null;var v;switch(e){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:v=u;break;case w.topKeyPress:if(0===g(r))return null;case w.topKeyDown:case w.topKeyUp:v=c;break;case w.topBlur:case w.topFocus:v=l;break;case w.topClick:if(2===r.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:v=f;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:v=h;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:v=p;break;case w.topScroll:v=d;break;case w.topWheel:v=m;break;case w.topCopy:case w.topCut:case w.topPaste:v=s}v?void 0:y(!1);var b=v.getPooled(a,n,r,i);return o.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if(t===k){var r=a.getNode(e);S[e]||(S[e]=i.listen(r,"click",v))}},willDeleteListener:function(e,t){t===k&&(S[e].remove(),delete S[e])}};e.exports=E},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(20),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(20),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(33),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(27),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(20),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(27),o=n(51),a=n(209),s=n(52),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,u),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(27),o=n(52),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(33),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e,t){"use strict";function n(e){for(var t=1,n=0,i=0,o=e.length,a=-4&o;a>i;){for(;i<Math.min(i+4096,a);i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;o>i;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=n(75),o=i.isUnitlessNumber;e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i){return i}n(3),n(2);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=e,i=void 0===r[n];i&&null!=t&&(r[n]=t)}function i(e){if(null==e)return e;var t={};return o(e,r,t),
t}var o=n(59);n(2);e.exports=i},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(51),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),o=0,a=0;i;){if(3===i.nodeType){if(a=o+i.textContent.length,t>=o&&a>=t)return{node:i,offset:t-o};o=a}i=n(r(i))}}e.exports=i},function(e,t,n){"use strict";function r(e){return i.isValidElement(e)?void 0:o(!1),e}var i=n(10),o=n(1);e.exports=r},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(36);e.exports=r},function(e,t,n){"use strict";var r=n(8);e.exports=r.renderSubtreeIntoContainer},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],u=i[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function o(e,t){var n=v(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function l(e,t){var n,r,i;if(t.singleton){var o=y++;n=g||(g=s(t)),r=c.bind(null,n,o,!1),i=c.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=h.bind(null,n),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=d(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,y=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=p[s.id];u.refs--,o.push(u)}if(e){var l=i(e);r(l,t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete p[u.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var r=n(143);"string"==typeof r&&(r=[[e.id,r,""]]);n(215)(r,{});r.locals&&(e.exports=r.locals)}]);
//# sourceMappingURL=apparatus.js.map